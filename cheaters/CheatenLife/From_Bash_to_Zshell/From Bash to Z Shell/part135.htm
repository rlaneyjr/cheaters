<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Sharing History</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part134.htm">&lt; Previous</a><span> | </span><a href="../From Bash to Z Shell.html">Contents</a><span> | </span><a href="part136.htm">Next &gt;</a></p><p class="s35" style="padding-left: 40pt;text-indent: 0pt;text-align: left;"><a name="bookmark261">Sharing History</a></p><p style="padding-top: 5pt;padding-left: 40pt;text-indent: 0pt;line-height: 115%;text-align: left;">You may already have found that if you have two different shells running at once, they don’t share the history. In other words, if you execute a line in one shell, going back up the history in the other shell doesn’t show that line. In <span class="s33">zsh </span>you can set the option <span class="s33">share_history </span>to make this work. The mechanism is that each shell saves a line immediately to the history file when you execute it. Every time a shell accesses the history, it checks the history file to see if another shell has added something to it. The shell remembers whether the line has come from another shell. Without this, the history numbering would be completely messed up, because you would have additional lines inserted in the middle every time you executed a command in another shell. (The idea for this features comes from <span class="s33">ksh</span>, in which sharing history is the standard behavior.)</p><p style="padding-left: 40pt;text-indent: 18pt;line-height: 115%;text-align: left;">A compromise option, <span class="s33">inc_append_history</span>, saves the line to the history file immediately but doesn’t attempt to read back lines from the history file. You can issue the command <span class="s33">fc -R </span>in another shell to read the history file.</p><p style="padding-left: 40pt;text-indent: 18pt;line-height: 115%;text-align: left;">In <span class="s33">bash</span>, explicitly writing and reading history is the only way to share history. We’ll see the commands for doing this in both shells a bit later.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part134.htm">&lt; Previous</a><span> | </span><a href="../From Bash to Z Shell.html">Contents</a><span> | </span><a href="part136.htm">Next &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
