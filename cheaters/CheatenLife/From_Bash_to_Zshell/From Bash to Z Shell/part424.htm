<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Hidden Prefixes</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part423.htm">&lt; Previous</a><span> | </span><a href="../From Bash to Z Shell.html">Contents</a><span> | </span><a href="part425.htm">Next &gt;</a></p><p class="s35" style="padding-left: 42pt;text-indent: 0pt;text-align: left;"><a name="bookmark776">Hidden Prefixes</a></p><p style="padding-top: 5pt;padding-left: 42pt;text-indent: 0pt;line-height: 115%;text-align: left;">The <span class="s33">compadd </span>command also has a <span class="s33">-p </span>option, which specifies a prefix that is considered as part of the text to be matched. To help you understand the difference between <span class="s33">-p </span>and <span class="s33">-P </span>try the following with each. You’ll need to put this line in a function and use <span class="s33">compdef </span>to associate the function with a command name.</p><p class="s33" style="padding-top: 7pt;padding-left: 42pt;text-indent: 0pt;text-align: left;">compadd -M &#39;r:|.=* r:|=*&#39; -p &#39;pre.&#39; one two three</p><p style="padding-top: 8pt;padding-left: 60pt;text-indent: 0pt;text-align: left;">With <span class="s33">-p</span>, this will complete <span class="s33">p.o </span>to <span class="s33">pre.one</span>. Change the <span class="s33">-p </span>to a <span class="s33">-P </span>and it won’t.</p><p style="padding-top: 1pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">To understand why a hidden prefix is so named, it may be easier if you compare this use of</p><p class="s33" style="padding-top: 1pt;padding-left: 41pt;text-indent: 0pt;text-align: left;">-p <span class="p">with the following:</span></p><p class="s33" style="padding-top: 8pt;padding-left: 41pt;text-indent: 0pt;text-align: left;">compadd -M &#39;r:|.=* r:|=*&#39; pre.one pre.two pre.three</p><p style="padding-top: 8pt;padding-left: 41pt;text-indent: 18pt;line-height: 115%;text-align: justify;">The difference is that when <span class="s33">-p </span>was used, the prefix didn’t appear in the list of matches. If you want a prefix to be visible, you have to include it as part of all the matches like this. If you use <span class="s33">-P</span>, the prefix isn’t part of the match, so it is also hidden. Note that if you use both <span class="s33">-P </span>and <span class="s33">-p</span>, then the prefix specified with <span class="s33">-P </span>will appear first in the resulting word.</p><p style="padding-left: 59pt;text-indent: 0pt;line-height: 10pt;text-align: left;">As you might expect, there are also hidden suffixes; the <span class="s33">compadd </span>option for them is <span class="s33">-s</span>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part423.htm">&lt; Previous</a><span> | </span><a href="../From Bash to Z Shell.html">Contents</a><span> | </span><a href="part425.htm">Next &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
