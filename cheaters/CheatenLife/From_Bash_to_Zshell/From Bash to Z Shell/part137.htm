<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>bash Features for Pruning History</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part136.htm">&lt; Previous</a><span> | </span><a href="../From Bash to Z Shell.html">Contents</a><span> | </span><a href="part138.htm">Next &gt;</a></p><p class="s18" style="padding-left: 40pt;text-indent: 0pt;text-align: left;"><a name="bookmark263">bash Features for Pruning History</a></p><p class="s33" style="padding-top: 5pt;padding-left: 40pt;text-indent: 0pt;text-align: left;">bash <span class="p">provides two variables that you can set to prune lines that are added to the history.</span></p><p style="padding-top: 1pt;padding-left: 40pt;text-indent: 18pt;line-height: 115%;text-align: left;">The variable <span class="s33">HISTCONTROL </span>can take various values. From version 3 of <span class="s33">bash </span>you can give a list of the following values separated by colons:</p><p class="s33" style="padding-top: 7pt;padding-left: 58pt;text-indent: 0pt;line-height: 115%;text-align: left;">ignorespace<span class="p">: Lines beginning with a space are not to be saved in the history. You have to remember to type a space by hand if you know you don’t want a line to be saved. This can often be annoying if you are pasting text from a file, since code in files is very often indented, so this option is less useful than it may sound.</span></p><p class="s33" style="padding-top: 7pt;padding-left: 58pt;text-indent: 0pt;line-height: 115%;text-align: justify;">ignoredups<span class="p">: If the same line occurs twice in a row, only one instance is saved. Hence if you scroll back through the history list, every time you press the Up Arrow you see a different line. Lines that are the same but not together in the history are not pruned.</span></p><p class="s33" style="padding-top: 7pt;padding-left: 58pt;text-indent: 0pt;text-align: left;">ignoreboth<span class="p">: Combines the effect of the two previous values.</span></p><p class="s33" style="padding-top: 8pt;padding-left: 58pt;text-indent: 0pt;line-height: 115%;text-align: left;">erasedups<span class="p">: This is new in version 3 of </span>bash<span class="p">. When a line is added to the history any dupli- cate of the line is erased from the history.</span></p><p class="s29" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark281"><span class="s27">136 </span></a>CHAPTER 6 <span class="s28">■ </span>MORE ABOUT SHELL H I STORY </p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 41pt;text-indent: 18pt;line-height: 115%;text-align: left;">The other variable is <span class="s33">HISTIGNORE</span>. This requires a bit more thought. It is colon-separated list of patterns that are matched against the complete line. You can use the wildcard <span class="s33">* </span>to match any text. A matched line is not saved to the history file. There’s one shortcut, which is that <span class="s33">&amp; </span>matches the last line saved in the history before the one being considered. This means that setting</p><p class="s33" style="padding-top: 7pt;padding-left: 41pt;text-indent: 0pt;text-align: left;">HISTIGNORE=&quot; *:&amp;&quot;</p><p style="padding-top: 8pt;padding-left: 41pt;text-indent: 0pt;text-align: left;">is equivalent to setting <span class="s33">HISTCONTROL </span>to <span class="s33">ignoreboth</span>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part136.htm">&lt; Previous</a><span> | </span><a href="../From Bash to Z Shell.html">Contents</a><span> | </span><a href="part138.htm">Next &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
