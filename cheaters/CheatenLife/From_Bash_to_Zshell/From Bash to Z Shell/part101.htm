<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>The Buffer Stack</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part100.htm">&lt; Previous</a><span> | </span><a href="../From Bash to Z Shell.html">Contents</a><span> | </span><a href="part102.htm">Next &gt;</a></p><p class="s35" style="padding-left: 42pt;text-indent: 0pt;text-align: left;"><a name="bookmark177">The Buffer Stack</a></p><p style="padding-top: 5pt;padding-left: 42pt;text-indent: 0pt;text-align: left;">The <span class="s33">push-line-or-edit </span>command has two functions. In the previous section we showed the</p><p class="s33" style="padding-top: 1pt;padding-left: 42pt;text-indent: 0pt;text-align: left;">-or-edit <span class="p">part. Let’s move on to the other one.</span></p><p style="padding-top: 1pt;padding-left: 42pt;text-indent: 18pt;line-height: 115%;text-align: left;">Suppose you have forgotten to do something you need to, and are halfway through typing the next command when you remember. For example, you are in the middle of a long <span class="s33">ls </span>command and forget what options you need:</p><p class="s33" style="padding-top: 7pt;padding-left: 42pt;text-indent: 0pt;text-align: left;">ls -L here/there/everywhere</p><p style="padding-top: 8pt;padding-left: 60pt;text-indent: 0pt;text-align: left;">Or should that be <span class="s33">-l </span>instead of <span class="s33">-L</span>? Press Esc-q; this time the line completely disappears.</p><p style="padding-top: 1pt;padding-left: 42pt;text-indent: 0pt;text-align: left;">Now execute the following command:</p><p class="s33" style="padding-top: 8pt;padding-left: 42pt;text-indent: 0pt;text-align: left;">man ls</p><p style="padding-top: 8pt;padding-left: 42pt;text-indent: 18pt;line-height: 115%;text-align: left;">This confirms that you meant <span class="s33">-l </span>to list in the long format, not <span class="s33">-L</span>, which follows links. The point of the Esc-q becomes apparent when you quit reading the manual: The complete previous command magically reappears.</p><p style="padding-left: 42pt;text-indent: 18pt;line-height: 115%;text-align: left;">You are using <span class="s33">zsh</span>’s <i>buffer stack</i>. Every time you press Esc-q on a complete buffer, the buffer is pushed onto the end of the stack. Every time you press Return, the last piece of text pushed onto the end of the stack is popped off and loaded back into the line editor. (You can also summon the last value explicitly with Esc-g.) By the way, Esc-q has this <span class="s33">push-line </span>effect by default in emacs mode; however, it doesn’t have the extra <span class="s33">-or-edit </span>function unless you bind that as described earlier.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part100.htm">&lt; Previous</a><span> | </span><a href="../From Bash to Z Shell.html">Contents</a><span> | </span><a href="part102.htm">Next &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
