<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Cursor Keys and vi Insert Mode</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part95.htm">&lt; Previous</a><span> | </span><a href="../From Bash to Z Shell.html">Contents</a><span> | </span><a href="part97.htm">Next &gt;</a></p><p class="s18" style="padding-left: 40pt;text-indent: 0pt;text-align: left;"><a name="bookmark172">Cursor Keys and vi Insert Mode</a></p><p style="padding-top: 5pt;padding-left: 40pt;text-indent: 0pt;line-height: 115%;text-align: left;">In case you think the key timeout feature that we introduced in the previous section is a bit pointless and you never want to use that feature, there is one case that is very common; indeed, if you use vi mode you come across it all the time. As we said, the keys can do two completely different sets of things in vi mode. To begin with, they simply enter text (“insert mode”), but you can switch to a mode in which (for example) the cursor keys Up, Down, Left, and Right are replaced by <i>k</i>, <i>j</i>, <i>h</i>, <i>l</i>, respectively (“command mode”).</p><p style="padding-left: 40pt;text-indent: 18pt;line-height: 115%;text-align: left;">The usual way of switching to command mode is by pressing the Esc key. (<span class="s33">vi </span>users are trained to do this without thinking.) Unfortunately, on most modern terminals, the real cursor keys are turned into a key sequence, which starts with Esc. Most commonly, for example, The Up Arrow key sends <span class="s33">\e[A </span>or possibly <span class="s33">\eOA</span>. Therefore, when you press Esc to switch from insert mode to command mode, the shell will wait for <span class="s33">$KEYTIMEOUT </span>hundredths of a second. You can enter an editing command, though, and the shell will respond immediately.</p><p style="padding-left: 40pt;text-indent: 18pt;line-height: 115%;text-align: left;">Partly for this reason, <span class="s33">zsh </span>used not to make the cursor keys available in vi insert mode at all. However, the developers decided that beginning users were more likely to need the cursor keys than to be worried about the delay pressing Esc.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part95.htm">&lt; Previous</a><span> | </span><a href="../From Bash to Z Shell.html">Contents</a><span> | </span><a href="part97.htm">Next &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
