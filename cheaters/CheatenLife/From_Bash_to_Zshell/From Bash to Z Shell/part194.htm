<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Using find to Execute a Command</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part193.htm">&lt; Previous</a><span> | </span><a href="../From Bash to Z Shell.html">Contents</a><span> | </span><a href="part195.htm">Next &gt;</a></p><p class="s18" style="padding-left: 42pt;text-indent: 0pt;text-align: left;"><a name="bookmark359">Using find to Execute a Command</a></p><p style="padding-top: 5pt;padding-left: 42pt;text-indent: 0pt;line-height: 114%;text-align: left;">A more powerful feature of <span class="s33">find </span>is to execute a command for each file found. For simple actions, this can be done with another rather strange addition to the <span class="s33">find </span>command line. Here’s a typical example that uses <span class="s33">rm </span>to remove the files it finds (anything ending in <span class="s33">.o</span>):</p><p class="s33" style="padding-top: 7pt;padding-left: 42pt;text-indent: 0pt;text-align: left;">find  .  -name  &#39;*.o&#39;  -print  -exec  rm  {}  &#39;;&#39;</p><p style="padding-top: 8pt;padding-left: 42pt;text-indent: 18pt;line-height: 114%;text-align: left;">(That’s about as cryptic as <span class="s33">find </span>gets.) The <span class="s33">{} </span>is replaced by the name of the file it found, with the path. The “<span class="s33">;” </span>indicates the end of the command line that followed <span class="s33">-exec</span>.</p><p style="padding-left: 41pt;text-indent: 18pt;line-height: 115%;text-align: left;">We’ve written it so that the command shows what it’s deleting, but obviously you need to be careful here. You might want to start with just <span class="s33">-print </span>and then add <span class="s33">-exec </span>and its arguments. Alternatively, you might want to replace <span class="s33">rm </span>with <span class="s33">rm  -i</span>, which asks you for confirmation on every file. Some versions of <span class="s33">find </span>allow you to use <span class="s33">-ok </span>instead of <span class="s33">-exec</span>; <span class="s33">find </span>will ask you for confirmation before executing the command for each file.</p><p class="s29" style="padding-top: 3pt;padding-left: 263pt;text-indent: 0pt;text-align: left;"><a name="bookmark390">CHAPTER 8 </a><span class="s28">■ </span>FILES AND D I RECTORIES <span class="s27">177</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part193.htm">&lt; Previous</a><span> | </span><a href="../From Bash to Z Shell.html">Contents</a><span> | </span><a href="part195.htm">Next &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
