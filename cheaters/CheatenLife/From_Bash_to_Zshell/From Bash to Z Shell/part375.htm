<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Step 1: Write the Function</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part374.htm">&lt; Previous</a><span> | </span><a href="../From Bash to Z Shell.html">Contents</a><span> | </span><a href="part376.htm">Next &gt;</a></p><p class="s35" style="padding-left: 42pt;text-indent: 0pt;text-align: left;"><a name="bookmark706">Step 1: Write the Function</a></p><p style="padding-top: 5pt;padding-left: 41pt;text-indent: 0pt;line-height: 115%;text-align: left;">You’ll often want to put the function into a file in your function path, then mark it for autoloading from your <span class="s33">.zshrc</span>. Here’s the function, for which we’ll use the same name as the widget, <span class="s33">backward-ten-characters</span>:</p><p class="s33" style="padding-top: 7pt;padding-left: 42pt;text-indent: 0pt;text-align: left;">(( CURSOR -= 10 ))</p><p style="padding-top: 8pt;padding-left: 41pt;text-indent: 18pt;line-height: 115%;text-align: left;">It’s just a simple arithmetic evaluation to subtract 10 from the variable’s value. Of course, the cursor may be fewer than 10 characters from the start of the line. However, the shell will silently handle this problem and place the cursor at the start. You only need to worry about it if you want the shell to do something else—for example, beep.</p><p style="padding-left: 42pt;text-indent: 17pt;line-height: 115%;text-align: left;">That code should be placed in a file called <span class="s33">backward-ten-characters </span>in a directory mentioned in the <span class="s33">fpath </span>array. If you want the function always to be available, you need to add the following</p><p class="s29" style="padding-top: 3pt;padding-left: 241pt;text-indent: 0pt;text-align: left;"><a name="bookmark727">CHAP TER 14 </a><span class="s28">■ </span>WRITING EDITOR COMMANDS <span class="s27">349</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 40pt;text-indent: 0pt;line-height: 115%;text-align: left;">to your <span class="s33">.zshrc </span>to tell the shell to load the function when necessary, as we described in the section “Autoloadable Functions” in Chapter 13:</p><p class="s33" style="padding-top: 7pt;padding-left: 40pt;text-indent: 0pt;text-align: left;">autoload backward-ten-characters</p><p style="padding-top: 8pt;padding-left: 60pt;text-indent: 0pt;text-align: left;">If you just want to try it out once, you can run that command immediately instead.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part374.htm">&lt; Previous</a><span> | </span><a href="../From Bash to Z Shell.html">Contents</a><span> | </span><a href="part376.htm">Next &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
