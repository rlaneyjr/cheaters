<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Grouping Related Matches</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part268.htm">&lt; Previous</a><span> | </span><a href="../From Bash to Z Shell.html">Contents</a><span> | </span><a href="part270.htm">Next &gt;</a></p><p class="s35" style="padding-left: 40pt;text-indent: 0pt;text-align: left;"><a name="bookmark490">Grouping Related Matches</a></p><p style="padding-top: 5pt;padding-left: 40pt;text-indent: 0pt;line-height: 115%;text-align: left;">In some contexts, more than one type of thing can be completed. For example, if you have set the <span class="s33">format </span>style for the <span class="s33">descriptions </span>tag as described in the last section, the completion list may look something like this:</p><p class="s33" style="padding-top: 7pt;padding-left: 40pt;text-indent: 0pt;line-height: 115%;text-align: left;">% <b>no</b>&lt;tab&gt; <b>external command builtin command alias</b></p><p class="s46" style="padding-left: 40pt;text-indent: 0pt;line-height: 115%;text-align: left;">reserved word parameter</p><p class="s33" style="padding-left: 40pt;text-indent: 0pt;line-height: 10pt;text-align: left;">no_proxy nocorrect noglob nohup</p><p style="padding-top: 8pt;padding-left: 40pt;text-indent: 18pt;line-height: 115%;text-align: left;">In this list, all the descriptions for the types of match come first, before any matches. It would be nice to group related types of match. This is possible by means of the <span class="s33">group-name </span>style. Each group of matches needs a name to distinguish it. By using restrictive contexts for <span class="s33">zstyle</span>, this gives you a significant amount of control over what things are grouped together.</p><p class="s29" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark519"><span class="s27">240 </span></a>CHAPTER 10 <span class="s28">■ </span>COMPLETION </p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 41pt;text-indent: 0pt;line-height: 115%;text-align: left;">However, with a value of the empty string, the tag name is just used for the group name. In nearly all cases, that will probably do what you want. So let’s try the completion again with that:</p><p class="s33" style="padding-top: 7pt;padding-left: 41pt;text-indent: 0pt;text-align: left;">%  <b>zstyle  &#39;:completion:*&#39;  group-name  &#39;&#39;</b></p><p class="s33" style="padding-top: 1pt;padding-left: 41pt;text-indent: 0pt;line-height: 115%;text-align: left;">% <b>no</b>&lt;tab&gt; <b>external command </b>nohup</p><p class="s46" style="padding-left: 41pt;text-indent: 0pt;line-height: 10pt;text-align: left;">builtin command</p><p class="s33" style="padding-top: 1pt;padding-left: 41pt;text-indent: 0pt;text-align: left;">noglob</p><p class="s46" style="padding-top: 1pt;padding-left: 41pt;text-indent: 0pt;text-align: left;">alias</p><p class="s33" style="padding-top: 1pt;padding-left: 41pt;text-indent: 0pt;text-align: left;">nocorrect noglob nohup</p><p class="s46" style="padding-top: 1pt;padding-left: 41pt;text-indent: 0pt;line-height: 115%;text-align: left;">reserved word <span class="s33">nocorrect </span>parameter <span class="s33">no_proxy</span></p><p style="padding-top: 7pt;padding-left: 41pt;text-indent: 18pt;line-height: 115%;text-align: left;">As you can see, this is a big improvement in terms of presentation. Sometimes, as in the example above, it can give a list that is a bit large and spread out. In these cases, you can group related matches. For example, to group the different types of command together, separately from parameters (<span class="s33">zsh</span>’s terminology for variables), you could do this:</p><p class="s33" style="padding-top: 7pt;padding-left: 59pt;text-indent: -17pt;line-height: 115%;text-align: left;">zstyle &#39;:completion:*:-command-:*:(commands|builtins|reserved-words|aliases)&#39; \ group-name commands</p><p style="padding-top: 7pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">The <span class="s33">-command- </span>here in the context restricts the style to completion in command position.</p><p style="padding-top: 1pt;padding-left: 41pt;text-indent: 0pt;line-height: 115%;text-align: left;">There are a number of these special <i>contexts</i>. They all appear in the fourth component of <span class="s33">zstyle</span>’s context string, which is usually used for the name of the command being completed. For the tag, we match any of four possibilities using a <span class="s33">zsh </span>glob pattern. Set this style and try the previous example again. Note how it now groups some of the matches.</p><p style="padding-left: 41pt;text-indent: 18pt;line-height: 115%;text-align: left;">Another style, named <span class="s33">separate-sections</span>, causes completion matches to be further subdivided. The following example demonstrates:</p><p class="s33" style="padding-top: 7pt;padding-left: 41pt;text-indent: 0pt;line-height: 115%;text-align: left;">% <b>man write</b>&lt;tab&gt; <b>manual page</b></p><p class="s33" style="padding-left: 41pt;text-indent: 0pt;line-height: 10pt;text-align: left;">write writev writevt</p><p class="s33" style="padding-top: 1pt;padding-left: 41pt;text-indent: 0pt;text-align: left;">% <b>zstyle &#39;:completion:*:manuals&#39; separate-sections true</b></p><p class="s33" style="padding-top: 1pt;padding-left: 41pt;text-indent: 0pt;line-height: 115%;text-align: left;">% <b>man write</b>&lt;tab&gt; <b>manual page, section 1 </b>write</p><p class="s46" style="padding-left: 41pt;text-indent: 0pt;line-height: 10pt;text-align: left;">manual page, section 2</p><p class="s33" style="padding-top: 1pt;padding-left: 41pt;text-indent: 0pt;text-align: left;">write writev</p><p class="s46" style="padding-top: 1pt;padding-left: 41pt;text-indent: 0pt;text-align: left;">manual page, section 3</p><p class="s33" style="padding-top: 1pt;padding-left: 41pt;text-indent: 0pt;text-align: left;">writev</p><p class="s46" style="padding-top: 1pt;padding-left: 41pt;text-indent: 0pt;text-align: left;">manual page, section 8</p><p class="s33" style="padding-top: 1pt;padding-left: 41pt;text-indent: 0pt;text-align: left;">writevt</p><p style="padding-top: 8pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">Currently, this style is only used in one other place: when completing words for the <span class="s33">dict</span></p><p style="padding-top: 1pt;padding-left: 41pt;text-indent: 0pt;text-align: left;">command it separates matches from different dictionary databases.</p><p class="s29" style="padding-top: 3pt;padding-left: 304pt;text-indent: 0pt;text-align: left;"><a name="bookmark520">CHAPTER 10 </a><span class="s28">■ </span>COMPLE TION <span class="s27">241</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part268.htm">&lt; Previous</a><span> | </span><a href="../From Bash to Z Shell.html">Contents</a><span> | </span><a href="part270.htm">Next &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
