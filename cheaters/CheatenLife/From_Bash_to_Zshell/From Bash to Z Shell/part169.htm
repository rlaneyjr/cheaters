<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Showing Prompts on the Right-hand Side</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part168.htm">&lt; Previous</a><span> | </span><a href="../From Bash to Z Shell.html">Contents</a><span> | </span><a href="part170.htm">Next &gt;</a></p><p class="s35" style="padding-left: 42pt;text-indent: 0pt;text-align: left;"><a name="bookmark310">Showing Prompts on the Right-hand Side</a></p><p class="s33" style="padding-top: 5pt;padding-left: 41pt;text-indent: 0pt;line-height: 115%;text-align: left;">zsh <span class="p">provides a variant of </span>PS1 <span class="p">named </span>RPS1 <span class="p">that appears on the right-hand side of the screen. The most noticeable advantage of the right prompts is that the display is a bit less cluttered, since some of the text is shifted to the right. You can use all the features of the other prompts—the right prompts are processed identically.</span></p><p style="padding-left: 41pt;text-indent: 18pt;line-height: 115%;text-align: left;">Here’s an example where we use a short string in <span class="s33">PS1 </span>and put the directory in <span class="s33">RPS1</span>. On the final line the cursor appears to the right of the ordinary <span class="s33">PS1 </span>prompt. Another advantage appears when your typing reaches the right prompt: it simply disappears. So you can use it for information that’s handy to have but you don’t always need. In the last line, the cursor appears after the first <span class="s33">% </span>and a space:</p><p class="s33" style="padding-top: 7pt;padding-left: 41pt;text-indent: 0pt;text-align: left;">zsh%  <b>PS1=&#39;%#  &#39;</b></p><p class="s33" style="padding-top: 1pt;padding-left: 41pt;text-indent: 0pt;text-align: left;">%  <b>RPS1=&#39;%/&#39;</b></p><p class="s33" style="padding-top: 1pt;padding-left: 41pt;text-indent: 0pt;text-align: left;">%                                                                                        /home/pws/src/zsh/Src/Modules</p><p style="padding-top: 8pt;padding-left: 41pt;text-indent: 18pt;line-height: 115%;text-align: left;">Although we’re mostly discussing version 4.0 of <span class="s33">zsh</span>, a couple of features of 4.2 are worth mentioning. There is a new variable <span class="s33">RPS2 </span>to go with <span class="s33">PS2</span>, so you can have a continuation prompt on the right. You will probably want to use <span class="s33">%^ </span>inside it instead of the <span class="s33">%_</span>, to get the shell constructs in reverse order, which is more logical when the prompt is on the right.</p><p style="padding-left: 41pt;text-indent: 17pt;line-height: 115%;text-align: left;">Also in <span class="s33">zsh </span>4.2, if you set the option <span class="s33">transient_rprompt</span>, the right prompt disappears not only temporarily when you type near it, but permanently when you hit Return on the line. This keeps your terminal window looking neat, highlights the current line, and also (the original intention) makes it much easier to copy text from the window using the mouse. So we recom- mend it.</p><p style="padding-left: 41pt;text-indent: 18pt;line-height: 115%;text-align: left;">One common use of right prompts is for a longer version of the current directory than fits in the main prompt. However, in the section “Special Effects” in this chapter we showed how to put the current directory in the title bar of the shell window, which is usually even neater. You can compromise and use <span class="s33">RPS1 </span>on a dumb terminal and the title bar in a window. However, even some dumb terminals allow you to have a status line.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part168.htm">&lt; Previous</a><span> | </span><a href="../From Bash to Z Shell.html">Contents</a><span> | </span><a href="part170.htm">Next &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
