<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Variable Attributes</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part318.htm">&lt; Previous</a><span> | </span><a href="../From Bash to Z Shell.html">Contents</a><span> | </span><a href="part320.htm">Next &gt;</a></p><h4 style="padding-left: 40pt;text-indent: 0pt;text-align: left;"><a name="bookmark584">Variable Attributes</a></h4><p style="padding-top: 6pt;padding-left: 40pt;text-indent: 0pt;line-height: 115%;text-align: left;">There are a number of attributes you can set for variables to achieve useful effects. You set these attributes using options to the <span class="s33">declare </span>command. Some alter the output format; for example, <span class="s33">-u </span>and <span class="s33">-l </span>convert the result to upper or lower case, respectively. Setting these attributes doesn’t just apply to the variable’s current value—any new value assigned to the variable is similarly affected. There are also options for justifying the output value: <span class="s33">-R </span>for right justification and <span class="s33">-L </span>for left justification. To demonstrate this, the following example applies both the <span class="s33">-u </span>and</p><p class="s33" style="padding-left: 40pt;text-indent: 0pt;line-height: 115%;text-align: left;">-R <span class="p">options to a variable holding the string </span>hello<span class="p">. When the variable is expanded, the string is converted to uppercase and padded with spaces to be 10 characters wide.</span></p><p class="s33" style="padding-top: 6pt;padding-left: 40pt;text-indent: 0pt;text-align: left;">% <b>declare -u -R 10 greeting=&#39;hello&#39;</b></p><p class="s33" style="padding-top: 1pt;padding-left: 40pt;text-indent: 0pt;text-align: left;">% <b>echo $greeting</b></p><p class="s33" style="padding-top: 1pt;padding-left: 62pt;text-indent: 0pt;text-align: left;">HELLO</p><p style="padding-top: 8pt;padding-left: 58pt;text-indent: 0pt;text-align: left;">To turn the effects off, we use a plus in place of the minus in the options:</p><p class="s33" style="padding-top: 8pt;padding-left: 40pt;text-indent: 0pt;text-align: left;">% <b>declare +u +R greeting</b></p><p class="s33" style="padding-top: 1pt;padding-left: 40pt;text-indent: 0pt;text-align: left;">% <b>echo $greeting</b></p><p class="s33" style="padding-top: 1pt;padding-left: 40pt;text-indent: 0pt;text-align: left;">hello</p><p style="padding-top: 8pt;padding-left: 40pt;text-indent: 18pt;line-height: 115%;text-align: left;">A further attribute, similar to the one set with <span class="s33">–R</span>, is set with the <span class="s33">-Z </span>option. It uses zeros instead of spaces to pad out any space on the left. This can be useful with numbers.</p><p style="padding-left: 40pt;text-indent: 18pt;line-height: 115%;text-align: left;">Further attributes are available that affect other properties of a variable. The <span class="s33">export </span>command, which was first introduced in Chapter 3, is the same as using <span class="s33">declare </span>with the <span class="s33">-x </span>option. There are quite a few commands such as <span class="s33">export </span>that are specialized forms of <span class="s33">declare</span>, each corresponding to a particular option. Another is <span class="s33">readonly</span>, which is equivalent to <span class="s33">declare -r</span>. That allows you to protect a variable from having its value changed.</p><p style="padding-left: 40pt;text-indent: 18pt;line-height: 115%;text-align: justify;">If you want to be sure of removing all attributes from a variable, the best way is to unset it. There is an <span class="s33">unset </span>built-in that lets you do exactly this. So to get rid of the <span class="s33">greeting </span>variable we created, we would do the following:</p><p class="s33" style="padding-top: 6pt;padding-left: 40pt;text-indent: 0pt;text-align: left;">% <b>unset greeting</b></p><p style="padding-top: 8pt;padding-left: 40pt;text-indent: 18pt;line-height: 115%;text-align: justify;">That is generally useful as a better alternative to assigning an empty value to a variable. It won’t work for a read-only variable, however: that is the one attribute you have to remove manually.</p><p class="s29" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark612"><span class="s27">290 </span></a>CHAPTER 12 <span class="s28">■ </span>VARIABLES </p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part318.htm">&lt; Previous</a><span> | </span><a href="../From Bash to Z Shell.html">Contents</a><span> | </span><a href="part320.htm">Next &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
