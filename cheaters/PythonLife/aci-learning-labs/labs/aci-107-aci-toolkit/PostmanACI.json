{"id":"79ac9080-3879-81bf-099b-a64c3f4c2868","name":"APIC REST API Functions","timestamp":1429237388595,"order":["5cca1b69-96a5-e070-3991-a00d636c6c70","b946cb5d-02ee-8e37-2670-4b40e0138edd","57ee1d61-3ddf-97e7-8047-b24c87f2c709","de1a9649-c678-40e8-8a4a-b9a795cd9f29","79c7e659-71be-1303-1c95-0b41a3cbe652","cbff8c71-76ad-72f9-9da4-b419641cdd94","4029da9d-ef1c-a22c-f8b0-283d3ca11e40","2d66788c-20a5-4610-83db-9d60038652e0","fa5766bb-8b39-84c1-f73b-81df0bd6bdaf","e3248ecf-356f-76fc-16fb-a296e6c679ce","66067b83-005b-2b15-411f-812c9ad215c5"],"requests":[{"collectionId":"79ac9080-3879-81bf-099b-a64c3f4c2868","id":"2d66788c-20a5-4610-83db-9d60038652e0","name":"Create Tenant","description":"","url":"https://providedIP/api/node/mo/.xml","method":"POST","headers":"","data":"<polUni>\n    <fvTenant\n        dn=\"uni/tn-ACILab\"\n        name=\"ACILab\">\n\n        <fvCtx name=\"ACILab_VRF\"/>\n\n        <!-- bridge domain -->\n        <fvBD name=\"ACILab_BD1\">\n          <fvRsCtx tnFvCtxName=\"ACILab_VRF\" />\n          <fvSubnet ip=\"10.10.10.10/24\">\n          <fvRsBDSubnetToProfile  tnL3extOutName=\"rout1\" tnRtctrlProfileName=\"profExport\" />\n          </fvSubnet>\n\n          <fvSubnet ip=\"192.168.10.1/24\">\n          <fvRsBDSubnetToProfile  tnL3extOutName=\"rout1\" tnRtctrlProfileName=\"profExport\" />\n          </fvSubnet>\n        </fvBD>\n\n\n        <!-- bridge domain -->\n        <fvBD name=\"ACILab_BD2\">\n          <fvRsCtx tnFvCtxName=\"ACILab_VRF\" />\n          <fvSubnet ip=\"20.20.20.20/24\">\n          <fvRsBDSubnetToProfile  tnL3extOutName=\"rout1\" tnRtctrlProfileName=\"profExport\" />\n          </fvSubnet>\n        </fvBD>\n\n    </fvTenant>\n</polUni>\n","dataMode":"raw","timestamp":0,"version":2,"time":1430522214192},{"collectionId":"79ac9080-3879-81bf-099b-a64c3f4c2868","id":"4029da9d-ef1c-a22c-f8b0-283d3ca11e40","name":"Create Physical Domain","description":"","url":"https://providedIP/api/node/mo/.xml","method":"POST","headers":"","data":"<polUni>\n<physDomP name=\"phys\">\n     <infraRsVlanNs tDn=\"uni/infra/vlanns-ACILab_VLAN_Pool-dynamic\"/>\n</physDomP>\n</polUni>\n","dataMode":"raw","timestamp":0,"version":2,"time":1430522196550},{"collectionId":"79ac9080-3879-81bf-099b-a64c3f4c2868","id":"57ee1d61-3ddf-97e7-8047-b24c87f2c709","name":"Create Leaf2","description":"Creates a leaf 2 in the fabric.","url":"https://providedIP/api/node/mo/uni/controller/nodeidentpol/nodep-TEP-1-102.json","method":"POST","headers":"","data":"{\"fabricNodeIdentP\":{attributes\":{\"dn\":\"uni/controller/nodeidentpol/nodep-TEP-1-102\",\"serial\":\"TEP-1-102\",\"nodeId\":\"102\",\"name\":\"Leaf2\",\"rn\":\"nodep-TEP-1-102\",\"status\":\"created\"},\"children\":[]}}","dataMode":"raw","timestamp":0,"version":2,"time":1430521973730},{"collectionId":"79ac9080-3879-81bf-099b-a64c3f4c2868","id":"5cca1b69-96a5-e070-3991-a00d636c6c70","name":"APIC Login","description":"","url":"https://providedIP/api/aaaLogin.xml","method":"POST","headers":"","data":"<aaaUser name=\"admin\" pwd=\"cisco123\" />","dataMode":"raw","timestamp":0,"version":2,"time":1430521922618},{"collectionId":"79ac9080-3879-81bf-099b-a64c3f4c2868","id":"66067b83-005b-2b15-411f-812c9ad215c5","name":"Create Service Graph","description":"","url":"https://providedIP/api/node/mo/.xml","method":"POST","headers":"","data":"<polUni>\n    <fvTenant name=\"ACILab\">\n    <vnsAbsGraph name = \"FWGraph\">\n\n    <vnsAbsTermNodeProv name = \"Provider\">\n        <vnsAbsTermConn name = \"C6\">\n        </vnsAbsTermConn>\n    </vnsAbsTermNodeProv>\n\n    <vnsAbsTermNodeCon name = \"Consumer\">\n        <vnsAbsTermConn name = \"C1\" >\n        </vnsAbsTermConn>\n    </vnsAbsTermNodeCon>\n\n    <!-- FWNode Provides FW functionality -->\n    <vnsAbsNode name = \"FWNode\">\n        <vnsRsDefaultScopeToTerm tDn=\"uni/tn-ACILab/AbsGraph-FWGraph/AbsTermNodeProv-Provider/outtmnl\"/>\n\n        <vnsAbsFuncConn name = \"external\" >\n            <vnsRsMConnAtt tDn=\"uni/infra/mDev-CISCO-ASA-1.0.1.35/mFunc-Firewall/mConn-external\" />\n        </vnsAbsFuncConn>\n\n        <vnsAbsFuncConn name = \"internal\" >\n            <vnsRsMConnAtt tDn=\"uni/infra/mDev-CISCO-ASA-1.0.1.35/mFunc-Firewall/mConn-internal\" />\n        </vnsAbsFuncConn>\n\n        <vnsAbsDevCfg>\n            <vnsAbsFolder key=\"InterfaceConfig\" name=\"internalIfCfg\">\n                <vnsAbsParam key=\"ipv4_address\" name=\"ipv4_internal\" value=\"10.10.10.103/255.255.255.0\"/>\n                <vnsAbsParam key=\"security_level\" name=\"internal_security_level\" value=\"100\"/>\n            </vnsAbsFolder>\n            <vnsAbsFolder key=\"InterfaceConfig\" name=\"externalIfCfg\">\n                <vnsAbsParam key=\"ipv4_address\" name=\"ipv4_external\" value=\"20.20.20.103/255.255.255.0\"/>\n                <vnsAbsParam key=\"security_level\" name=\"external_security_level\" value=\"50\"/>\n            </vnsAbsFolder>\n\n        <vnsAbsFolder name=\"access-list-foo1\" key=\"AccessList\" scopedBy=\"epg\">\n                <vnsAbsFolder name=\"entry1\" key=\"AccessControlEntry\" scopedBy=\"epg\">\n                        <vnsAbsParam name=\"acition-permit\" key=\"action\" value=\"permit\"/>\n                        <vnsAbsParam name=\"order1\" key=\"order\" value=\"10\"/>\n                </vnsAbsFolder>\n        </vnsAbsFolder>\n\n        <vnsAbsFolder name=\"access-list-foo2\" key=\"AccessList\" scopedBy=\"epg\">\n                <vnsAbsFolder name=\"entry1\" key=\"AccessControlEntry\" scopedBy=\"epg\">\n                        <vnsAbsParam name=\"acition-permit\" key=\"action\" value=\"permit\"/>\n                        <vnsAbsParam name=\"order1\" key=\"order\" value=\"10\"/>\n                </vnsAbsFolder>\n        </vnsAbsFolder>\n\n        </vnsAbsDevCfg>\n\n        <vnsAbsFuncCfg>\n             <vnsAbsFolder key=\"ExIntfConfigRelFolder\" name=\"ExtConfig\">\n                <vnsAbsCfgRel key=\"ExIntfConfigRel\" name=\"ExtConfigrel\" targetName=\"externalIfCfg\"/>\n                <vnsRsScopeToTerm tDn=\"uni/tn-ACILab/AbsGraph-FWGraph/AbsTermNodeProv-Provider/outtmnl\"/>\n                <vnsRsCfgToConn tDn=\"uni/tn-ACILab/AbsGraph-FWGraph/AbsNode-FWNode/AbsFConn-external\" />\n             </vnsAbsFolder>\n\n            <vnsAbsFolder key=\"InIntfConfigRelFolder\" name=\"IntConfig\">\n                <vnsAbsCfgRel key=\"InIntfConfigRel\" name=\"InConfigrel\" targetName=\"internalIfCfg\"/>\n                <vnsRsScopeToTerm tDn=\"uni/tn-ACILab/AbsGraph-FWGraph/AbsTermNodeProv-Provider/outtmnl\"/>\n                <vnsRsCfgToConn tDn=\"uni/tn-ACILab/AbsGraph-FWGraph/AbsNode-FWNode/AbsFConn-internal\" />\n            </vnsAbsFolder>\n\n            <vnsAbsFolder name=\"IntAccessGroup\" key=\"IntAccessGroup\">\n                <vnsAbsCfgRel name=\"access-list-foo\" key=\"access_list_name\" targetName=\"access-list-foo1\"/>\n                <vnsRsScopeToTerm tDn=\"uni/tn-ACILab/AbsGraph-FWGraph/AbsTermNodeProv-Provider/outtmnl\"/>\n                <vnsRsCfgToConn tDn=\"uni/tn-ACILab/AbsGraph-FWGraph/AbsNode-FWNode/AbsFConn-internal\" />\n                <vnsAbsParam name=\"direction\" key=\"direction\" value=\"in\"/>\n            </vnsAbsFolder>\n\n            <vnsAbsFolder name=\"ExtAccessGroup\" key=\"ExtAccessGroup\">\n                <vnsAbsCfgRel name=\"access-list-foo\" key=\"access_list_name\" targetName=\"access-list-foo2\"/>\n                <vnsRsScopeToTerm tDn=\"uni/tn-ACILab/AbsGraph-FWGraph/AbsTermNodeProv-Provider/outtmnl\"/>\n                <vnsRsCfgToConn tDn=\"uni/tn-ACILab/AbsGraph-FWGraph/AbsNode-FWNode/AbsFConn-external\" />\n                <vnsAbsParam name=\"direction\" key=\"direction\" value=\"in\"/>\n            </vnsAbsFolder>\n        </vnsAbsFuncCfg>\n\n        <vnsRsNodeToMFunc tDn=\"uni/infra/mDev-CISCO-ASA-1.0.1.35/mFunc-Firewall\"/>\n    </vnsAbsNode>\n\n    <vnsAbsConnection name = \"CON1\">\n        <vnsRsAbsConnectionConns tDn=\"uni/tn-ACILab/AbsGraph-FWGraph/AbsTermNodeCon-Consumer/AbsTConn\" />\n        <vnsRsAbsConnectionConns tDn=\"uni/tn-ACILab/AbsGraph-FWGraph/AbsNode-FWNode/AbsFConn-external\" />\n    </vnsAbsConnection>\n\n    <vnsAbsConnection name = \"CON2\">\n        <vnsRsAbsConnectionConns tDn=\"uni/tn-ACILab/AbsGraph-FWGraph/AbsNode-FWNode/AbsFConn-internal\" />\n        <vnsRsAbsConnectionConns tDn=\"uni/tn-ACILab/AbsGraph-FWGraph/AbsTermNodeProv-Provider/AbsTConn\" />\n    </vnsAbsConnection>\n\n    </vnsAbsGraph>\n  </fvTenant>\n</polUni>\n","dataMode":"raw","timestamp":0,"version":2,"time":1430522273956},{"collectionId":"79ac9080-3879-81bf-099b-a64c3f4c2868","id":"79c7e659-71be-1303-1c95-0b41a3cbe652","name":"Create L3 Connectivity","description":"","url":"https://providedIP/api/node/mo/.xml","method":"POST","headers":"","data":"<polUni>\n<fvTenant name=\"mgmt\">\n   <l3extOut name=\"vmm\">\n      <l3extInstP name=\"extMgmt\">\n      </l3extInstP>\n      <l3extLNodeP name=\"borderLeaf\">\n         <l3extRsNodeL3OutAtt tDn=\"topology/pod-1/node-101\" rtrId=\"1.0.0.1\">\n             <ipRouteP ip=\"192.168.64.0/16\">\n                <ipNexthopP nhAddr=\"192.168.105.1\"/>\n             </ipRouteP>\n\n             <ipRouteP ip=\"172.21.158.0/24\">\n                 <ipNexthopP nhAddr=\"192.168.105.1\"/>\n             </ipRouteP>\n             <ipRouteP ip=\"10.30.12.0/21\">\n                 <ipNexthopP nhAddr=\"192.168.105.1\"/>\n             </ipRouteP>\n             <ipRouteP ip=\"10.193.208.0/24\">\n                 <ipNexthopP nhAddr=\"192.168.105.1\"/>\n             </ipRouteP>\n             <ipRouteP ip=\"172.31.157.0/24\">\n                 <ipNexthopP nhAddr=\"192.168.105.1\"/>\n             </ipRouteP>\n             <ipRouteP ip=\"172.21.157.0/24\">\n                 <ipNexthopP nhAddr=\"192.168.105.1\"/>\n             </ipRouteP>\n             <ipRouteP ip=\"172.23.48.0/21\">\n                 <ipNexthopP nhAddr=\"192.168.105.1\"/>\n             </ipRouteP>\n             <ipRouteP ip=\"172.23.75.0/21\">\n                 <ipNexthopP nhAddr=\"192.168.105.1\"/>\n             </ipRouteP>\n         </l3extRsNodeL3OutAtt>\n      </l3extLNodeP>\n   </l3extOut>\n</fvTenant>\n</polUni>\n","dataMode":"raw","timestamp":0,"version":2,"time":1430522095655},{"collectionId":"79ac9080-3879-81bf-099b-a64c3f4c2868","id":"b946cb5d-02ee-8e37-2670-4b40e0138edd","name":"Create Spine1","description":"Creates a Spine in the fabric.","url":"https://providedIP/api/node/mo/uni/controller/nodeidentpol/nodep-TEP-1-103.json","method":"POST","headers":"","data":"{\"fabricNodeIdentP\":{attributes\":{\"dn\":\"uni/controller/nodeidentpol/nodep-TEP-1-103\",\"serial\":\"TEP-1-103\",\"nodeId\":\"103\",\"name\":\"Spine1\",\"rn\":\"nodep-TEP-1-103\",\"status\":\"created\"},\"children\":[]}}","dataMode":"raw","timestamp":0,"version":2,"time":1430521955664},{"collectionId":"79ac9080-3879-81bf-099b-a64c3f4c2868","id":"cbff8c71-76ad-72f9-9da4-b419641cdd94","name":"Create VLAN Namespace","description":"","url":"https://providedIP/api/node/mo/.xml","method":"POST","headers":"","data":"<polUni>\n<infraInfra>\n     <fvnsVlanInstP name=\"ACILab_VLAN_Pool\" allocMode=\"dynamic\">\n        <fvnsEncapBlk name=\"encap\" from=\"vlan-1001\" to=\"vlan-1100\"/>\n     </fvnsVlanInstP>\n</infraInfra>\n</polUni>\n","dataMode":"raw","timestamp":0,"version":2,"time":1430522172092},{"collectionId":"79ac9080-3879-81bf-099b-a64c3f4c2868","id":"de1a9649-c678-40e8-8a4a-b9a795cd9f29","name":"Configure Leaf1","description":"Configures leaf 1 and sets off discovery.","url":"https://providedIP/api/node/mo/uni/controller/nodeidentpol.json","method":"POST","headers":"","data":"{\"fabricNodeIdentP\":{attributes\":{\"dn\":\"uni/controller/nodeidentpol/nodep-TEP-1-101\",\"serial\":\"TEP-1-101\",\"nodeId\":\"101\",\"name\":\"Leaf1\",\"status\":\"created,modified\"},\"children\":[]}}\n","dataMode":"raw","timestamp":0,"version":2,"time":1430522000386},{"collectionId":"79ac9080-3879-81bf-099b-a64c3f4c2868","id":"e3248ecf-356f-76fc-16fb-a296e6c679ce","name":"Create Application Profile","description":"","url":"https://providedIP/api/node/mo/.xml","method":"POST","headers":"","data":"<polUni>\n    <fvTenant\n       dn=\"uni/tn-ACILab\"\n       name=\"ACILab\">\n\n        <!-- Application Profile -->\n        <fvAp dn=\"uni/tn-ACILab/ap-3Tier_App\" name=\"3Tier_App\">\n\n            <!-- L3External EPG   -->\n            <fvAEPg\n                dn=\"uni/tn-ACILab/ap-3Tier_App/epg-L3Ext_EPG\"\n                name=\"L3Ext_EPG\">\n                <fvRsBd tnFvBDName=\"ACILab_BD1\" />\n                <fvRsDomAtt\n                    tDn=\"uni/vmmp-VMware/dom-My-vCenter\" />\n                <fvRsCons tnVzBrCPName=\"Web_Con\">\n                </fvRsCons>\n            </fvAEPg>\n\n            <!-- Web EPG  -->\n            <fvAEPg\n                dn=\"uni/tn-ACILab/ap-3Tier_App/epg-Web_EPG\"\n                name=\"Web_EPG\">\n                <fvRsBd tnFvBDName=\"ACILab_BD1\" />\n                <fvRsDomAtt\n                    tDn=\"uni/vmmp-VMware/dom-My-vCenter\" />\n                <fvRsProv tnVzBrCPName=\"Web_Con\">\n                </fvRsProv>\n                <fvRsCons tnVzBrCPName=\"App_Con\">\n                </fvRsCons>\n                <vnsFolderInst ctrctNameOrLbl=\"Web_Con\" graphNameOrLbl=\"any\" nodeNameOrLbl=\"any\" key=\"fw-subnet-inside\" name=\"fw-subnet-inside\">\n                </vnsFolderInst>\n\n                <vnsFolderInst ctrctNameOrLbl=\"Web_Con\" graphNameOrLbl=\"any\" nodeNameOrLbl=\"any\" key=\"fw-subnet-outside\" name=\"fw-subnet-outside\">\n                </vnsFolderInst>\n\n            </fvAEPg>\n\n            <!-- App EPG -->\n            <fvAEPg dn=\"uni/tn-ACILab/ap-3Tier_App/epg-App_EPG\"  name=\"App_EPG\">\n                <fvRsBd tnFvBDName=\"ACILab_BD1\" />\n                <!--fvRsBd tnFvBDName=\"cokeBD1\" /-->\n                <fvRsDomAtt tDn=\"uni/vmmp-VMware/dom-My-vCenter\" />\n                <fvRsCons tnVzBrCPName=\"DB_Con\">\n                </fvRsCons>\n                <fvRsProv tnVzBrCPName=\"App_Con\">\n                </fvRsProv>\n                <vnsFolderInst ctrctNameOrLbl=\"Web_Con\" graphNameOrLbl=\"any\" nodeNameOrLbl=\"any\" key=\"fw-subnet-inside\" name=\"fw-subnet-inside\">\n                </vnsFolderInst>\n\n                <vnsFolderInst ctrctNameOrLbl=\"Web_Con\" graphNameOrLbl=\"any\" nodeNameOrLbl=\"any\" key=\"fw-subnet-outside\" name=\"fw-subnet-outside\">\n                </vnsFolderInst>\n\n            </fvAEPg>\n\n            <!-- DB EPG -->\n            <fvAEPg dn=\"uni/tn-ACILab/ap-3Tier_App/epg-DB_EPG\"  name=\"DB_EPG\">\n                <fvRsBd tnFvBDName=\"ACILab_BD1\" />\n                <!--fvRsBd tnFvBDName=\"cokeBD1\" /-->\n                <fvRsDomAtt tDn=\"uni/vmmp-VMware/dom-My-vCenter\" />\n                <fvRsProv tnVzBrCPName=\"DB_Con\">\n                </fvRsProv>\n            </fvAEPg>\n\n        </fvAp>\n    </fvTenant>\n</polUni>\n","dataMode":"raw","timestamp":0,"version":2,"time":1430522248968},{"collectionId":"79ac9080-3879-81bf-099b-a64c3f4c2868","id":"fa5766bb-8b39-84c1-f73b-81df0bd6bdaf","name":"Create Contracts and Filters","description":"","url":"https://providedIP/api/node/mo/.xml","method":"POST","headers":"","data":"<polUni>\n    <fvTenant dn=\"uni/tn-ACILab\" name=\"ACILab\">\n\n        <vzFilter name=\"Web_Filter\">\n             <vzEntry dFromPort=\"http\" dToPort=\"http\" etherT=\"ip\" name=\"web_filter\" prot=\"tcp\" sFromPort=\"unspecified\" sToPort=\"unspecified\" />\n        </vzFilter>\n\n        <vzBrCP name=\"Web_Con\">\n            <vzSubj name=\"web_subj\" provMatchT=\"All\"  consMatchT=\"All\">\n                <vzRsSubjFiltAtt tnVzFilterName=\"Web_Filter\"/>\n            </vzSubj>\n        </vzBrCP>\n\n        <vzFilter name=\"App_Filter\">\n             <vzEntry dFromPort=\"1433\" dToPort=\"1433\" etherT=\"ip\" name=\"app_filter\" prot=\"tcp\" sFromPort=\"unspecified\" sToPort=\"unspecified\" />\n        </vzFilter>\n\n        <vzBrCP name=\"App_Con\">\n            <vzSubj name=\"app_subj\" provMatchT=\"All\"  consMatchT=\"All\">\n                <vzRsSubjFiltAtt tnVzFilterName=\"App_Filter\"/>\n            </vzSubj>\n        </vzBrCP>\n\n        <vzFilter name=\"DB_Filter\">\n             <vzEntry dFromPort=\"1521\" dToPort=\"1521\" etherT=\"ip\" name=\"db_filter\" prot=\"tcp\" sFromPort=\"unspecified\" sToPort=\"unspecified\" />\n        </vzFilter>\n\n        <vzBrCP name=\"DB_Con\">\n            <vzSubj name=\"db_subj\" provMatchT=\"All\"  consMatchT=\"All\">\n                <vzRsSubjFiltAtt tnVzFilterName=\"DB_Filter\"/>\n            </vzSubj>\n        </vzBrCP>\n\n    </fvTenant>\n</polUni>\n","dataMode":"raw","timestamp":0,"version":2,"time":1430522231384}]}