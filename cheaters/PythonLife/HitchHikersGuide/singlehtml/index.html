<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The Hitchhiker&#39;s Guide to Python</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="None" href="index.html#document-index" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="the-hitchhiker-s-guide-to-python">
<h1>The Hitchhiker&#8217;s Guide to Python!<a class="headerlink" href="#the-hitchhiker-s-guide-to-python" title="Permalink to this headline">¶</a></h1>
<p>Greetings, Earthling! Welcome to The Hitchhiker&#8217;s Guide to Python.</p>
<p><strong>This is a living, breathing guide.</strong>  If you&#8217;d like to contribute,
<a class="reference external" href="https://github.com/kennethreitz/python-guide">fork us on GitHub</a>!</p>
<p>This handcrafted guide exists to provide both novice and expert Python
developers a best practice handbook to the installation, configuration, and
usage of Python on a daily basis.</p>
<p>This guide is <strong>opinionated</strong> in a way that is almost, but not quite, entirely
<em>unlike</em> Python&#8217;s official documentation. You won&#8217;t find a list of every Python web framework
available here. Rather, you&#8217;ll find a nice concise list of highly recommended
options.</p>
<p>Let&#8217;s get started! But first, let&#8217;s make sure you know where your towel is.</p>
<div class="section" id="getting-started-with-python">
<h2>Getting Started with Python<a class="headerlink" href="#getting-started-with-python" title="Permalink to this headline">¶</a></h2>
<p>New to Python? Let&#8217;s properly setup up your Python environment.</p>
<div class="toctree-wrapper compound">
<span id="document-starting/which-python"></span><div class="section" id="picking-an-interpreter">
<h3>Picking an Interpreter<a class="headerlink" href="#picking-an-interpreter" title="Permalink to this headline">¶</a></h3>
<div class="section" id="the-state-of-python-3-2">
<span id="which-python"></span><h4>The State of Python (3 &amp; 2)<a class="headerlink" href="#the-state-of-python-3-2" title="Permalink to this headline">¶</a></h4>
<p>When choosing a Python interpreter, one looming question is always present:
&#8220;Should I choose Python 2 or Python 3&#8221;? The answer is a bit more subtle than
one might think.</p>
<p>The basic gist of the state of things is as follows:</p>
<ol class="arabic simple">
<li>Most production applications today use Python 2.7.</li>
<li>Python 3 is ready for the production deployment of applications today.</li>
<li>Python 2.7 will only receive necessary security updates until 2020 <a class="footnote-reference" href="#pep373-eol" id="id1">[6]</a>.</li>
<li>The brand name &#8220;Python&#8221; encapsulates both Python 3 and Python 2.</li>
</ol>
</div>
<div class="section" id="recommendations">
<h4>Recommendations<a class="headerlink" href="#recommendations" title="Permalink to this headline">¶</a></h4>
<p>I&#8217;ll be blunt:</p>
<ul class="simple">
<li>Use Python 3 for new Python applications.</li>
<li>If you&#8217;re learning Python for the first time, familiarizing yourself with Python 2.7 will be very
useful, but not more useful than learning Python 3.</li>
<li>Learn both. They are both &#8220;Python&#8221;.</li>
<li>Software that is already built often depends on Python 2.7.</li>
<li>If you are writing a new open source Python library, it&#8217;s best to write it for both Python 2 and 3
simultaneously. Only supporting Python 3 for a new library you want to be widely adopted is a
political statment and will alienate many of your users. This is not a problem — slowly, over the next three years, this will become less the case.</li>
</ul>
</div>
<div class="section" id="so-3">
<h4>So.... 3?<a class="headerlink" href="#so-3" title="Permalink to this headline">¶</a></h4>
<p>If you&#8217;re choosing a Python interpreter to use, I
recommend you use the newest Python 3.x, since every version brings new and
improved standard library modules, security and bug fixes.</p>
<p>Given such, only use Python 2 if you have a strong reason to, such as a
pre-existing code-base, a Python 2 exclusive library, simplicity/familiarity,
or, of course, you absolutely love and are inspired by Python 2. No harm in that.</p>
<p>Check out <a class="reference external" href="https://caniusepython3.com/">Can I Use Python 3?</a> to see if any
software you&#8217;re depending on will block your adoption of Python 3.</p>
<p><a class="reference external" href="http://wiki.python.org/moin/Python2orPython3">Further Reading</a></p>
<p>It is possible to <a class="reference external" href="https://docs.python.org/3/howto/pyporting.html">write code that works on Python 2.6, 2.7, and Python 3</a>. This
ranges from trivial to hard depending upon the kind of software
you are writing; if you&#8217;re a beginner there are far more important things to
worry about.</p>
</div>
<div class="section" id="implementations">
<h4>Implementations<a class="headerlink" href="#implementations" title="Permalink to this headline">¶</a></h4>
<p>When people speak of <em>Python</em> they often mean not just the language but also
the CPython implementation. <em>Python</em> is actually a specification for a language
that can be implemented in many different ways.</p>
<div class="section" id="cpython">
<h5>CPython<a class="headerlink" href="#cpython" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://www.python.org">CPython</a> is the reference implementation of Python,
written in C. It compiles Python code to intermediate bytecode which is then
interpreted by a virtual machine. CPython provides the highest
level of compatibility with Python packages and C extension modules.</p>
<p>If you are writing open-source Python code and want to reach the widest possible
audience, targeting CPython is best. To use packages which rely on C extensions
to function, CPython is your only implementation option.</p>
<p>All versions of the Python language are implemented in C because CPython is the
reference implementation.</p>
</div>
<div class="section" id="pypy">
<h5>PyPy<a class="headerlink" href="#pypy" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://pypy.org/">PyPy</a> is a Python interpreter implemented in a restricted
statically-typed subset of the Python language called RPython. The interpreter
features a just-in-time compiler and supports multiple back-ends (C, CLI, JVM).</p>
<p>PyPy aims for maximum compatibility with the reference CPython implementation
while improving performance.</p>
<p>If you are looking to increase performance of your Python code, it&#8217;s
worth giving PyPy a try. On a suite of benchmarks, it&#8217;s currently <a class="reference external" href="http://speed.pypy.org/">over 5 times
faster than CPython</a>.</p>
<p>PyPy supports Python 2.7. PyPy3 <a class="footnote-reference" href="#pypy-ver" id="id4">[1]</a>, released in beta, targets Python 3.</p>
</div>
<div class="section" id="jython">
<h5>Jython<a class="headerlink" href="#jython" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://www.jython.org/">Jython</a> is a Python implementation that compiles
Python code to Java bytecode which is then executed by the JVM (Java Virtual Machine).
Additionally, it is able to import and use any Java class like a Python
module.</p>
<p>If you need to interface with an existing Java codebase or have other reasons to
need to write Python code for the JVM, Jython is the best choice.</p>
<p>Jython currently supports up to Python 2.7. <a class="footnote-reference" href="#jython-ver" id="id6">[2]</a></p>
</div>
<div class="section" id="ironpython">
<h5>IronPython<a class="headerlink" href="#ironpython" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://ironpython.net/">IronPython</a>  is an implementation of Python for the .NET
framework. It can use both Python and .NET framework libraries, and can also
expose Python code to other languages in the .NET framework.</p>
<p><a class="reference external" href="http://ironpython.net/tools/">Python Tools for Visual Studio</a> integrates
IronPython directly into the Visual Studio development environment, making it
an ideal choice for Windows developers.</p>
<p>IronPython supports Python 2.7. <a class="footnote-reference" href="#iron-ver" id="id8">[3]</a></p>
</div>
<div class="section" id="pythonnet">
<h5>PythonNet<a class="headerlink" href="#pythonnet" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://pythonnet.github.io/">Python for .NET</a> is a package which
provides near seamless integration of a natively installed Python
installation with the .NET Common Language Runtime (CLR).  This is the
inverse approach to that taken by IronPython (see above), to which it
is more complementary than competing with.</p>
<p>In conjunction with Mono, pythonnet enables native Python
installations on non-Windows operating systems, such as OS X and
Linux, to operate within the .NET framework.  It can be run in
addition to IronPython without conflict.</p>
<p>Pythonnet supports from Python 2.6 up to Python 3.5. <a class="footnote-reference" href="#pythonnet-ver1" id="id9">[4]</a> <a class="footnote-reference" href="#pythonnet-ver2" id="id10">[5]</a></p>
<table class="docutils footnote" frame="void" id="pypy-ver" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[1]</a></td><td><a class="reference external" href="http://pypy.org/compat.html">http://pypy.org/compat.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="jython-ver" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[2]</a></td><td><a class="reference external" href="https://hg.python.org/jython/file/412a8f9445f7/NEWS">https://hg.python.org/jython/file/412a8f9445f7/NEWS</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="iron-ver" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id8">[3]</a></td><td><a class="reference external" href="http://ironpython.codeplex.com/releases/view/81726">http://ironpython.codeplex.com/releases/view/81726</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="pythonnet-ver1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id9">[4]</a></td><td><a class="reference external" href="https://travis-ci.org/pythonnet/pythonnet">https://travis-ci.org/pythonnet/pythonnet</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="pythonnet-ver2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id10">[5]</a></td><td><a class="reference external" href="https://ci.appveyor.com/project/TonyRoberts/pythonnet-480xs">https://ci.appveyor.com/project/TonyRoberts/pythonnet-480xs</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="pep373-eol" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[6]</a></td><td><a class="reference external" href="https://www.python.org/dev/peps/pep-0373/#id2">https://www.python.org/dev/peps/pep-0373/#id2</a></td></tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<ul class="simple">
<li>Properly Install Python</li>
</ul>
<blockquote>
<div><div class="toctree-wrapper compound">
<span id="document-starting/installation"></span><div class="section" id="properly-installing-python">
<h3>Properly Installing Python<a class="headerlink" href="#properly-installing-python" title="Permalink to this headline">¶</a></h3>
<p>There&#8217;s a good chance that you already have Python on your operating system.</p>
<p>If so, you do not need to install or configure anything else to use Python.
Having said that, I would strongly recommend that you install the tools and
libraries described in the guides below before you start building Python
applications for real-world use. In particular, you should always install
Setuptools, Pip, and Virtualenv —&nbsp;they make it much easier for you to use
other third-party Python libraries.</p>
<div class="section" id="installation-guides">
<h4>Installation Guides<a class="headerlink" href="#installation-guides" title="Permalink to this headline">¶</a></h4>
<p>These guides go over the proper installation of <a class="reference internal" href="index.html#which-python"><span>Python 2.7</span></a>
for development purposes, as well as setuptools, pip, and virtualenv setup.</p>
<ul class="simple">
<li><a class="reference internal" href="index.html#install-osx"><span>Mac OS X</span></a>.</li>
<li><a class="reference internal" href="index.html#install-windows"><span>Microsoft Windows</span></a>.</li>
<li><a class="reference internal" href="index.html#install-linux"><span>Linux</span></a>.</li>
</ul>
</div>
</div>
<span id="document-starting/install/osx"></span><div class="section" id="installing-python-on-mac-os-x">
<span id="install-osx"></span><h3>Installing Python on Mac OS X<a class="headerlink" href="#installing-python-on-mac-os-x" title="Permalink to this headline">¶</a></h3>
<p>The latest version of Mac OS X, El Capitan, <strong>comes with Python 2.7 out of the box</strong>.</p>
<p>You do not need to install or configure anything else to use Python. Having
said that, I would strongly recommend that you install the tools and libraries
described in the next section before you start building Python applications
for real-world use. In particular, you should always install Setuptools, as it
makes it much easier for you to use other third-party Python libraries.</p>
<p>The version of Python that ships with OS X is great for learning but it&#8217;s not
good for development. The version shipped with OS X may be out of date from the
<a class="reference external" href="https://www.python.org/downloads/mac-osx/">official current Python release</a>,
which is considered the stable production version.</p>
<div class="section" id="doing-it-right">
<h4>Doing it Right<a class="headerlink" href="#doing-it-right" title="Permalink to this headline">¶</a></h4>
<p>Let&#8217;s install a real version of Python.</p>
<p>Before installing Python, you&#8217;ll need to install a C compiler. The fastest way
is to install the Xcode Command Line Tools by running
<code class="docutils literal"><span class="pre">xcode-select</span> <span class="pre">--install</span></code>. You can also download the full version of
<a class="reference external" href="http://developer.apple.com/xcode/">Xcode</a> from the Mac App Store, or the
minimal but unofficial
<a class="reference external" href="https://github.com/kennethreitz/osx-gcc-installer#readme">OSX-GCC-Installer</a>
package.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you already have Xcode installed or plan to use Homebrew, do not install
OSX-GCC-Installer. In combination, the software can cause issues that are
difficult to diagnose.</p>
</div>
<p>While OS X comes with a large number of UNIX utilities, those familiar with
Linux systems will notice one key component missing: a decent package manager.
<a class="reference external" href="http://brew.sh">Homebrew</a> fills this void.</p>
<p>To <a class="reference external" href="http://brew.sh/#install">install Homebrew</a>, open <code class="file docutils literal"><span class="pre">Terminal</span></code> or
your favorite OSX terminal emulator and run</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> /usr/bin/ruby -e <span class="s2">&quot;</span><span class="k">$(</span>curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install<span class="k">)</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>The script will explain what changes it will make and prompt you before the
installation begins.
Once you&#8217;ve installed Homebrew, insert the Homebrew directory at the top
of your <span class="target" id="index-0"></span><code class="xref std std-envvar docutils literal"><span class="pre">PATH</span></code> environment variable. You can do this by adding the following
line at the bottom of your <code class="file docutils literal"><span class="pre">~/.profile</span></code> file</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">export PATH=/usr/local/bin:/usr/local/sbin:$PATH</span>
</pre></div>
</div>
<p>Now, we can install Python 2.7:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> brew install python
</pre></div>
</div>
<p>or Python 3:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> brew install python3
</pre></div>
</div>
<p>This will take a minute or two.</p>
</div>
<div class="section" id="setuptools-pip">
<h4>Setuptools &amp; Pip<a class="headerlink" href="#setuptools-pip" title="Permalink to this headline">¶</a></h4>
<p>Homebrew installs Setuptools and <code class="docutils literal"><span class="pre">pip</span></code> for you.</p>
<p>Setuptools enables you to download and install any compliant Python
software over a network (usually the Internet) with a single command
(<code class="docutils literal"><span class="pre">easy_install</span></code>). It also enables you to add this network installation
capability to your own Python software with very little work.</p>
<p><code class="docutils literal"><span class="pre">pip</span></code> is a tool for easily installing and managing Python packages,
that is recommended over <code class="docutils literal"><span class="pre">easy_install</span></code>. It is superior to <code class="docutils literal"><span class="pre">easy_install</span></code> in <a class="reference external" href="https://python-packaging-user-guide.readthedocs.io/pip_easy_install/#pip-vs-easy-install">several ways</a>,
and is actively maintained.</p>
</div>
<div class="section" id="virtual-environments">
<h4>Virtual Environments<a class="headerlink" href="#virtual-environments" title="Permalink to this headline">¶</a></h4>
<p>A Virtual Environment is a tool to keep the dependencies required by different projects
in separate places, by creating virtual Python environments for them. It solves the
&#8220;Project X depends on version 1.x but, Project Y needs 4.x&#8221; dilemma, and keeps
your global site-packages directory clean and manageable.</p>
<p>For example, you can work on a project which requires Django 1.10 while also
maintaining a project which requires Django 1.8.</p>
<p>To start using this and see more information: <a class="reference internal" href="index.html#virtualenvironments-ref"><span>Virtual Environments</span></a> docs.</p>
<hr class="docutils" />
<p>This page is a remixed version of <a class="reference external" href="http://www.stuartellis.eu/articles/python-development-windows/">another guide</a>,
which is available under the same license.</p>
</div>
</div>
<span id="document-starting/install/win"></span><div class="section" id="installing-python-on-windows">
<span id="install-windows"></span><h3>Installing Python on Windows<a class="headerlink" href="#installing-python-on-windows" title="Permalink to this headline">¶</a></h3>
<p>First, download the <a class="reference external" href="https://www.python.org/ftp/python/2.7.12/python-2.7.12.msi">latest version</a>
of Python 2.7 from the official Website. If you want to be sure you are installing a fully
up-to-date version, click the Downloads &gt; Windows link from the home page of the
<a class="reference external" href="http://python.org">Python.org web site</a> .</p>
<p>The Windows version is provided as an MSI package. To install it manually, just
double-click the file. The MSI package format allows Windows administrators to
automate installation with their standard tools.</p>
<p>By design, Python installs to a directory with the version number embedded,
e.g. Python version 2.7 will install at <code class="file docutils literal"><span class="pre">C:\Python27\</span></code>, so that you can
have multiple versions of Python on the
same system without conflicts. Of course, only one interpreter can be the
default application for Python file types. It also does not automatically
modify the <span class="target" id="index-0"></span><code class="xref std std-envvar docutils literal"><span class="pre">PATH</span></code> environment variable, so that you always have control over
which copy of Python is run.</p>
<p>Typing the full path name for a Python interpreter each time quickly gets
tedious, so add the directories for your default Python version to the <span class="target" id="index-1"></span><code class="xref std std-envvar docutils literal"><span class="pre">PATH</span></code>.
Assuming that your Python installation is in <code class="file docutils literal"><span class="pre">C:\Python27\</span></code>, add this to your
<span class="target" id="index-2"></span><code class="xref std std-envvar docutils literal"><span class="pre">PATH</span></code>:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">C:\Python27\;C:\Python27\Scripts\</span>
</pre></div>
</div>
<p>You can do this easily by running the following in <code class="docutils literal"><span class="pre">powershell</span></code>:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">[Environment]::SetEnvironmentVariable(&quot;Path&quot;, &quot;$env:Path;C:\Python27\;C:\Python27\Scripts\&quot;, &quot;User&quot;)</span>
</pre></div>
</div>
<p>The second (<code class="file docutils literal"><span class="pre">Scripts</span></code>) directory receives command files when certain
packages are installed, so it is a very useful addition.
You do not need to install or configure anything else to use Python. Having
said that, I would strongly recommend that you install the tools and libraries
described in the next section before you start building Python applications for
real-world use. In particular, you should always install Setuptools, as it
makes it much easier for you to use other third-party Python libraries.</p>
<div class="section" id="setuptools-pip">
<h4>Setuptools + Pip<a class="headerlink" href="#setuptools-pip" title="Permalink to this headline">¶</a></h4>
<p>The most crucial third-party Python software of all is Setuptools, which
extends the packaging and installation facilities provided by the distutils in
the standard library. Once you add Setuptools to your Python system you can
download and install any compliant Python software product with a single
command. It also enables you to add this network installation capability to
your own Python software with very little work.</p>
<p>To obtain the latest version of Setuptools for Windows, run the Python script
available here: <a class="reference external" href="https://bootstrap.pypa.io/ez_setup.py">ez_setup.py</a></p>
<p>You&#8217;ll now have a new command available to you: <strong>easy_install</strong>. It is
considered by many to be deprecated, so we will install its replacement:
<strong>pip</strong>. Pip allows for uninstallation of packages, and is actively maintained,
unlike easy_install.</p>
<p>To install pip, run the Python script available here:
<a class="reference external" href="https://raw.github.com/pypa/pip/master/contrib/get-pip.py">get-pip.py</a></p>
</div>
<div class="section" id="virtual-environments">
<h4>Virtual Environments<a class="headerlink" href="#virtual-environments" title="Permalink to this headline">¶</a></h4>
<p>A Virtual Environment is a tool to keep the dependencies required by different projects
in separate places, by creating virtual Python environments for them. It solves the
&#8220;Project X depends on version 1.x but, Project Y needs 4.x&#8221; dilemma, and keeps
your global site-packages directory clean and manageable.</p>
<p>For example, you can work on a project which requires Django 1.10 while also
maintaining a project which requires Django 1.8.</p>
<p>To start using this and see more information: <a class="reference internal" href="index.html#virtualenvironments-ref"><span>Virtual Environments</span></a> docs.</p>
<hr class="docutils" />
<p>This page is a remixed version of <a class="reference external" href="http://www.stuartellis.eu/articles/python-development-windows/">another guide</a>,
which is available under the same license.</p>
</div>
</div>
<span id="document-starting/install/linux"></span><div class="section" id="installing-python-on-linux">
<span id="install-linux"></span><h3>Installing Python on Linux<a class="headerlink" href="#installing-python-on-linux" title="Permalink to this headline">¶</a></h3>
<p>The latest versions of CentOS, Fedora, Redhat Enterprise (RHEL) and Ubuntu
<strong>come with Python 2.7 out of the box</strong>.</p>
<p>To see which version of Python you have installed, open a command prompt and run</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> python --version
</pre></div>
</div>
<p>Some older versions of RHEL and CentOS come with Python 2.4 which is
unacceptable for modern Python development. Fortunately, there are
<a class="reference external" href="http://fedoraproject.org/wiki/EPEL">Extra Packages for Enterprise Linux</a> which include high
quality additional packages based on their Fedora counterparts. This
repository contains a Python 2.6 package specifically designed to install
side-by-side with the system&#8217;s Python 2.4 installation.</p>
<p>You do not need to install or configure anything else to use Python. Having
said that, I would strongly recommend that you install the tools and libraries
described in the next section before you start building Python applications
for real-world use. In particular, you should always install Setuptools and pip, as
it makes it much easier for you to use other third-party Python libraries.</p>
<div class="section" id="setuptools-pip">
<h4>Setuptools &amp; Pip<a class="headerlink" href="#setuptools-pip" title="Permalink to this headline">¶</a></h4>
<p>The two most crucial third-party Python packages are <a class="reference external" href="https://pypi.python.org/pypi/setuptools">setuptools</a> and <a class="reference external" href="https://pip.pypa.io/en/stable/">pip</a>.</p>
<p>Once installed, you can download, install and uninstall any compliant Python software
product with a single command. It also enables you to add this network installation
capability to your own Python software with very little work.</p>
<p>Python 2.7.9 and later (on the python2 series), and Python 3.4 and later include
pip by default.</p>
<p>To see if pip is installed, open a command prompt and run</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">command</span> -v pip
</pre></div>
</div>
<p>To install pip, <a class="reference external" href="https://pip.pypa.io/en/latest/installing/">follow the official pip installation guide</a> - this will automatically install the latest version of setuptools.</p>
</div>
<div class="section" id="virtual-environments">
<h4>Virtual Environments<a class="headerlink" href="#virtual-environments" title="Permalink to this headline">¶</a></h4>
<p>A Virtual Environment is a tool to keep the dependencies required by different projects
in separate places, by creating virtual Python environments for them. It solves the
&#8220;Project X depends on version 1.x but, Project Y needs 4.x&#8221; dilemma, and keeps
your global site-packages directory clean and manageable.</p>
<p>For example, you can work on a project which requires Django 1.10 while also
maintaining a project which requires Django 1.8.</p>
<p>To start using this and see more information: <a class="reference internal" href="index.html#virtualenvironments-ref"><span>Virtual Environments</span></a> docs.</p>
<p>You can also use <a class="reference internal" href="index.html#virtualenvwrapper-ref"><span>virtualenvwrapper</span></a> to make it easier to
manage your virtual environments.</p>
<hr class="docutils" />
<p>This page is a remixed version of <a class="reference external" href="http://www.stuartellis.eu/articles/python-development-windows/">another guide</a>,
which is available under the same license.</p>
</div>
</div>
</div>
</div></blockquote>
</div>
<div class="section" id="writing-great-python-code">
<h2>Writing Great Python Code<a class="headerlink" href="#writing-great-python-code" title="Permalink to this headline">¶</a></h2>
<p>This part of the guide focuses on the best-practices for writing Python code.</p>
<div class="toctree-wrapper compound">
<span id="document-writing/structure"></span><div class="section" id="structuring-your-project">
<h3>Structuring Your Project<a class="headerlink" href="#structuring-your-project" title="Permalink to this headline">¶</a></h3>
<p>By &#8220;structure&#8221; we mean the decisions you make concerning
how your project best meets its objective. We need to consider how to
best leverage Python&#8217;s features to create clean, effective code.
In practical terms, &#8220;structure&#8221; means making clean code whose logic and
dependencies are clear as well as how the files and folders are organized
in the filesystem.</p>
<p>Which functions should go into which modules? How does data flow through
the project? What features and functions can be grouped together and
isolated? By answering questions like these you can begin to plan, in
a broad sense, what your finished product will look like.</p>
<p>In this section we take a closer look at Python&#8217;s module and import
systems as they are the central elements to enforcing structure in your
project. We then discuss various perspectives on how to build code which
can be extended and tested reliably.</p>
<div class="section" id="structure-of-the-repository">
<h4>Structure of the Repository<a class="headerlink" href="#structure-of-the-repository" title="Permalink to this headline">¶</a></h4>
<div class="section" id="it-s-important">
<h5>It&#8217;s Important.<a class="headerlink" href="#it-s-important" title="Permalink to this headline">¶</a></h5>
<p>Just as Code Style, API Design, and Automation are essential for a
healthy development cycle, Repository structure is a crucial part of
your project&#8217;s
<a class="reference external" href="http://www.amazon.com/gp/product/1257638017/ref=as_li_ss_tl?ie=UTF8&amp;tag=bookforkind-20&amp;linkCode=as2&amp;camp=1789&amp;creative=39095&amp;creativeASIN=1257638017">architecture</a>.</p>
<p>When a potential user or contributor lands on your repository&#8217;s page,
they see a few things:</p>
<ul class="simple">
<li>Project Name</li>
<li>Project Description</li>
<li>Bunch O&#8217; Files</li>
</ul>
<p>Only when they scroll below the fold will the user see your project&#8217;s
README.</p>
<p>If your repo is a massive dump of files or a nested mess of directories,
they might look elsewhere before even reading your beautiful
documentation.</p>
<blockquote>
<div>Dress for the job you want, not the job you have.</div></blockquote>
<p>Of course, first impressions aren&#8217;t everything. You and your colleagues
will spend countless hours working with this repository, eventually
becoming intimately familiar with every nook and cranny. The layout of
it is important.</p>
</div>
<div class="section" id="sample-repository">
<h5>Sample Repository<a class="headerlink" href="#sample-repository" title="Permalink to this headline">¶</a></h5>
<p><strong>tl;dr</strong>: This is what <a class="reference external" href="http://kennethreitz.org">Kenneth Reitz</a> recommends.</p>
<p>This repository is <a class="reference external" href="https://github.com/kennethreitz/samplemod">available on
GitHub</a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">README</span><span class="o">.</span><span class="n">rst</span>
<span class="n">LICENSE</span>
<span class="n">setup</span><span class="o">.</span><span class="n">py</span>
<span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
<span class="n">sample</span><span class="o">/</span><span class="n">__init__</span><span class="o">.</span><span class="n">py</span>
<span class="n">sample</span><span class="o">/</span><span class="n">core</span><span class="o">.</span><span class="n">py</span>
<span class="n">sample</span><span class="o">/</span><span class="n">helpers</span><span class="o">.</span><span class="n">py</span>
<span class="n">docs</span><span class="o">/</span><span class="n">conf</span><span class="o">.</span><span class="n">py</span>
<span class="n">docs</span><span class="o">/</span><span class="n">index</span><span class="o">.</span><span class="n">rst</span>
<span class="n">tests</span><span class="o">/</span><span class="n">test_basic</span><span class="o">.</span><span class="n">py</span>
<span class="n">tests</span><span class="o">/</span><span class="n">test_advanced</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Let&#8217;s get into some specifics.</p>
</div>
<div class="section" id="the-actual-module">
<h5>The Actual Module<a class="headerlink" href="#the-actual-module" title="Permalink to this headline">¶</a></h5>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Location</td>
<td><code class="docutils literal"><span class="pre">./sample/</span></code> or <code class="docutils literal"><span class="pre">./sample.py</span></code></td>
</tr>
<tr class="row-even"><td>Purpose</td>
<td>The code of interest</td>
</tr>
</tbody>
</table>
<p>Your module package is the core focus of the repository. It should not
be tucked away:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>./sample/
</pre></div>
</div>
<p>If your module consists of only a single file, you can place it directly
in the root of your repository:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>./sample.py
</pre></div>
</div>
<p>Your library does not belong in an ambiguous src or python subdirectory.</p>
</div>
<div class="section" id="license">
<h5>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h5>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Location</td>
<td><code class="docutils literal"><span class="pre">./LICENSE</span></code></td>
</tr>
<tr class="row-even"><td>Purpose</td>
<td>Lawyering up.</td>
</tr>
</tbody>
</table>
<p>This is arguably the most important part of your repository, aside from
the source code itself. The full license text and copyright claims
should exist in this file.</p>
<p>If you aren&#8217;t sure which license you should use for your project, check
out <a class="reference external" href="http://choosealicense.com">choosealicense.com</a>.</p>
<p>Of course, you are also free to publish code without a license, but this
would prevent many people from potentially using your code.</p>
</div>
<div class="section" id="setup-py">
<h5>Setup.py<a class="headerlink" href="#setup-py" title="Permalink to this headline">¶</a></h5>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Location</td>
<td><code class="docutils literal"><span class="pre">./setup.py</span></code></td>
</tr>
<tr class="row-even"><td>Purpose</td>
<td>Package and distribution management.</td>
</tr>
</tbody>
</table>
<p>If your module package is at the root of your repository, this should
obviously be at the root as well.</p>
</div>
<div class="section" id="requirements-file">
<h5>Requirements File<a class="headerlink" href="#requirements-file" title="Permalink to this headline">¶</a></h5>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Location</td>
<td><code class="docutils literal"><span class="pre">./requirements.txt</span></code></td>
</tr>
<tr class="row-even"><td>Purpose</td>
<td>Development dependencies.</td>
</tr>
</tbody>
</table>
<p>A <a class="reference external" href="https://pip.pypa.io/en/stable/user_guide/#requirements-files">pip requirements
file</a>
should be placed at the root of the repository. It should specify the
dependencies required to contribute to the project: testing, building,
and generating documentation.</p>
<p>If your project has no development dependencies, or you prefer
development environment setup via <code class="docutils literal"><span class="pre">setup.py</span></code>, this file may be
unnecessary.</p>
</div>
<div class="section" id="documentation">
<h5>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h5>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Location</td>
<td><code class="docutils literal"><span class="pre">./docs/</span></code></td>
</tr>
<tr class="row-even"><td>Purpose</td>
<td>Package reference documentation.</td>
</tr>
</tbody>
</table>
<p>There is little reason for this to exist elsewhere.</p>
</div>
<div class="section" id="test-suite">
<h5>Test Suite<a class="headerlink" href="#test-suite" title="Permalink to this headline">¶</a></h5>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Location</td>
<td><code class="docutils literal"><span class="pre">./test_sample.py</span></code> or <code class="docutils literal"><span class="pre">./tests</span></code></td>
</tr>
<tr class="row-even"><td>Purpose</td>
<td>Package integration and unit tests.</td>
</tr>
</tbody>
</table>
<p>Starting out, a small test suite will often exist in a single file:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>./test_sample.py
</pre></div>
</div>
<p>Once a test suite grows, you can move your tests to a directory, like
so:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">tests</span><span class="o">/</span><span class="n">test_basic</span><span class="o">.</span><span class="n">py</span>
<span class="n">tests</span><span class="o">/</span><span class="n">test_advanced</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Obviously, these test modules must import your packaged module to test
it. You can do this a few ways:</p>
<ul class="simple">
<li>Expect the package to be installed in site-packages.</li>
<li>Use a simple (but <em>explicit</em>) path modification to resolve the
package properly.</li>
</ul>
<p>I highly recommend the latter. Requiring a developer to run
<a class="reference external" href="http://setup.py">setup.py</a> develop to test an actively changing
codebase also requires them to have an isolated environment setup for
each instance of the codebase.</p>
<p>To give the individual tests import context, create a tests/context.py
file:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s1">&#39;..&#39;</span><span class="p">))</span>

<span class="kn">import</span> <span class="nn">sample</span>
</pre></div>
</div>
<p>Then, within the individual test modules, import the module like so:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">.context</span> <span class="kn">import</span> <span class="n">sample</span>
</pre></div>
</div>
<p>This will always work as expected, regardless of installation method.</p>
<p>Some people will assert that you should distribute your tests within
your module itself &#8211; I disagree. It often increases complexity for your
users; many test suites often require additional dependencies and
runtime contexts.</p>
</div>
<div class="section" id="makefile">
<h5>Makefile<a class="headerlink" href="#makefile" title="Permalink to this headline">¶</a></h5>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Location</td>
<td><code class="docutils literal"><span class="pre">./Makefile</span></code></td>
</tr>
<tr class="row-even"><td>Purpose</td>
<td>Generic management tasks.</td>
</tr>
</tbody>
</table>
<p>If you look at most of my projects or any Pocoo project, you&#8217;ll notice a
Makefile laying around. Why? These projects aren&#8217;t written in C... In
short, make is a incredibly useful tool for defining generic tasks for
your project.</p>
<p><strong>Sample Makefile:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span>init:
    pip install -r requirements.txt

test:
    py.test tests

.PHONY: init test
</pre></div>
</div>
<p>Other generic management scripts (e.g. <code class="docutils literal"><span class="pre">manage.py</span></code>
or <code class="docutils literal"><span class="pre">fabfile.py</span></code>) belong at the root of the repository as well.</p>
</div>
<div class="section" id="regarding-django-applications">
<h5>Regarding Django Applications<a class="headerlink" href="#regarding-django-applications" title="Permalink to this headline">¶</a></h5>
<p>I&#8217;ve noticed a new trend in Django applications since the release of
Django 1.4. Many developers are structuring their repositories poorly
due to the new bundled application templates.</p>
<p>How? Well, they go to their bare and fresh repository and run the
following, as they always have:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ django-admin.py startproject samplesite
</pre></div>
</div>
<p>The resulting repository structure looks like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">README</span><span class="o">.</span><span class="n">rst</span>
<span class="n">samplesite</span><span class="o">/</span><span class="n">manage</span><span class="o">.</span><span class="n">py</span>
<span class="n">samplesite</span><span class="o">/</span><span class="n">samplesite</span><span class="o">/</span><span class="n">settings</span><span class="o">.</span><span class="n">py</span>
<span class="n">samplesite</span><span class="o">/</span><span class="n">samplesite</span><span class="o">/</span><span class="n">wsgi</span><span class="o">.</span><span class="n">py</span>
<span class="n">samplesite</span><span class="o">/</span><span class="n">samplesite</span><span class="o">/</span><span class="n">sampleapp</span><span class="o">/</span><span class="n">models</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Don&#8217;t do this.</p>
<p>Repetitive paths are confusing for both your tools and your developers.
Unnecessary nesting doesn&#8217;t help anybody (unless they&#8217;re nostalgic for
monolithic SVN repos).</p>
<p>Let&#8217;s do it properly:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ django-admin.py startproject samplesite .
</pre></div>
</div>
<p>Note the &#8220;<code class="docutils literal"><span class="pre">.</span></code>&#8221;.</p>
<p>The resulting structure:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">README</span><span class="o">.</span><span class="n">rst</span>
<span class="n">manage</span><span class="o">.</span><span class="n">py</span>
<span class="n">samplesite</span><span class="o">/</span><span class="n">settings</span><span class="o">.</span><span class="n">py</span>
<span class="n">samplesite</span><span class="o">/</span><span class="n">wsgi</span><span class="o">.</span><span class="n">py</span>
<span class="n">samplesite</span><span class="o">/</span><span class="n">sampleapp</span><span class="o">/</span><span class="n">models</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="structure-of-code-is-key">
<h4>Structure of Code is Key<a class="headerlink" href="#structure-of-code-is-key" title="Permalink to this headline">¶</a></h4>
<p>Thanks to the way imports and modules are handled in Python, it is
relatively easy to structure a Python project. Easy, here, means
that you do not have many constraints and that the module
importing model is easy to grasp. Therefore, you are left with the
pure architectural task of crafting the different parts of your
project and their interactions.</p>
<p>Easy structuring of a project means it is also easy
to do it poorly. Some signs of a poorly structured project
include:</p>
<ul class="simple">
<li>Multiple and messy circular dependencies: if your classes
Table and Chair in <code class="file docutils literal"><span class="pre">furn.py</span></code> need to import Carpenter from
<code class="file docutils literal"><span class="pre">workers.py</span></code> to answer a question such as <code class="docutils literal"><span class="pre">table.isdoneby()</span></code>,
and if conversely the class Carpenter needs to import Table and Chair,
to answer the question <code class="docutils literal"><span class="pre">carpenter.whatdo()</span></code>, then you
have a circular dependency. In this case you will have to resort to
fragile hacks such as using import statements inside
methods or functions.</li>
<li>Hidden coupling: each and every change in Table&#8217;s implementation
breaks 20 tests in unrelated test cases because it breaks Carpenter&#8217;s code,
which requires very careful surgery to adapt the change. This means
you have too many assumptions about Table in Carpenter&#8217;s code or the
reverse.</li>
<li>Heavy usage of global state or context: instead of explicitly
passing <code class="docutils literal"><span class="pre">(height,</span> <span class="pre">width,</span> <span class="pre">type,</span> <span class="pre">wood)</span></code> to each other, Table
and Carpenter rely on global variables that can be modified
and are modified on the fly by different agents. You need to
scrutinize all access to these global variables to understand why
a rectangular table became a square, and discover that remote
template code is also modifying this context, messing with
table dimensions.</li>
<li>Spaghetti code: multiple pages of nested if clauses and for loops
with a lot of copy-pasted procedural code and no
proper segmentation are known as spaghetti code. Python&#8217;s
meaningful indentation (one of its most controversial features) make
it very hard to maintain this kind of code. So the good news is that
you might not see too much of it.</li>
<li>Ravioli code is more likely in Python: it consists of hundreds of
similar little pieces of logic, often classes or objects, without
proper structure. If you never can remember if you have to use
FurnitureTable, AssetTable or Table, or even TableNew for your
task at hand, you might be swimming in ravioli code.</li>
</ul>
</div>
<div class="section" id="modules">
<h4>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h4>
<p>Python modules are one of the main abstraction layers available and probably the
most natural one. Abstraction layers allow separating code into parts holding
related data and functionality.</p>
<p>For example, a layer of a project can handle interfacing with user actions,
while another would handle low-level manipulation of data. The most natural way
to separate these two layers is to regroup all interfacing functionality
in one file, and all low-level operations in another file. In this case,
the interface file needs to import the low-level file. This is done with the
<code class="docutils literal"><span class="pre">import</span></code> and <code class="docutils literal"><span class="pre">from</span> <span class="pre">...</span> <span class="pre">import</span></code> statements.</p>
<p>As soon as you use <cite>import</cite> statements you use modules. These can be either
built-in modules such as <cite>os</cite> and <cite>sys</cite>, third-party modules you have installed
in your environment, or your project&#8217;s internal modules.</p>
<p>To keep in line with the style guide, keep module names short, lowercase, and
be sure to avoid using special symbols like the dot (.) or question mark (?).
So a file name like <code class="file docutils literal"><span class="pre">my.spam.py</span></code> is one you should avoid! Naming this way
will interfere with the way Python looks for modules.</p>
<p>In the case of <cite>my.spam.py</cite> Python expects to find a <code class="file docutils literal"><span class="pre">spam.py</span></code> file in a
folder named <code class="file docutils literal"><span class="pre">my</span></code> which is not the case. There is an
<a class="reference external" href="http://docs.python.org/tutorial/modules.html#packages">example</a> of how the
dot notation should be used in the Python docs.</p>
<p>If you&#8217;d like you could name your module <code class="file docutils literal"><span class="pre">my_spam.py</span></code>, but even our
friend the underscore should not be seen often in module names.</p>
<p>Aside from some naming restrictions, nothing special is required for a Python
file to be a module, but you need to understand the import mechanism in order
to use this concept properly and avoid some issues.</p>
<p>Concretely, the <code class="docutils literal"><span class="pre">import</span> <span class="pre">modu</span></code> statement will look for the proper file, which
is <code class="file docutils literal"><span class="pre">modu.py</span></code> in the same directory as the caller if it exists.  If it is
not found, the Python interpreter will search for <code class="file docutils literal"><span class="pre">modu.py</span></code> in the &#8220;path&#8221;
recursively and raise an ImportError exception if it is not found.</p>
<p>Once <code class="file docutils literal"><span class="pre">modu.py</span></code> is found, the Python interpreter will execute the module in
an isolated scope. Any top-level statement in <code class="file docutils literal"><span class="pre">modu.py</span></code> will be executed,
including other imports if any. Function and class definitions are stored in
the module&#8217;s dictionary.</p>
<p>Then, the module&#8217;s variables, functions, and classes will be available to the
caller through the module&#8217;s namespace, a central concept in programming that is
particularly helpful and powerful in Python.</p>
<p>In many languages, an <code class="docutils literal"><span class="pre">include</span> <span class="pre">file</span></code> directive is used by the preprocessor to
take all code found in the file and &#8216;copy&#8217; it into the caller&#8217;s code. It is
different in Python: the included code is isolated in a module namespace, which
means that you generally don&#8217;t have to worry that the included code could have
unwanted effects, e.g. override an existing function with the same name.</p>
<p>It is possible to simulate the more standard behavior by using a special syntax
of the import statement: <code class="docutils literal"><span class="pre">from</span> <span class="pre">modu</span> <span class="pre">import</span> <span class="pre">*</span></code>. This is generally considered
bad practice. <strong>Using</strong> <code class="docutils literal"><span class="pre">import</span> <span class="pre">*</span></code> <strong>makes code harder to read and makes
dependencies less compartmentalized</strong>.</p>
<p>Using <code class="docutils literal"><span class="pre">from</span> <span class="pre">modu</span> <span class="pre">import</span> <span class="pre">func</span></code> is a way to pinpoint the function you want to
import and put it in the global namespace. While much less harmful than <code class="docutils literal"><span class="pre">import</span>
<span class="pre">*</span></code> because it shows explicitly what is imported in the global namespace, its
only advantage over a simpler <code class="docutils literal"><span class="pre">import</span> <span class="pre">modu</span></code> is that it will save a little
typing.</p>
<p><strong>Very bad</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">[</span><span class="o">...</span><span class="p">]</span>
<span class="kn">from</span> <span class="nn">modu</span> <span class="kn">import</span> <span class="o">*</span>
<span class="p">[</span><span class="o">...</span><span class="p">]</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>  <span class="c1"># Is sqrt part of modu? A builtin? Defined above?</span>
</pre></div>
</div>
<p><strong>Better</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">modu</span> <span class="kn">import</span> <span class="n">sqrt</span>
<span class="p">[</span><span class="o">...</span><span class="p">]</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>  <span class="c1"># sqrt may be part of modu, if not redefined in between</span>
</pre></div>
</div>
<p><strong>Best</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">modu</span>
<span class="p">[</span><span class="o">...</span><span class="p">]</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">modu</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>  <span class="c1"># sqrt is visibly part of modu&#39;s namespace</span>
</pre></div>
</div>
<p>As mentioned in the <a class="reference internal" href="index.html#code-style"><span>Code Style</span></a> section, readability is one of the main
features of Python. Readability means to avoid useless boilerplate text and
clutter, therefore some efforts are spent trying to achieve a certain level of
brevity. But terseness and obscurity are the limits where brevity should stop.
Being able to tell immediately where a class or function comes from, as in the
<code class="docutils literal"><span class="pre">modu.func</span></code> idiom, greatly improves code readability and understandability in
all but the simplest single file projects.</p>
</div>
<div class="section" id="packages">
<h4>Packages<a class="headerlink" href="#packages" title="Permalink to this headline">¶</a></h4>
<p>Python provides a very straightforward packaging system, which is simply an
extension of the module mechanism to a directory.</p>
<p>Any directory with an <code class="file docutils literal"><span class="pre">__init__.py</span></code> file is considered a Python package.
The different modules in the package are imported in a similar manner as plain
modules, but with a special behavior for the <code class="file docutils literal"><span class="pre">__init__.py</span></code> file, which is
used to gather all package-wide definitions.</p>
<p>A file <code class="file docutils literal"><span class="pre">modu.py</span></code> in the directory <code class="file docutils literal"><span class="pre">pack/</span></code> is imported with the
statement <code class="docutils literal"><span class="pre">import</span> <span class="pre">pack.modu</span></code>. This statement will look for an
<code class="file docutils literal"><span class="pre">__init__.py</span></code> file in <code class="file docutils literal"><span class="pre">pack</span></code>, execute all of its top-level
statements. Then it will look for a file named <code class="file docutils literal"><span class="pre">pack/modu.py</span></code> and
execute all of its top-level statements. After these operations, any variable,
function, or class defined in <code class="file docutils literal"><span class="pre">modu.py</span></code> is available in the pack.modu
namespace.</p>
<p>A commonly seen issue is to add too much code to <code class="file docutils literal"><span class="pre">__init__.py</span></code>
files. When the project complexity grows, there may be sub-packages and
sub-sub-packages in a deep directory structure. In this case, importing a
single item from a sub-sub-package will require executing all
<code class="file docutils literal"><span class="pre">__init__.py</span></code> files met while traversing the tree.</p>
<p>Leaving an <code class="file docutils literal"><span class="pre">__init__.py</span></code> file empty is considered normal and even a good
practice, if the package&#8217;s modules and sub-packages do not need to share any
code.</p>
<p>Lastly, a convenient syntax is available for importing deeply nested packages:
<code class="docutils literal"><span class="pre">import</span> <span class="pre">very.deep.module</span> <span class="pre">as</span> <span class="pre">mod</span></code>. This allows you to use <cite>mod</cite> in place of the
verbose repetition of <code class="docutils literal"><span class="pre">very.deep.module</span></code>.</p>
</div>
<div class="section" id="object-oriented-programming">
<h4>Object-oriented programming<a class="headerlink" href="#object-oriented-programming" title="Permalink to this headline">¶</a></h4>
<p>Python is sometimes described as an object-oriented programming language. This
can be somewhat misleading and needs to be clarified.</p>
<p>In Python, everything is an object, and can be handled as such. This is what is
meant when we say, for example, that functions are first-class objects.
Functions, classes, strings, and even types are objects in Python: like any
object, they have a type, they can be passed as function arguments, and they
may have methods and properties. In this understanding, Python is an
object-oriented language.</p>
<p>However, unlike Java, Python does not impose object-oriented programming as the
main programming paradigm. It is perfectly viable for a Python project to not
be object-oriented, i.e. to use no or very few class definitions, class
inheritance, or any other mechanisms that are specific to object-oriented
programming.</p>
<p>Moreover, as seen in the <a class="reference internal" href="#modules">modules</a> section, the way Python handles modules and
namespaces gives the developer a natural way to ensure the
encapsulation and separation of abstraction layers, both being the most common
reasons to use object-orientation. Therefore, Python programmers have more
latitude to not use object-orientation, when it is not required by the business
model.</p>
<p>There are some reasons to avoid unnecessary object-orientation. Defining
custom classes is useful when we want to glue together some state and some
functionality. The problem, as pointed out by the discussions about functional
programming, comes from the &#8220;state&#8221; part of the equation.</p>
<p>In some architectures, typically web applications, multiple instances of Python
processes are spawned to respond to external requests that can happen at the
same time. In this case, holding some state into instantiated objects, which
means keeping some static information about the world, is prone to concurrency
problems or race-conditions. Sometimes, between the initialization of the state
of an object (usually done with the <code class="docutils literal"><span class="pre">__init__()</span></code> method) and the actual use
of the object state through one of its methods, the world may have changed, and
the retained state may be outdated. For example, a request may load an item in
memory and mark it as read by a user. If another request requires the deletion
of this item at the same time, it may happen that the deletion actually occurs
after the first process loaded the item, and then we have to mark as read a
deleted object.</p>
<p>This and other issues led to the idea that using stateless functions is a
better programming paradigm.</p>
<p>Another way to say the same thing is to suggest using functions and procedures
with as few implicit contexts and side-effects as possible. A function&#8217;s
implicit context is made up of any of the global variables or items in the
persistence layer that are accessed from within the function. Side-effects are
the changes that a function makes to its implicit context. If a function saves
or deletes data in a global variable or in the persistence layer, it is said to
have a side-effect.</p>
<p>Carefully isolating functions with context and side-effects from functions with
logic (called pure functions) allow the following benefits:</p>
<ul class="simple">
<li>Pure functions are deterministic: given a fixed input,
the output will always be the same.</li>
<li>Pure functions are much easier to change or replace if they need to
be refactored or optimized.</li>
<li>Pure functions are easier to test with unit-tests: There is less
need for complex context setup and data cleaning afterwards.</li>
<li>Pure functions are easier to manipulate, decorate, and pass around.</li>
</ul>
<p>In summary, pure functions are more efficient building blocks than classes
and objects for some architectures because they have no context or side-effects.</p>
<p>Obviously, object-orientation is useful and even necessary in many cases, for
example when developing graphical desktop applications or games, where the
things that are manipulated (windows, buttons, avatars, vehicles) have a
relatively long life of their own in the computer&#8217;s memory.</p>
</div>
<div class="section" id="decorators">
<h4>Decorators<a class="headerlink" href="#decorators" title="Permalink to this headline">¶</a></h4>
<p>The Python language provides a simple yet powerful syntax called &#8216;decorators&#8217;.
A decorator is a function or a class that wraps (or decorates) a function
or a method. The &#8216;decorated&#8217; function or method will replace the original
&#8216;undecorated&#8217; function or method. Because functions are first-class objects
in Python, this can be done &#8216;manually&#8217;, but using the &#64;decorator syntax is
clearer and thus preferred.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">foo</span><span class="p">():</span>
    <span class="c1"># do something</span>

<span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="c1"># manipulate func</span>
    <span class="k">return</span> <span class="n">func</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">decorator</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span>  <span class="c1"># Manually decorate</span>

<span class="nd">@decorator</span>
<span class="k">def</span> <span class="nf">bar</span><span class="p">():</span>
    <span class="c1"># Do something</span>
<span class="c1"># bar() is decorated</span>
</pre></div>
</div>
<p>This mechanism is useful for separating concerns and avoiding
external un-related logic &#8216;polluting&#8217; the core logic of the function
or method. A good example of a piece of functionality that is better handled
with decoration is <a class="reference external" href="https://en.wikipedia.org/wiki/Memoization#Overview">memoization</a> or caching: you want to store the results of an
expensive function in a table and use them directly instead of recomputing
them when they have already been computed. This is clearly not part
of the function logic.</p>
</div>
<div class="section" id="context-managers">
<h4>Context Managers<a class="headerlink" href="#context-managers" title="Permalink to this headline">¶</a></h4>
<p>A context manager is a Python object that provides extra contextual information
to an action. This extra information takes the form of running a callable upon
initiating the context using the <code class="docutils literal"><span class="pre">with</span></code> statement, as well as running a callable
upon completing all the code inside the <code class="docutils literal"><span class="pre">with</span></code> block. The most well known
example of using a context manager is shown here, opening on a file:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;file.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">contents</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
<p>Anyone familiar with this pattern knows that invoking <code class="docutils literal"><span class="pre">open</span></code> in this fashion
ensures that <code class="docutils literal"><span class="pre">f</span></code>&#8216;s <code class="docutils literal"><span class="pre">close</span></code> method will be called at some point. This reduces
a developer&#8217;s cognitive load and makes the code easier to read.</p>
<p>There are two easy ways to implement this functionality yourself: using a class
or using a generator. Let&#8217;s implement the above functionality ourselves, starting
with the class approach:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">CustomOpen</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span>

    <span class="k">def</span> <span class="nf">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx_type</span><span class="p">,</span> <span class="n">ctx_value</span><span class="p">,</span> <span class="n">ctx_traceback</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">with</span> <span class="n">CustomOpen</span><span class="p">(</span><span class="s1">&#39;file&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">contents</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
<p>This is just a regular Python object with two extra methods that are used
by the <code class="docutils literal"><span class="pre">with</span></code> statement. CustomOpen is first instantiated and then its
<code class="docutils literal"><span class="pre">__enter__</span></code> method is called and whatever <code class="docutils literal"><span class="pre">__enter__</span></code> returns is assigned to
<code class="docutils literal"><span class="pre">f</span></code> in the <code class="docutils literal"><span class="pre">as</span> <span class="pre">f</span></code> part of the statement. When the contents of the <code class="docutils literal"><span class="pre">with</span></code> block
is finished executing, the <code class="docutils literal"><span class="pre">__exit__</span></code> method is then called.</p>
<p>And now the generator approach using Python&#8217;s own
<a class="reference external" href="https://docs.python.org/2/library/contextlib.html">contextlib</a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">contextmanager</span>

<span class="nd">@contextmanager</span>
<span class="k">def</span> <span class="nf">custom_open</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">f</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">with</span> <span class="n">custom_open</span><span class="p">(</span><span class="s1">&#39;file&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">contents</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
<p>This works in exactly the same way as the class example above, albeit it&#8217;s
more terse. The <code class="docutils literal"><span class="pre">custom_open</span></code> function executes until it reaches the <code class="docutils literal"><span class="pre">yield</span></code>
statement. It then gives control back to the <code class="docutils literal"><span class="pre">with</span></code> statement, which assigns
whatever was <code class="docutils literal"><span class="pre">yield</span></code>&#8216;ed to <cite>f</cite> in the <code class="docutils literal"><span class="pre">as</span> <span class="pre">f</span></code> portion. The <code class="docutils literal"><span class="pre">finally</span></code> clause
ensures that <code class="docutils literal"><span class="pre">close()</span></code> is called whether or not there was an exception inside
the <code class="docutils literal"><span class="pre">with</span></code>.</p>
<p>Since the two approaches appear the same, we should follow the Zen of Python
to decide when to use which. The class approach might be better if there&#8217;s
a considerable amount of logic to encapsulate. The function approach
might be better for situations where we&#8217;re dealing with a simple action.</p>
</div>
<div class="section" id="dynamic-typing">
<h4>Dynamic typing<a class="headerlink" href="#dynamic-typing" title="Permalink to this headline">¶</a></h4>
<p>Python is dynamically typed, which means that variables do not have a fixed
type. In fact, in Python, variables are very different from what they are in
many other languages, specifically statically-typed languages. Variables are not
a segment of the computer&#8217;s memory where some value is written, they are &#8216;tags&#8217;
or &#8216;names&#8217; pointing to objects. It is therefore possible for the variable &#8216;a&#8217; to
be set to the value 1, then to the value &#8216;a string&#8217;, then to a function.</p>
<p>The dynamic typing of Python is often considered to be a weakness, and indeed
it can lead to complexities and hard-to-debug code. Something named &#8216;a&#8217; can be
set to many different things, and the developer or the maintainer needs to track
this name in the code to make sure it has not been set to a completely unrelated
object.</p>
<p>Some guidelines help to avoid this issue:</p>
<ul class="simple">
<li>Avoid using the same variable name for different things.</li>
</ul>
<p><strong>Bad</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">a</span> <span class="o">=</span> <span class="s1">&#39;a string&#39;</span>
<span class="k">def</span> <span class="nf">a</span><span class="p">():</span>
    <span class="k">pass</span>  <span class="c1"># Do something</span>
</pre></div>
</div>
<p><strong>Good</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">count</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;a string&#39;</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
    <span class="k">pass</span>  <span class="c1"># Do something</span>
</pre></div>
</div>
<p>Using short functions or methods helps reduce the risk
of using the same name for two unrelated things.</p>
<p>It is better to use different names even for things that are related,
when they have a different type:</p>
<p><strong>Bad</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">items</span> <span class="o">=</span> <span class="s1">&#39;a b c d&#39;</span>  <span class="c1"># This is a string...</span>
<span class="n">items</span> <span class="o">=</span> <span class="n">items</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>  <span class="c1"># ...becoming a list</span>
<span class="n">items</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>  <span class="c1"># ...and then a set</span>
</pre></div>
</div>
<p>There is no efficiency gain when reusing names: the assignments
will have to create new objects anyway. However, when the complexity
grows and each assignment is separated by other lines of code, including
&#8216;if&#8217; branches and loops, it becomes harder to ascertain what a given
variable&#8217;s type is.</p>
<p>Some coding practices, like functional programming, recommend never reassigning
a variable. In Java this is done with the <cite>final</cite> keyword. Python does not have
a <cite>final</cite> keyword and it would be against its philosophy anyway. However, it may
be a good discipline to avoid assigning to a variable more than once, and it
helps in grasping the concept of mutable and immutable types.</p>
</div>
<div class="section" id="mutable-and-immutable-types">
<h4>Mutable and immutable types<a class="headerlink" href="#mutable-and-immutable-types" title="Permalink to this headline">¶</a></h4>
<p>Python has two kinds of built-in or user-defined types.</p>
<p>Mutable types are those that allow in-place modification of the content. Typical
mutables are lists and dictionaries: All lists have mutating methods, like
<code class="xref py py-meth docutils literal"><span class="pre">list.append()</span></code> or <code class="xref py py-meth docutils literal"><span class="pre">list.pop()</span></code>, and can be modified in place.
The same goes for dictionaries.</p>
<p>Immutable types provide no method for changing their content. For instance, the
variable x set to the integer 6 has no &#8220;increment&#8221; method. If you want to
compute x + 1, you have to create another integer and give it a name.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">my_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="k">print</span> <span class="n">my_list</span>  <span class="c1"># [4, 2, 3] &lt;- The same list as changed</span>

<span class="n">x</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># The new x is another object</span>
</pre></div>
</div>
<p>One consequence of this difference in behavior is that mutable
types are not &#8220;stable&#8221;, and therefore cannot be used as dictionary
keys.</p>
<p>Using properly mutable types for things that are mutable in nature
and immutable types for things that are fixed in nature
helps to clarify the intent of the code.</p>
<p>For example, the immutable equivalent of a list is the tuple, created
with <code class="docutils literal"><span class="pre">(1,</span> <span class="pre">2)</span></code>. This tuple is a pair that cannot be changed in-place,
and can be used as a key for a dictionary.</p>
<p>One peculiarity of Python that can surprise beginners is that
strings are immutable. This means that when constructing a string from
its parts, it is much more efficient to accumulate the parts in a list,
which is mutable, and then glue (&#8216;join&#8217;) the parts together when the
full string is needed. One thing to notice, however, is that list
comprehensions are better and faster than constructing a list in a loop
with calls to <code class="docutils literal"><span class="pre">append()</span></code>.</p>
<p><strong>Bad</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># create a concatenated string from 0 to 19 (e.g. &quot;012..1819&quot;)</span>
<span class="n">nums</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">):</span>
  <span class="n">nums</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>   <span class="c1"># slow and inefficient</span>
<span class="k">print</span> <span class="n">nums</span>
</pre></div>
</div>
<p><strong>Good</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># create a concatenated string from 0 to 19 (e.g. &quot;012..1819&quot;)</span>
<span class="n">nums</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">):</span>
  <span class="n">nums</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="k">print</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>  <span class="c1"># much more efficient</span>
</pre></div>
</div>
<p><strong>Best</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># create a concatenated string from 0 to 19 (e.g. &quot;012..1819&quot;)</span>
<span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>
<span class="k">print</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
</pre></div>
</div>
<p>One final thing to mention about strings is that using <code class="docutils literal"><span class="pre">join()</span></code> is not always
best. In the instances where you are creating a new string from a pre-determined
number of strings, using the addition operator is actually faster, but in cases
like above or in cases where you are adding to an existing string, using
<code class="docutils literal"><span class="pre">join()</span></code> should be your preferred method.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">foo</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>
<span class="n">bar</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span>

<span class="n">foobar</span> <span class="o">=</span> <span class="n">foo</span> <span class="o">+</span> <span class="n">bar</span>  <span class="c1"># This is good</span>
<span class="n">foo</span> <span class="o">+=</span> <span class="s1">&#39;ooo&#39;</span>  <span class="c1"># This is bad, instead you should do:</span>
<span class="n">foo</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">foo</span><span class="p">,</span> <span class="s1">&#39;ooo&#39;</span><span class="p">])</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can also use the <a class="reference external" href="http://docs.python.org/library/stdtypes.html#string-formatting" title="(in Python v2.7)"><span class="xref std std-ref">%</span></a> formatting operator
to concatenate a pre-determined number of strings besides <a class="reference external" href="http://docs.python.org/library/stdtypes.html#str.join" title="(in Python v2.7)"><code class="xref py py-meth docutils literal"><span class="pre">str.join()</span></code></a>
and <code class="docutils literal"><span class="pre">+</span></code>. However, <span class="target" id="index-0"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3101"><strong>PEP 3101</strong></a>, discourages the usage of the <code class="docutils literal"><span class="pre">%</span></code> operator
in favor of the <a class="reference external" href="http://docs.python.org/library/stdtypes.html#str.format" title="(in Python v2.7)"><code class="xref py py-meth docutils literal"><span class="pre">str.format()</span></code></a> method.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">foo</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>
<span class="n">bar</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span>

<span class="n">foobar</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">)</span> <span class="c1"># It is OK</span>
<span class="n">foobar</span> <span class="o">=</span> <span class="s1">&#39;{0}{1}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">)</span> <span class="c1"># It is better</span>
<span class="n">foobar</span> <span class="o">=</span> <span class="s1">&#39;{foo}{bar}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">foo</span><span class="o">=</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="o">=</span><span class="n">bar</span><span class="p">)</span> <span class="c1"># It is best</span>
</pre></div>
</div>
</div>
<div class="section" id="vendorizing-dependencies">
<h4>Vendorizing Dependencies<a class="headerlink" href="#vendorizing-dependencies" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="runners">
<h4>Runners<a class="headerlink" href="#runners" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="further-reading">
<h4>Further Reading<a class="headerlink" href="#further-reading" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="http://docs.python.org/2/library/">http://docs.python.org/2/library/</a></li>
<li><a class="reference external" href="http://www.diveintopython.net/toc/index.html">http://www.diveintopython.net/toc/index.html</a></li>
</ul>
</div>
</div>
<span id="document-writing/style"></span><div class="section" id="code-style">
<span id="id1"></span><h3>Code Style<a class="headerlink" href="#code-style" title="Permalink to this headline">¶</a></h3>
<p>If you ask Python programmers what they like most about Python, they will
often cite its high readability.  Indeed, a high level of readability
is at the heart of the design of the Python language, following the
recognized fact that code is read much more often than it is written.</p>
<p>One reason for the high readability of Python code is its relatively
complete set of Code Style guidelines and &#8220;Pythonic&#8221; idioms.</p>
<p>When a veteran Python developer (a Pythonista) calls portions of
code not &#8220;Pythonic&#8221;, they usually mean that these lines
of code do not follow the common guidelines and fail to express its intent in
what is considered the best (hear: most readable) way.</p>
<p>On some border cases, no best way has been agreed upon on how to express
an intent in Python code, but these cases are rare.</p>
<div class="section" id="general-concepts">
<h4>General concepts<a class="headerlink" href="#general-concepts" title="Permalink to this headline">¶</a></h4>
<div class="section" id="explicit-code">
<h5>Explicit code<a class="headerlink" href="#explicit-code" title="Permalink to this headline">¶</a></h5>
<p>While any kind of black magic is possible with Python, the
most explicit and straightforward manner is preferred.</p>
<p><strong>Bad</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">make_complex</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">args</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="o">**</span><span class="nb">locals</span><span class="p">())</span>
</pre></div>
</div>
<p><strong>Good</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">make_complex</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">x</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">y</span><span class="p">}</span>
</pre></div>
</div>
<p>In the good code above, x and y are explicitly received from
the caller, and an explicit dictionary is returned. The developer
using this function knows exactly what to do by reading the
first and last lines, which is not the case with the bad example.</p>
</div>
<div class="section" id="one-statement-per-line">
<h5>One statement per line<a class="headerlink" href="#one-statement-per-line" title="Permalink to this headline">¶</a></h5>
<p>While some compound statements such as list comprehensions are
allowed and appreciated for their brevity and their expressiveness,
it is bad practice to have two disjointed statements on the same line of code.</p>
<p><strong>Bad</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">print</span> <span class="s1">&#39;one&#39;</span><span class="p">;</span> <span class="k">print</span> <span class="s1">&#39;two&#39;</span>

<span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="k">print</span> <span class="s1">&#39;one&#39;</span>

<span class="k">if</span> <span class="o">&lt;</span><span class="nb">complex</span> <span class="n">comparison</span><span class="o">&gt;</span> <span class="ow">and</span> <span class="o">&lt;</span><span class="n">other</span> <span class="nb">complex</span> <span class="n">comparison</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="c1"># do something</span>
</pre></div>
</div>
<p><strong>Good</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">print</span> <span class="s1">&#39;one&#39;</span>
<span class="k">print</span> <span class="s1">&#39;two&#39;</span>

<span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
    <span class="k">print</span> <span class="s1">&#39;one&#39;</span>

<span class="n">cond1</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">complex</span> <span class="n">comparison</span><span class="o">&gt;</span>
<span class="n">cond2</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">other</span> <span class="nb">complex</span> <span class="n">comparison</span><span class="o">&gt;</span>
<span class="k">if</span> <span class="n">cond1</span> <span class="ow">and</span> <span class="n">cond2</span><span class="p">:</span>
    <span class="c1"># do something</span>
</pre></div>
</div>
</div>
<div class="section" id="function-arguments">
<h5>Function arguments<a class="headerlink" href="#function-arguments" title="Permalink to this headline">¶</a></h5>
<p>Arguments can be passed to functions in four different ways.</p>
<ol class="arabic simple">
<li><strong>Positional arguments</strong> are mandatory and have no default values. They are
the simplest form of arguments and they can be used for the few function
arguments that are fully part of the function&#8217;s meaning and their order is
natural. For instance, in <code class="docutils literal"><span class="pre">send(message,</span> <span class="pre">recipient)</span></code> or <code class="docutils literal"><span class="pre">point(x,</span> <span class="pre">y)</span></code>
the user of the function has no difficulty remembering that those two
functions require two arguments, and in which order.</li>
</ol>
<p>In those two cases, it is possible to use argument names when calling the
functions and, doing so, it is possible to switch the order of arguments,
calling for instance <code class="docutils literal"><span class="pre">send(recipient='World',</span> <span class="pre">message='Hello')</span></code> and
<code class="docutils literal"><span class="pre">point(y=2,</span> <span class="pre">x=1)</span></code> but this reduces readability and is unnecessarily verbose,
compared to the more straightforward calls to <code class="docutils literal"><span class="pre">send('Hello',</span> <span class="pre">'World')</span></code> and
<code class="docutils literal"><span class="pre">point(1,</span> <span class="pre">2)</span></code>.</p>
<ol class="arabic simple" start="2">
<li><strong>Keyword arguments</strong> are not mandatory and have default values. They are
often used for optional parameters sent to the function. When a function has
more than two or three positional parameters, its signature is more difficult
to remember and using keyword arguments with default values is helpful. For
instance, a more complete <code class="docutils literal"><span class="pre">send</span></code> function could be defined as
<code class="docutils literal"><span class="pre">send(message,</span> <span class="pre">to,</span> <span class="pre">cc=None,</span> <span class="pre">bcc=None)</span></code>. Here <code class="docutils literal"><span class="pre">cc</span></code> and <code class="docutils literal"><span class="pre">bcc</span></code> are
optional, and evaluate to <code class="docutils literal"><span class="pre">None</span></code> when they are not passed another value.</li>
</ol>
<p>Calling a function with keyword arguments can be done in multiple ways in
Python, for example it is possible to follow the order of arguments in the
definition without explicitly naming the arguments, like in
<code class="docutils literal"><span class="pre">send('Hello',</span> <span class="pre">'World',</span> <span class="pre">'Cthulhu',</span> <span class="pre">'God')</span></code>, sending a blind carbon copy to
God. It would also be possible to name arguments in another order, like in
<code class="docutils literal"><span class="pre">send('Hello</span> <span class="pre">again',</span> <span class="pre">'World',</span> <span class="pre">bcc='God',</span> <span class="pre">cc='Cthulhu')</span></code>. Those two
possibilities are better avoided without any strong reason to not follow the
syntax that is the closest to the function definition:
<code class="docutils literal"><span class="pre">send('Hello',</span> <span class="pre">'World',</span> <span class="pre">cc='Cthulhu',</span> <span class="pre">bcc='God')</span></code>.</p>
<p>As a side note, following <a class="reference external" href="http://en.wikipedia.org/wiki/You_ain't_gonna_need_it">YAGNI</a>
principle, it is often harder to remove an optional argument (and its logic
inside the function) that was added &#8220;just in case&#8221; and is seemingly never used,
than to add a new optional argument and its logic when needed.</p>
<ol class="arabic simple" start="3">
<li>The <strong>arbitrary argument list</strong> is the third way to pass arguments to a
function. If the function intention is better expressed by a signature with
an extensible number of positional arguments, it can be defined with the
<code class="docutils literal"><span class="pre">*args</span></code> constructs. In the function body, <code class="docutils literal"><span class="pre">args</span></code> will be a tuple of all
the remaining positional arguments. For example, <code class="docutils literal"><span class="pre">send(message,</span> <span class="pre">*args)</span></code>
can be called with each recipient as an argument:<code class="docutils literal"><span class="pre">send('Hello',</span> <span class="pre">'God',</span>
<span class="pre">'Mom',</span> <span class="pre">'Cthulhu')</span></code>, and in the function body <code class="docutils literal"><span class="pre">args</span></code> will be equal to
<code class="docutils literal"><span class="pre">('God',</span> <span class="pre">'Mom',</span> <span class="pre">'Cthulhu')</span></code>.</li>
</ol>
<p>However, this construct has some drawbacks and should be used with caution. If a
function receives a list of arguments of the same nature, it is often more
clear to define it as a function of one argument, that argument being a list or
any sequence. Here, if <code class="docutils literal"><span class="pre">send</span></code> has multiple recipients, it is better to define
it explicitly: <code class="docutils literal"><span class="pre">send(message,</span> <span class="pre">recipients)</span></code> and call it with <code class="docutils literal"><span class="pre">send('Hello',</span>
<span class="pre">['God',</span> <span class="pre">'Mom',</span> <span class="pre">'Cthulhu'])</span></code>. This way, the user of the function can manipulate
the recipient list as a list beforehand, and it opens the possibility to pass
any sequence, including iterators, that cannot be unpacked as other sequences.</p>
<ol class="arabic simple" start="4">
<li>The <strong>arbitrary keyword argument dictionary</strong> is the last way to pass
arguments to functions. If the function requires an undetermined series of
named arguments, it is possible to use the <code class="docutils literal"><span class="pre">**kwargs</span></code> construct. In the
function body, <code class="docutils literal"><span class="pre">kwargs</span></code> will be a dictionary of all the passed named
arguments that have not been caught by other keyword arguments in the
function signature.</li>
</ol>
<p>The same caution as in the case of <em>arbitrary argument list</em> is necessary, for
similar reasons: these powerful techniques are to be used when there is a
proven necessity to use them, and they should not be used if the simpler and
clearer construct is sufficient to express the function&#8217;s intention.</p>
<p>It is up to the programmer writing the function to determine which arguments
are positional arguments and which are optional keyword arguments, and to
decide whether to use the advanced techniques of arbitrary argument passing. If
the advice above is followed wisely, it is possible and enjoyable to write
Python functions that are:</p>
<ul class="simple">
<li>easy to read (the name and arguments need no explanations)</li>
<li>easy to change (adding a new keyword argument does not break other parts of
the code)</li>
</ul>
</div>
<div class="section" id="avoid-the-magical-wand">
<h5>Avoid the magical wand<a class="headerlink" href="#avoid-the-magical-wand" title="Permalink to this headline">¶</a></h5>
<p>A powerful tool for hackers, Python comes with a very rich set of hooks and
tools allowing you to do almost any kind of tricky tricks. For instance, it is
possible to do each of the following:</p>
<ul class="simple">
<li>change how objects are created and instantiated</li>
<li>change how the Python interpreter imports modules</li>
<li>it is even possible (and recommended if needed) to embed C routines in Python.</li>
</ul>
<p>However, all these options have many drawbacks and it is always better to use
the most straightforward way to achieve your goal. The main drawback is that
readability suffers greatly when using these constructs. Many code analysis
tools, such as pylint or pyflakes, will be unable to parse this &#8220;magic&#8221; code.</p>
<p>We consider that a Python developer should know about these nearly infinite
possibilities, because it instills confidence that no impassable problem will
be on the way. However, knowing how and particularly when <strong>not</strong> to use
them is very important.</p>
<p>Like a kung fu master, a Pythonista knows how to kill with a single finger, and
never to actually do it.</p>
</div>
<div class="section" id="we-are-all-responsible-users">
<h5>We are all responsible users<a class="headerlink" href="#we-are-all-responsible-users" title="Permalink to this headline">¶</a></h5>
<p>As seen above, Python allows many tricks, and some of them are potentially
dangerous. A good example is that any client code can override an object&#8217;s
properties and methods: there is no &#8220;private&#8221; keyword in Python. This
philosophy, very different from highly defensive languages like Java, which
give a lot of mechanisms to prevent any misuse, is expressed by the saying: &#8220;We
are all responsible users&#8221;.</p>
<p>This doesn&#8217;t mean that, for example, no properties are considered private, and
that no proper encapsulation is possible in Python. Rather, instead of relying
on concrete walls erected by the developers between their code and other&#8217;s, the
Python community prefers to rely on a set of conventions indicating that these
elements should not be accessed directly.</p>
<p>The main convention for private properties and implementation details is to
prefix all &#8220;internals&#8221; with an underscore. If the client code breaks this rule
and accesses these marked elements, any misbehavior or problems encountered if
the code is modified is the responsibility of the client code.</p>
<p>Using this convention generously is encouraged: any method or property that is
not intended to be used by client code should be prefixed with an underscore.
This will guarantee a better separation of duties and easier modification of
existing code; it will always be possible to publicize a private property,
but making a public property private might be a much harder operation.</p>
</div>
<div class="section" id="returning-values">
<h5>Returning values<a class="headerlink" href="#returning-values" title="Permalink to this headline">¶</a></h5>
<p>When a function grows in complexity it is not uncommon to use multiple return
statements inside the function&#8217;s body. However, in order to keep a clear intent
and a sustainable readability level, it is preferable to avoid returning
meaningful values from many output points in the body.</p>
<p>There are two main cases for returning values in a function: the result of the
function return when it has been processed normally, and the error cases that
indicate a wrong input parameter or any other reason for the function to not be
able to complete its computation or task.</p>
<p>If you do not wish to raise exceptions for the second case, then returning a
value, such as None or False, indicating that the function could not perform
correctly might be needed. In this case, it is better to return as early as the
incorrect context has been detected. It will help to flatten the structure of
the function: all the code after the return-because-of-error statement can
assume the condition is met to further compute the function&#8217;s main result.
Having multiple such return statements is often necessary.</p>
<p>However, when a function has multiple main exit points for its normal course,
it becomes difficult to debug the returned result, so it may be preferable to
keep a single exit point. This will also help factoring out some code paths,
and the multiple exit points are a probable indication that such a refactoring
is needed.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">complex_function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">a</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>  <span class="c1"># Raising an exception might be better</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">b</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>  <span class="c1"># Raising an exception might be better</span>
    <span class="c1"># Some complex code trying to compute x from a, b and c</span>
    <span class="c1"># Resist temptation to return x if succeeded</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">x</span><span class="p">:</span>
        <span class="c1"># Some Plan-B computation of x</span>
    <span class="k">return</span> <span class="n">x</span>  <span class="c1"># One single exit point for the returned value x will help</span>
              <span class="c1"># when maintaining the code.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="idioms">
<h4>Idioms<a class="headerlink" href="#idioms" title="Permalink to this headline">¶</a></h4>
<p>A programming idiom, put simply, is a <em>way</em> to write code. The notion of
programming idioms is discussed amply at <a class="reference external" href="http://c2.com/cgi/wiki?ProgrammingIdiom">c2</a>
and at <a class="reference external" href="http://stackoverflow.com/questions/302459/what-is-a-programming-idiom">Stack Overflow</a>.</p>
<p>Idiomatic Python code is often referred to as being <em>Pythonic</em>.</p>
<p>Although there usually is one &#8212; and preferably only one &#8212; obvious way to do
it; <em>the</em> way to write idiomatic Python code can be non-obvious to Python
beginners. So, good idioms must be consciously acquired.</p>
<p>Some common Python idioms follow:</p>
<div class="section" id="unpacking">
<span id="unpacking-ref"></span><h5>Unpacking<a class="headerlink" href="#unpacking" title="Permalink to this headline">¶</a></h5>
<p>If you know the length of a list or tuple, you can assign names to its
elements with unpacking. For example, since <code class="docutils literal"><span class="pre">enumerate()</span></code> will provide
a tuple of two elements for each item in list:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">some_list</span><span class="p">):</span>
    <span class="c1"># do something with index and item</span>
</pre></div>
</div>
<p>You can use this to swap variables as well:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span>
</pre></div>
</div>
<p>Nested unpacking works too:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">,</span> <span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>In Python 3, a new method of extended unpacking was introduced by
<span class="target" id="index-0"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3132"><strong>PEP 3132</strong></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">,</span> <span class="o">*</span><span class="n">rest</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="c1"># a = 1, rest = [2, 3]</span>
<span class="n">a</span><span class="p">,</span> <span class="o">*</span><span class="n">middle</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="c1"># a = 1, middle = [2, 3], c = 4</span>
</pre></div>
</div>
</div>
<div class="section" id="create-an-ignored-variable">
<h5>Create an ignored variable<a class="headerlink" href="#create-an-ignored-variable" title="Permalink to this headline">¶</a></h5>
<p>If you need to assign something (for instance, in <a class="reference internal" href="#unpacking-ref"><span>Unpacking</span></a>) but
will not need that variable, use <code class="docutils literal"><span class="pre">__</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;foobar.txt&#39;</span>
<span class="n">basename</span><span class="p">,</span> <span class="n">__</span><span class="p">,</span> <span class="n">ext</span> <span class="o">=</span> <span class="n">filename</span><span class="o">.</span><span class="n">rpartition</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Many Python style guides recommend the use of a single underscore &#8220;<code class="docutils literal"><span class="pre">_</span></code>&#8221;
for throwaway variables rather than the double underscore &#8220;<code class="docutils literal"><span class="pre">__</span></code>&#8221;
recommended here. The issue is that &#8220;<code class="docutils literal"><span class="pre">_</span></code>&#8221; is commonly used as an alias
for the <a class="reference external" href="http://docs.python.org/library/gettext.html#gettext.gettext" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">gettext()</span></code></a> function, and is also used at the
interactive prompt to hold the value of the last operation. Using a
double underscore instead is just as clear and almost as convenient,
and eliminates the risk of accidentally interfering with either of
these other use cases.</p>
</div>
</div>
<div class="section" id="create-a-length-n-list-of-the-same-thing">
<h5>Create a length-N list of the same thing<a class="headerlink" href="#create-a-length-n-list-of-the-same-thing" title="Permalink to this headline">¶</a></h5>
<p>Use the Python list <code class="docutils literal"><span class="pre">*</span></code> operator:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">four_nones</span> <span class="o">=</span> <span class="p">[</span><span class="bp">None</span><span class="p">]</span> <span class="o">*</span> <span class="mi">4</span>
</pre></div>
</div>
</div>
<div class="section" id="create-a-length-n-list-of-lists">
<h5>Create a length-N list of lists<a class="headerlink" href="#create-a-length-n-list-of-lists" title="Permalink to this headline">¶</a></h5>
<p>Because lists are mutable, the <code class="docutils literal"><span class="pre">*</span></code> operator (as above) will create a list
of N references to the <cite>same</cite> list, which is not likely what you want.
Instead, use a list comprehension:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">four_lists</span> <span class="o">=</span> <span class="p">[[]</span> <span class="k">for</span> <span class="n">__</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
</pre></div>
</div>
<p>Note: Use range() instead of xrange() in Python 3</p>
</div>
<div class="section" id="create-a-string-from-a-list">
<h5>Create a string from a list<a class="headerlink" href="#create-a-string-from-a-list" title="Permalink to this headline">¶</a></h5>
<p>A common idiom for creating strings is to use <a class="reference external" href="http://docs.python.org/library/stdtypes.html#str.join" title="(in Python v2.7)"><code class="xref py py-meth docutils literal"><span class="pre">str.join()</span></code></a> on an empty
string.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">letters</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">]</span>
<span class="n">word</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">letters</span><span class="p">)</span>
</pre></div>
</div>
<p>This will set the value of the variable <em>word</em> to &#8216;spam&#8217;. This idiom can be
applied to lists and tuples.</p>
</div>
<div class="section" id="searching-for-an-item-in-a-collection">
<h5>Searching for an item in a collection<a class="headerlink" href="#searching-for-an-item-in-a-collection" title="Permalink to this headline">¶</a></h5>
<p>Sometimes we need to search through a collection of things. Let&#8217;s look at two
options: lists and sets.</p>
<p>Take the following code for example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">])</span>
<span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">lookup_set</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;s&#39;</span> <span class="ow">in</span> <span class="n">s</span>

<span class="k">def</span> <span class="nf">lookup_list</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;s&#39;</span> <span class="ow">in</span> <span class="n">l</span>
</pre></div>
</div>
<p>Even though both functions look identical, because <em>lookup_set</em> is utilizing
the fact that sets in Python are hashtables, the lookup performance
between the two is very different. To determine whether an item is in a list,
Python will have to go through each item until it finds a matching item.
This is time consuming, especially for long lists. In a set, on the other
hand, the hash of the item will tell Python where in the set to look for
a matching item. As a result, the search can be done quickly, even if the
set is large. Searching in dictionaries works the same way. For
more information see this
<a class="reference external" href="http://stackoverflow.com/questions/513882/python-list-vs-dict-for-look-up-table">StackOverflow</a>
page. For detailed information on the amount of time various common operations
take on each of these data structures, see
<a class="reference external" href="https://wiki.python.org/moin/TimeComplexity?">this page</a>.</p>
<p>Because of these differences in performance, it is often a good idea to use
sets or dictionaries instead of lists in cases where:</p>
<ul class="simple">
<li>The collection will contain a large number of items</li>
<li>You will be repeatedly searching for items in the collection</li>
<li>You do not have duplicate items.</li>
</ul>
<p>For small collections, or collections which you will not frequently be
searching through, the additional time and memory required to set up the
hashtable will often be greater than the time saved by the improved search
speed.</p>
</div>
</div>
<div class="section" id="zen-of-python">
<h4>Zen of Python<a class="headerlink" href="#zen-of-python" title="Permalink to this headline">¶</a></h4>
<p>Also known as <span class="target" id="index-1"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0020"><strong>PEP 20</strong></a>, the guiding principles for Python&#8217;s design.</p>
<div class="highlight-pycon"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">this</span>
<span class="go">The Zen of Python, by Tim Peters</span>

<span class="go">Beautiful is better than ugly.</span>
<span class="go">Explicit is better than implicit.</span>
<span class="go">Simple is better than complex.</span>
<span class="go">Complex is better than complicated.</span>
<span class="go">Flat is better than nested.</span>
<span class="go">Sparse is better than dense.</span>
<span class="go">Readability counts.</span>
<span class="go">Special cases aren&#39;t special enough to break the rules.</span>
<span class="go">Although practicality beats purity.</span>
<span class="go">Errors should never pass silently.</span>
<span class="go">Unless explicitly silenced.</span>
<span class="go">In the face of ambiguity, refuse the temptation to guess.</span>
<span class="go">There should be one-- and preferably only one --obvious way to do it.</span>
<span class="go">Although that way may not be obvious at first unless you&#39;re Dutch.</span>
<span class="go">Now is better than never.</span>
<span class="go">Although never is often better than *right* now.</span>
<span class="go">If the implementation is hard to explain, it&#39;s a bad idea.</span>
<span class="go">If the implementation is easy to explain, it may be a good idea.</span>
<span class="go">Namespaces are one honking great idea -- let&#39;s do more of those!</span>
</pre></div>
</div>
<p>For some examples of good Python style, see <a class="reference external" href="http://artifex.org/~hblanks/talks/2011/pep20_by_example.pdf">these slides from a Python user
group</a>.</p>
</div>
<div class="section" id="pep-8">
<h4>PEP 8<a class="headerlink" href="#pep-8" title="Permalink to this headline">¶</a></h4>
<p><span class="target" id="index-2"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0008"><strong>PEP 8</strong></a> is the de-facto code style guide for Python. A high quality,
easy-to-read version of PEP 8 is also available at <a class="reference external" href="http://pep8.org/">pep8.org</a>.</p>
<p>This is highly recommended reading. The entire Python community does their
best to adhere to the guidelines laid out within this document. Some project
may sway from it from time to time, while others may
<a class="reference external" href="http://docs.python-requests.org/en/master/dev/contributing/#kenneth-reitz-s-code-style">amend its recommendations</a>.</p>
<p>That being said, conforming your Python code to PEP 8 is generally a good
idea and helps make code more consistent when working on projects with other
developers. There is a command-line program, <a class="reference external" href="https://github.com/jcrocholl/pep8">pep8</a>,
that can check your code for conformance. Install it by running the following
command in your terminal:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install pep8
</pre></div>
</div>
<p>Then run it on a file or series of files to get a report of any violations.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pep8 optparse.py
<span class="go">optparse.py:69:11: E401 multiple imports on one line</span>
<span class="go">optparse.py:77:1: E302 expected 2 blank lines, found 1</span>
<span class="go">optparse.py:88:5: E301 expected 1 blank line, found 0</span>
<span class="go">optparse.py:222:34: W602 deprecated form of raising exception</span>
<span class="go">optparse.py:347:31: E211 whitespace before &#39;(&#39;</span>
<span class="go">optparse.py:357:17: E201 whitespace after &#39;{&#39;</span>
<span class="go">optparse.py:472:29: E221 multiple spaces before operator</span>
<span class="go">optparse.py:544:21: W601 .has_key() is deprecated, use &#39;in&#39;</span>
</pre></div>
</div>
<p>The program <a class="reference external" href="https://pypi.python.org/pypi/autopep8/">autopep8</a> can be used to
automatically reformat code in the PEP 8 style. Install the program with:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install autopep8
</pre></div>
</div>
<p>Use it to format a file in-place with:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> autopep8 --in-place optparse.py
</pre></div>
</div>
<p>Excluding the <code class="docutils literal"><span class="pre">--in-place</span></code> flag will cause the program to output the modified
code directly to the console for review. The <code class="docutils literal"><span class="pre">--aggressive</span></code> flag will perform
more substantial changes and can be applied multiple times for greater effect.</p>
</div>
<div class="section" id="conventions">
<h4>Conventions<a class="headerlink" href="#conventions" title="Permalink to this headline">¶</a></h4>
<p>Here are some conventions you should follow to make your code easier to read.</p>
<div class="section" id="check-if-variable-equals-a-constant">
<h5>Check if variable equals a constant<a class="headerlink" href="#check-if-variable-equals-a-constant" title="Permalink to this headline">¶</a></h5>
<p>You don&#8217;t need to explicitly compare a value to True, or None, or 0 - you can
just add it to the if statement. See <a class="reference external" href="http://docs.python.org/library/stdtypes.html#truth-value-testing">Truth Value Testing</a> for a
list of what is considered false.</p>
<p><strong>Bad</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">attr</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
    <span class="k">print</span> <span class="s1">&#39;True!&#39;</span>

<span class="k">if</span> <span class="n">attr</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">print</span> <span class="s1">&#39;attr is None!&#39;</span>
</pre></div>
</div>
<p><strong>Good</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Just check the value</span>
<span class="k">if</span> <span class="n">attr</span><span class="p">:</span>
    <span class="k">print</span> <span class="s1">&#39;attr is truthy!&#39;</span>

<span class="c1"># or check for the opposite</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">attr</span><span class="p">:</span>
    <span class="k">print</span> <span class="s1">&#39;attr is falsey!&#39;</span>

<span class="c1"># or, since None is considered false, explicitly check for it</span>
<span class="k">if</span> <span class="n">attr</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">print</span> <span class="s1">&#39;attr is None!&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="access-a-dictionary-element">
<h5>Access a Dictionary Element<a class="headerlink" href="#access-a-dictionary-element" title="Permalink to this headline">¶</a></h5>
<p>Don&#8217;t use the <a class="reference external" href="http://docs.python.org/library/stdtypes.html#dict.has_key" title="(in Python v2.7)"><code class="xref py py-meth docutils literal"><span class="pre">dict.has_key()</span></code></a> method. Instead, use <code class="docutils literal"><span class="pre">x</span> <span class="pre">in</span> <span class="pre">d</span></code> syntax,
or pass a default argument to <a class="reference external" href="http://docs.python.org/library/stdtypes.html#dict.get" title="(in Python v2.7)"><code class="xref py py-meth docutils literal"><span class="pre">dict.get()</span></code></a>.</p>
<p><strong>Bad</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;hello&#39;</span><span class="p">:</span> <span class="s1">&#39;world&#39;</span><span class="p">}</span>
<span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">has_key</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;hello&#39;</span><span class="p">]</span>    <span class="c1"># prints &#39;world&#39;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span> <span class="s1">&#39;default_value&#39;</span>
</pre></div>
</div>
<p><strong>Good</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;hello&#39;</span><span class="p">:</span> <span class="s1">&#39;world&#39;</span><span class="p">}</span>

<span class="k">print</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;default_value&#39;</span><span class="p">)</span> <span class="c1"># prints &#39;world&#39;</span>
<span class="k">print</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;thingy&#39;</span><span class="p">,</span> <span class="s1">&#39;default_value&#39;</span><span class="p">)</span> <span class="c1"># prints &#39;default_value&#39;</span>

<span class="c1"># Or:</span>
<span class="k">if</span> <span class="s1">&#39;hello&#39;</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;hello&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="short-ways-to-manipulate-lists">
<h5>Short Ways to Manipulate Lists<a class="headerlink" href="#short-ways-to-manipulate-lists" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://docs.python.org/tutorial/datastructures.html#list-comprehensions">List comprehensions</a>
provide a powerful, concise way to work with lists. Also, the <a class="reference external" href="http://docs.python.org/library/functions.html#map" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">map()</span></code></a> and
<a class="reference external" href="http://docs.python.org/library/functions.html#filter" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">filter()</span></code></a> functions can perform operations on lists using a different,
more concise syntax.</p>
<p><strong>Bad</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Filter elements greater than 4</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">b</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">:</span>
        <span class="n">b</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Good</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">a</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">]</span>
<span class="c1"># Or:</span>
<span class="n">b</span> <span class="o">=</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Bad</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Add three to all list members.</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)):</span>
    <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">3</span>
</pre></div>
</div>
<p><strong>Good</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">3</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">a</span><span class="p">]</span>
<span class="c1"># Or:</span>
<span class="n">a</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">3</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<p>Use <a class="reference external" href="http://docs.python.org/library/functions.html#enumerate" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">enumerate()</span></code></a> keep a count of your place in the list.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">i</span><span class="p">,</span> <span class="n">item</span>
<span class="c1"># prints</span>
<span class="c1"># 0 3</span>
<span class="c1"># 1 4</span>
<span class="c1"># 2 5</span>
</pre></div>
</div>
<p>The <a class="reference external" href="http://docs.python.org/library/functions.html#enumerate" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">enumerate()</span></code></a> function has better readability than handling a
counter manually. Moreover, it is better optimized for iterators.</p>
</div>
<div class="section" id="read-from-a-file">
<h5>Read From a File<a class="headerlink" href="#read-from-a-file" title="Permalink to this headline">¶</a></h5>
<p>Use the <code class="docutils literal"><span class="pre">with</span> <span class="pre">open</span></code> syntax to read from files. This will automatically close
files for you.</p>
<p><strong>Bad</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;file.txt&#39;</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">a</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Good</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;file.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">print</span> <span class="n">line</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">with</span></code> statement is better because it will ensure you always close the
file, even if an exception is raised inside the <code class="docutils literal"><span class="pre">with</span></code> block.</p>
</div>
<div class="section" id="line-continuations">
<h5>Line Continuations<a class="headerlink" href="#line-continuations" title="Permalink to this headline">¶</a></h5>
<p>When a logical line of code is longer than the accepted limit, you need to
split it over multiple physical lines. The Python interpreter will join
consecutive lines if the last character of the line is a backslash. This is
helpful in some cases, but should usually be avoided because of its fragility:
a white space added to the end of the line, after the backslash, will break the
code and may have unexpected results.</p>
<p>A better solution is to use parentheses around your elements. Left with an
unclosed parenthesis on an end-of-line the Python interpreter will join the
next line until the parentheses are closed. The same behavior holds for curly
and square braces.</p>
<p><strong>Bad</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">my_very_big_string</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;For a long time I used to go to bed early. Sometimes, </span><span class="se">\</span>
<span class="s2">    when I had put out my candle, my eyes would close so quickly that I had not even </span><span class="se">\</span>
<span class="s2">    time to say “I’m going to sleep.”&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">some.deep.module.inside.a.module</span> <span class="kn">import</span> <span class="n">a_nice_function</span><span class="p">,</span> <span class="n">another_nice_function</span><span class="p">,</span> \
    <span class="n">yet_another_nice_function</span>
</pre></div>
</div>
<p><strong>Good</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">my_very_big_string</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;For a long time I used to go to bed early. Sometimes, &quot;</span>
    <span class="s2">&quot;when I had put out my candle, my eyes would close so quickly &quot;</span>
    <span class="s2">&quot;that I had not even time to say “I’m going to sleep.”&quot;</span>
<span class="p">)</span>

<span class="kn">from</span> <span class="nn">some.deep.module.inside.a.module</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">a_nice_function</span><span class="p">,</span> <span class="n">another_nice_function</span><span class="p">,</span> <span class="n">yet_another_nice_function</span><span class="p">)</span>
</pre></div>
</div>
<p>However, more often than not, having to split a long logical line is a sign that
you are trying to do too many things at the same time, which may hinder
readability.</p>
</div>
</div>
</div>
<span id="document-writing/reading"></span><div class="section" id="reading-great-code">
<h3>Reading Great Code<a class="headerlink" href="#reading-great-code" title="Permalink to this headline">¶</a></h3>
<p>One of the core tenets behind the design of Python is creating
readable code. The motivation behind this design is simple: The number
one thing that Python programmers do is read code.</p>
<p>One of the secrets of becoming a great Python programmer is to read,
understand, and comprehend excellent code.</p>
<!-->
<div><a class="reference external" href="https://www.youtube.com/embed/Jc8M9-LoEuo">Reading Great Code</a></div>
-->

    <iframe width="560"
            height="315"
            src="https://www.youtube.com/embed/Jc8M9-LoEuo"
            frameborder="0" allowfullscreen></iframe>

<p>Excellent code typically follows the guidelines outlined in
<a class="reference internal" href="index.html#code-style"><span>Code Style</span></a>, and does its best to express a clear and concise
intent to the reader.</p>
<p>Included below is a list of recommended Python projects for
reading. Each one of these projects is a paragon of Python coding.</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/gleitz/howdoi">Howdoi</a>
Howdoi is a code search tool, written in Python.</li>
<li><a class="reference external" href="https://github.com/mitsuhiko/flask">Flask</a>
Flask is a microframework for Python based on Werkzeug and Jinja2.
It&#8217;s intended for getting started very quickly and was developed with
best intentions in mind.</li>
<li><a class="reference external" href="https://github.com/python-diamond/Diamond">Diamond</a>
Diamond is a python daemon that collects metrics
and publishes them to Graphite or other backends.
It is capable of collecting cpu, memory, network, i/o, load and disk metrics.
Additionally, it features an API for implementing custom collectors
for gathering metrics from almost any source.</li>
<li><a class="reference external" href="https://github.com/mitsuhiko/werkzeug">Werkzeug</a>
Werkzeug started as simple collection of various utilities for WSGI
applications and has become one of the most advanced WSGI utility modules.
It includes a powerful debugger, full-featured request and response objects,
HTTP utilities to handle entity tags, cache control headers, HTTP dates,
cookie handling, file uploads, a powerful URL routing system and a bunch
of community-contributed addon modules.</li>
<li><a class="reference external" href="https://github.com/kennethreitz/requests">Requests</a>
Requests is an Apache2 Licensed HTTP library, written in Python,
for human beings.</li>
<li><a class="reference external" href="https://github.com/kennethreitz/tablib">Tablib</a>
Tablib is a format-agnostic tabular dataset library, written in Python.</li>
</ul>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">Include code examples of exemplary code from each of the projects listed. Explain why it is excellent code. Use complex examples.</p>
</div>
<div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">Todo</p>
<p class="last">Explain techniques to rapidly identify data structures, algorithms and determine what the code is doing.</p>
</div>
</div>
<span id="document-writing/documentation"></span><div class="section" id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h3>
<p>Readability is a primary focus for Python developers, in both project
and code documentation. Following some simple best practices can save
both you and others a lot of time.</p>
<div class="section" id="project-documentation">
<h4>Project Documentation<a class="headerlink" href="#project-documentation" title="Permalink to this headline">¶</a></h4>
<p>A <code class="file docutils literal"><span class="pre">README</span></code> file at the root directory should give general information
to both users and maintainers of a project. It should be raw text or
written in some very easy to read markup, such as <a class="reference internal" href="#restructuredtext-ref"><span>reStructuredText</span></a>
or Markdown. It should contain a few lines explaining the purpose of the
project or library (without assuming the user knows anything about the
project), the URL of the main source for the software, and some basic credit
information. This file is the main entry point for readers of the code.</p>
<p>An <code class="file docutils literal"><span class="pre">INSTALL</span></code> file is less necessary with Python.  The installation
instructions are often reduced to one command, such as <code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span>
<span class="pre">module</span></code> or <code class="docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span></code> and added to the <code class="file docutils literal"><span class="pre">README</span></code>
file.</p>
<p>A <code class="file docutils literal"><span class="pre">LICENSE</span></code> file should <em>always</em> be present and specify the license
under which the software is made available to the public.</p>
<p>A <code class="file docutils literal"><span class="pre">TODO</span></code> file or a <code class="docutils literal"><span class="pre">TODO</span></code> section in <code class="file docutils literal"><span class="pre">README</span></code> should list the
planned development for the code.</p>
<p>A <code class="file docutils literal"><span class="pre">CHANGELOG</span></code> file or section in <code class="file docutils literal"><span class="pre">README</span></code> should compile a short
overview of the changes in the code base for the latest versions.</p>
</div>
<div class="section" id="project-publication">
<h4>Project Publication<a class="headerlink" href="#project-publication" title="Permalink to this headline">¶</a></h4>
<p>Depending on the project, your documentation might include some or all
of the following components:</p>
<ul class="simple">
<li>An <em>introduction</em> should show a very short overview of what can be
done with the product, using one or two extremely simplified use
cases. This is the thirty-second pitch for your project.</li>
<li>A <em>tutorial</em> should show some primary use cases in more detail. The reader
will follow a step-by-step procedure to set-up a working prototype.</li>
<li>An <em>API reference</em> is typically generated from the code (see
<a class="reference internal" href="#docstring-ref"><span>docstrings</span></a>). It will list all publicly available
interfaces, parameters, and return values.</li>
<li><em>Developer documentation</em> is intended for potential contributors. This can
include code convention and general design strategy of the project.</li>
</ul>
<div class="section" id="sphinx">
<span id="sphinx-ref"></span><h5>Sphinx<a class="headerlink" href="#sphinx" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://sphinx.pocoo.org">Sphinx</a> is far and away the most popular Python documentation
tool. <strong>Use it.</strong>  It converts <a class="reference internal" href="#restructuredtext-ref"><span>reStructuredText</span></a> markup language
into a range of output formats including HTML, LaTeX (for printable
PDF versions), manual pages, and plain text.</p>
<p>There is also <strong>great</strong>, <strong>free</strong> hosting for your <a class="reference external" href="http://sphinx.pocoo.org">Sphinx</a> docs:
<a class="reference external" href="http://readthedocs.org">Read The Docs</a>. Use it. You can configure it with commit hooks to
your source repository so that rebuilding your documentation will
happen automatically.</p>
<p>When run, <a class="reference external" href="http://sphinx.pocoo.org">Sphinx</a> will import your code and using Python&#8217;s introspection
features it will extract all function, method and class signatures. It will
also extract the accompanying docstrings, and compile it all into well
structured and easily readable documentation for your project.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Sphinx is famous for its API generation, but it also works well
for general project documentation. This Guide is built with
<a class="reference external" href="http://sphinx.pocoo.org">Sphinx</a> and is hosted on <a class="reference external" href="http://readthedocs.org">Read The Docs</a></p>
</div>
</div>
<div class="section" id="restructuredtext">
<span id="restructuredtext-ref"></span><h5>reStructuredText<a class="headerlink" href="#restructuredtext" title="Permalink to this headline">¶</a></h5>
<p>Most Python documentation is written with <a class="reference external" href="http://docutils.sourceforge.net/rst.html">reStructuredText</a>. It&#8217;s like
Markdown with all the optional extensions built in.</p>
<p>The <a class="reference external" href="http://sphinx.pocoo.org/rest.html">reStructuredText Primer</a> and the <a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickref.html">reStructuredText Quick
Reference</a> should help you familiarize yourself with its syntax.</p>
</div>
</div>
<div class="section" id="code-documentation-advice">
<h4>Code Documentation Advice<a class="headerlink" href="#code-documentation-advice" title="Permalink to this headline">¶</a></h4>
<p>Comments clarify the code and they are added with purpose of making the
code easier to understand. In Python, comments begin with a hash
(number sign) (<code class="docutils literal"><span class="pre">#</span></code>).</p>
<p id="docstring-ref">In Python, <em>docstrings</em> describe modules, classes, and functions:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">square_and_rooter</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the square root of self times self.&quot;&quot;&quot;</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>In general, follow the comment section of <span class="target" id="index-0"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0008#comments"><strong>PEP 8#comments</strong></a> (the &#8220;Python Style
Guide&#8221;). More information about docstrings can be found at <span class="target" id="index-1"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0257#specification"><strong>PEP 0257#specification</strong></a> (The Docstring Conventions Guide).</p>
<div class="section" id="commenting-sections-of-code">
<h5>Commenting Sections of Code<a class="headerlink" href="#commenting-sections-of-code" title="Permalink to this headline">¶</a></h5>
<p><em>Do not use triple-quote strings to comment code</em>. This is not a good
practice, because line-oriented command-line tools such as grep will
not be aware that the commented code is inactive. It is better to add
hashes at the proper indentation level for every commented line. Your
editor probably has the ability to do this easily, and it is worth
learning the comment/uncomment toggle.</p>
</div>
<div class="section" id="docstrings-and-magic">
<h5>Docstrings and Magic<a class="headerlink" href="#docstrings-and-magic" title="Permalink to this headline">¶</a></h5>
<p>Some tools use docstrings to embed more-than-documentation behavior,
such as unit test logic. Those can be nice, but you won&#8217;t ever go
wrong with vanilla &#8220;here&#8217;s what this does.&#8221;</p>
<p>Tools like <a class="reference external" href="http://sphinx.pocoo.org">Sphinx</a> will parse your docstrings as reStructuredText and render it
correctly as HTML. This makes it very easy to embed snippets of example code in
a project&#8217;s documentation.</p>
<p>Additionally, <a class="reference external" href="https://docs.python.org/3/library/doctest.html">Doctest</a> will read all embedded docstrings that look like input
from the Python commandline (prefixed with &#8220;&gt;&gt;&gt;&#8221;) and run them, checking to see
if the output of the command matches the text on the following line. This
allows developers to  embed real examples and usage of functions alongside
their source code, and as a side effect, it also ensures that their code is
tested and works.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    &gt;&gt;&gt; my_function(2, 3)</span>
<span class="sd">    6</span>
<span class="sd">    &gt;&gt;&gt; my_function(&#39;a&#39;, 3)</span>
<span class="sd">    &#39;aaa&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
</pre></div>
</div>
</div>
<div class="section" id="docstrings-versus-block-comments">
<h5>Docstrings versus Block comments<a class="headerlink" href="#docstrings-versus-block-comments" title="Permalink to this headline">¶</a></h5>
<p>These aren&#8217;t interchangeable. For a function or class, the leading
comment block is a programmer&#8217;s note. The docstring describes the
<em>operation</em> of the function or class:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># This function slows down program execution for some reason.</span>
<span class="k">def</span> <span class="nf">square_and_rooter</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns the square root of self times self.&quot;&quot;&quot;</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Unlike block comments, docstrings are built into the Python language itself.
This means you can use all of Python&#8217;s powerful introspection capabilities to
access docstrings at runtime, compared with comments which are optimised out.
Docstrings are accessible from both the <cite>__doc__</cite> dunder attribute for almost
every Python object, as well as with the built in <cite>help()</cite> function.</p>
<p>While block comments are usually used to explain <em>what</em> a section of code is
doing, or the specifics of an algorithm, docstrings are more intended for
explaining to other users of your code (or you in 6 months time) <em>how</em> a
particular function can be used and the general purpose of a function, class,
or module.</p>
</div>
<div class="section" id="writing-docstrings">
<h5>Writing Docstrings<a class="headerlink" href="#writing-docstrings" title="Permalink to this headline">¶</a></h5>
<p>Depending on the complexity of the function, method, or class being written, a
one-line docstring may be perfectly appropriate. These are generally used for
really obvious cases, such as:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Add two numbers and return the result.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</pre></div>
</div>
<p>The docstring should describe the function in a way that is easy to understand.
For simple cases like trivial functions and classes, simply embedding the
function&#8217;s signature (i.e. <cite>add(a, b) -&gt; result</cite>) in the docstring is
unnecessary. This is because with Python&#8217;s <cite>inspect</cite> module, it is already
quite easy to find this information if needed, and it is also readily available
by reading the source code.</p>
<p>In larger or more complex projects however, it is often a good idea to give
more information about a function, what it does, any exceptions it may raise,
what it returns, or relevant details about the parameters.</p>
<p>For more detailed documentation of code a popular style is the one used for the
Numpy project, often called <a class="reference external" href="http://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_numpy.html">Numpy style</a> docstrings. While it can take up a
few more lines the previous example, it allows the developer to include a lot
more information about a method, function, or class.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">random_number_generator</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Summary line.</span>

<span class="sd">    Extended description of function.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    arg1 : int</span>
<span class="sd">        Description of arg1</span>
<span class="sd">    arg2 : str</span>
<span class="sd">        Description of arg2</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    int</span>
<span class="sd">        Description of return value</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="mi">42</span>
</pre></div>
</div>
<p>The <a class="reference external" href="https://sphinxcontrib-napoleon.readthedocs.io/">sphinx.ext.napoleon</a> plugin allows Sphinx to parse this style of
docstrings, making it easy to incorporate NumPy style docstrings into your
project.</p>
<p>At the end of the day, it doesn&#8217;t really matter what style is used for writing
docstrings, their purpose is to serve as documentation for anyone who may need
to read or make changes to your code. As long as it is correct, understandable
and gets the relevant points across then it has done the job it was designed to
do.</p>
<p>For further reading on docstrings, feel free to consult <span class="target" id="index-2"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0257"><strong>PEP 257</strong></a></p>
</div>
</div>
<div class="section" id="other-tools">
<h4>Other Tools<a class="headerlink" href="#other-tools" title="Permalink to this headline">¶</a></h4>
<p>You might see these in the wild. Use <a class="reference internal" href="#sphinx-ref"><span>Sphinx</span></a>.</p>
<dl class="docutils">
<dt><a class="reference external" href="https://pycco-docs.github.io/pycco/">Pycco</a></dt>
<dd>Pycco is a &#8220;literate-programming-style documentation generator&#8221;
and is a port of the node.js <a class="reference external" href="http://jashkenas.github.com/docco">Docco</a>. It makes code into a
side-by-side HTML code and documentation.</dd>
</dl>
<dl class="docutils">
<dt><a class="reference external" href="https://github.com/rtomayko/ronn">Ronn</a></dt>
<dd>Ronn builds Unix manuals. It converts human readable textfiles to roff
for terminal display, and also to HTML for the web.</dd>
</dl>
<dl class="docutils">
<dt><a class="reference external" href="http://epydoc.sourceforge.net">Epydoc</a></dt>
<dd>Epydoc is discontinued. Use <a class="reference internal" href="#sphinx-ref"><span>Sphinx</span></a> instead.</dd>
</dl>
<dl class="docutils">
<dt><a class="reference external" href="http://www.mkdocs.org/">MkDocs</a></dt>
<dd>MkDocs is a fast and simple static site generator that&#8217;s geared towards
building project documentation with Markdown.</dd>
</dl>
</div>
</div>
<span id="document-writing/tests"></span><div class="section" id="testing-your-code">
<h3>Testing Your Code<a class="headerlink" href="#testing-your-code" title="Permalink to this headline">¶</a></h3>
<p>Testing your code is very important.</p>
<p>Getting used to writing testing code and running this code in parallel is now
considered a good habit. Used wisely, this method helps you define more
precisely your code&#8217;s intent and have a more decoupled architecture.</p>
<p>Some general rules of testing:</p>
<ul class="simple">
<li>A testing unit should focus on one tiny bit of functionality and prove it
correct.</li>
<li>Each test unit must be fully independent. Each test must be able to run
alone, and also within the test suite, regardless of the order that they are
called. The implication of this rule is that each test must be loaded with
a fresh dataset and may have to do some cleanup afterwards. This is
usually handled by <code class="xref py py-meth docutils literal"><span class="pre">setUp()</span></code> and <code class="xref py py-meth docutils literal"><span class="pre">tearDown()</span></code> methods.</li>
<li>Try hard to make tests that run fast. If one single test needs more than a
few milliseconds to run, development will be slowed down or the tests will
not be run as often as is desirable. In some cases, tests can&#8217;t be fast
because they need a complex data structure to work on, and this data structure
must be loaded every time the test runs. Keep these heavier tests in a
separate test suite that is run by some scheduled task, and run all other
tests as often as needed.</li>
<li>Learn your tools and learn how to run a single test or a test case. Then,
when developing a function inside a module, run this function&#8217;s tests
frequently, ideally automatically when you save the code.</li>
<li>Always run the full test suite before a coding session, and run it again
after. This will give you more confidence that you did not break anything
in the rest of the code.</li>
<li>It is a good idea to implement a hook that runs all tests before pushing
code to a shared repository.</li>
<li>If you are in the middle of a development session and have to interrupt
your work, it is a good idea to write a broken unit test about what you
want to develop next. When coming back to work, you will have a pointer
to where you were and get back on track faster.</li>
<li>The first step when you are debugging your code is to write a new test
pinpointing the bug. While it is not always possible to do, those bug
catching tests are among the most valuable pieces of code in your project.</li>
<li>Use long and descriptive names for testing functions. The style guide here
is slightly different than that of running code, where short names are
often preferred. The reason is testing functions are never called explicitly.
<code class="docutils literal"><span class="pre">square()</span></code> or even <code class="docutils literal"><span class="pre">sqr()</span></code> is ok in running code, but in testing code you
would have names such as <code class="docutils literal"><span class="pre">test_square_of_number_2()</span></code>,
<code class="docutils literal"><span class="pre">test_square_negative_number()</span></code>. These function names are displayed when
a test fails, and should be as descriptive as possible.</li>
<li>When something goes wrong or has to be changed, and if your code has a
good set of tests, you or other maintainers will rely largely on the
testing suite to fix the problem or modify a given behavior. Therefore
the testing code will be read as much as or even more than the running
code. A unit test whose purpose is unclear is not very helpful in this
case.</li>
<li>Another use of the testing code is as an introduction to new developers. When
someone will have to work on the code base, running and reading the related
testing code is often the best thing that they can do to start. They will
or should discover the hot spots, where most difficulties arise, and the
corner cases. If they have to add some functionality, the first step should
be to add a test to ensure that the new functionality is not already a
working path that has not been plugged into the interface.</li>
</ul>
<div class="section" id="the-basics">
<h4>The Basics<a class="headerlink" href="#the-basics" title="Permalink to this headline">¶</a></h4>
<div class="section" id="unittest">
<h5>Unittest<a class="headerlink" href="#unittest" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://docs.python.org/library/unittest.html#module-unittest" title="(in Python v2.7)"><code class="xref py py-mod docutils literal"><span class="pre">unittest</span></code></a> is the batteries-included test module in the Python standard
library. Its API will be familiar to anyone who has used any of the
JUnit/nUnit/CppUnit series of tools.</p>
<p>Creating test cases is accomplished by subclassing <a class="reference external" href="http://docs.python.org/library/unittest.html#unittest.TestCase" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">unittest.TestCase</span></code></a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">unittest</span>

<span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>

<span class="k">class</span> <span class="nc">MyTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">fun</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>As of Python 2.7 unittest also includes its own test discovery mechanisms.</p>
<blockquote>
<div><a class="reference external" href="http://docs.python.org/library/unittest.html">unittest in the standard library documentation</a></div></blockquote>
</div>
<div class="section" id="doctest">
<h5>Doctest<a class="headerlink" href="#doctest" title="Permalink to this headline">¶</a></h5>
<p>The <a class="reference external" href="http://docs.python.org/library/doctest.html#module-doctest" title="(in Python v2.7)"><code class="xref py py-mod docutils literal"><span class="pre">doctest</span></code></a> module searches for pieces of text that look like interactive
Python sessions in docstrings, and then executes those sessions to verify that
they work exactly as shown.</p>
<p>Doctests have a different use case than proper unit tests: they are usually
less detailed and don&#8217;t catch special cases or obscure regression bugs. They
are useful as an expressive documentation of the main use cases of a module and
its components. However, doctests should run automatically each time the full
test suite runs.</p>
<p>A simple doctest in a function:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">square</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the square of x.</span>

<span class="sd">    &gt;&gt;&gt; square(2)</span>
<span class="sd">    4</span>
<span class="sd">    &gt;&gt;&gt; square(-2)</span>
<span class="sd">    4</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">doctest</span>
    <span class="n">doctest</span><span class="o">.</span><span class="n">testmod</span><span class="p">()</span>
</pre></div>
</div>
<p>When running this module from the command line as in <code class="docutils literal"><span class="pre">python</span> <span class="pre">module.py</span></code>, the
doctests will run and complain if anything is not behaving as described in the
docstrings.</p>
</div>
</div>
<div class="section" id="tools">
<h4>Tools<a class="headerlink" href="#tools" title="Permalink to this headline">¶</a></h4>
<div class="section" id="py-test">
<h5>py.test<a class="headerlink" href="#py-test" title="Permalink to this headline">¶</a></h5>
<p>py.test is a no-boilerplate alternative to Python&#8217;s standard unittest module.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install pytest
</pre></div>
</div>
<p>Despite being a fully-featured and extensible test tool, it boasts a simple
syntax. Creating a test suite is as easy as writing a module with a couple of
functions:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># content of test_sample.py</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>

<span class="k">def</span> <span class="nf">test_answer</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">func</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="mi">5</span>
</pre></div>
</div>
<p>and then running the <cite>py.test</cite> command</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> py.test
<span class="go">=========================== test session starts ============================</span>
<span class="go">platform darwin -- Python 2.7.1 -- pytest-2.2.1</span>
<span class="go">collecting ... collected 1 items</span>

<span class="go">test_sample.py F</span>

<span class="go">================================= FAILURES =================================</span>
<span class="go">_______________________________ test_answer ________________________________</span>

<span class="go">    def test_answer():</span>
<span class="gp">&gt;</span>       assert func<span class="o">(</span>3<span class="o">)</span> <span class="o">==</span> 5
<span class="go">E       assert 4 == 5</span>
<span class="go">E        +  where 4 = func(3)</span>

<span class="go">test_sample.py:5: AssertionError</span>
<span class="go">========================= 1 failed in 0.02 seconds =========================</span>
</pre></div>
</div>
<p>is far less work than would be required for the equivalent functionality with
the unittest module!</p>
<blockquote>
<div><a class="reference external" href="http://pytest.org/latest/">py.test</a></div></blockquote>
</div>
<div class="section" id="nose">
<h5>Nose<a class="headerlink" href="#nose" title="Permalink to this headline">¶</a></h5>
<p>nose extends unittest to make testing easier.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install nose
</pre></div>
</div>
<p>nose provides automatic test discovery to save you the hassle of manually
creating test suites. It also provides numerous plugins for features such as
xUnit-compatible test output, coverage reporting, and test selection.</p>
<blockquote>
<div><a class="reference external" href="https://nose.readthedocs.io/en/latest/">nose</a></div></blockquote>
</div>
<div class="section" id="tox">
<h5>tox<a class="headerlink" href="#tox" title="Permalink to this headline">¶</a></h5>
<p>tox is a tool for automating test environment management and testing against
multiple interpreter configurations</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install tox
</pre></div>
</div>
<p>tox allows you to configure complicated multi-parameter test matrices via a
simple ini-style configuration file.</p>
<blockquote>
<div><a class="reference external" href="https://tox.readthedocs.io/en/latest/">tox</a></div></blockquote>
</div>
<div class="section" id="unittest2">
<h5>Unittest2<a class="headerlink" href="#unittest2" title="Permalink to this headline">¶</a></h5>
<p>unittest2 is a backport of Python 2.7&#8217;s unittest module which has an improved
API and better assertions over the one available in previous versions of Python.</p>
<p>If you&#8217;re using Python 2.6 or below, you can install it with pip</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install unittest2
</pre></div>
</div>
<p>You may want to import the module under the name unittest to make porting code
to newer versions of the module easier in the future</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">unittest2</span> <span class="kn">as</span> <span class="nn">unittest</span>

<span class="k">class</span> <span class="nc">MyTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>This way if you ever switch to a newer Python version and no longer need the
unittest2 module, you can simply change the import in your test module without
the need to change any other code.</p>
<blockquote>
<div><a class="reference external" href="http://pypi.python.org/pypi/unittest2">unittest2</a></div></blockquote>
</div>
<div class="section" id="mock">
<h5>mock<a class="headerlink" href="#mock" title="Permalink to this headline">¶</a></h5>
<p><code class="xref py py-mod docutils literal"><span class="pre">unittest.mock</span></code> is a library for testing in Python. As of Python 3.3, it is
available in the
<a class="reference external" href="https://docs.python.org/dev/library/unittest.mock">standard library</a>.</p>
<p>For older versions of Python:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install mock
</pre></div>
</div>
<p>It allows you to replace parts of your system under test with mock objects and
make assertions about how they have been used.</p>
<p>For example, you can monkey-patch a method:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mock</span> <span class="kn">import</span> <span class="n">MagicMock</span>
<span class="n">thing</span> <span class="o">=</span> <span class="n">ProductionClass</span><span class="p">()</span>
<span class="n">thing</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="n">MagicMock</span><span class="p">(</span><span class="n">return_value</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">thing</span><span class="o">.</span><span class="n">method</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">)</span>

<span class="n">thing</span><span class="o">.</span><span class="n">method</span><span class="o">.</span><span class="n">assert_called_with</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To mock classes or objects in a module under test, use the <code class="docutils literal"><span class="pre">patch</span></code> decorator.
In the example below, an external search system is replaced with a mock that
always returns the same result (but only for the duration of the test).</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">mock_search</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">MockSearchQuerySet</span><span class="p">(</span><span class="n">SearchQuerySet</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">iter</span><span class="p">([</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">MockSearchQuerySet</span><span class="p">()</span>

<span class="c1"># SearchForm here refers to the imported class reference in myapp,</span>
<span class="c1"># not where the SearchForm class itself is imported from</span>
<span class="nd">@mock.patch</span><span class="p">(</span><span class="s1">&#39;myapp.SearchForm.search&#39;</span><span class="p">,</span> <span class="n">mock_search</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_new_watchlist_activities</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># get_search_results runs a search and iterates over the result</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">myapp</span><span class="o">.</span><span class="n">get_search_results</span><span class="p">(</span><span class="n">q</span><span class="o">=</span><span class="s2">&quot;fish&quot;</span><span class="p">)),</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>Mock has many other ways you can configure it and control its behavior.</p>
<blockquote>
<div><a class="reference external" href="http://www.voidspace.org.uk/python/mock/">mock</a></div></blockquote>
</div>
</div>
</div>
<span id="document-writing/logging"></span><div class="section" id="logging">
<h3>Logging<a class="headerlink" href="#logging" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="http://docs.python.org/library/logging.html#module-logging" title="(in Python v2.7)"><code class="xref py py-mod docutils literal"><span class="pre">logging</span></code></a> module has been a part of Python&#8217;s Standard Library since
version 2.3.  It is succinctly described in <span class="target" id="index-0"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0282"><strong>PEP 282</strong></a>.  The documentation
is notoriously hard to read, except for the <a class="reference external" href="http://docs.python.org/howto/logging.html#logging-basic-tutorial">basic logging tutorial</a>.</p>
<p>Logging serves two purposes:</p>
<ul class="simple">
<li><strong>Diagnostic logging</strong> records events related to the application&#8217;s
operation. If a user calls in to report an error, for example, the logs
can be searched for context.</li>
<li><strong>Audit logging</strong> records events for business analysis. A user&#8217;s
transactions can be extracted and combined with other user details for
reports or to optimize a business goal.</li>
</ul>
<div class="section" id="or-print">
<h4>... or Print?<a class="headerlink" href="#or-print" title="Permalink to this headline">¶</a></h4>
<p>The only time that <code class="docutils literal"><span class="pre">print</span></code> is a better option than logging is when
the goal is to display a help statement for a command line application.
Other reasons why logging is better than <code class="docutils literal"><span class="pre">print</span></code>:</p>
<ul class="simple">
<li>The <a class="reference external" href="https://docs.python.org/library/logging.html#logrecord-attributes">log record</a>, which is created with every logging event, contains
readily available diagnostic information such as the file name, full path,
function, and line number of the logging event.</li>
<li>Events logged in included modules are automatically accessible via the root
logger to your application&#8217;s logging stream, unless you filter them out.</li>
<li>Logging can be selectively silenced by using the method
<a class="reference external" href="http://docs.python.org/library/logging.html#logging.Logger.setLevel" title="(in Python v2.7)"><code class="xref py py-meth docutils literal"><span class="pre">logging.Logger.setLevel()</span></code></a> or disabled by setting the attribute
<code class="xref py py-attr docutils literal"><span class="pre">logging.Logger.disabled</span></code> to <code class="docutils literal"><span class="pre">True</span></code>.</li>
</ul>
</div>
<div class="section" id="logging-in-a-library">
<h4>Logging in a Library<a class="headerlink" href="#logging-in-a-library" title="Permalink to this headline">¶</a></h4>
<p>Notes for <a class="reference external" href="https://docs.python.org/howto/logging.html#configuring-logging-for-a-library">configuring logging for a library</a> are in the
<a class="reference external" href="http://docs.python.org/howto/logging.html">logging tutorial</a>.  Because the <em>user</em>, not the library, should
dictate what happens when a logging event occurs, one admonition bears
repeating:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is strongly advised that you do not add any handlers other than
NullHandler to your library’s loggers.</p>
</div>
<p>Best practice when instantiating loggers in a library is to only create them
using the <code class="docutils literal"><span class="pre">__name__</span></code> global variable: the <a class="reference external" href="http://docs.python.org/library/logging.html#module-logging" title="(in Python v2.7)"><code class="xref py py-mod docutils literal"><span class="pre">logging</span></code></a> module creates a
hierarchy of loggers using dot notation, so using <code class="docutils literal"><span class="pre">__name__</span></code> ensures
no name collisions.</p>
<p>Here is an example of best practice from the <a class="reference external" href="https://github.com/kennethreitz/requests">requests source</a> &#8211; place
this in your <code class="docutils literal"><span class="pre">__init__.py</span></code></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Set default logging handler to avoid &quot;No handler found&quot; warnings.</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="k">try</span><span class="p">:</span>  <span class="c1"># Python 2.7+</span>
    <span class="kn">from</span> <span class="nn">logging</span> <span class="kn">import</span> <span class="n">NullHandler</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="k">class</span> <span class="nc">NullHandler</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">Handler</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
            <span class="k">pass</span>

<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">NullHandler</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="section" id="logging-in-an-application">
<h4>Logging in an Application<a class="headerlink" href="#logging-in-an-application" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference external" href="http://12factor.net">twelve factor app</a>, an authoritative reference
for good practice in application development, contains a section on
<a class="reference external" href="http://12factor.net/logs">logging best practice</a>. It emphatically
advocates for treating log events as an event stream, and for
sending that event stream to standard output to be handled by the
application environment.</p>
<p>There are at least three ways to configure a logger:</p>
<ul>
<li><dl class="first docutils">
<dt>Using an INI-formatted file:</dt>
<dd><ul class="first last simple">
<li><strong>Pro</strong>: possible to update configuration while running using the
function <a class="reference external" href="http://docs.python.org/library/logging.config.html#logging.config.listen" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">logging.config.listen()</span></code></a> to listen on a socket.</li>
<li><strong>Con</strong>: less control (<em>e.g.</em> custom subclassed filters or loggers)
than possible when configuring a logger in code.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Using a dictionary or a JSON-formatted file:</dt>
<dd><ul class="first last simple">
<li><strong>Pro</strong>: in addition to updating while running, it is possible to load
from a file using the <a class="reference external" href="http://docs.python.org/library/json.html#module-json" title="(in Python v2.7)"><code class="xref py py-mod docutils literal"><span class="pre">json</span></code></a> module, in the standard library since
Python 2.6.</li>
<li><strong>Con</strong>: less control than when configuring a logger in code.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Using code:</dt>
<dd><ul class="first last simple">
<li><strong>Pro</strong>: complete control over the configuration.</li>
<li><strong>Con</strong>: modifications require a change to source code.</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="section" id="example-configuration-via-an-ini-file">
<h5>Example Configuration via an INI File<a class="headerlink" href="#example-configuration-via-an-ini-file" title="Permalink to this headline">¶</a></h5>
<p>Let us say the file is named <code class="docutils literal"><span class="pre">logging_config.ini</span></code>.
More details for the file format are in the <a class="reference external" href="https://docs.python.org/howto/logging.html#configuring-logging">logging configuration</a>
section of the <a class="reference external" href="http://docs.python.org/howto/logging.html">logging tutorial</a>.</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="k">[loggers]</span>
<span class="na">keys</span><span class="o">=</span><span class="s">root</span>

<span class="k">[handlers]</span>
<span class="na">keys</span><span class="o">=</span><span class="s">stream_handler</span>

<span class="k">[formatters]</span>
<span class="na">keys</span><span class="o">=</span><span class="s">formatter</span>

<span class="k">[logger_root]</span>
<span class="na">level</span><span class="o">=</span><span class="s">DEBUG</span>
<span class="na">handlers</span><span class="o">=</span><span class="s">stream_handler</span>

<span class="k">[handler_stream_handler]</span>
<span class="na">class</span><span class="o">=</span><span class="s">StreamHandler</span>
<span class="na">level</span><span class="o">=</span><span class="s">DEBUG</span>
<span class="na">formatter</span><span class="o">=</span><span class="s">formatter</span>
<span class="na">args</span><span class="o">=</span><span class="s">(sys.stderr,)</span>

<span class="k">[formatter_formatter]</span>
<span class="na">format</span><span class="o">=</span><span class="s">%(asctime)s %(name)-12s %(levelname)-8s %(message)s</span>
</pre></div>
</div>
<p>Then use <code class="xref py py-meth docutils literal"><span class="pre">logging.config.fileConfig()</span></code> in the code:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">logging.config</span> <span class="kn">import</span> <span class="n">fileConfig</span>

<span class="n">fileConfig</span><span class="p">(</span><span class="s1">&#39;logging_config.ini&#39;</span><span class="p">)</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;often makes a very good meal of </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;visiting tourists&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="example-configuration-via-a-dictionary">
<h5>Example Configuration via a Dictionary<a class="headerlink" href="#example-configuration-via-a-dictionary" title="Permalink to this headline">¶</a></h5>
<p>As of Python 2.7, you can use a dictionary with configuration details.
<span class="target" id="index-1"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0391"><strong>PEP 391</strong></a> contains a list of the mandatory and optional elements in
the configuration dictionary.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">logging.config</span> <span class="kn">import</span> <span class="n">dictConfig</span>

<span class="n">logging_config</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">version</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">formatters</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;format&#39;</span><span class="p">:</span>
              <span class="s1">&#39;</span><span class="si">%(asctime)s</span><span class="s1"> </span><span class="si">%(name)-12s</span><span class="s1"> </span><span class="si">%(levelname)-8s</span><span class="s1"> </span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">}</span>
        <span class="p">},</span>
    <span class="n">handlers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;h&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;class&#39;</span><span class="p">:</span> <span class="s1">&#39;logging.StreamHandler&#39;</span><span class="p">,</span>
              <span class="s1">&#39;formatter&#39;</span><span class="p">:</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span>
              <span class="s1">&#39;level&#39;</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">}</span>
        <span class="p">},</span>
    <span class="n">root</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;handlers&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;h&#39;</span><span class="p">],</span>
        <span class="s1">&#39;level&#39;</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">,</span>
        <span class="p">},</span>
<span class="p">)</span>

<span class="n">dictConfig</span><span class="p">(</span><span class="n">logging_config</span><span class="p">)</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;often makes a very good meal of </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;visiting tourists&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="example-configuration-directly-in-code">
<h5>Example Configuration Directly in Code<a class="headerlink" href="#example-configuration-directly-in-code" title="Permalink to this headline">¶</a></h5>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="n">handler</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">()</span>
<span class="n">formatter</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span>
        <span class="s1">&#39;</span><span class="si">%(asctime)s</span><span class="s1"> </span><span class="si">%(name)-12s</span><span class="s1"> </span><span class="si">%(levelname)-8s</span><span class="s1"> </span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">handler</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">formatter</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>

<span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;often makes a very good meal of </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;visiting tourists&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<span id="document-writing/gotchas"></span><div class="section" id="common-gotchas">
<h3>Common Gotchas<a class="headerlink" href="#common-gotchas" title="Permalink to this headline">¶</a></h3>
<p>For the most part, Python aims to be a clean and consistent language that
avoids surprises. However, there are a few cases that can be confusing to
newcomers.</p>
<p>Some of these cases are intentional but can be potentially surprising. Some
could arguably be considered language warts. In general, what follows
is a collection of potentially tricky behavior that might seem strange at first
glance, but is generally sensible once you&#8217;re aware of the underlying cause for
the surprise.</p>
<div class="section" id="mutable-default-arguments">
<span id="default-args"></span><h4>Mutable Default Arguments<a class="headerlink" href="#mutable-default-arguments" title="Permalink to this headline">¶</a></h4>
<p>Seemingly the <em>most</em> common surprise new Python programmers encounter is
Python&#8217;s treatment of mutable default arguments in function definitions.</p>
<div class="section" id="what-you-wrote">
<h5>What You Wrote<a class="headerlink" href="#what-you-wrote" title="Permalink to this headline">¶</a></h5>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">append_to</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="p">[]):</span>
    <span class="n">to</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">to</span>
</pre></div>
</div>
</div>
<div class="section" id="what-you-might-have-expected-to-happen">
<h5>What You Might Have Expected to Happen<a class="headerlink" href="#what-you-might-have-expected-to-happen" title="Permalink to this headline">¶</a></h5>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">my_list</span> <span class="o">=</span> <span class="n">append_to</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="k">print</span> <span class="n">my_list</span>

<span class="n">my_other_list</span> <span class="o">=</span> <span class="n">append_to</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="k">print</span> <span class="n">my_other_list</span>
</pre></div>
</div>
<p>A new list is created each time the function is called if a second argument
isn&#8217;t provided, so that the output is:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">12</span><span class="p">]</span>
<span class="p">[</span><span class="mi">42</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="what-does-happen">
<h5>What Does Happen<a class="headerlink" href="#what-does-happen" title="Permalink to this headline">¶</a></h5>
<div class="highlight-none"><div class="highlight"><pre><span></span>[12]
[12, 42]
</pre></div>
</div>
<p>A new list is created <em>once</em> when the function is defined, and the same list is
used in each successive call.</p>
<p>Python&#8217;s default arguments are evaluated <em>once</em> when the function is defined,
not each time the function is called (like it is in say, Ruby). This means that
if you use a mutable default argument and mutate it, you <em>will</em> and have
mutated that object for all future calls to the function as well.</p>
</div>
<div class="section" id="what-you-should-do-instead">
<h5>What You Should Do Instead<a class="headerlink" href="#what-you-should-do-instead" title="Permalink to this headline">¶</a></h5>
<p>Create a new object each time the function is called, by using a default arg to
signal that no argument was provided (<a class="reference external" href="http://docs.python.org/library/constants.html#None" title="(in Python v2.7)"><code class="xref py py-data docutils literal"><span class="pre">None</span></code></a> is often a good choice).</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">append_to</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">to</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">to</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">to</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">to</span>
</pre></div>
</div>
</div>
<div class="section" id="when-the-gotcha-isn-t-a-gotcha">
<h5>When the Gotcha Isn&#8217;t a Gotcha<a class="headerlink" href="#when-the-gotcha-isn-t-a-gotcha" title="Permalink to this headline">¶</a></h5>
<p>Sometimes you can specifically &#8220;exploit&#8221; (read: use as intended) this behavior
to maintain state between calls of a function. This is often done when writing
a caching function.</p>
</div>
</div>
<div class="section" id="late-binding-closures">
<h4>Late Binding Closures<a class="headerlink" href="#late-binding-closures" title="Permalink to this headline">¶</a></h4>
<p>Another common source of confusion is the way Python binds its variables in
closures (or in the surrounding global scope).</p>
<div class="section" id="id1">
<h5>What You Wrote<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h5>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">create_multipliers</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">[</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">i</span> <span class="o">*</span> <span class="n">x</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h5>What You Might Have Expected to Happen<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h5>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">multiplier</span> <span class="ow">in</span> <span class="n">create_multipliers</span><span class="p">():</span>
    <span class="k">print</span> <span class="n">multiplier</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>A list containing five functions that each have their own closed-over <code class="docutils literal"><span class="pre">i</span></code>
variable that multiplies their argument, producing:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="mi">0</span>
<span class="mi">2</span>
<span class="mi">4</span>
<span class="mi">6</span>
<span class="mi">8</span>
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h5>What Does Happen<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h5>
<div class="highlight-none"><div class="highlight"><pre><span></span>8
8
8
8
8
</pre></div>
</div>
<p>Five functions are created; instead all of them just multiply <code class="docutils literal"><span class="pre">x</span></code> by 4.</p>
<p>Python&#8217;s closures are <em>late binding</em>.
This means that the values of variables used in closures are looked
up at the time the inner function is called.</p>
<p>Here, whenever <em>any</em> of the returned functions are called, the value of <code class="docutils literal"><span class="pre">i</span></code>
is looked up in the surrounding scope at call time. By then, the loop has
completed and <code class="docutils literal"><span class="pre">i</span></code> is left with its final value of 4.</p>
<p>What&#8217;s particularly nasty about this gotcha is the seemingly prevalent
misinformation that this has something to do with <a class="reference external" href="http://docs.python.org/reference/expressions.html#lambda" title="(in Python v2.7)"><span class="xref std std-ref">lambdas</span></a>
in Python. Functions created with a <code class="docutils literal"><span class="pre">lambda</span></code> expression are in no way special,
and in fact the same exact behavior is exhibited by just using an ordinary
<code class="docutils literal"><span class="pre">def</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">create_multipliers</span><span class="p">():</span>
    <span class="n">multipliers</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">multiplier</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">i</span> <span class="o">*</span> <span class="n">x</span>
        <span class="n">multipliers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">multiplier</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">multipliers</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h5>What You Should Do Instead<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h5>
<p>The most general solution is arguably a bit of a hack. Due to Python&#8217;s
aforementioned behavior concerning evaluating default arguments to functions
(see <a class="reference internal" href="#default-args"><span>Mutable Default Arguments</span></a>), you can create a closure that binds immediately to
its arguments by using a default arg like so:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">create_multipliers</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">[</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">i</span><span class="o">=</span><span class="n">i</span> <span class="p">:</span> <span class="n">i</span> <span class="o">*</span> <span class="n">x</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
</pre></div>
</div>
<p>Alternatively, you can use the functools.partial function:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>
<span class="kn">from</span> <span class="nn">operator</span> <span class="kn">import</span> <span class="n">mul</span>

<span class="k">def</span> <span class="nf">create_multipliers</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">partial</span><span class="p">(</span><span class="n">mul</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h5>When the Gotcha Isn&#8217;t a Gotcha<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h5>
<p>Sometimes you want your closures to behave this way. Late binding is good in
lots of situations. Looping to create unique functions is unfortunately a case
where they can cause hiccups.</p>
</div>
</div>
<div class="section" id="bytecode-pyc-files-everywhere">
<h4>Bytecode (.pyc) Files Everywhere!<a class="headerlink" href="#bytecode-pyc-files-everywhere" title="Permalink to this headline">¶</a></h4>
<p>By default, when executing Python code from files, the Python interpreter
will automatically write a bytecode version of that file to disk, e.g.
<code class="docutils literal"><span class="pre">module.pyc</span></code>.</p>
<p>These <code class="docutils literal"><span class="pre">.pyc</span></code> files should not be checked into your source code repositories.</p>
<p>Theoretically, this behavior is on by default, for performance reasons.
Without these bytecode files present, Python would re-generate the bytecode
every time the file is loaded.</p>
<div class="section" id="disabling-bytecode-pyc-files">
<h5>Disabling Bytecode (.pyc) Files<a class="headerlink" href="#disabling-bytecode-pyc-files" title="Permalink to this headline">¶</a></h5>
<p>Luckily, the process of generating the bytecode is extremely fast, and isn&#8217;t
something you need to worry about while developing your code.</p>
<p>Those files are annoying, so let&#8217;s get rid of them!</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ export PYTHONDONTWRITEBYTECODE=1
</pre></div>
</div>
<p>With the <code class="docutils literal"><span class="pre">$PYTHONDONTWRITEBYTECODE</span></code> environment variable set, Python will
no longer write these files to disk, and your development environment will
remain nice and clean.</p>
<p>I recommend setting this environment variable in your <code class="docutils literal"><span class="pre">~/.profile</span></code>.</p>
</div>
<div class="section" id="removing-bytecode-pyc-files">
<h5>Removing Bytecode (.pyc) Files<a class="headerlink" href="#removing-bytecode-pyc-files" title="Permalink to this headline">¶</a></h5>
<p>Here&#8217;s nice trick for removing all of these files, if they already exist:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ find . -type f -name &quot;*.py[co]&quot; -delete -or -type d -name &quot;__pycache__&quot; -delete
</pre></div>
</div>
<p>Run that from the root directory of your project, and all <code class="docutils literal"><span class="pre">.pyc</span></code> files
will suddenly vanish. Much better.</p>
</div>
</div>
</div>
<span id="document-writing/license"></span><div class="section" id="choosing-a-license">
<h3>Choosing a License<a class="headerlink" href="#choosing-a-license" title="Permalink to this headline">¶</a></h3>
<p>Your source publication <em>needs</em> a license. In the US, if no license is
specified, users have no legal right to download, modify, or distribute.
Furthermore, people can&#8217;t contribute to your code unless you tell them what
rules to play by. Choosing a license is complicated, so here are some pointers:</p>
<p>Open source. There are plenty of <a class="reference external" href="http://opensource.org/licenses/alphabetical">open source licenses</a> available to choose
from.</p>
<p>In general, these licenses tend to fall into one of two categories:</p>
<ol class="arabic simple">
<li>licenses that focus more on the user&#8217;s freedom to do with the
software as they please (these are the more permissive open
source licenses such as the MIT, BSD, &amp; Apache).</li>
<li>licenses that focus more on making sure that the code itself —
including any changes made to it and distributed along with it —
always remains free (these are the less permissive free software
licenses such as the GPL and LGPL).</li>
</ol>
<p>The latter are less permissive in the sense that they don&#8217;t permit
someone to add code to the software and distribute it without also
including the source code for their changes.</p>
<p>To help you choose one for your project, there&#8217;s a <a class="reference external" href="http://choosealicense.com/">license chooser</a>,
<strong>use it</strong>.</p>
<p><strong>More Permissive</strong></p>
<ul class="simple">
<li>PSFL (Python Software Foundation License) &#8211; for contributing to Python itself</li>
<li>MIT / BSD / ISC<ul>
<li>MIT (X11)</li>
<li>New BSD</li>
<li>ISC</li>
</ul>
</li>
<li>Apache</li>
</ul>
<p><strong>Less Permissive:</strong></p>
<ul class="simple">
<li>LGPL</li>
<li>GPL<ul>
<li>GPLv2</li>
<li>GPLv3</li>
</ul>
</li>
</ul>
<p>A good overview of licenses with explanations of what one can, cannot,
and must do using a particular software can be found at
<a class="reference external" href="https://tldrlegal.com/">tl;drLegal</a>.</p>
</div>
</div>
</div>
<div class="section" id="scenario-guide-for-python-applications">
<h2>Scenario Guide for Python Applications<a class="headerlink" href="#scenario-guide-for-python-applications" title="Permalink to this headline">¶</a></h2>
<p>This part of the guide focuses on tool and module advice based on
different scenarios.</p>
<div class="toctree-wrapper compound">
<span id="document-scenarios/client"></span><div class="section" id="network-applications">
<h3>Network Applications<a class="headerlink" href="#network-applications" title="Permalink to this headline">¶</a></h3>
<div class="section" id="http">
<h4>HTTP<a class="headerlink" href="#http" title="Permalink to this headline">¶</a></h4>
<p>The Hypertext Transfer Protocol (HTTP) is an application protocol for
distributed, collaborative, hypermedia information systems. HTTP is the
foundation of data communication for the World Wide Web.</p>
<div class="section" id="requests">
<h5>Requests<a class="headerlink" href="#requests" title="Permalink to this headline">¶</a></h5>
<p>Python’s standard urllib2 module provides most of the HTTP capabilities you
need, but the API is thoroughly broken. It was built for a different time —
and a different web. It requires an enormous amount of work (even method
overrides) to perform the simplest of tasks.</p>
<p>Requests takes all of the work out of Python HTTP — making your integration
with web services seamless. There’s no need to manually add query strings to
your URLs, or to form-encode your POST data. Keep-alive and HTTP connection
pooling are 100% automatic, powered by urllib3, which is embedded within
Requests.</p>
<ul class="simple">
<li><a class="reference external" href="http://docs.python-requests.org/en/latest/index.html">Documentation</a></li>
<li><a class="reference external" href="http://pypi.python.org/pypi/requests">PyPi</a></li>
<li><a class="reference external" href="https://github.com/kennethreitz/requests">GitHub</a></li>
</ul>
</div>
</div>
<div class="section" id="distributed-systems">
<h4>Distributed Systems<a class="headerlink" href="#distributed-systems" title="Permalink to this headline">¶</a></h4>
<div class="section" id="zeromq">
<h5>ZeroMQ<a class="headerlink" href="#zeromq" title="Permalink to this headline">¶</a></h5>
<p>ØMQ (also spelled ZeroMQ, 0MQ or ZMQ) is a high-performance asynchronous
messaging library aimed at use in scalable distributed or concurrent
applications. It provides a message queue, but unlike message-oriented
middleware, a ØMQ system can run without a dedicated message broker. The
library is designed to have a familiar socket-style API.</p>
</div>
<div class="section" id="rabbitmq">
<h5>RabbitMQ<a class="headerlink" href="#rabbitmq" title="Permalink to this headline">¶</a></h5>
<p>RabbitMQ is an open source message broker software that implements the Advanced
Message Queuing Protocol (AMQP).  The RabbitMQ server is written in the Erlang
programming language and is built on the Open Telecom Platform framework for
clustering and failover. Client libraries to interface with the broker are
available for all major programming languages.</p>
<ul class="simple">
<li><a class="reference external" href="http://www.rabbitmq.com/">Homepage</a></li>
<li><a class="reference external" href="https://github.com/rabbitmq?page=1">GitHub Organization</a></li>
</ul>
</div>
</div>
</div>
<span id="document-scenarios/web"></span><div class="section" id="web-applications">
<h3>Web Applications<a class="headerlink" href="#web-applications" title="Permalink to this headline">¶</a></h3>
<p>As a powerful scripting language adapted to both fast prototyping
and bigger projects, Python is widely used in web application
development.</p>
<div class="section" id="context">
<h4>Context<a class="headerlink" href="#context" title="Permalink to this headline">¶</a></h4>
<div class="section" id="wsgi">
<h5>WSGI<a class="headerlink" href="#wsgi" title="Permalink to this headline">¶</a></h5>
<p>The Web Server Gateway Interface (or &#8220;WSGI&#8221; for short) is a standard
interface between web servers and Python web application frameworks. By
standardizing behavior and communication between web servers and Python web
frameworks, WSGI makes it possible to write portable Python web code that
can be deployed in any <a class="reference internal" href="#wsgi-servers-ref"><span>WSGI-compliant web server</span></a>.
WSGI is documented in <span class="target" id="index-0"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3333"><strong>PEP 3333</strong></a>.</p>
</div>
</div>
<div class="section" id="frameworks">
<h4>Frameworks<a class="headerlink" href="#frameworks" title="Permalink to this headline">¶</a></h4>
<p>Broadly speaking, a web framework consists of a set of libraries and a main
handler within which you can build custom code to implement a web application
(i.e. an interactive web site). Most web frameworks include patterns and
utilities to accomplish at least the following:</p>
<dl class="docutils">
<dt>URL Routing</dt>
<dd>Matches an incoming HTTP request to a particular piece of Python code to
be invoked</dd>
<dt>Request and Response Objects</dt>
<dd>Encapsulate the information received from or sent to a user&#8217;s browser</dd>
<dt>Template Engine</dt>
<dd>Allows for separating Python code implementing an application&#8217;s logic from
the HTML (or other) output that it produces</dd>
<dt>Development Web Server</dt>
<dd>Runs an HTTP server on development machines to enable rapid development;
often automatically reloads server-side code when files are updated</dd>
</dl>
<div class="section" id="django">
<h5>Django<a class="headerlink" href="#django" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://www.djangoproject.com">Django</a> is a &#8220;batteries included&#8221; web
application framework, and is an excellent choice for creating content-oriented
websites. By providing many utilities and patterns out of the box, Django aims
to make it possible to build complex, database-backed web applications quickly,
while encouraging best practices in code written using it.</p>
<p>Django has a large and active community, and many pre-built <a class="reference external" href="http://djangopackages.com/">re-usable
modules</a> that can be incorporated into a new
project as-is, or customized to fit your needs.</p>
<p>There are annual Django conferences <a class="reference external" href="http://djangocon.us">in the United States</a> and <a class="reference external" href="http://djangocon.eu">in Europe</a>.</p>
<p>The majority of new Python web applications today are built with Django.</p>
</div>
<div class="section" id="flask">
<h5>Flask<a class="headerlink" href="#flask" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://flask.pocoo.org/">Flask</a> is a &#8220;microframework&#8221; for Python, and is
an excellent choice for building smaller applications, APIs, and web services.</p>
<p>Building an app with Flask is a lot like writing standard Python modules,
except some functions have routes attached to them. It&#8217;s really beautiful.</p>
<p>Rather than aiming to provide everything you could possibly need, Flask
implements the most commonly-used core components of a web application
framework, like URL routing, request and response objects, and templates.</p>
<p>If you use Flask, it is up to you to choose other components for your
application, if any. For example, database access or form generation and
validation are not built-in functions of Flask.</p>
<p>This is great, because many web applications don&#8217;t need those features.
For those that do, there are many
<a class="reference external" href="http://flask.pocoo.org/extensions/">Extensions</a> available that may
suit your needs. Or, you can easily use any library you want yourself!</p>
<p>Flask is default choice for any Python web application that isn&#8217;t a good
fit for Django.</p>
</div>
<div class="section" id="tornado">
<h5>Tornado<a class="headerlink" href="#tornado" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://www.tornadoweb.org/">Tornado</a> is an asyncronous web framework
for Python that has its own event loop. This allows it to natively support
WebSockets, for example. Well-written Tornado applications are known to
have excellent performance characteristics.</p>
<p>I do not recommend using Tornado unless you think you need it.</p>
</div>
<div class="section" id="pyramid">
<h5>Pyramid<a class="headerlink" href="#pyramid" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="https://trypyramid.com/">Pyramid</a> is a very flexible framework with a heavy
focus on modularity. It comes with a small number of libraries (&#8220;batteries&#8221;)
built-in, and encourages users to extend its base functionality.</p>
<p>Pyramid does not have a large user base, unlike Django and Flask. It&#8217;s a
capable framework, but not a very popular choice for new Python web
applications today.</p>
</div>
</div>
<div class="section" id="web-servers">
<h4>Web Servers<a class="headerlink" href="#web-servers" title="Permalink to this headline">¶</a></h4>
<div class="section" id="nginx">
<span id="nginx-ref"></span><h5>Nginx<a class="headerlink" href="#nginx" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://nginx.org/">Nginx</a> (pronounced &#8220;engine-x&#8221;) is a web server and
reverse-proxy for HTTP, SMTP and other protocols. It is known for its
high performance, relative simplicity, and compatibility with many
application servers (like WSGI servers). It also includes handy features
like load-balancing, basic authentication, streaming, and others. Designed
to serve high-load websites, Nginx is gradually becoming quite popular.</p>
</div>
</div>
<div class="section" id="wsgi-servers">
<span id="wsgi-servers-ref"></span><h4>WSGI Servers<a class="headerlink" href="#wsgi-servers" title="Permalink to this headline">¶</a></h4>
<p>Stand-alone WSGI servers typically use less resources than traditional web
servers and provide top performance <a class="footnote-reference" href="#id17" id="id6">[3]</a>.</p>
<div class="section" id="gunicorn">
<span id="gunicorn-ref"></span><h5>Gunicorn<a class="headerlink" href="#gunicorn" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://gunicorn.org/">Gunicorn</a> (Green Unicorn) is a pure-python WSGI
server used to serve Python applications. Unlike other Python web servers,
it has a thoughtful user-interface, and is extremely easy to use and
configure.</p>
<p>Gunicorn has sane and reasonable defaults for configurations. However, some
other servers, like uWSGI, are tremendously more customizable, and therefore,
are much more difficult to effectively use.</p>
<p>Gunicorn is the recommended choice for new Python web applications today.</p>
</div>
<div class="section" id="waitress">
<h5>Waitress<a class="headerlink" href="#waitress" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="https://waitress.readthedocs.io">Waitress</a> is a pure-python WSGI server
that claims &#8220;very acceptable performance&#8221;. Its documentation is not very
detailed, but it does offer some nice functionality that Gunicorn doesn&#8217;t have
(e.g. HTTP request buffering).</p>
<p>Waitress is gaining popularity within the Python web development community.</p>
</div>
<div class="section" id="uwsgi">
<span id="uwsgi-ref"></span><h5>uWSGI<a class="headerlink" href="#uwsgi" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="https://uwsgi-docs.readthedocs.io">uWSGI</a> is a full stack for building
hosting services.  In addition to process management, process monitoring,
and other functionality, uWSGI acts as an application server for various
programming languages and protocols - including Python and WSGI. uWSGI can
either be run as a stand-alone web router, or be run behind a full web
server (such as Nginx or Apache).  In the latter case, a web server can
configure uWSGI and an application&#8217;s operation over the
<a class="reference external" href="https://uwsgi-docs.readthedocs.io/en/latest/Protocol.html">uwsgi protocol</a>.
uWSGI&#8217;s web server support allows for dynamically configuring
Python, passing environment variables and further tuning.  For full details,
see <a class="reference external" href="https://uwsgi-docs.readthedocs.io/en/latest/Vars.html">uWSGI magic
variables</a>.</p>
<p>I do not recommend using uWSGI unless you know why you need it.</p>
</div>
</div>
<div class="section" id="server-best-practices">
<span id="server-best-practices-ref"></span><h4>Server Best Practices<a class="headerlink" href="#server-best-practices" title="Permalink to this headline">¶</a></h4>
<p>The majority of self-hosted Python applications today are hosted with a WSGI
server such as <a class="reference internal" href="#gunicorn-ref"><span>Gunicorn</span></a>, either directly or behind a
lightweight web server such as <a class="reference internal" href="#nginx-ref"><span>nginx</span></a>.</p>
<p>The WSGI servers serve the Python applications while the web server handles
tasks better suited for it such as static file serving, request routing, DDoS
protection, and basic authentication.</p>
</div>
<div class="section" id="hosting">
<h4>Hosting<a class="headerlink" href="#hosting" title="Permalink to this headline">¶</a></h4>
<p>Platform-as-a-Service (PaaS) is a type of cloud computing infrastructure
which abstracts and manages infrastructure, routing, and scaling of web
applications. When using a PaaS, application developers can focus on writing
application code rather than needing to be concerned with deployment
details.</p>
<div class="section" id="heroku">
<h5>Heroku<a class="headerlink" href="#heroku" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://www.heroku.com/python">Heroku</a> offers first-class support for
Python 2.7–3.5 applications.</p>
<p>Heroku supports all types of Python web applications, servers, and frameworks.
Applications can be developed on Heroku for free. Once your application is
ready for production, you can upgrade to a Hobby or Professional application.</p>
<p>Heroku maintains <a class="reference external" href="https://devcenter.heroku.com/categories/python">detailed articles</a>
on using Python with Heroku, as well as <a class="reference external" href="https://devcenter.heroku.com/articles/getting-started-with-python">step-by-step instructions</a> on
how to set up your first application.</p>
<p>Heroku is the recommended PaaS for deploying Python web applications today.</p>
</div>
<div class="section" id="gondor">
<h5>Gondor<a class="headerlink" href="#gondor" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="https://gondor.io/">Gondor</a> is a PaaS specialized for deploying Django
and Pinax applications. Gondor recommends Django version 1.6 and supports any
WSGI application on Python version 2.7. Gondor can automatically configure your
Django site if you use <code class="file docutils literal"><span class="pre">local_settings.py</span></code> for site-specific configuration
information.</p>
<p>Gondor has a guide on deploying <a class="reference external" href="https://gondor.io/support/django/setup/">Django projects</a>.</p>
<p>Gondor is run by a small company and focuses on helping businesses find success with
Python and Django.</p>
</div>
</div>
<div class="section" id="templating">
<h4>Templating<a class="headerlink" href="#templating" title="Permalink to this headline">¶</a></h4>
<p>Most WSGI applications are responding to HTTP requests to serve content in HTML
or other markup languages. Instead of generating directly textual content from
Python, the concept of separation of concerns advises us to use templates. A
template engine manages a suite of template files, with a system of hierarchy
and inclusion to avoid unnecessary repetition, and is in charge of rendering
(generating) the actual content, filling the static content of the templates
with the dynamic content generated by the application.</p>
<p>As template files are
sometimes written by designers or front-end developers, it can be difficult to
handle increasing complexity.</p>
<p>Some general good practices apply to the part of the application passing
dynamic content to the template engine, and to the templates themselves.</p>
<ul class="simple">
<li>Template files should be passed only the dynamic
content that is needed for rendering the template. Avoid
the temptation to pass additional content &#8220;just in case&#8221;:
it is easier to add some missing variable when needed than to remove
a likely unused variable later.</li>
<li>Many template engines allow for complex statements
or assignments in the template itself, and many
allow some Python code to be evaluated in the
templates. This convenience can lead to uncontrolled
increase in complexity, and often make it harder to find bugs.</li>
<li>It is often necessary to mix JavaScript templates with
HTML templates. A sane approach to this design is to isolate
the parts where the HTML template passes some variable content
to the JavaScript code.</li>
</ul>
<div class="section" id="jinja2">
<h5>Jinja2<a class="headerlink" href="#jinja2" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://jinja.pocoo.org/">Jinja2</a> is a very well-regarded template engine.</p>
<p>It uses a text-based template language and can thus be used to generate any
type markup, not just HTML. It allows customization of filters, tags, tests
and globals. It features many improvements over Django&#8217;s templating system.</p>
<p>Here some important html tags in Jinja2:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span>{# This is a comment #}

{# The next tag is a variable output: #}
{{title}}

{# Tag for a block, can be replaced through inheritance with other html code #}
{% block head %}
<span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>This is the head!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
{% endblock %}

{# Output of an array as an iteration #}
{% for item in list %}
<span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>{{ item }}<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
{% endfor %}
</pre></div>
</div>
<p>The next listings is an example of a web site in combination with the Tornado
web server. Tornado is not very complicated to use.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># import Jinja2</span>
<span class="kn">from</span> <span class="nn">jinja2</span> <span class="kn">import</span> <span class="n">Environment</span><span class="p">,</span> <span class="n">FileSystemLoader</span>

<span class="c1"># import Tornado</span>
<span class="kn">import</span> <span class="nn">tornado.ioloop</span>
<span class="kn">import</span> <span class="nn">tornado.web</span>

<span class="c1"># Load template file templates/site.html</span>
<span class="n">TEMPLATE_FILE</span> <span class="o">=</span> <span class="s2">&quot;site.html&quot;</span>
<span class="n">templateLoader</span> <span class="o">=</span> <span class="n">FileSystemLoader</span><span class="p">(</span> <span class="n">searchpath</span><span class="o">=</span><span class="s2">&quot;templates/&quot;</span> <span class="p">)</span>
<span class="n">templateEnv</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">(</span> <span class="n">loader</span><span class="o">=</span><span class="n">templateLoader</span> <span class="p">)</span>
<span class="n">template</span> <span class="o">=</span> <span class="n">templateEnv</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="n">TEMPLATE_FILE</span><span class="p">)</span>

<span class="c1"># List for famous movie rendering</span>
<span class="n">movie_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;The Hitchhiker&#39;s Guide to the Galaxy&quot;</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="s2">&quot;Back to future&quot;</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="s2">&quot;Matrix&quot;</span><span class="p">]]</span>

<span class="c1"># template.render() returns a string which contains the rendered html</span>
<span class="n">html_output</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="nb">list</span><span class="o">=</span><span class="n">movie_list</span><span class="p">,</span>
                        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Here is my favorite movie list&quot;</span><span class="p">)</span>

<span class="c1"># Handler for main page</span>
<span class="k">class</span> <span class="nc">MainHandler</span><span class="p">(</span><span class="n">tornado</span><span class="o">.</span><span class="n">web</span><span class="o">.</span><span class="n">RequestHandler</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Returns rendered template string to the browser request</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">html_output</span><span class="p">)</span>

<span class="c1"># Assign handler to the server root  (127.0.0.1:PORT/)</span>
<span class="n">application</span> <span class="o">=</span> <span class="n">tornado</span><span class="o">.</span><span class="n">web</span><span class="o">.</span><span class="n">Application</span><span class="p">([</span>
    <span class="p">(</span><span class="s2">r&quot;/&quot;</span><span class="p">,</span> <span class="n">MainHandler</span><span class="p">),</span>
<span class="p">])</span>
<span class="n">PORT</span><span class="o">=</span><span class="mi">8884</span>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="c1"># Setup the server</span>
    <span class="n">application</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="n">PORT</span><span class="p">)</span>
    <span class="n">tornado</span><span class="o">.</span><span class="n">ioloop</span><span class="o">.</span><span class="n">IOLoop</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>The <code class="file docutils literal"><span class="pre">base.html</span></code> file can be used as base for all site pages which are
for example implemented in the content block.</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot;&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">xmlns</span><span class="o">=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;style.css&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>{{title}} - My Webpage<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;content&quot;</span><span class="p">&gt;</span>
    {# In the next line the content from the site.html template will be added #}
    {% block content %}{% endblock %}
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;footer&quot;</span><span class="p">&gt;</span>
    {% block footer %}
    <span class="ni">&amp;copy;</span> Copyright 2013 by <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;http://domain.invalid/&quot;</span><span class="p">&gt;</span>you<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>.
    {% endblock %}
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>The next listing is our site page (<code class="file docutils literal"><span class="pre">site.html</span></code>) loaded in the Python
app which extends <code class="file docutils literal"><span class="pre">base.html</span></code>. The content block is automatically set
into the corresponding block in the <code class="file docutils literal"><span class="pre">base.html</span></code> page.</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="cp">&lt;!{% extends &quot;base.html&quot; %}</span>
<span class="cp">{% block content %}</span>
<span class="cp">    &lt;p class=&quot;important&quot;&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;content&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>{{title}}<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>{{ list_title }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
             {% for item in list %}
             <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>{{ item[0]}} :  {{ item[1]}}<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
             {% endfor %}
        <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
{% endblock %}
</pre></div>
</div>
<p>Jinja2 is the recommended templating library for new Python web applications.</p>
</div>
<div class="section" id="chameleon">
<h5>Chameleon<a class="headerlink" href="#chameleon" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="https://chameleon.readthedocs.io/">Chameleon</a> Page Templates are an HTML/XML template
engine implementation of the <a class="reference external" href="http://en.wikipedia.org/wiki/Template_Attribute_Language">Template Attribute Language (TAL)</a>,
<a class="reference external" href="https://chameleon.readthedocs.io/en/latest/reference.html#expressions-tales">TAL Expression Syntax (TALES)</a>,
and <a class="reference external" href="https://chameleon.readthedocs.io/en/latest/reference.html#macros-metal">Macro Expansion TAL (Metal)</a> syntaxes.</p>
<p>Chameleon is available for Python 2.5 and up (including 3.x and pypy), and
is commonly used by the <a class="reference external" href="http://trypyramid.com">Pyramid Framework</a>.</p>
<p>Page Templates add within your document structure special element attributes
and text markup. Using a set of simple language constructs, you control the
document flow, element repetition, text replacement and translation. Because
of the attribute-based syntax, unrendered page templates are valid HTML and can
be viewed in a browser and even edited in WYSIWYG editors. This can make
round-trip collaboration with designers and prototyping with static files in a
browser easier.</p>
<p>The basic TAL language is simple enough to grasp from an example:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello, <span class="p">&lt;</span><span class="nt">span</span> <span class="na">tal:replace</span><span class="o">=</span><span class="s">&quot;context.name&quot;</span><span class="p">&gt;</span>World<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">table</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">tr</span> <span class="na">tal:repeat</span><span class="o">=</span><span class="s">&quot;row &#39;apple&#39;, &#39;banana&#39;, &#39;pineapple&#39;&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">td</span> <span class="na">tal:repeat</span><span class="o">=</span><span class="s">&quot;col &#39;juice&#39;, &#39;muffin&#39;, &#39;pie&#39;&quot;</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">span</span> <span class="na">tal:replace</span><span class="o">=</span><span class="s">&quot;row.capitalize()&quot;</span> <span class="p">/&gt;</span> <span class="p">&lt;</span><span class="nt">span</span> <span class="na">tal:replace</span><span class="o">=</span><span class="s">&quot;col&quot;</span> <span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>The <cite>&lt;span tal:replace=&#8221;expression&#8221; /&gt;</cite> pattern for text insertion is common
enough that if you do not require strict validity in your unrendered templates,
you can replace it with a more terse and readable syntax that uses the pattern
<cite>${expression}</cite>, as follows:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello, ${world}!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">table</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">tr</span> <span class="na">tal:repeat</span><span class="o">=</span><span class="s">&quot;row &#39;apple&#39;, &#39;banana&#39;, &#39;pineapple&#39;&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">td</span> <span class="na">tal:repeat</span><span class="o">=</span><span class="s">&quot;col &#39;juice&#39;, &#39;muffin&#39;, &#39;pie&#39;&quot;</span><span class="p">&gt;</span>
           ${row.capitalize()} ${col}
        <span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>But keep in mind that the full <cite>&lt;span tal:replace=&#8221;expression&#8221;&gt;Default Text&lt;/span&gt;</cite>
syntax also allows for default content in the unrendered template.</p>
<p>Being from the Pyramid world, Chameleon is not widely used.</p>
</div>
<div class="section" id="mako">
<h5>Mako<a class="headerlink" href="#mako" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://www.makotemplates.org/">Mako</a> is a template language that compiles to Python
for maximum performance. Its syntax and api is borrowed from the best parts of other
templating languages like Django and Jinja2 templates. It is the default template
language included with the <a class="reference external" href="http://www.pylonsproject.org/">Pylons and Pyramid</a> web
frameworks.</p>
<p>An example template in Mako looks like:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span>&lt;%inherit file=&quot;base.html&quot;/&gt;
&lt;%
    rows = [[v for v in range(0,10)] for row in range(0,10)]
%&gt;
&lt;table&gt;
    % for row in rows:
        ${makerow(row)}
    % endfor
&lt;/table&gt;

&lt;%def name=&quot;makerow(row)&quot;&gt;
    &lt;tr&gt;
    % for name in row:
        &lt;td&gt;${name}&lt;/td&gt;\
    % endfor
    &lt;/tr&gt;
&lt;/%def&gt;
</pre></div>
</div>
<p>To render a very basic template, you can do the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mako.template</span> <span class="kn">import</span> <span class="n">Template</span>
<span class="k">print</span><span class="p">(</span><span class="n">Template</span><span class="p">(</span><span class="s2">&quot;hello ${data}!&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s2">&quot;world&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>Mako is well respected within the Python web community.</p>
<p class="rubric">References</p>
<table class="docutils footnote" frame="void" id="id15" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td><a class="reference external" href="http://blog.dscpl.com.au/2010/06/modpython-project-is-now-officially.html">The mod_python project is now officially dead</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id16" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[2]</td><td><a class="reference external" href="http://www.modpython.org/pipermail/mod_python/2007-July/024080.html">mod_wsgi vs mod_python</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id17" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[3]</a></td><td><a class="reference external" href="http://nichol.as/benchmark-of-python-web-servers">Benchmark of Python WSGI Servers</a></td></tr>
</tbody>
</table>
</div>
</div>
</div>
<span id="document-scenarios/scrape"></span><div class="section" id="html-scraping">
<h3>HTML Scraping<a class="headerlink" href="#html-scraping" title="Permalink to this headline">¶</a></h3>
<div class="section" id="web-scraping">
<h4>Web Scraping<a class="headerlink" href="#web-scraping" title="Permalink to this headline">¶</a></h4>
<p>Web sites are written using HTML, which means that each web page is a
structured document. Sometimes it would be great to obtain some data from
them and preserve the structure while we&#8217;re at it. Web sites don&#8217;t always
provide their data in comfortable formats such as <code class="docutils literal"><span class="pre">csv</span></code> or <code class="docutils literal"><span class="pre">json</span></code>.</p>
<p>This is where web scraping comes in. Web scraping is the practice of using a
computer program to sift through a web page and gather the data that you need
in a format most useful to you while at the same time preserving the structure
of the data.</p>
</div>
<div class="section" id="lxml-and-requests">
<h4>lxml and Requests<a class="headerlink" href="#lxml-and-requests" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://lxml.de/">lxml</a> is a pretty extensive library written for parsing
XML and HTML documents very quickly, even handling messed up tags in the
process. We will also be using the
<a class="reference external" href="http://docs.python-requests.org/en/latest/">Requests</a> module instead of the
already built-in urllib2 module due to improvements in speed and readability.
You can easily install both using <code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">lxml</span></code> and
<code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">requests</span></code>.</p>
<p>Let&#8217;s start with the imports:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">lxml</span> <span class="kn">import</span> <span class="n">html</span>
<span class="kn">import</span> <span class="nn">requests</span>
</pre></div>
</div>
<p>Next we will use <code class="docutils literal"><span class="pre">requests.get</span></code> to retrieve the web page with our data,
parse it using the <code class="docutils literal"><span class="pre">html</span></code> module and save the results in <code class="docutils literal"><span class="pre">tree</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">page</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://econpy.pythonanywhere.com/ex/001.html&#39;</span><span class="p">)</span>
<span class="n">tree</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">page</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
<p>(We need to use <code class="docutils literal"><span class="pre">page.content</span></code> rather than <code class="docutils literal"><span class="pre">page.text</span></code> because
<code class="docutils literal"><span class="pre">html.fromstring</span></code> implicitly expects <code class="docutils literal"><span class="pre">bytes</span></code> as input.)</p>
<p><code class="docutils literal"><span class="pre">tree</span></code> now contains the whole HTML file in a nice tree structure which
we can go over two different ways: XPath and CSSSelect. In this example, we
will focus on the former.</p>
<p>XPath is a way of locating information in structured documents such as
HTML or XML documents. A good introduction to XPath is on
<a class="reference external" href="http://www.w3schools.com/xsl/xpath_intro.asp">W3Schools</a> .</p>
<p>There are also various tools for obtaining the XPath of elements such as
FireBug for Firefox or the Chrome Inspector. If you&#8217;re using Chrome, you
can right click an element, choose &#8216;Inspect element&#8217;, highlight the code,
right click again and choose &#8216;Copy XPath&#8217;.</p>
<p>After a quick analysis, we see that in our page the data is contained in
two elements - one is a div with title &#8216;buyer-name&#8217; and the other is a
span with class &#8216;item-price&#8217;:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">title</span><span class="o">=</span><span class="s">&quot;buyer-name&quot;</span><span class="p">&gt;</span>Carson Busses<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;item-price&quot;</span><span class="p">&gt;</span>$29.95<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Knowing this we can create the correct XPath query and use the lxml
<code class="docutils literal"><span class="pre">xpath</span></code> function like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">#This will create a list of buyers:</span>
<span class="n">buyers</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">xpath</span><span class="p">(</span><span class="s1">&#39;//div[@title=&quot;buyer-name&quot;]/text()&#39;</span><span class="p">)</span>
<span class="c1">#This will create a list of prices</span>
<span class="n">prices</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">xpath</span><span class="p">(</span><span class="s1">&#39;//span[@class=&quot;item-price&quot;]/text()&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Let&#8217;s see what we got exactly:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">print</span> <span class="s1">&#39;Buyers: &#39;</span><span class="p">,</span> <span class="n">buyers</span>
<span class="k">print</span> <span class="s1">&#39;Prices: &#39;</span><span class="p">,</span> <span class="n">prices</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span>Buyers:  [&#39;Carson Busses&#39;, &#39;Earl E. Byrd&#39;, &#39;Patty Cakes&#39;,
&#39;Derri Anne Connecticut&#39;, &#39;Moe Dess&#39;, &#39;Leda Doggslife&#39;, &#39;Dan Druff&#39;,
&#39;Al Fresco&#39;, &#39;Ido Hoe&#39;, &#39;Howie Kisses&#39;, &#39;Len Lease&#39;, &#39;Phil Meup&#39;,
&#39;Ira Pent&#39;, &#39;Ben D. Rules&#39;, &#39;Ave Sectomy&#39;, &#39;Gary Shattire&#39;,
&#39;Bobbi Soks&#39;, &#39;Sheila Takya&#39;, &#39;Rose Tattoo&#39;, &#39;Moe Tell&#39;]

Prices:  [&#39;$29.95&#39;, &#39;$8.37&#39;, &#39;$15.26&#39;, &#39;$19.25&#39;, &#39;$19.25&#39;,
&#39;$13.99&#39;, &#39;$31.57&#39;, &#39;$8.49&#39;, &#39;$14.47&#39;, &#39;$15.86&#39;, &#39;$11.11&#39;,
&#39;$15.98&#39;, &#39;$16.27&#39;, &#39;$7.50&#39;, &#39;$50.85&#39;, &#39;$14.26&#39;, &#39;$5.68&#39;,
&#39;$15.00&#39;, &#39;$114.07&#39;, &#39;$10.09&#39;]
</pre></div>
</div>
<p>Congratulations! We have successfully scraped all the data we wanted from
a web page using lxml and Requests. We have it stored in memory as two
lists. Now we can do all sorts of cool stuff with it: we can analyze it
using Python or we can save it to a file and share it with the world.</p>
<p>Some more cool ideas to think about are modifying this script to iterate
through the rest of the pages of this example dataset, or rewriting this
application to use threads for improved speed.</p>
</div>
</div>
<span id="document-scenarios/cli"></span><div class="section" id="command-line-applications">
<h3>Command-line Applications<a class="headerlink" href="#command-line-applications" title="Permalink to this headline">¶</a></h3>
<p>Command-line applications, also referred to as
<a class="reference external" href="http://en.wikipedia.org/wiki/Console_application">Console Applications</a>,
are computer programs designed to be used from a text interface, such as a
<a class="reference external" href="http://en.wikipedia.org/wiki/Shell_(computing)">shell</a>. Command-line
applications usually accept various inputs as arguments, often referred to as
parameters or sub-commands, as well as options, often referred to as flags or
switches.</p>
<p>Some popular command-line applications include:</p>
<ul class="simple">
<li><a class="reference external" href="http://en.wikipedia.org/wiki/Grep">Grep</a> - A plain-text data search utility</li>
<li><a class="reference external" href="http://curl.haxx.se/">curl</a> - A tool for data transfer with URL syntax</li>
<li><a class="reference external" href="https://github.com/jakubroztocil/httpie">httpie</a> - A command line HTTP
client, a user-friendly cURL replacement</li>
<li><a class="reference external" href="http://git-scm.com/">git</a> - A distributed version control system</li>
<li><a class="reference external" href="https://www.mercurial-scm.org/">mercurial</a> - A distributed version control
system primarily written in Python</li>
</ul>
<div class="section" id="clint">
<h4>Clint<a class="headerlink" href="#clint" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://pypi.python.org/pypi/clint/">clint</a> is a Python module which is
filled with very useful tools for developing command-line applications.
It supports features such as; CLI colors and indents, simple and powerful
column printer, iterator based progress bars and implicit argument handling.</p>
</div>
<div class="section" id="click">
<h4>Click<a class="headerlink" href="#click" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://click.pocoo.org/">click</a> is an upcoming Python package for creating
command-line interfaces in a composable way with as little code as
possible. This “Command-line Interface Creation Kit” is highly
configurable but comes with good defaults out of the box.</p>
</div>
<div class="section" id="docopt">
<h4>docopt<a class="headerlink" href="#docopt" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://docopt.org/">docopt</a> is a lightweight, highly Pythonic package that
allows creating command-line interfaces easily and intuitively, by parsing
POSIX-style usage instructions.</p>
</div>
<div class="section" id="plac">
<h4>Plac<a class="headerlink" href="#plac" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://pypi.python.org/pypi/plac">Plac</a> is a simple wrapper
over the Python standard library <a class="reference external" href="http://docs.python.org/2/library/argparse.html">argparse</a>,
which hides most of its complexity by using a declarative interface: the
argument parser is inferred rather than written down by imperatively. This
module targets especially unsophisticated users, programmers, sys-admins,
scientists and in general people writing throw-away scripts for themselves,
who choose to create a command-line interface because it is quick and simple.</p>
</div>
<div class="section" id="cliff">
<h4>Cliff<a class="headerlink" href="#cliff" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://docs.openstack.org/developer/cliff/">Cliff</a>  is a framework for
building command-line programs. It uses setuptools entry points to provide
subcommands, output formatters, and other extensions. The framework is meant
to be used to create multi-level commands such as subversion and git, where
the main program handles some basic argument parsing and then invokes a
sub-command to do the work.</p>
</div>
<div class="section" id="cement">
<h4>Cement<a class="headerlink" href="#cement" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://builtoncement.com/">Cement</a> is an advanced CLI Application Framework.
Its goal is to introduce a standard, and feature-full platform
for both simple and complex command line applications as well
as support rapid development needs without sacrificing quality.
Cement is flexible, and it&#8217;s use cases span from the simplicity of a micro-framework
to the complexity of a meg-framework.</p>
</div>
</div>
<span id="document-scenarios/gui"></span><div class="section" id="gui-applications">
<h3>GUI Applications<a class="headerlink" href="#gui-applications" title="Permalink to this headline">¶</a></h3>
<p>Alphabetical list of GUI Applications.</p>
<div class="section" id="camelot">
<h4>Camelot<a class="headerlink" href="#camelot" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://www.python-camelot.com">Camelot</a> provides components for building
applications on top of Python, SQLAlchemy and Qt.  It is inspired by
the Django admin interface.</p>
<p>The main resource for information is the website:
<a class="reference external" href="http://www.python-camelot.com">http://www.python-camelot.com</a>
and the mailing list <a class="reference external" href="https://groups.google.com/forum/#!forum/project-camelot">https://groups.google.com/forum/#!forum/project-camelot</a></p>
</div>
<div class="section" id="cocoa">
<h4>Cocoa<a class="headerlink" href="#cocoa" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Cocoa framework is only available on OS X. Don&#8217;t pick this if you&#8217;re writing a cross-platform application!</p>
</div>
</div>
<div class="section" id="gtk">
<h4>GTk<a class="headerlink" href="#gtk" title="Permalink to this headline">¶</a></h4>
<p>PyGTK provides Python bindings for the GTK+ toolkit. Like the GTK+ library
itself, it is currently licensed under the GNU LGPL. It is worth noting that
PyGTK only currently supports the Gtk-2.X API (NOT Gtk-3.0). It is currently
recommended that PyGTK not be used for new projects and that existing
applications be ported from PyGTK to PyGObject.</p>
</div>
<div class="section" id="pygobject-aka-pygi">
<h4>PyGObject aka (PyGi)<a class="headerlink" href="#pygobject-aka-pygi" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://wiki.gnome.org/Projects/PyGObject">PyGObject</a> provides Python bindings, which gives access to the entire GNOME software platform.
It is fully compatible with GTK+ 3. Here is a tutorial to get started with <a class="reference external" href="https://python-gtk-3-tutorial.readthedocs.io/en/latest/">Python GTK+ 3 Tutorial</a>.</p>
<p><a class="reference external" href="http://lazka.github.io/pgi-docs/">API Reference</a></p>
</div>
<div class="section" id="kivy">
<h4>Kivy<a class="headerlink" href="#kivy" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://kivy.org">Kivy</a> is a Python library for development of multi-touch
enabled media rich applications. The aim is to allow for quick and easy
interaction design and rapid prototyping, while making your code reusable
and deployable.</p>
<p>Kivy is written in Python, based on OpenGL and supports different input devices
such as: Mouse, Dual Mouse, TUIO, WiiMote, WM_TOUCH, HIDtouch, Apple&#8217;s products
and so on.</p>
<p>Kivy is actively being developed by a community and is free to use. It operates
on all major platforms (Linux, OSX, Windows, Android).</p>
<p>The main resource for information is the website: <a class="reference external" href="http://kivy.org">http://kivy.org</a></p>
</div>
<div class="section" id="pyobjc">
<h4>PyObjC<a class="headerlink" href="#pyobjc" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Only available on OS&nbsp;X. Don&#8217;t pick this if you&#8217;re writing a cross-platform application.</p>
</div>
</div>
<div class="section" id="pyside">
<h4>PySide<a class="headerlink" href="#pyside" title="Permalink to this headline">¶</a></h4>
<p>PySide is a Python binding of the cross-platform GUI toolkit Qt.</p>
<blockquote>
<div>pip install pyside</div></blockquote>
<p><a class="reference external" href="https://wiki.qt.io/Category:LanguageBindings::PySide::Downloads">https://wiki.qt.io/Category:LanguageBindings::PySide::Downloads</a></p>
</div>
<div class="section" id="pyqt">
<h4>PyQt<a class="headerlink" href="#pyqt" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If your software does not fully comply with the GPL you will need a commercial license!</p>
</div>
<p>PyQt provides Python bindings for the Qt Framework (see below).</p>
<p><a class="reference external" href="http://www.riverbankcomputing.co.uk/software/pyqt/download">http://www.riverbankcomputing.co.uk/software/pyqt/download</a></p>
</div>
<div class="section" id="pyjamasdesktop-pyjs-desktop">
<h4>PyjamasDesktop (pyjs Desktop)<a class="headerlink" href="#pyjamasdesktop-pyjs-desktop" title="Permalink to this headline">¶</a></h4>
<p>PyjamasDesktop is a port of Pyjamas. PyjamasDesktop is application widget set
for desktop and a cross-platform framework. (After release v0.6 PyjamasDesktop
is a part of Pyjamas (Pyjs)). Briefly, it allows the exact same Python web
application source code to be executed as a standalone desktop application.</p>
<p><a class="reference external" href="http://wiki.python.org/moin/PyjamasDesktop">Python Wiki for PyjamasDesktop</a>.</p>
<p>The main website; <a class="reference external" href="http://pyjs.org/">pyjs Desktop</a>.</p>
</div>
<div class="section" id="qt">
<h4>Qt<a class="headerlink" href="#qt" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://qt-project.org/">Qt</a> is a cross-platform application framework that
is widely used for developing software with a GUI but can also be used for
non-GUI applications.</p>
</div>
<div class="section" id="tk">
<h4>Tk<a class="headerlink" href="#tk" title="Permalink to this headline">¶</a></h4>
<p>Tkinter is a thin object-oriented layer on top of Tcl/Tk. <strong>It has the advantage
of being included with the Python standard library, making it the most
convenient and compatible toolkit to program with.</strong></p>
<p>Both Tk and Tkinter are available on most Unix platforms, as well as on Windows
and Macintosh systems. Starting with the 8.0 release, Tk offers native look and
feel on all platforms.</p>
<p>There&#8217;s a good multi-language Tk tutorial with Python examples at
<a class="reference external" href="http://www.tkdocs.com/tutorial/index.html">TkDocs</a>. There&#8217;s more information
available on the <a class="reference external" href="http://wiki.python.org/moin/TkInter">Python Wiki</a>.</p>
</div>
<div class="section" id="wxpython">
<h4>wxPython<a class="headerlink" href="#wxpython" title="Permalink to this headline">¶</a></h4>
<p>wxPython is a GUI toolkit for the Python programming language. It allows
Python programmers to create programs with a robust, highly functional
graphical user interface, simply and easily. It is implemented as a Python
extension module (native code) that wraps the popular wxWidgets cross platform
GUI library, which is written in C++.</p>
<p><strong>Install (Stable) wxPython</strong>
<em>go to http://www.wxpython.org/download.php#stable and download the appropriate
package for your OS.</em></p>
</div>
</div>
<span id="document-scenarios/db"></span><div class="section" id="databases">
<h3>Databases<a class="headerlink" href="#databases" title="Permalink to this headline">¶</a></h3>
<div class="section" id="db-api">
<h4>DB-API<a class="headerlink" href="#db-api" title="Permalink to this headline">¶</a></h4>
<p>The Python Database API (DB-API) defines a standard interface for Python
database access modules. It&#8217;s documented in <span class="target" id="index-0"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0249"><strong>PEP 249</strong></a>.
Nearly all Python database modules such as <cite>sqlite3</cite>, <cite>psycopg</cite> and
<cite>mysql-python</cite> conform to this interface.</p>
<p>Tutorials that explain how to work with modules that conform to this interface can be found
<a class="reference external" href="http://halfcooked.com/presentations/osdc2006/python_databases.html">here</a> and
<a class="reference external" href="http://web.archive.org/web/20120815130844/http://www.amk.ca/python/writing/DB-API.html">here</a>.</p>
</div>
<div class="section" id="sqlalchemy">
<h4>SQLAlchemy<a class="headerlink" href="#sqlalchemy" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://www.sqlalchemy.org/">SQLAlchemy</a> is a commonly used database toolkit.
Unlike many database libraries it not only provides an ORM layer but also a
generalized API for writing database-agnostic code without SQL.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install sqlalchemy
</pre></div>
</div>
</div>
<div class="section" id="records">
<h4>Records<a class="headerlink" href="#records" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://github.com/kennethreitz/records">Records</a> is minimalist SQL library,
designed for sending raw SQL queries to various databases. Data can be used
programmatically, or exported to a number of useful data formats.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install records
</pre></div>
</div>
<p>Also included is a command-line tool for exporting SQL data.</p>
</div>
<div class="section" id="django-orm">
<h4>Django ORM<a class="headerlink" href="#django-orm" title="Permalink to this headline">¶</a></h4>
<p>The Django ORM is the interface used by <a class="reference external" href="http://www.djangoproject.com">Django</a>
to provide database access.</p>
<p>It&#8217;s based on the idea of
<a class="reference external" href="https://docs.djangoproject.com/en/dev/#the-model-layer">models</a>,
an abstraction that makes it easier to manipulate data in Python.</p>
<p>The basics:</p>
<ul class="simple">
<li>Each model is a Python class that subclasses django.db.models.Model.</li>
<li>Each attribute of the model represents a database field.</li>
<li>Django gives you an automatically-generated database-access API; see
<a class="reference external" href="https://docs.djangoproject.com/en/dev/topics/db/queries/">Making queries</a>.</li>
</ul>
</div>
<div class="section" id="peewee">
<h4>peewee<a class="headerlink" href="#peewee" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://docs.peewee-orm.com/en/latest/">peewee</a> is another ORM with a focus
on being lightweight with support for Python 2.6+ and 3.2+ which supports
SQLite, MySQL and Postgres by default. The
<a class="reference external" href="https://peewee.readthedocs.io/en/latest/peewee/quickstart.html#model-definition">model layer</a>
is similar to that of the Django ORM and it has
<a class="reference external" href="https://peewee.readthedocs.io/en/latest/peewee/quickstart.html#retrieving-data">SQL-like methods</a>
to query data. While SQLite, MySQL and Postgres are supported out-of-the-box,
there is a <a class="reference external" href="https://peewee.readthedocs.io/en/latest/peewee/playhouse.html#playhouse">collection of add-ons</a>
available.</p>
</div>
<div class="section" id="ponyorm">
<h4>PonyORM<a class="headerlink" href="#ponyorm" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://ponyorm.com/">PonyORM</a> is an ORM that takes a different approach to
querying the database. Instead of writing an SQL-like language or boolean
expressions, Python&#8217;s generator syntax is used. There&#8217;s also an graphical
schema editor that can generate PonyORM entities for you. It supports Python
2.6+ and Python 3.3+ and can connect to SQLite, MySQL, Postgres &amp; Oracle</p>
</div>
<div class="section" id="sqlobject">
<h4>SQLObject<a class="headerlink" href="#sqlobject" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://www.sqlobject.org/">SQLObject</a> is yet another ORM. It supports a wide
variety of databases: Common database systems MySQL, Postgres and SQLite and
more exotic systems like SAP DB, SyBase and MSSQL. It only supports Python 2
from Python 2.6 upwards.</p>
</div>
</div>
<span id="document-scenarios/network"></span><div class="section" id="networking">
<h3>Networking<a class="headerlink" href="#networking" title="Permalink to this headline">¶</a></h3>
<div class="section" id="twisted">
<h4>Twisted<a class="headerlink" href="#twisted" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://twistedmatrix.com/trac/">Twisted</a> is an event-driven networking
engine. It can be used to build applications around many different networking
protocols, including http servers and clients, applications using SMTP, POP3,
IMAP or SSH protocols, instant messaging
and <a class="reference external" href="http://twistedmatrix.com/trac/wiki/Documentation">much more</a>.</p>
</div>
<div class="section" id="pyzmq">
<h4>PyZMQ<a class="headerlink" href="#pyzmq" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://zeromq.github.com/pyzmq/">PyZMQ</a> is the Python binding for
<a class="reference external" href="http://www.zeromq.org/">ZeroMQ</a>, which is a high-performance asynchronous
messaging library. One great advantage of ZeroMQ is that it can be used for
message queuing without a message broker. The basic patterns for this are:</p>
<ul class="simple">
<li>request-reply: connects a set of clients to a set of services. This is a
remote procedure call and task distribution pattern.</li>
<li>publish-subscribe: connects a set of publishers to a set of subscribers.
This is a data distribution pattern.</li>
<li>push-pull (or pipeline): connects nodes in a fan-out / fan-in pattern that
can have multiple steps, and loops. This is a parallel task distribution
and collection pattern.</li>
</ul>
<p>For a quick start, read the <a class="reference external" href="http://zguide.zeromq.org/page:all">ZeroMQ guide</a>.</p>
</div>
<div class="section" id="gevent">
<h4>gevent<a class="headerlink" href="#gevent" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://www.gevent.org/">gevent</a> is a coroutine-based Python networking
library that uses greenlets to provide a high-level synchronous API on top of
the libev event loop.</p>
</div>
</div>
<span id="document-scenarios/admin"></span><div class="section" id="systems-administration">
<h3>Systems Administration<a class="headerlink" href="#systems-administration" title="Permalink to this headline">¶</a></h3>
<div class="section" id="fabric">
<h4>Fabric<a class="headerlink" href="#fabric" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://docs.fabfile.org">Fabric</a> is a library for simplifying system
administration tasks. While Chef and Puppet tend to focus on managing servers
and system libraries, Fabric is more focused on application level tasks such
as deployment.</p>
<p>Install Fabric:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install fabric
</pre></div>
</div>
<p>The following code will create two tasks that we can use: <code class="docutils literal"><span class="pre">memory_usage</span></code> and
<code class="docutils literal"><span class="pre">deploy</span></code>. The former will output the memory usage on each machine. The
latter will ssh into each server, cd to our project directory, activate the
virtual environment, pull the newest codebase, and restart the application
server.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">fabric.api</span> <span class="kn">import</span> <span class="n">cd</span><span class="p">,</span> <span class="n">env</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">run</span><span class="p">,</span> <span class="n">task</span>

<span class="n">env</span><span class="o">.</span><span class="n">hosts</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;my_server1&#39;</span><span class="p">,</span> <span class="s1">&#39;my_server2&#39;</span><span class="p">]</span>

<span class="nd">@task</span>
<span class="k">def</span> <span class="nf">memory_usage</span><span class="p">():</span>
    <span class="n">run</span><span class="p">(</span><span class="s1">&#39;free -m&#39;</span><span class="p">)</span>

<span class="nd">@task</span>
<span class="k">def</span> <span class="nf">deploy</span><span class="p">():</span>
    <span class="k">with</span> <span class="n">cd</span><span class="p">(</span><span class="s1">&#39;/var/www/project-env/project&#39;</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">prefix</span><span class="p">(</span><span class="s1">&#39;. ../bin/activate&#39;</span><span class="p">):</span>
            <span class="n">run</span><span class="p">(</span><span class="s1">&#39;git pull&#39;</span><span class="p">)</span>
            <span class="n">run</span><span class="p">(</span><span class="s1">&#39;touch app.wsgi&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>With the previous code saved in a file named <code class="file docutils literal"><span class="pre">fabfile.py</span></code>, we can check
memory usage with:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> fab memory_usage
<span class="go">[my_server1] Executing task &#39;memory&#39;</span>
<span class="go">[my_server1] run: free -m</span>
<span class="go">[my_server1] out:              total     used     free   shared  buffers   cached</span>
<span class="go">[my_server1] out: Mem:          6964     1897     5067        0      166      222</span>
<span class="go">[my_server1] out: -/+ buffers/cache:     1509     5455</span>
<span class="go">[my_server1] out: Swap:            0        0        0</span>

<span class="go">[my_server2] Executing task &#39;memory&#39;</span>
<span class="go">[my_server2] run: free -m</span>
<span class="go">[my_server2] out:              total     used     free   shared  buffers   cached</span>
<span class="go">[my_server2] out: Mem:          1666      902      764        0      180      572</span>
<span class="go">[my_server2] out: -/+ buffers/cache:      148     1517</span>
<span class="go">[my_server2] out: Swap:          895        1      894</span>
</pre></div>
</div>
<p>and we can deploy with:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> fab deploy
</pre></div>
</div>
<p>Additional features include parallel execution, interaction with remote
programs, and host grouping.</p>
<blockquote>
<div><a class="reference external" href="http://docs.fabfile.org">Fabric Documentation</a></div></blockquote>
</div>
<div class="section" id="salt">
<h4>Salt<a class="headerlink" href="#salt" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://saltstack.org/">Salt</a> is an open source infrastructure management
tool.  It supports remote command execution from a central point (master host)
to multiple hosts (minions). It also supports system states which can be used
to configure multiple servers using simple template files.</p>
<p>Salt supports Python versions 2.6 and 2.7 and can be installed via pip:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install salt
</pre></div>
</div>
<p>After configuring a master server and any number of minion hosts, we can run
arbitrary shell commands or use pre-built modules of complex commands on our
minions.</p>
<p>The following command lists all available minion hosts, using the ping module.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> salt <span class="s1">&#39;*&#39;</span> test.ping
</pre></div>
</div>
<p>The host filtering is accomplished by matching the minion id,
or using the grains system. The
<a class="reference external" href="http://docs.saltstack.org/en/latest/topics/targeting/grains.html">grains</a>
system uses static host information like the operating system version or the
CPU architecture to provide a host taxonomy for the Salt modules.</p>
<p>The following command lists all available minions running CentOS using the
grains system:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> salt -G <span class="s1">&#39;os:CentOS&#39;</span> test.ping
</pre></div>
</div>
<p>Salt also provides a state system. States can be used to configure the minion
hosts.</p>
<p>For example, when a minion host is ordered to read the following state file,
it will install and start the Apache server:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">apache</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">pkg</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">installed</span>
  <span class="l l-Scalar l-Scalar-Plain">service</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">running</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">enable</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">require</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">pkg</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">apache</span>
</pre></div>
</div>
<p>State files can be written using YAML, the Jinja2 template system or pure Python.</p>
<blockquote>
<div><a class="reference external" href="http://docs.saltstack.com">Salt Documentation</a></div></blockquote>
</div>
<div class="section" id="psutil">
<h4>Psutil<a class="headerlink" href="#psutil" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://code.google.com/p/psutil/">Psutil</a> is an interface to different
system information (e.g. CPU, memory, disks, network, users and processes).</p>
<p>Here is an example to be aware of some server overload. If any of the
tests (net, CPU) fail, it will send an email.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Functions to get system values:</span>
<span class="kn">from</span> <span class="nn">psutil</span> <span class="kn">import</span> <span class="n">cpu_percent</span><span class="p">,</span> <span class="n">net_io_counters</span>
<span class="c1"># Functions to take a break:</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>
<span class="c1"># Package for email services:</span>
<span class="kn">import</span> <span class="nn">smtplib</span>
<span class="kn">import</span> <span class="nn">string</span>
<span class="n">MAX_NET_USAGE</span> <span class="o">=</span> <span class="mi">400000</span>
<span class="n">MAX_ATTACKS</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">attack</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">attack</span> <span class="o">&lt;=</span> <span class="n">MAX_ATTACKS</span><span class="p">:</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">counter</span> <span class="o">=</span> <span class="n">counter</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="c1"># Check the cpu usage</span>
    <span class="k">if</span> <span class="n">cpu_percent</span><span class="p">(</span><span class="n">interval</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">70</span><span class="p">:</span>
        <span class="n">attack</span> <span class="o">=</span> <span class="n">attack</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="c1"># Check the net usage</span>
    <span class="n">neti1</span> <span class="o">=</span> <span class="n">net_io_counters</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">neto1</span> <span class="o">=</span> <span class="n">net_io_counters</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">neti2</span> <span class="o">=</span> <span class="n">net_io_counters</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">neto2</span> <span class="o">=</span> <span class="n">net_io_counters</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
    <span class="c1"># Calculate the bytes per second</span>
    <span class="n">net</span> <span class="o">=</span> <span class="p">((</span><span class="n">neti2</span><span class="o">+</span><span class="n">neto2</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">neti1</span><span class="o">+</span><span class="n">neto1</span><span class="p">))</span><span class="o">/</span><span class="mi">2</span>
    <span class="k">if</span> <span class="n">net</span> <span class="o">&gt;</span> <span class="n">MAX_NET_USAGE</span><span class="p">:</span>
        <span class="n">attack</span> <span class="o">=</span> <span class="n">attack</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">counter</span> <span class="o">&gt;</span> <span class="mi">25</span><span class="p">:</span>
        <span class="n">attack</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1"># Write a very important email if attack is higher than 4</span>
<span class="n">TO</span> <span class="o">=</span> <span class="s2">&quot;you@your_email.com&quot;</span>
<span class="n">FROM</span> <span class="o">=</span> <span class="s2">&quot;webmaster@your_domain.com&quot;</span>
<span class="n">SUBJECT</span> <span class="o">=</span> <span class="s2">&quot;Your domain is out of system resources!&quot;</span>
<span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Go and fix your server!&quot;</span>
<span class="n">BODY</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="s2">&quot;From: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span><span class="n">FROM</span><span class="p">,</span><span class="s2">&quot;To: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span><span class="n">TO</span><span class="p">,</span><span class="s2">&quot;Subject: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span><span class="n">SUBJECT</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span><span class="n">text</span><span class="p">),</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">server</span> <span class="o">=</span> <span class="n">smtplib</span><span class="o">.</span><span class="n">SMTP</span><span class="p">(</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">)</span>
<span class="n">server</span><span class="o">.</span><span class="n">sendmail</span><span class="p">(</span><span class="n">FROM</span><span class="p">,</span> <span class="p">[</span><span class="n">TO</span><span class="p">],</span> <span class="n">BODY</span><span class="p">)</span>
<span class="n">server</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</pre></div>
</div>
<p>A full terminal application like a widely extended top which is based on
psutil and with the ability of a client-server monitoring is
<a class="reference external" href="https://github.com/nicolargo/glances/">glance</a>.</p>
</div>
<div class="section" id="ansible">
<h4>Ansible<a class="headerlink" href="#ansible" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://ansible.com/">Ansible</a>  is an open source system automation tool.
The biggest advantage over Puppet or Chef is it does not require an agent on
the client machine. Playbooks are Ansible’s configuration, deployment, and
orchestration language and are written in YAML with Jinja2 for templating.</p>
<p>Ansible supports Python versions 2.6 and 2.7 and can be installed via pip:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install ansible
</pre></div>
</div>
<p>Ansible requires an inventory file that describes the hosts to which it has
access. Below is an example of a host and playbook that will ping all the
hosts in the inventory file.</p>
<p>Here is an example inventory file:
<code class="file docutils literal"><span class="pre">hosts.yml</span></code></p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="p p-Indicator">[</span><span class="nv">server_name</span><span class="p p-Indicator">]</span>
<span class="l l-Scalar l-Scalar-Plain">127.0.0.1</span>
</pre></div>
</div>
<p>Here is an example playbook:
<code class="file docutils literal"><span class="pre">ping.yml</span></code></p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">hosts</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">all</span>

  <span class="l l-Scalar l-Scalar-Plain">tasks</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ping</span>
      <span class="l l-Scalar l-Scalar-Plain">action</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ping</span>
</pre></div>
</div>
<p>To run the playbook:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> ansible-playbook ping.yml -i hosts.yml --ask-pass
</pre></div>
</div>
<p>The Ansible playbook will ping all of the servers in the <code class="file docutils literal"><span class="pre">hosts.yml</span></code> file.
You can also select groups of servers using Ansible. For more information
about Ansible, read the <a class="reference external" href="http://docs.ansible.com/">Ansible Docs</a>.</p>
<p><a class="reference external" href="https://serversforhackers.com/an-ansible-tutorial/">An Ansible tutorial</a> is also a
great and detailed introduction to getting started with Ansible.</p>
</div>
<div class="section" id="chef">
<h4>Chef<a class="headerlink" href="#chef" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://www.chef.io/chef/">Chef</a>  is a systems and cloud infrastructure automation
framework that makes it easy to deploy servers and applications to any physical,
virtual, or cloud location. In case this is your choice for configuration management,
you will primarily use Ruby to write your infrastructure code.</p>
<p>Chef clients run on every server that is part of your infrastructure and these regularly
check with your Chef server to ensure your system is always aligned and represents the
desired state. Since each individual server has its own distinct Chef client, each server
configures itself and this distributed approach makes Chef a scalable automation platform.</p>
<p>Chef works by using custom recipes (configuration elements), implemented in cookbooks. Cookbooks, which are basically
packages for infrastructure choices, are usually stored in your Chef server.
Read the <a class="reference external" href="https://www.digitalocean.com/community/tutorials/how-to-install-a-chef-server-workstation-and-client-on-ubuntu-vps-instances">Digital Ocean tutorial series</a>
on chef to learn how to create a simple Chef Server.</p>
<p>To create a simple cookbook the <a class="reference external" href="https://docs.chef.io/knife.html">knife</a> command is used:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">knife cookbook create cookbook_name</span>
</pre></div>
</div>
<p><a class="reference external" href="http://gettingstartedwithchef.com/first-steps-with-chef.html">Getting started with Chef</a>
is a good starting point for Chef Beginners and many community maintained cookbooks that can
serve as a good reference or tweaked to serve your infrastructure configuration needs can be
found on the <a class="reference external" href="https://supermarket.chef.io/cookbooks">Chef Supermarket</a>.</p>
<ul class="simple">
<li><a class="reference external" href="https://docs.chef.io/">Chef Documentation</a></li>
</ul>
</div>
<div class="section" id="puppet">
<h4>Puppet<a class="headerlink" href="#puppet" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://puppetlabs.com">Puppet</a> is IT Automation and configuration management
software from Puppet Labs that allows System Administrators to define the state
of their IT Infrastructure, thereby providing an elegant way to manage their
fleet of physical and virtual machines.</p>
<p>Puppet is available both as an Open Source and an Enterprise variant. Modules
are small, shareable units of code written to automate or define the state of a
system.  <a class="reference external" href="https://forge.puppetlabs.com/">Puppet Forge</a> is a repository for
modules written by the community for Open Source and Enterprise Puppet.</p>
<p>Puppet Agents are installed on nodes whose state needs to be monitored or
changed.  A designated server known as the Puppet Master is responsible for
orchestrating the agent nodes.</p>
<p>Agent nodes send basic facts about the system such as to the operating system,
kernel, architecture, ip address, hostname etc. to the Puppet Master.
The Puppet Master then compiles a catalog with information provided by the
agents on how each node should be configured and sends it to the agent. The
agent enforces the change as prescribed in the catalog and sends a report back
to the Puppet Master.</p>
<p>Facter is an interesting tool that ships with Puppet that pulls basic facts
about the system. These facts can be referenced as a variable while writing
your Puppet modules.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> facter kernel
<span class="go">Linux</span>
</pre></div>
</div>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> facter operatingsystem
<span class="go">Ubuntu</span>
</pre></div>
</div>
<p>Writing Modules in Puppet is pretty straight forward. Puppet Manifests together
form Puppet Modules. Puppet manifest end with an extension of <code class="docutils literal"><span class="pre">.pp</span></code>.
Here is an example of &#8216;Hello World&#8217; in Puppet.</p>
<div class="highlight-puppet"><div class="highlight"><pre><span></span><span class="k">notify</span> <span class="p">{</span> <span class="s">&#39;This message is getting logged into the agent node&#39;</span><span class="p">:</span><span class="c"></span>

<span class="c">    #As nothing is specified in the body the resource title</span>
<span class="c">    #the notification message by default.</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Here is another example with system based logic. Note how the operating system
fact is being used as a variable prepended with the <code class="docutils literal"><span class="pre">$</span></code> sign. Similarly, this
holds true for other facts such as hostname which can be referenced by
<code class="docutils literal"><span class="pre">$hostname</span></code></p>
<div class="highlight-puppet"><div class="highlight"><pre><span></span><span class="k">notify</span><span class="p">{</span> <span class="s">&#39;Mac Warning&#39;</span><span class="p">:</span>
    <span class="na">message</span> <span class="o">=&gt;</span> <span class="nv">$operatingsystem</span> <span class="o">?</span> <span class="p">{</span>
        <span class="s">&#39;Darwin&#39;</span> <span class="o">=&gt;</span> <span class="s">&#39;This seems to be a Mac.&#39;</span><span class="p">,</span>
        <span class="k">default</span>  <span class="o">=&gt;</span> <span class="s">&#39;I am a PC.&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<p>There are several resource types for Puppet but the package-file-service
paradigm is all you need for undertaking majority of the configuration
management. The following Puppet code makes sure that the OpenSSH-Server
package is installed in a system and the sshd service is notified to restart
everytime the sshd configuration file is changed.</p>
<div class="highlight-puppet"><div class="highlight"><pre><span></span><span class="k">package</span> <span class="p">{</span> <span class="s">&#39;openssh-server&#39;</span><span class="p">:</span>
    <span class="na">ensure</span> <span class="o">=&gt;</span> <span class="k">installed</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">file</span> <span class="p">{</span> <span class="s">&#39;/etc/ssh/sshd_config&#39;</span><span class="p">:</span>
    <span class="na">source</span>   <span class="o">=&gt;</span> <span class="s">&#39;puppet:///modules/sshd/sshd_config&#39;</span><span class="p">,</span>
    <span class="na">owner</span>    <span class="o">=&gt;</span> <span class="s">&#39;root&#39;</span><span class="p">,</span>
    <span class="na">group</span>    <span class="o">=&gt;</span> <span class="s">&#39;root&#39;</span><span class="p">,</span>
    <span class="na">mode</span>     <span class="o">=&gt;</span> <span class="s">&#39;640&#39;</span><span class="p">,</span>
    <span class="k">notify</span>   <span class="o">=&gt;</span>  <span class="k">Service</span><span class="p">[</span><span class="s">&#39;sshd&#39;</span><span class="p">],</span><span class="c"> # sshd will restart</span>
<span class="c">                                  # whenever you edit this</span>
<span class="c">                                  # file</span>
    <span class="na">require</span>  <span class="o">=&gt;</span> <span class="k">Package</span><span class="p">[</span><span class="s">&#39;openssh-server&#39;</span><span class="p">],</span>

<span class="p">}</span>

<span class="k">service</span> <span class="p">{</span> <span class="s">&#39;sshd&#39;</span><span class="p">:</span>
    <span class="na">ensure</span>    <span class="o">=&gt;</span> <span class="k">running</span><span class="p">,</span>
    <span class="na">enable</span>    <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
    <span class="na">hasstatus</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
    <span class="na">hasrestart</span><span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>For more information, refer to the <a class="reference external" href="http://docs.puppetlabs.com">Puppet Labs Documentation</a></p>
</div>
<div class="section" id="blueprint">
<h4>Blueprint<a class="headerlink" href="#blueprint" title="Permalink to this headline">¶</a></h4>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">Write about Blueprint</p>
</div>
</div>
<div class="section" id="buildout">
<h4>Buildout<a class="headerlink" href="#buildout" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://www.buildout.org">Buildout</a> is an open source software build tool.
Buildout is created using the Python programming language. It implements a
principle of separation of configuration from the scripts that do the setting up.
Buildout is primarily used to download and set up dependencies in Python eggs
format of the software being developed or deployed. Recipes for build tasks in any
environment can be created, and many are already available.</p>
</div>
<div class="section" id="shinken">
<h4>Shinken<a class="headerlink" href="#shinken" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://www.shinken-monitoring.org/">Shinken</a> is a modern, Nagios compatible
monitoring framework written in Python. Its main goal is to give users a flexible
architecture for their monitoring system that is designed to scale to large
environments.</p>
<p>Shinken is backwards-compatible with the Nagios configuration standard, and
plugins.It works on any operating system, and architecture that supports Python
which includes Windows, GNU/Linux, and FreeBSD.</p>
</div>
</div>
<span id="document-scenarios/ci"></span><div class="section" id="continuous-integration">
<h3>Continuous Integration<a class="headerlink" href="#continuous-integration" title="Permalink to this headline">¶</a></h3>
<div class="section" id="why">
<h4>Why?<a class="headerlink" href="#why" title="Permalink to this headline">¶</a></h4>
<p>Martin Fowler, who first wrote about <a class="reference external" href="http://martinfowler.com/articles/continuousIntegration.html">Continuous Integration</a>
(short: CI) together with Kent Beck, describes the CI as follows:</p>
<blockquote>
<div>Continuous Integration is a software development practice where members of
a team integrate their work frequently, usually each person integrates at
least daily - leading to multiple integrations per day. Each integration is
verified by an automated build (including test) to detect integration errors
as quickly as possible. Many teams find that this approach leads to
significantly reduced integration problems and allows a team to develop
cohesive software more rapidly.</div></blockquote>
</div>
<div class="section" id="jenkins">
<h4>Jenkins<a class="headerlink" href="#jenkins" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://jenkins-ci.org">Jenkins CI</a> is an extensible continuous integration
engine. Use it.</p>
</div>
<div class="section" id="buildbot">
<h4>Buildbot<a class="headerlink" href="#buildbot" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://docs.buildbot.net/current/">Buildbot</a> is a Python system to
automate the compile/test cycle to validate code changes.</p>
</div>
<div class="section" id="tox">
<h4>Tox<a class="headerlink" href="#tox" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://tox.readthedocs.io/en/latest/">tox</a> is an automation tool providing
packaging, testing and deployment of Python software right from the console or
CI server. It is a generic virtualenv management and test command line tool
which provides the following features:</p>
<ul class="simple">
<li>Checking that packages install correctly with different Python versions and
interpreters</li>
<li>Running tests in each of the environments, configuring your test tool of
choice</li>
<li>Acting as a front-end to Continuous Integration servers, reducing boilerplate
and merging CI and shell-based testing.</li>
</ul>
</div>
<div class="section" id="travis-ci">
<h4>Travis-CI<a class="headerlink" href="#travis-ci" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://travis-ci.org/">Travis-CI</a> is a distributed CI server which builds
tests for open source projects for free. It provides multiple workers to run
Python tests on and seamlessly integrates with GitHub. You can even have it
comment on your Pull Requests whether this particular changeset breaks the
build or not. So if you are hosting your code on GitHub, travis-ci is a great
and easy way to get started with Continuous Integration.</p>
<p>In order to get started, add a <code class="file docutils literal"><span class="pre">.travis.yml</span></code> file to your repository with
this example content:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>language: python
python:
  - &quot;2.6&quot;
  - &quot;2.7&quot;
  - &quot;3.2&quot;
  - &quot;3.3&quot;
# command to install dependencies
script: python tests/test_all_of_the_units.py
branches:
  only:
    - master
</pre></div>
</div>
<p>This will get your project tested on all the listed Python versions by
running the given script, and will only build the master branch. There are a
lot more options you can enable, like notifications, before and after steps
and much more. The <a class="reference external" href="http://about.travis-ci.org/docs/">travis-ci docs</a>
explain all of these options, and are very thorough.</p>
<p>In order to activate testing for your project, go to <a class="reference external" href="https://travis-ci.org/">the travis-ci site</a>
and login with your GitHub account. Then activate your project in your
profile settings and you&#8217;re ready to go. From now on, your project&#8217;s tests
will be run on every push to GitHub.</p>
</div>
</div>
<span id="document-scenarios/speed"></span><div class="section" id="speed">
<h3>Speed<a class="headerlink" href="#speed" title="Permalink to this headline">¶</a></h3>
<p>CPython, the most commonly used implementation of Python, is slow for CPU bound
tasks. <a class="reference external" href="http://pypy.org">PyPy</a> is fast.</p>
<p>Using a slightly modified version of <a class="reference external" href="http://www.dabeaz.com/GIL/gilvis/measure2.py">David Beazley&#8217;s</a> CPU bound test code
(added loop for multiple tests), you can see the difference between CPython
and PyPy&#8217;s processing.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> PyPy
<span class="gp">$</span> ./pypy -V
<span class="go">Python 2.7.1 (7773f8fc4223, Nov 18 2011, 18:47:10)</span>
<span class="go">[PyPy 1.7.0 with GCC 4.4.3]</span>
<span class="gp">$</span> ./pypy measure2.py
<span class="go">0.0683999061584</span>
<span class="go">0.0483210086823</span>
<span class="go">0.0388588905334</span>
<span class="go">0.0440690517426</span>
<span class="go">0.0695300102234</span>
</pre></div>
</div>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> CPython
<span class="gp">$</span> ./python -V
<span class="go">Python 2.7.1</span>
<span class="gp">$</span> ./python measure2.py
<span class="go">1.06774401665</span>
<span class="go">1.45412397385</span>
<span class="go">1.51485204697</span>
<span class="go">1.54693889618</span>
<span class="go">1.60109114647</span>
</pre></div>
</div>
<div class="section" id="context">
<h4>Context<a class="headerlink" href="#context" title="Permalink to this headline">¶</a></h4>
<div class="section" id="the-gil">
<h5>The GIL<a class="headerlink" href="#the-gil" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://wiki.python.org/moin/GlobalInterpreterLock">The GIL</a> (Global Interpreter Lock) is how Python allows multiple threads to
operate at the same time. Python&#8217;s memory management isn&#8217;t entirely thread-safe,
so the GIL is required to prevent multiple threads from running the same
Python code at once.</p>
<p>David Beazley has a great <a class="reference external" href="http://www.dabeaz.com/python/UnderstandingGIL.pdf">guide</a> on how the GIL operates. He also covers the
<a class="reference external" href="http://www.dabeaz.com/python/NewGIL.pdf">new GIL</a> in Python 3.2. His results show that maximizing performance in a
Python application requires a strong understanding of the GIL, how it affects
your specific application, how many cores you have, and where your application
bottlenecks are.</p>
</div>
<div class="section" id="c-extensions">
<h5>C Extensions<a class="headerlink" href="#c-extensions" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="id1">
<h5>The GIL<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://docs.python.org/c-api/init.html#threads">Special care</a> must be taken when writing C extensions to make sure you
register your threads with the interpreter.</p>
</div>
</div>
<div class="section" id="id2">
<h4>C Extensions<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<div class="section" id="cython">
<h5>Cython<a class="headerlink" href="#cython" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://cython.org/">Cython</a> implements a superset of the Python language
with which you are able to write C and C++ modules for Python. Cython also
allows you to call functions from compiled C libraries. Using Cython allows
you to take advantage of Python&#8217;s strong typing of variables and operations.</p>
<p>Here&#8217;s an example of strong typing with Cython:</p>
<div class="highlight-cython"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">primes</span><span class="p">(</span><span class="nb">int</span> <span class="n">kmax</span><span class="p">):</span>
<span class="sd">&quot;&quot;&quot;Calculation of prime numbers with additional</span>
<span class="sd">Cython keywords&quot;&quot;&quot;</span>

    <span class="k">cdef</span> <span class="kt">int</span> <span class="nf">n</span><span class="p">,</span> <span class="nf">k</span><span class="p">,</span> <span class="nf">i</span>
    <span class="k">cdef</span> <span class="kt">int</span> <span class="kt">p</span>[1000]
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">kmax</span> <span class="o">&gt;</span> <span class="mf">1000</span><span class="p">:</span>
        <span class="n">kmax</span> <span class="o">=</span> <span class="mf">1000</span>
    <span class="n">k</span> <span class="o">=</span> <span class="mf">0</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mf">2</span>
    <span class="k">while</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">kmax</span><span class="p">:</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mf">0</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">k</span> <span class="ow">and</span> <span class="n">n</span> <span class="o">%</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="mf">0</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mf">1</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="n">k</span><span class="p">:</span>
            <span class="n">p</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">n</span>
            <span class="n">k</span> <span class="o">=</span> <span class="n">k</span> <span class="o">+</span> <span class="mf">1</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">+</span> <span class="mf">1</span>
    <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
<p>This implementation of an algorithm to find prime numbers has some additional
keywords compared to the next one, which is implemented in pure Python:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">primes</span><span class="p">(</span><span class="n">kmax</span><span class="p">):</span>
<span class="sd">&quot;&quot;&quot;Calculation of prime numbers in standard Python syntax&quot;&quot;&quot;</span>

    <span class="n">p</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">kmax</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="p">:</span>
        <span class="n">kmax</span> <span class="o">=</span> <span class="mi">1000</span>
    <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="k">while</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">kmax</span><span class="p">:</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">k</span> <span class="ow">and</span> <span class="n">n</span> <span class="o">%</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="n">k</span><span class="p">:</span>
            <span class="n">p</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">n</span>
            <span class="n">k</span> <span class="o">=</span> <span class="n">k</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
<p>Notice that in the Cython version you declare integers and integer arrays
to be compiled into C types while also creating a Python list:</p>
<div class="highlight-cython"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">primes</span><span class="p">(</span><span class="nb">int</span> <span class="n">kmax</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Calculation of prime numbers with additional</span>
<span class="sd">    Cython keywords&quot;&quot;&quot;</span>

    <span class="k">cdef</span> <span class="kt">int</span> <span class="nf">n</span><span class="p">,</span> <span class="nf">k</span><span class="p">,</span> <span class="nf">i</span>
    <span class="k">cdef</span> <span class="kt">int</span> <span class="kt">p</span>[1000]
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">primes</span><span class="p">(</span><span class="n">kmax</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Calculation of prime numbers in standard Python syntax&quot;&quot;&quot;</span>

    <span class="n">p</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div>
</div>
<p>What is the difference? In the upper Cython version you can see the
declaration of the variable types and the integer array in a similar way as
in standard C. For example <cite>cdef int n,k,i</cite> in line 3. This additional type
declaration (i.e. integer) allows the Cython compiler to generate more
efficient C code from the second version. While standard Python code is saved
in <code class="file docutils literal"><span class="pre">*.py</span></code> files, Cython code is saved in <code class="file docutils literal"><span class="pre">*.pyx</span></code> files.</p>
<p>What&#8217;s the difference in speed? Let&#8217;s try it!</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="c1">#activate pyx compiler</span>
<span class="kn">import</span> <span class="nn">pyximport</span>
<span class="n">pyximport</span><span class="o">.</span><span class="n">install</span><span class="p">()</span>
<span class="c1">#primes implemented with Cython</span>
<span class="kn">import</span> <span class="nn">primesCy</span>
<span class="c1">#primes implemented with Python</span>
<span class="kn">import</span> <span class="nn">primes</span>

<span class="k">print</span> <span class="s2">&quot;Cython:&quot;</span>
<span class="n">t1</span><span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="k">print</span> <span class="n">primesCy</span><span class="o">.</span><span class="n">primes</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span>
<span class="n">t2</span><span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="k">print</span> <span class="s2">&quot;Cython time: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">t2</span><span class="o">-</span><span class="n">t1</span><span class="p">)</span>
<span class="k">print</span> <span class="s2">&quot;&quot;</span>
<span class="k">print</span> <span class="s2">&quot;Python&quot;</span>
<span class="n">t1</span><span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="k">print</span> <span class="n">primes</span><span class="o">.</span><span class="n">primes</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span>
<span class="n">t2</span><span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="k">print</span> <span class="s2">&quot;Python time: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">t2</span><span class="o">-</span><span class="n">t1</span><span class="p">)</span>
</pre></div>
</div>
<p>These lines both need a remark:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyximport</span>
<span class="n">pyximport</span><span class="o">.</span><span class="n">install</span><span class="p">()</span>
</pre></div>
</div>
<p>The <cite>pyximport</cite> module allows you to import <code class="file docutils literal"><span class="pre">*.pyx</span></code> files (e.g.,
<code class="file docutils literal"><span class="pre">primesCy.pyx</span></code>) with the Cython-compiled version of the <cite>primes</cite>
function. The <cite>pyximport.install()</cite> command allows the Python interpreter to
start the Cython compiler directly to generate C-code, which is automatically
compiled to a <code class="file docutils literal"><span class="pre">*.so</span></code> C-library. Cython is then able to import this
library for you in your Python code, easily and efficiently. With the
<cite>time.time()</cite> function you are able to compare the time between these 2
different calls to find 500 prime numbers. On a standard notebook (dual core
AMD E-450 1.6 GHz), the measured values are:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Cython time: 0.0054 seconds</span>

<span class="go">Python time: 0.0566 seconds</span>
</pre></div>
</div>
<p>And here the output of an embedded <a class="reference external" href="http://beagleboard.org/Products/BeagleBone">ARM beaglebone</a> machine:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Cython time: 0.0196 seconds</span>

<span class="go">Python time: 0.3302 seconds</span>
</pre></div>
</div>
</div>
<div class="section" id="pyrex">
<h5>Pyrex<a class="headerlink" href="#pyrex" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="shedskin">
<h5>Shedskin?<a class="headerlink" href="#shedskin" title="Permalink to this headline">¶</a></h5>
</div>
</div>
<div class="section" id="concurrency">
<h4>Concurrency<a class="headerlink" href="#concurrency" title="Permalink to this headline">¶</a></h4>
<div class="section" id="concurrent-futures">
<h5>Concurrent.futures<a class="headerlink" href="#concurrent-futures" title="Permalink to this headline">¶</a></h5>
<p>The <a class="reference external" href="https://docs.python.org/3/library/concurrent.futures.html">concurrent.futures</a> module is a module in the standard library that
provides a &#8220;high-level interface for asynchronously executing callables&#8221;. It
abstracts away a lot of the more complicated details about using multiple
threads or processes for concurrency, and allows the user to focus on
accomplishing the task at hand.</p>
<p>The <a class="reference external" href="https://docs.python.org/3/library/concurrent.futures.html">concurrent.futures</a> module exposes two main classes, the
<cite>ThreadPoolExecutor</cite> and the <cite>ProcessPoolExecutor</cite>. The ThreadPoolExecutor
will create a pool of worker threads that a user can submit jobs to. These jobs
will then be executed in another thread when the next worker thread becomes
available.</p>
<p>The ProcessPoolExecutor works in the same way, except instead of using multiple
threads for its workers, it will use multiple processes. This makes it possible
to side-step the GIL, however because of the way things are passed to worker
processes, only picklable objects can be executed and returned.</p>
<p>Because of the way the GIL works, a good rule of thumb is to use a
ThreadPoolExecutor when the task being executed involves a lot of blocking
(i.e. making requests over the network) and to use a ProcessPoolExecutor
executor when the task is computationally expensive.</p>
<p>There are two main ways of executing things in parallel using the two
Executors. One way is with the <cite>map(func, iterables)</cite> method. This works
almost exactly like the builtin <cite>map()</cite> function, except it will execute
everything in parallel. :</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">concurrent.futures</span> <span class="kn">import</span> <span class="n">ThreadPoolExecutor</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="k">def</span> <span class="nf">get_webpage</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="n">page</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">page</span>

<span class="n">pool</span> <span class="o">=</span> <span class="n">ThreadPoolExecutor</span><span class="p">(</span><span class="n">max_workers</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="n">my_urls</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;http://google.com/&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">10</span>  <span class="c1"># Create a list of urls</span>

<span class="k">for</span> <span class="n">page</span> <span class="ow">in</span> <span class="n">pool</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">get_webpage</span><span class="p">,</span> <span class="n">my_urls</span><span class="p">):</span>
    <span class="c1"># Do something with the result</span>
    <span class="k">print</span><span class="p">(</span><span class="n">page</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
<p>For even more control, the <cite>submit(func, *args, **kwargs)</cite> method will schedule
a callable to be executed ( as <cite>func(*args, **kwargs)</cite>) and returns a <a class="reference external" href="https://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.Future">Future</a>
object that represents the execution of the callable.</p>
<p>The Future object provides various methods that can be used to check on the
progress of the scheduled callable. These include:</p>
<dl class="docutils">
<dt>cancel()</dt>
<dd>Attempt to cancel the call.</dd>
<dt>cancelled()</dt>
<dd>Return True if the call was successfully cancelled.</dd>
<dt>running()</dt>
<dd>Return True if the call is currently being executed and cannot be
cancelled.</dd>
<dt>done()</dt>
<dd>Return True if the call was successfully cancelled or finished running.</dd>
<dt>result()</dt>
<dd>Return the value returned by the call. Note that this call will block until
the scheduled callable returns by default.</dd>
<dt>exception()</dt>
<dd>Return the exception raised by the call. If no exception was raised then
this returns <cite>None</cite>. Note that this will block just like <cite>result()</cite>.</dd>
<dt>add_done_callback(fn)</dt>
<dd>Attach a callback function that will be executed (as <cite>fn(future)</cite>) when the
scheduled callable returns.</dd>
</dl>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">concurrent.futures</span> <span class="kn">import</span> <span class="n">ProcessPoolExecutor</span><span class="p">,</span> <span class="n">as_completed</span>

<span class="k">def</span> <span class="nf">is_prime</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">n</span><span class="p">,</span> <span class="bp">False</span>

    <span class="n">sqrt_n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="o">**</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">sqrt_n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">n</span><span class="p">,</span> <span class="bp">False</span>
    <span class="k">return</span> <span class="n">n</span><span class="p">,</span> <span class="bp">True</span>

<span class="n">PRIMES</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">112272535095293</span><span class="p">,</span>
    <span class="mi">112582705942171</span><span class="p">,</span>
    <span class="mi">112272535095293</span><span class="p">,</span>
    <span class="mi">115280095190773</span><span class="p">,</span>
    <span class="mi">115797848077099</span><span class="p">,</span>
    <span class="mi">1099726899285419</span><span class="p">]</span>

<span class="n">futures</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">with</span> <span class="n">ProcessPoolExecutor</span><span class="p">(</span><span class="n">max_workers</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span> <span class="k">as</span> <span class="n">pool</span><span class="p">:</span>
    <span class="c1"># Schedule the ProcessPoolExecutor to check if a number is prime</span>
    <span class="c1"># and add the returned Future to our list of futures</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">PRIMES</span><span class="p">:</span>
        <span class="n">fut</span> <span class="o">=</span> <span class="n">pool</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">is_prime</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
        <span class="n">futures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fut</span><span class="p">)</span>

<span class="c1"># As the jobs are completed, print out the results</span>
<span class="k">for</span> <span class="n">number</span><span class="p">,</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">as_completed</span><span class="p">(</span><span class="n">futures</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;{} is prime&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">number</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;{} is not prime&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">number</span><span class="p">))</span>
</pre></div>
</div>
<p>The <a class="reference external" href="https://docs.python.org/3/library/concurrent.futures.html">concurrent.futures</a> module contains two helper functions for working with
Futures. The <cite>as_completed(futures)</cite> function returns an iterator over the list
of futures, yielding the futures as they complete.</p>
<p>The <cite>wait(futures)</cite> function will simply block until all futures in the list of
futures provided have completed.</p>
<p>For more information, on using the <a class="reference external" href="https://docs.python.org/3/library/concurrent.futures.html">concurrent.futures</a> module, consult the
official documentation.</p>
</div>
<div class="section" id="threading">
<h5>Threading<a class="headerlink" href="#threading" title="Permalink to this headline">¶</a></h5>
<p>The standard library comes with a <a class="reference external" href="https://docs.python.org/3/library/threading.html">threading</a> module that allows a user to
work with multiple threads manually.</p>
<p>Running a function in another thread is as simple as passing a callable and
it&#8217;s arguments to <cite>Thread</cite>&#8216;s constructor and then calling <cite>start()</cite>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">threading</span> <span class="kn">import</span> <span class="n">Thread</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="k">def</span> <span class="nf">get_webpage</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="n">page</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">page</span>

<span class="n">some_thread</span> <span class="o">=</span> <span class="n">Thread</span><span class="p">(</span><span class="n">get_webpage</span><span class="p">,</span> <span class="s1">&#39;http://google.com/&#39;</span><span class="p">)</span>
<span class="n">some_thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>To wait until the thread has terminated, call <cite>join()</cite>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">some_thread</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
</pre></div>
</div>
<p>After calling <cite>join()</cite>, it is always a good idea to check whether the thread is
still alive (because the join call timed out):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">some_thread</span><span class="o">.</span><span class="n">is_alive</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;join() must have timed out.&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Our thread has terminated.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Because multiple threads have access to the same section of memory, sometimes
there might be situations where two or more threads are trying to write to the
same resource at the same time or where the output is dependent on the sequence
or timing of certain events. This is called a <a class="reference external" href="https://en.wikipedia.org/wiki/Race_condition">data race</a> or race condition.
When this happens, the output will be garbled or you may encounter problems
which are difficult to debug. A good example is this <a class="reference external" href="http://stackoverflow.com/questions/26688424/python-threads-are-printing-at-the-same-time-messing-up-the-text-output">stackoverflow post</a>.</p>
<p>The way this can be avoided is by using a <a href="#id7"><span class="problematic" id="id8">`Lock`_</span></a> that each thread needs to
acquire before writing to a shared resource. Locks can be acquired and released
through either the contextmanager protocol (<cite>with</cite> statement), or by using
<cite>acquire()</cite> and <cite>release()</cite> directly. Here is a (rather contrived) example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">threading</span> <span class="kn">import</span> <span class="n">Lock</span><span class="p">,</span> <span class="n">Thread</span>

<span class="n">file_lock</span> <span class="o">=</span> <span class="n">Lock</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">log</span><span class="p">(</span><span class="n">msg</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">file_lock</span><span class="p">:</span>
        <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;website_changes.log&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">changes</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">monitor_website</span><span class="p">(</span><span class="n">some_website</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Monitor a website and then if there are any changes,</span>
<span class="sd">    log them to disk.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">changes</span> <span class="o">=</span> <span class="n">check_for_changes</span><span class="p">(</span><span class="n">some_website</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">changes</span><span class="p">:</span>
            <span class="n">log</span><span class="p">(</span><span class="n">changes</span><span class="p">)</span>

<span class="n">websites</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;http://google.com/&#39;</span><span class="p">,</span> <span class="o">...</span> <span class="p">]</span>
<span class="k">for</span> <span class="n">website</span> <span class="ow">in</span> <span class="n">websites</span><span class="p">:</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">Thread</span><span class="p">(</span><span class="n">monitor_website</span><span class="p">,</span> <span class="n">website</span><span class="p">)</span>
    <span class="n">t</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>Here, we have a bunch of threads checking for changes on a list of sites and
whenever there are any changes, they attempt to write those changes to a file
by calling <cite>log(changes)</cite>. When <cite>log()</cite> is called, it will wait to acquire
the lock with <cite>with file_lock:</cite>. This ensures that at any one time, only one
thread is writing to the file.</p>
</div>
<div class="section" id="spawning-processes">
<h5>Spawning Processes<a class="headerlink" href="#spawning-processes" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="multiprocessing">
<h5>Multiprocessing<a class="headerlink" href="#multiprocessing" title="Permalink to this headline">¶</a></h5>
</div>
</div>
</div>
<span id="document-scenarios/scientific"></span><div class="section" id="scientific-applications">
<h3>Scientific Applications<a class="headerlink" href="#scientific-applications" title="Permalink to this headline">¶</a></h3>
<div class="section" id="context">
<h4>Context<a class="headerlink" href="#context" title="Permalink to this headline">¶</a></h4>
<p>Python is frequently used for high-performance scientific applications. It
is widely used in academia and scientific projects because it is easy to write
and performs well.</p>
<p>Due to its high performance nature, scientific computing in Python often
utilizes external libraries, typically written in faster languages (like C, or
FORTRAN for matrix operations). The main libraries used are <a class="reference external" href="http://numpy.scipy.org/">NumPy</a>, <a class="reference external" href="http://scipy.org/">SciPy</a>
and <a class="reference external" href="http://matplotlib.sourceforge.net/">Matplotlib</a>. Going into detail about these libraries is beyond the scope
of the Python guide. However, a comprehensive introduction to the scientific
Python ecosystem can be found in the <a class="reference external" href="http://scipy-lectures.github.com/">Python Scientific Lecture Notes</a></p>
</div>
<div class="section" id="tools">
<h4>Tools<a class="headerlink" href="#tools" title="Permalink to this headline">¶</a></h4>
<div class="section" id="ipython">
<h5>IPython<a class="headerlink" href="#ipython" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://ipython.org/">IPython</a> is an enhanced version of Python interpreter,
which provides features of great interest to scientists. The <cite>inline mode</cite>
allows graphics and plots to be displayed in the terminal (Qt based version).
Moreover, the <cite>notebook</cite> mode supports literate programming and reproducible
science generating a web-based Python notebook. This notebook allows you to
store chunks of Python code along side the results and additional comments
(HTML, LaTeX, Markdown). The notebook can then be shared and exported in various
file formats.</p>
</div>
</div>
<div class="section" id="libraries">
<h4>Libraries<a class="headerlink" href="#libraries" title="Permalink to this headline">¶</a></h4>
<div class="section" id="numpy">
<h5>NumPy<a class="headerlink" href="#numpy" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://numpy.scipy.org/">NumPy</a> is a low level library written in C (and
FORTRAN) for high level mathematical functions. NumPy cleverly overcomes the
problem of running slower algorithms on Python by using multidimensional arrays
and functions that operate on arrays. Any algorithm can then be expressed as a
function on arrays, allowing the algorithms to be run quickly.</p>
<p>NumPy is part of the SciPy project, and is released as a separate library so
people who only need the basic requirements can use it without installing the
rest of SciPy.</p>
<p>NumPy is compatible with Python versions 2.4 through to 2.7.2 and 3.1+.</p>
</div>
<div class="section" id="numba">
<h5>Numba<a class="headerlink" href="#numba" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://numba.pydata.org">Numba</a> is a NumPy aware Python compiler
(just-in-time (JIT) specializing compiler) which compiles annotated Python (and
NumPy) code to LLVM (Low Level Virtual Machine) through special decorators.
Briefly, Numba uses a system that compiles Python code with LLVM to code which
can be natively executed at runtime.</p>
</div>
<div class="section" id="scipy">
<h5>SciPy<a class="headerlink" href="#scipy" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://scipy.org/">SciPy</a> is a library that uses NumPy for more mathematical
functions. SciPy uses NumPy arrays as the basic data structure, and comes
with modules for various commonly used tasks in scientific programming,
including linear algebra, integration (calculus), ordinary differential equation
solving and signal processing.</p>
</div>
<div class="section" id="matplotlib">
<h5>Matplotlib<a class="headerlink" href="#matplotlib" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://matplotlib.sourceforge.net/">Matplotlib</a> is a flexible plotting
library for creating interactive 2D and 3D plots that can also be saved as
manuscript-quality figures. The API in many ways reflects that of <a class="reference external" href="http://www.mathworks.com/products/matlab/">MATLAB</a>, easing transition of MATLAB
users to Python. Many examples, along with the source code to re-create them,
are available in the <a class="reference external" href="http://matplotlib.sourceforge.net/gallery.html">matplotlib gallery</a>.</p>
</div>
<div class="section" id="pandas">
<h5>Pandas<a class="headerlink" href="#pandas" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://pandas.pydata.org/">Pandas</a> is data manipulation library
based on Numpy which provides many useful functions for accessing,
indexing, merging and grouping data easily. The main data structure (DataFrame)
is close to what could be found in the R statistical package; that is,
heterogeneous data tables with name indexing, time series operations and
auto-alignment of data.</p>
</div>
<div class="section" id="rpy2">
<h5>Rpy2<a class="headerlink" href="#rpy2" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://rpy2.bitbucket.org">Rpy2</a> is a Python binding for the R
statistical package allowing the execution of R functions from Python and
passing data back and forth between the two environments. Rpy2 is the object
oriented implementation of the <a class="reference external" href="http://rpy.sourceforge.net/rpy.html">Rpy</a>
bindings.</p>
</div>
<div class="section" id="psychopy">
<h5>PsychoPy<a class="headerlink" href="#psychopy" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://www.psychopy.org/">PsychoPy</a> is a library for cognitive scientists
allowing the creation of cognitive psychology and neuroscience experiments.
The library handles presentation of stimuli, scripting of experimental design
and data collection.</p>
</div>
</div>
<div class="section" id="resources">
<h4>Resources<a class="headerlink" href="#resources" title="Permalink to this headline">¶</a></h4>
<p>Installation of scientific Python packages can be troublesome, as many of
these packages are implemented as Python C extensions which need to be compiled.
This section lists various so-called scientific Python distributions which
provide precompiled and easy-to-install collections of scientific Python
packages.</p>
<div class="section" id="unofficial-windows-binaries-for-python-extension-packages">
<h5>Unofficial Windows Binaries for Python Extension Packages<a class="headerlink" href="#unofficial-windows-binaries-for-python-extension-packages" title="Permalink to this headline">¶</a></h5>
<p>Many people who do scientific computing are on Windows, yet many of the
scientific computing packages are notoriously difficult to build and install on
this platform. <a class="reference external" href="http://www.lfd.uci.edu/~gohlke/pythonlibs/">Christoph Gohlke</a>
however, has compiled a list of Windows binaries for many useful Python
packages.  The list of packages has grown from a mainly scientific Python
resource to a more general list. If you&#8217;re on Windows, you may want to check it
out.</p>
</div>
<div class="section" id="anaconda">
<h5>Anaconda<a class="headerlink" href="#anaconda" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://continuum.io/">Continuum Analytics</a> offers the <a class="reference external" href="https://store.continuum.io/cshop/anaconda">Anaconda
Python Distribution</a> which
includes all the common scientific Python packages as well as many packages
related to data analytics and big data. Anaconda itself is free, and
Continuum sells a number of proprietary add-ons. Free licenses for the
add-ons are available for academics and researchers.</p>
</div>
<div class="section" id="canopy">
<h5>Canopy<a class="headerlink" href="#canopy" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="https://www.enthought.com/products/canopy/">Canopy</a> is another scientific
Python distribution, produced by <a class="reference external" href="https://www.enthought.com/">Enthought</a>.
A limited &#8216;Canopy Express&#8217; variant is available for free, but Enthought
charges for the full distribution. Free licenses are available for academics.</p>
</div>
</div>
</div>
<span id="document-scenarios/imaging"></span><div class="section" id="image-manipulation">
<h3>Image Manipulation<a class="headerlink" href="#image-manipulation" title="Permalink to this headline">¶</a></h3>
<p>Most image processing and manipulation techniques can be carried out
effectively using two libraries: Python Imaging Library (PIL)  and OpenSource
Computer Vision (OpenCV).</p>
<p>A brief description of both is given below.</p>
<div class="section" id="python-imaging-library">
<h4>Python Imaging Library<a class="headerlink" href="#python-imaging-library" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference external" href="http://www.pythonware.com/products/pil/">Python Imaging Library</a>, or PIL
for short, is one of the core libraries for image manipulation in Python. Unfortunately,
its development has stagnated, with its last release in 2009.</p>
<p>Luckily for you, there&#8217;s an actively-developed fork of PIL called
<a class="reference external" href="http://python-pillow.github.io/">Pillow</a> - it&#8217;s easier to install, runs on
all operating systems, and supports Python 3.</p>
<div class="section" id="installation">
<h5>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h5>
<p>Before installing Pillow, you&#8217;ll have to install Pillow&#8217;s prerequisites. Find
the instructions for your platform in the
<a class="reference external" href="https://pillow.readthedocs.io/en/3.0.0/installation.html">Pillow installation instructions</a>.</p>
<p>After that, it&#8217;s straightforward:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install Pillow
</pre></div>
</div>
</div>
<div class="section" id="example">
<h5>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h5>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageFilter</span>
<span class="c1">#Read image</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span> <span class="s1">&#39;image.jpg&#39;</span> <span class="p">)</span>
<span class="c1">#Display image</span>
<span class="n">im</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1">#Applying a filter to the image</span>
<span class="n">im_sharp</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">ImageFilter</span><span class="o">.</span><span class="n">SHARPEN</span> <span class="p">)</span>
<span class="c1">#Saving the filtered image to a new file</span>
<span class="n">im_sharp</span><span class="o">.</span><span class="n">save</span><span class="p">(</span> <span class="s1">&#39;image_sharpened.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;JPEG&#39;</span> <span class="p">)</span>

<span class="c1">#Splitting the image into its respective bands, i.e. Red, Green,</span>
<span class="c1">#and Blue for RGB</span>
<span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">im_sharp</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

<span class="c1">#Viewing EXIF data embedded in image</span>
<span class="n">exif_data</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">_getexif</span><span class="p">()</span>
<span class="n">exif_data</span>
</pre></div>
</div>
<p>There are more examples of the Pillow library in the
<a class="reference external" href="https://pillow.readthedocs.io/en/3.0.x/handbook/tutorial.html">Pillow tutorial</a>.</p>
</div>
</div>
<div class="section" id="opensource-computer-vision">
<h4>OpenSource Computer Vision<a class="headerlink" href="#opensource-computer-vision" title="Permalink to this headline">¶</a></h4>
<p>OpenSource Computer Vision, more commonly known as OpenCV, is a more advanced
image manipulation and processing software than PIL. It has been implemented
in several languages and is widely used.</p>
<div class="section" id="id2">
<h5>Installation<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h5>
<p>In Python, image processing using OpenCV is implemented using the <code class="docutils literal"><span class="pre">cv2</span></code> and
<code class="docutils literal"><span class="pre">NumPy</span></code> modules.  The <a class="reference external" href="http://docs.opencv.org/2.4/doc/tutorials/introduction/table_of_content_introduction/table_of_content_introduction.html#table-of-content-introduction">installation instructions for OpenCV</a>
should guide you through configuring the project for yourself.</p>
<p>NumPy can be downloaded from the Python Package Index(PyPI):</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install numpy
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h5>Example<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h5>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">cv2</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="c1">#Read Image</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;testimg.jpg&#39;</span><span class="p">)</span>
<span class="c1">#Display Image</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">,</span><span class="n">img</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>

<span class="c1">#Applying Grayscale filter to image</span>
<span class="n">gray</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2GRAY</span><span class="p">)</span>

<span class="c1">#Saving filtered image to new file</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imwrite</span><span class="p">(</span><span class="s1">&#39;graytest.jpg&#39;</span><span class="p">,</span><span class="n">gray</span><span class="p">)</span>
</pre></div>
</div>
<p>There are more Python-implemented examples of OpenCV in this <a class="reference external" href="https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_tutorials.html">collection of
tutorials</a>.</p>
</div>
</div>
</div>
<span id="document-scenarios/serialization"></span><div class="section" id="data-serialization">
<h3>Data Serialization<a class="headerlink" href="#data-serialization" title="Permalink to this headline">¶</a></h3>
<div class="section" id="what-is-data-serialization">
<h4>What is data serialization?<a class="headerlink" href="#what-is-data-serialization" title="Permalink to this headline">¶</a></h4>
<p>Data serialization is the concept of converting structured data into a format
that allows it to be shared or stored in such a way that its original
structure to be recovered. In some cases, the secondary intention of data
serialization is to minimize the size of the serialized data which then
minimizes disk space or bandwidth requirements.</p>
</div>
<div class="section" id="pickle">
<h4>Pickle<a class="headerlink" href="#pickle" title="Permalink to this headline">¶</a></h4>
<p>The native data serialization module for Python is called <a class="reference external" href="https://docs.python.org/2/library/pickle.html">Pickle</a>.</p>
<p>Here&#8217;s an example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pickle</span>

<span class="c1">#Here&#39;s an example dict</span>
<span class="n">grades</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;Alice&#39;</span><span class="p">:</span> <span class="mi">89</span><span class="p">,</span> <span class="s1">&#39;Bob&#39;</span><span class="p">:</span> <span class="mi">72</span><span class="p">,</span> <span class="s1">&#39;Charles&#39;</span><span class="p">:</span> <span class="mi">87</span> <span class="p">}</span>

<span class="c1">#Use dumps to convert the object to a serialized string</span>
<span class="n">serial_grades</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span> <span class="n">grades</span> <span class="p">)</span>

<span class="c1">#Use loads to de-serialize an object</span>
<span class="n">received_grades</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span> <span class="n">serial_grades</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="protobuf">
<h4>Protobuf<a class="headerlink" href="#protobuf" title="Permalink to this headline">¶</a></h4>
<p>If you&#8217;re looking for a serialization module that has support in multiple
languages, Google&#8217;s <a class="reference external" href="https://developers.google.com/protocol-buffers">Protobuf</a> library is an option.</p>
</div>
</div>
<span id="document-scenarios/xml"></span><div class="section" id="xml-parsing">
<h3>XML parsing<a class="headerlink" href="#xml-parsing" title="Permalink to this headline">¶</a></h3>
<div class="section" id="untangle">
<h4>untangle<a class="headerlink" href="#untangle" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://github.com/stchris/untangle">untangle</a> is a simple library which
takes an XML document and returns a Python object which mirrors the nodes and
attributes in its structure.</p>
<p>For example, an XML file like this:</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="nt">&lt;root&gt;</span>
    <span class="nt">&lt;child</span> <span class="na">name=</span><span class="s">&quot;child1&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/root&gt;</span>
</pre></div>
</div>
<p>can be loaded like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">untangle</span>
<span class="n">obj</span> <span class="o">=</span> <span class="n">untangle</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;path/to/file.xml&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>and then you can get the child elements name like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">obj</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">child</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>untangle also supports loading XML from a string or an URL.</p>
</div>
<div class="section" id="xmltodict">
<h4>xmltodict<a class="headerlink" href="#xmltodict" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://github.com/martinblech/xmltodict">xmltodict</a> is another simple
library that aims at making XML feel like working with JSON.</p>
<p>An XML file like this:</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;mydocument</span> <span class="na">has=</span><span class="s">&quot;an attribute&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;and&gt;</span>
    <span class="nt">&lt;many&gt;</span>elements<span class="nt">&lt;/many&gt;</span>
    <span class="nt">&lt;many&gt;</span>more elements<span class="nt">&lt;/many&gt;</span>
  <span class="nt">&lt;/and&gt;</span>
  <span class="nt">&lt;plus</span> <span class="na">a=</span><span class="s">&quot;complex&quot;</span><span class="nt">&gt;</span>
    element as well
  <span class="nt">&lt;/plus&gt;</span>
<span class="nt">&lt;/mydocument&gt;</span>
</pre></div>
</div>
<p>can be loaded into a Python dict like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">xmltodict</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;path/to/file.xml&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fd</span><span class="p">:</span>
    <span class="n">doc</span> <span class="o">=</span> <span class="n">xmltodict</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
<p>and then you can access elements, attributes and values like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">doc</span><span class="p">[</span><span class="s1">&#39;mydocument&#39;</span><span class="p">][</span><span class="s1">&#39;@has&#39;</span><span class="p">]</span> <span class="c1"># == u&#39;an attribute&#39;</span>
<span class="n">doc</span><span class="p">[</span><span class="s1">&#39;mydocument&#39;</span><span class="p">][</span><span class="s1">&#39;and&#39;</span><span class="p">][</span><span class="s1">&#39;many&#39;</span><span class="p">]</span> <span class="c1"># == [u&#39;elements&#39;, u&#39;more elements&#39;]</span>
<span class="n">doc</span><span class="p">[</span><span class="s1">&#39;mydocument&#39;</span><span class="p">][</span><span class="s1">&#39;plus&#39;</span><span class="p">][</span><span class="s1">&#39;@a&#39;</span><span class="p">]</span> <span class="c1"># == u&#39;complex&#39;</span>
<span class="n">doc</span><span class="p">[</span><span class="s1">&#39;mydocument&#39;</span><span class="p">][</span><span class="s1">&#39;plus&#39;</span><span class="p">][</span><span class="s1">&#39;#text&#39;</span><span class="p">]</span> <span class="c1"># == u&#39;element as well&#39;</span>
</pre></div>
</div>
<p>xmltodict also lets you roundtrip back to XML with the unparse function,
has a streaming mode suitable for handling files that don&#8217;t fit in memory
and supports namespaces.</p>
</div>
</div>
<span id="document-scenarios/json"></span><div class="section" id="json">
<h3>JSON<a class="headerlink" href="#json" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="https://docs.python.org/2/library/json.html">json</a> library can parse
JSON from strings or files. The library parses JSON into a Python dictionary
or list. It can also convert Python dictionaries or lists into JSON strings.</p>
<div class="section" id="parsing-json">
<h4>Parsing JSON<a class="headerlink" href="#parsing-json" title="Permalink to this headline">¶</a></h4>
<p>Take the following string containing JSON data:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">json_string</span> <span class="o">=</span> <span class="s1">&#39;{&quot;first_name&quot;: &quot;Guido&quot;, &quot;last_name&quot;:&quot;Rossum&quot;}&#39;</span>
</pre></div>
</div>
<p>It can be parsed like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="n">parsed_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_string</span><span class="p">)</span>
</pre></div>
</div>
<p>and can now be used as a normal dictionary:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="n">parsed_json</span><span class="p">[</span><span class="s1">&#39;first_name&#39;</span><span class="p">])</span>
<span class="s2">&quot;Guido&quot;</span>
</pre></div>
</div>
<p>You can also convert the following to JSON:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;first_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Guido&#39;</span><span class="p">,</span>
    <span class="s1">&#39;second_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Rossum&#39;</span><span class="p">,</span>
    <span class="s1">&#39;titles&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BDFL&#39;</span><span class="p">,</span> <span class="s1">&#39;Developer&#39;</span><span class="p">],</span>
<span class="p">}</span>

<span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">d</span><span class="p">))</span>
<span class="s1">&#39;{&quot;first_name&quot;: &quot;Guido&quot;, &quot;last_name&quot;: &quot;Rossum&quot;, &quot;titles&quot;: [&quot;BDFL&quot;, &quot;Developer&quot;]}&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="simplejson">
<h4>simplejson<a class="headerlink" href="#simplejson" title="Permalink to this headline">¶</a></h4>
<p>The JSON library was added to Python in version 2.6.
If you&#8217;re using an earlier version of Python, the
<a class="reference external" href="https://simplejson.readthedocs.io/en/latest/">simplejson</a> library is
available via PyPI.</p>
<p>simplejson mimics the json standard library. It is available so that developers
that use older versions of Python can use the latest features available in the
json lib.</p>
<p>You can start using simplejson when the json library is not available by
importing simplejson under a different name:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">simplejson</span> <span class="kn">as</span> <span class="nn">json</span>
</pre></div>
</div>
<p>After importing simplejson as json, the above examples will all work as if you
were using the standard json library.</p>
</div>
</div>
<span id="document-scenarios/crypto"></span><div class="section" id="cryptography">
<h3>Cryptography<a class="headerlink" href="#cryptography" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id1">
<h4>Cryptography<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://cryptography.io/en/latest/">Cryptography</a> is an actively developed
library that provides cryptographic recipes and primitives. It supports
Python 2.6-2.7, Python 3.3+ and PyPy.</p>
<p>Cryptography is divided into two layers of recipes and hazardous materials
(hazmat).  The recipes layer provides simple API for proper symmetric
encryption and the hazmat layer provides low-level cryptographic primitives.</p>
<div class="section" id="installation">
<h5>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h5>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install cryptography
</pre></div>
</div>
</div>
<div class="section" id="example">
<h5>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h5>
<p>Example code using high level symmetric encryption recipe:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">cryptography.fernet</span> <span class="kn">import</span> <span class="n">Fernet</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">Fernet</span><span class="o">.</span><span class="n">generate_key</span><span class="p">()</span>
<span class="n">cipher_suite</span> <span class="o">=</span> <span class="n">Fernet</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="n">cipher_text</span> <span class="o">=</span> <span class="n">cipher_suite</span><span class="o">.</span><span class="n">encrypt</span><span class="p">(</span><span class="n">b</span><span class="s2">&quot;A really secret message. Not for prying eyes.&quot;</span><span class="p">)</span>
<span class="n">plain_text</span> <span class="o">=</span> <span class="n">cipher_suite</span><span class="o">.</span><span class="n">decrypt</span><span class="p">(</span><span class="n">cipher_text</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="pycrypto">
<h4>PyCrypto<a class="headerlink" href="#pycrypto" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://www.dlitz.net/software/pycrypto/">PyCrypto</a> is another library,
which provides secure hash functions and various encryption algorithms. It
supports Python version 2.1 through 3.3.</p>
<div class="section" id="id4">
<h5>Installation<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h5>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install pycrypto
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h5>Example<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h5>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">Crypto.Cipher</span> <span class="kn">import</span> <span class="n">AES</span>
<span class="c1"># Encryption</span>
<span class="n">encryption_suite</span> <span class="o">=</span> <span class="n">AES</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;This is a key123&#39;</span><span class="p">,</span> <span class="n">AES</span><span class="o">.</span><span class="n">MODE_CBC</span><span class="p">,</span> <span class="s1">&#39;This is an IV456&#39;</span><span class="p">)</span>
<span class="n">cipher_text</span> <span class="o">=</span> <span class="n">encryption_suite</span><span class="o">.</span><span class="n">encrypt</span><span class="p">(</span><span class="s2">&quot;A really secret message. Not for prying eyes.&quot;</span><span class="p">)</span>

<span class="c1"># Decryption</span>
<span class="n">decryption_suite</span> <span class="o">=</span> <span class="n">AES</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;This is a key123&#39;</span><span class="p">,</span> <span class="n">AES</span><span class="o">.</span><span class="n">MODE_CBC</span><span class="p">,</span> <span class="s1">&#39;This is an IV456&#39;</span><span class="p">)</span>
<span class="n">plain_text</span> <span class="o">=</span> <span class="n">decryption_suite</span><span class="o">.</span><span class="n">decrypt</span><span class="p">(</span><span class="n">cipher_text</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<span id="document-scenarios/ml"></span><div class="section" id="machine-learning">
<h3>Machine Learning<a class="headerlink" href="#machine-learning" title="Permalink to this headline">¶</a></h3>
<p>Python has a vast number of libraries for data analysis, statistics and Machine Learning itself, making it a language of choice for many data scientists.</p>
<p>Some widely used packages for Machine Learning and other Data Science applications are enlisted below.</p>
<div class="section" id="scipy-stack">
<h4>Scipy Stack<a class="headerlink" href="#scipy-stack" title="Permalink to this headline">¶</a></h4>
<p>The Scipy stack consists of a bunch of core helper packages used in data science, for statistical analysis and visualising data. Because of its huge number of functionalities and ease of use, the Stack is considered a must-have for most data science applications.</p>
<p>The Stack consists of the following packages (link to documentation given):</p>
<ol class="arabic simple">
<li><a class="reference external" href="http://www.numpy.org/">NumPy</a></li>
<li><a class="reference external" href="https://www.scipy.org/">SciPy library</a></li>
<li><a class="reference external" href="http://matplotlib.org/">Matplotlib</a></li>
<li><a class="reference external" href="https://ipython.org/">IPython</a></li>
<li><a class="reference external" href="http://pandas.pydata.org/">pandas</a></li>
<li><a class="reference external" href="http://www.sympy.org/en/index.html">Sympy</a></li>
<li><a class="reference external" href="http://nose.readthedocs.io/en/latest/">nose</a></li>
</ol>
<p>The stack also comes with Python bundled in, but has been excluded from the above list.</p>
<div class="section" id="installation">
<h5>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h5>
<p>For installing the full stack, or individual packages, you can refer to the instructions given <a class="reference external" href="https://www.scipy.org/install.html">here</a>.</p>
<p><strong>NB:</strong> <a class="reference external" href="https://www.continuum.io/anaconda-overview">Anaconda</a> is highly preferred and recommended for installing and maintaining data science packages seamlessly.</p>
</div>
</div>
<div class="section" id="scikit-learn">
<h4>scikit-learn<a class="headerlink" href="#scikit-learn" title="Permalink to this headline">¶</a></h4>
<p>Scikit is a free and open-source machine learning library for Python. It offers off-the-shelf functions to implement many algorithms like linear regression, classifiers, SVMs, k-means, Neural Networks etc. It also has a few sample datasets which can be directly used for training and testing.</p>
<p>Because of its speed, robustness and easiness to use, it&#8217;s one of the most widely-used libraries for many Machine Learning applications.</p>
<div class="section" id="id1">
<h5>Installation<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h5>
<p>Through PyPI:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">U</span> <span class="n">scikit</span><span class="o">-</span><span class="n">learn</span>
</pre></div>
</div>
<p>Through conda:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="n">scikit</span><span class="o">-</span><span class="n">learn</span>
</pre></div>
</div>
<p>scikit-learn also comes in shipped with Anaconda (mentioned above). For more installation instructions, refer to <a class="reference external" href="http://scikit-learn.org/stable/install.html">this link</a>.</p>
</div>
<div class="section" id="example">
<h5>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h5>
<p>For this example, we train a simple classifier on the <a class="reference external" href="http://en.wikipedia.org/wiki/Iris_flower_data_set">Iris dataset</a>, which comes bundled in with scikit-learn.</p>
<p>The dataset takes four features of flowers: sepal length, sepal width, petal length and petal width, and classifies them into three flower species (labels): setosa, versicolor or virginica. The labels have been represented as numbers in the dataset: 0 (setosa), 1 (versicolor) and 2 (virginica).</p>
<p>We shuffle the Iris dataset, and divide it into separate training and testing sets: keeping the last 10 data points for testing and rest for training. We then train the classifier on the training set, and predict on the testing set.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_iris</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">tree</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="c1">#loading the iris dataset</span>
<span class="n">iris</span> <span class="o">=</span> <span class="n">load_iris</span><span class="p">()</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">data</span> <span class="c1">#array of the data</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">target</span> <span class="c1">#array of labels (i.e answers) of each data entry</span>

<span class="c1">#getting label names i.e the three flower species</span>
<span class="n">y_names</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">target_names</span>

<span class="c1">#taking random indices to split the dataset into train and test</span>
<span class="n">test_ids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">permutation</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>

<span class="c1">#splitting data and labels into train and test</span>
<span class="c1">#keeping last 10 entries for testing, rest for training</span>

<span class="n">x_train</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">test_ids</span><span class="p">[:</span><span class="o">-</span><span class="mi">10</span><span class="p">]]</span>
<span class="n">x_test</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">test_ids</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">:]]</span>

<span class="n">y_train</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">test_ids</span><span class="p">[:</span><span class="o">-</span><span class="mi">10</span><span class="p">]]</span>
<span class="n">y_test</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">test_ids</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">:]]</span>

<span class="c1">#classifying using decision tree</span>
<span class="n">clf</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">DecisionTreeClassifier</span><span class="p">()</span>

<span class="c1">#training (fitting) the classifier with the training set</span>
<span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1">#predictions on the test dataset</span>
<span class="n">pred</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">x_test</span><span class="p">)</span>

<span class="k">print</span> <span class="n">pred</span> <span class="c1">#predicted labels i.e flower species</span>
<span class="k">print</span> <span class="n">y_test</span> <span class="c1">#actual labels</span>
<span class="k">print</span> <span class="p">(</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">pred</span><span class="p">,</span> <span class="n">y_test</span><span class="p">))</span><span class="o">*</span><span class="mi">100</span> <span class="c1">#prediction accuracy</span>
</pre></div>
</div>
<p>Since we&#8217;re splitting randomly and the classifier trains on every iteration, the accuracy may vary. Running the above code gives:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">2</span> <span class="mi">2</span><span class="p">]</span>
<span class="p">[</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">2</span> <span class="mi">2</span><span class="p">]</span>
<span class="mf">100.0</span>
</pre></div>
</div>
<p>The first line contains the labels (i.e flower species) of the testing data as predicted by our classifier, and the second line contains the actual flower species as given in the dataset. We thus get an accuracy of 100% this time.</p>
<p>More on scikit-learn can be read in the <a class="reference external" href="http://scikit-learn.org/stable/user_guide.html">documentation</a>.</p>
</div>
</div>
</div>
<span id="document-scenarios/clibs"></span><div class="section" id="interfacing-with-c-c-libraries">
<h3>Interfacing with C/C++ Libraries<a class="headerlink" href="#interfacing-with-c-c-libraries" title="Permalink to this headline">¶</a></h3>
<div class="section" id="c-foreign-function-interface">
<h4>C Foreign Function Interface<a class="headerlink" href="#c-foreign-function-interface" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://cffi.readthedocs.io/en/latest/">CFFI</a> provides a simple to use
mechanism for interfacing with C from both CPython and PyPy. It supports two
modes: an inline ABI compatibility mode (example provided below), which allows
you to dynamically load and run functions from executable modules (essentially
exposing the same functionality as LoadLibrary or dlopen), and an API mode,
which allows you to build C extension modules.</p>
<div class="section" id="abi-interaction">
<h5>ABI Interaction<a class="headerlink" href="#abi-interaction" title="Permalink to this headline">¶</a></h5>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">cffi</span> <span class="kn">import</span> <span class="n">FFI</span>
<span class="n">ffi</span> <span class="o">=</span> <span class="n">FFI</span><span class="p">()</span>
<span class="n">ffi</span><span class="o">.</span><span class="n">cdef</span><span class="p">(</span><span class="s2">&quot;size_t strlen(const char*);&quot;</span><span class="p">)</span>
<span class="n">clib</span> <span class="o">=</span> <span class="n">ffi</span><span class="o">.</span><span class="n">dlopen</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="n">length</span> <span class="o">=</span> <span class="n">clib</span><span class="o">.</span><span class="n">strlen</span><span class="p">(</span><span class="s2">&quot;String to be evaluated.&quot;</span><span class="p">)</span>
<span class="c1"># prints: 23</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;{}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">length</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="ctypes">
<h4>ctypes<a class="headerlink" href="#ctypes" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://docs.python.org/3/library/ctypes.html">ctypes</a> is the de facto
library for interfacing with C/C++ from CPython, and it provides not only
full access to the native C interface of most major operating systems (e.g.,
kernel32 on Windows, or libc on *nix), but also provides support for loading
and interfacing with dynamic libraries, such as DLLs or shared objects at
runtime. It does bring along with it a whole host of types for interacting
with system APIs, and allows you to rather easily define your own complex
types, such as structs and unions, and allows you to modify things such as
padding and alignment, if needed. It can be a bit crufty to use, but in
conjunction with the <a class="reference external" href="https://docs.python.org/3.5/library/struct.html">struct</a>
module, you are essentially provided full control over how your data types get
translated into something usable by a pure C(++) method.</p>
<div class="section" id="struct-equivalents">
<h5>Struct Equivalents<a class="headerlink" href="#struct-equivalents" title="Permalink to this headline">¶</a></h5>
<p><code class="file docutils literal"><span class="pre">MyStruct.h</span></code></p>
<div class="highlight-c"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">my_struct</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">a</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">b</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</td></tr></table></div>
<p><code class="file docutils literal"><span class="pre">MyStruct.py</span></code></p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ctypes</span>
<span class="k">class</span> <span class="nc">my_struct</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">Structure</span><span class="p">):</span>
    <span class="n">_fields_</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">c_int</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">c_int</span><span class="p">)]</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="swig">
<h4>SWIG<a class="headerlink" href="#swig" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://www.swig.org">SWIG</a>, though not strictly Python focused (it supports a
large number of scripting languages), is a tool for generating bindings for
interpreted languages from C/C++ header files. It is extremely simple to use:
the consumer simply needs to define an interface file (detailed in the
tutorial and documentations), include the requisite C/C++ headers, and run
the build tool against them. While it does have some limits, (it currently
seems to have issues with a small subset of newer C++ features, and getting
template-heavy code to work can be a bit verbose), it provides a great deal
of power and exposes lots of features to Python with little effort.
Additionally, you can easily extend the bindings SWIG creates (in the
interface file) to overload operators and built-in methods, effectively re-
cast C++ exceptions to be catchable by Python, etc.</p>
<div class="section" id="example-overloading-repr">
<h5>Example: Overloading __repr__<a class="headerlink" href="#example-overloading-repr" title="Permalink to this headline">¶</a></h5>
<p><code class="file docutils literal"><span class="pre">MyClass.h</span></code></p>
<div class="highlight-c++"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp"></span>
<span class="k">class</span> <span class="nc">MyClass</span> <span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">name</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">getName</span><span class="p">();</span>
<span class="p">};</span>
</pre></div>
</td></tr></table></div>
<p><code class="file docutils literal"><span class="pre">myclass.i</span></code></p>
<div class="highlight-c++"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span>%include &quot;string.i&quot;

%module myclass
%{
#include &lt;string&gt;
#include &quot;MyClass.h&quot;
%}

%extend MyClass {
    std::string __repr__()
    {
        return $self-&gt;getName();
    }
}

%include &quot;MyClass.h&quot;
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="boost-python">
<h4>Boost.Python<a class="headerlink" href="#boost-python" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://www.boost.org/doc/libs/1_59_0/libs/python/doc/">Boost.Python</a>
requires a bit more manual work to expose C++ object functionality, but
it is capable of providing all the same features SWIG does and then some,
to include providing wrappers to access PyObjects in C++, extracting SWIG-
wrapper objects, and even embedding bits of Python into your C++ code.</p>
</div>
</div>
</div>
</div>
<div class="section" id="shipping-great-python-code">
<h2>Shipping Great Python Code<a class="headerlink" href="#shipping-great-python-code" title="Permalink to this headline">¶</a></h2>
<p>This part of the guide focuses on deploying your Python code.</p>
<div class="toctree-wrapper compound">
<span id="document-shipping/packaging"></span><div class="section" id="packaging-your-code">
<span id="packaging-your-code-ref"></span><h3>Packaging Your Code<a class="headerlink" href="#packaging-your-code" title="Permalink to this headline">¶</a></h3>
<p>Package your code to share it with other developers. For example
to share a library for other developers to use in their application,
or for development tools like &#8216;py.test&#8217;.</p>
<p>An advantage of this method of distribution is its well established ecosystem
of tools such as PyPI and pip, which make it easy for other developers to
download and install your package either for casual experiments, or as part of
large, professional systems.</p>
<p>It is a well-established convention for Python code to be shared this way.
If your code isn&#8217;t packaged on PyPI, then it will be harder
for other developers to find it, and to use it as part of their existing
process. They will regard such projects with substantial suspicion of being
either badly managed or abandoned.</p>
<p>The downside of distributing code like this is that it relies on the
recipient understanding how to install the required version of Python,
and being able and willing to use tools such as pip to install your code&#8217;s
other dependencies. This is fine when distributing to other developers, but
makes this method unsuitable for distributing applications to end-users.</p>
<p>The <a class="reference external" href="https://python-packaging-user-guide.readthedocs.io/">Python Packaging Guide</a>
provides an extensive guide on creating and maintaining Python packages.</p>
<div class="section" id="alternatives-to-packaging">
<h4>Alternatives to Packaging<a class="headerlink" href="#alternatives-to-packaging" title="Permalink to this headline">¶</a></h4>
<p>To distribute applications to end-users, you should
<a class="reference internal" href="index.html#freezing-your-code-ref"><span>freeze your application</span></a>.</p>
<p>On Linux, you may also want to consider
<a class="reference internal" href="#packaging-for-linux-distributions-ref"><span>creating a Linux distro package</span></a>
(e.g. a .deb file for Debian or Ubuntu.)</p>
</div>
<div class="section" id="for-python-developers">
<h4>For Python Developers<a class="headerlink" href="#for-python-developers" title="Permalink to this headline">¶</a></h4>
<p>If you&#8217;re writing an open source Python module, <a class="reference external" href="http://pypi.python.org">PyPI</a>
, more properly known as <em>The Cheeseshop</em>, is the place to host it.</p>
<div class="section" id="pip-vs-easy-install">
<h5>Pip vs. easy_install<a class="headerlink" href="#pip-vs-easy-install" title="Permalink to this headline">¶</a></h5>
<p>Use <a class="reference external" href="http://pypi.python.org/pypi/pip">pip</a>.  More details
<a class="reference external" href="http://stackoverflow.com/questions/3220404/why-use-pip-over-easy-install">here</a></p>
</div>
<div class="section" id="personal-pypi">
<h5>Personal PyPI<a class="headerlink" href="#personal-pypi" title="Permalink to this headline">¶</a></h5>
<p>If you want to install packages from a source other than PyPI, (say, if
your packages are <em>proprietary</em>), you can do it by hosting a simple http
server, running from the directory which holds those packages which need to be
installed.</p>
<p><strong>Showing an example is always beneficial</strong></p>
<p>For example, if you want to install a package called <code class="file docutils literal"><span class="pre">MyPackage.tar.gz</span></code>,
and assuming this is your directory structure:</p>
<ul>
<li><dl class="first docutils">
<dt>archive</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>MyPackage</dt>
<dd><ul class="first last simple">
<li>MyPackage.tar.gz</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>Go to your command prompt and type:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> archive
<span class="gp">$</span> python -m SimpleHTTPServer 9000
</pre></div>
</div>
<p>This runs a simple http server running on port 9000 and will list all packages
(like <strong>MyPackage</strong>). Now you can install <strong>MyPackage</strong> using any Python
package installer. Using Pip, you would do it like:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install --extra-index-url<span class="o">=</span>http://127.0.0.1:9000/ MyPackage
</pre></div>
</div>
<p>Having a folder with the same name as the package name is <strong>crucial</strong> here.
I got fooled by that, one time. But if you feel that creating a folder called
<code class="file docutils literal"><span class="pre">MyPackage</span></code> and keeping <code class="file docutils literal"><span class="pre">MyPackage.tar.gz</span></code> inside that, is
<em>redundant</em>, you can still install MyPackage using:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install  http://127.0.0.1:9000/MyPackage.tar.gz
</pre></div>
</div>
<div class="section" id="pypiserver">
<h6>pypiserver<a class="headerlink" href="#pypiserver" title="Permalink to this headline">¶</a></h6>
<p><a class="reference external" href="https://pypi.python.org/pypi/pypiserver">Pypiserver</a> is a minimal PyPI
compatible server.  It can be used to serve a set of packages to easy_install
or pip.  It includes helpful features like an administrative command
(<code class="xref std std-option docutils literal"><span class="pre">-U</span></code>) which will update all its packages to their latest versions
found on PyPI.</p>
</div>
<div class="section" id="s3-hosted-pypi">
<h6>S3-Hosted PyPi<a class="headerlink" href="#s3-hosted-pypi" title="Permalink to this headline">¶</a></h6>
<p>One simple option for a personal PyPi server is to use Amazon S3. A
prerequisite for this is that you have an Amazon AWS account with an S3 bucket.</p>
<ol class="arabic simple">
<li><strong>Install all your requirements from PyPi or another source</strong></li>
<li><strong>Install pip2pi</strong></li>
</ol>
<ul class="simple">
<li><code class="code docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">git+https://github.com/wolever/pip2pi.git</span></code></li>
</ul>
<ol class="arabic simple" start="3">
<li><strong>Follow pip2pi README for pip2tgz and dir2pi commands</strong></li>
</ol>
<ul class="simple">
<li><code class="code docutils literal"><span class="pre">pip2tgz</span> <span class="pre">packages/</span> <span class="pre">YourPackage</span></code> (or <code class="code docutils literal"><span class="pre">pip2tgz</span> <span class="pre">packages/</span> <span class="pre">-r</span> <span class="pre">requirements.txt</span></code>)</li>
<li><code class="code docutils literal"><span class="pre">dir2pi</span> <span class="pre">packages/</span></code></li>
</ul>
<ol class="arabic simple" start="4">
<li><strong>Upload the new files</strong></li>
</ol>
<ul class="simple">
<li>Use a client like Cyberduck to sync the entire <code class="file docutils literal"><span class="pre">packages</span></code> folder to your s3 bucket</li>
<li>Make sure you upload <code class="code docutils literal"><span class="pre">packages/simple/index.html</span></code> as well as all new files and directories</li>
</ul>
<ol class="arabic simple" start="5">
<li><strong>Fix new file permissions</strong></li>
</ol>
<ul class="simple">
<li>By default, when you upload new files to the S3 bucket, they will have the wrong permissions set.</li>
<li>Use the Amazon web console to set the READ permission of the files to EVERYONE.</li>
<li>If you get HTTP 403 when trying to install a package, make sure you&#8217;ve set the permissions correctly.</li>
</ul>
<ol class="arabic simple" start="6">
<li><strong>All done</strong></li>
</ol>
<ul class="simple">
<li>You can now install your package with <code class="code docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">--index-url=http://your-s3-bucket/packages/simple/</span> <span class="pre">YourPackage</span></code></li>
</ul>
</div>
</div>
</div>
<div class="section" id="for-linux-distributions">
<span id="packaging-for-linux-distributions-ref"></span><h4>For Linux Distributions<a class="headerlink" href="#for-linux-distributions" title="Permalink to this headline">¶</a></h4>
<p>Creating a Linux distro package is arguably the &#8220;right way&#8221; to distribute code
on Linux.</p>
<p>Because a distribution package doesn&#8217;t include the Python interpreter, it
makes the download and install about 2MB smaller than
<a class="reference internal" href="index.html#freezing-your-code-ref"><span>freezing your application</span></a>.</p>
<p>Also, if a distribution releases a new security update for Python, then your
application will automatically start using that new version of Python.</p>
<p>The bdist_rpm command makes <a class="reference external" href="https://docs.python.org/3/distutils/builtdist.html#creating-rpm-packages">producing an RPM file</a>
for use by distributions like Red Hat or SuSE is trivially easy.</p>
<p>However, creating and maintaining the different configurations required for
each distribution&#8217;s format (e.g. .deb for Debian/Ubuntu, .rpm for Red
Hat/Fedora, etc) is a fair amount of work. If your code is an application that
you plan to distribute on other platforms, then you&#8217;ll also have to create and
maintain the separate config required to freeze your application for Windows
and OSX. It would be much less work to simply create and maintain a single
config for one of the cross platform <a class="reference internal" href="index.html#freezing-your-code-ref"><span>freezing tools</span></a>, which will produce stand-alone executables for all
distributions of Linux, as well as Windows and OSX.</p>
<p>Creating a distribution package is also problematic if your code is for a
version of Python that isn&#8217;t currently supported by a distribution.
Having to tell <em>some versions</em> of Ubuntu end-users that they need to add <a class="reference external" href="https://launchpad.net/~fkrull/+archive/ubuntu/deadsnakes">the
&#8216;dead-snakes&#8217; PPA</a>
using <cite>sudo apt-repository</cite> commands before they can install your .deb file
makes for an extremely hostile user experience. Not only that, but you&#8217;d have
to maintain a custom equivalent of these instructions for every distribution,
and worse, have your users read, understand, and act on them.</p>
<p>Having said all that, here&#8217;s how to do it:</p>
<ul class="simple">
<li><a class="reference external" href="https://fedoraproject.org/wiki/Packaging:Python">Fedora</a></li>
<li><a class="reference external" href="http://www.debian.org/doc/packaging-manuals/python-policy/">Debian and Ubuntu</a></li>
<li><a class="reference external" href="https://wiki.archlinux.org/index.php/Python_Package_Guidelines">Arch</a></li>
</ul>
<div class="section" id="useful-tools">
<h5>Useful Tools<a class="headerlink" href="#useful-tools" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><a class="reference external" href="https://github.com/jordansissel/fpm">fpm</a></li>
<li><a class="reference external" href="http://joeyh.name/code/alien/">alien</a></li>
<li><a class="reference external" href="https://dh-virtualenv.readthedocs.io/en/latest/info.html">dh-virtualenv</a> (for APT/DEB omnibus packaging)</li>
</ul>
</div>
</div>
</div>
<span id="document-shipping/freezing"></span><div class="section" id="freezing-your-code">
<span id="freezing-your-code-ref"></span><h3>Freezing Your Code<a class="headerlink" href="#freezing-your-code" title="Permalink to this headline">¶</a></h3>
<p>&#8220;Freezing&#8221; your code is creating a single-file executable file to distribute
to end-users, that contains all of your application code as well as the
Python interpreter.</p>
<p>Applications such as &#8216;Dropbox&#8217;, &#8216;Eve Online&#8217;,  &#8216;Civilization IV&#8217;, and
BitTorrent clients do this.</p>
<p>The advantage of distributing this way is that your application will &#8220;just work&#8221;,
even if the user doesn&#8217;t already have the required version of Python (or any)
installed. On Windows, and even on many Linux distributions and OS X, the right
version of Python will not already be installed.</p>
<p>Besides, end-user software should always be in an executable format. Files
ending in <code class="docutils literal"><span class="pre">.py</span></code> are for software engineers and system administrators.</p>
<p>One disadvantage of freezing is that it will increase the size of your
distribution by about 2–12MB. Also, you will be responsible for shipping
updated versions of your application when security vulnerabilities to
Python are patched.</p>
<div class="section" id="alternatives-to-freezing">
<h4>Alternatives to Freezing<a class="headerlink" href="#alternatives-to-freezing" title="Permalink to this headline">¶</a></h4>
<p><a class="reference internal" href="index.html#packaging-your-code-ref"><span>Packaging your code</span></a> is for distributing
libraries or tools to other developers.</p>
<p>On Linux, an alternative to freezing is to
<a class="reference internal" href="index.html#packaging-for-linux-distributions-ref"><span>create a Linux distro package</span></a>
(e.g. .deb files for Debian or Ubuntu, or .rpm files for Red Hat and SuSE.)</p>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">Fill in &#8220;Freezing Your Code&#8221; stub</p>
</div>
</div>
<div class="section" id="comparison-of-freezing-tools">
<h4>Comparison of Freezing Tools<a class="headerlink" href="#comparison-of-freezing-tools" title="Permalink to this headline">¶</a></h4>
<p>Solutions and platforms/features supported:</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="7%" />
<col width="5%" />
<col width="4%" />
<col width="9%" />
<col width="7%" />
<col width="14%" />
<col width="15%" />
<col width="4%" />
<col width="22%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Solution</th>
<th class="head">Windows</th>
<th class="head">Linux</th>
<th class="head">OS X</th>
<th class="head">Python 3</th>
<th class="head">License</th>
<th class="head">One-file mode</th>
<th class="head">Zipfile import</th>
<th class="head">Eggs</th>
<th class="head">pkg_resources support</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>bbFreeze</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
<td>no</td>
<td>MIT</td>
<td>no</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>py2exe</td>
<td>yes</td>
<td>no</td>
<td>no</td>
<td>yes</td>
<td>MIT</td>
<td>yes</td>
<td>yes</td>
<td>no</td>
<td>no</td>
</tr>
<tr class="row-even"><td>pyInstaller</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
<td>GPL</td>
<td>yes</td>
<td>no</td>
<td>yes</td>
<td>no</td>
</tr>
<tr class="row-odd"><td>cx_Freeze</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
<td>PSF</td>
<td>no</td>
<td>yes</td>
<td>yes</td>
<td>no</td>
</tr>
<tr class="row-even"><td>py2app</td>
<td>no</td>
<td>no</td>
<td>yes</td>
<td>yes</td>
<td>MIT</td>
<td>no</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Freezing Python code on Linux into a Windows executable was only once
supported in PyInstaller <a class="reference external" href="http://stackoverflow.com/questions/2950971/cross-compiling-a-python-script-on-linux-into-a-windows-executable#comment11890276_2951046">and later dropped.</a>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All solutions need MS Visual C++ dll to be installed on target machine, except py2app.
Only Pyinstaller makes self-executable exe that bundles the dll when
passing <code class="xref std std-option docutils literal"><span class="pre">--onefile</span></code> to <code class="file docutils literal"><span class="pre">Configure.py</span></code>.</p>
</div>
</div>
<div class="section" id="windows">
<h4>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h4>
<div class="section" id="bbfreeze">
<h5>bbFreeze<a class="headerlink" href="#bbfreeze" title="Permalink to this headline">¶</a></h5>
<p>Prerequisite is to install <a class="reference internal" href="index.html#install-windows"><span>Python, Setuptools and pywin32 dependency on Windows</span></a>.</p>
<div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">Todo</p>
<p class="last">Write steps for most basic .exe</p>
</div>
</div>
<div class="section" id="py2exe">
<h5>py2exe<a class="headerlink" href="#py2exe" title="Permalink to this headline">¶</a></h5>
<p>Prerequisite is to install <a class="reference internal" href="index.html#install-windows"><span>Python on Windows</span></a>.</p>
<ol class="arabic simple">
<li>Download and install <a class="reference external" href="http://sourceforge.net/projects/py2exe/files/py2exe/">http://sourceforge.net/projects/py2exe/files/py2exe/</a></li>
<li>Write <code class="file docutils literal"><span class="pre">setup.py</span></code> (<a class="reference external" href="http://www.py2exe.org/index.cgi/ListOfOptions">List of configuration options</a>):</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">distutils.core</span> <span class="kn">import</span> <span class="n">setup</span>
<span class="kn">import</span> <span class="nn">py2exe</span>

<span class="n">setup</span><span class="p">(</span>
    <span class="n">windows</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;script&#39;</span><span class="p">:</span> <span class="s1">&#39;foobar.py&#39;</span><span class="p">}],</span>
<span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>(Optionally) <a class="reference external" href="http://www.py2exe.org/index.cgi/CustomIcons">include icon</a></li>
<li>(Optionally) <a class="reference external" href="http://stackoverflow.com/questions/112698/py2exe-generate-single-executable-file#113014">one-file mode</a></li>
<li>Generate <code class="file docutils literal"><span class="pre">.exe</span></code> into <code class="file docutils literal"><span class="pre">dist</span></code> directory:</li>
</ol>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> python setup.py py2exe
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li>Provide the Microsoft Visual C runtime DLL. Two options: <a class="reference external" href="https://www.microsoft.com/en-us/download/details.aspx?id=29">globally install dll on target machine</a> or <a class="reference external" href="http://www.py2exe.org/index.cgi/Tutorial#Step52">distribute dll alongside with .exe</a>.</li>
</ol>
</div>
<div class="section" id="pyinstaller">
<h5>PyInstaller<a class="headerlink" href="#pyinstaller" title="Permalink to this headline">¶</a></h5>
<p>Prerequisite is to have installed <a class="reference internal" href="index.html#install-windows"><span>Python, Setuptools and pywin32 dependency on Windows</span></a>.</p>
<ul class="simple">
<li><a class="reference external" href="http://bojan-komazec.blogspot.com/2011/08/how-to-create-windows-executable-from.html">Most basic tutorial</a></li>
<li><a class="reference external" href="http://www.pyinstaller.org/export/d3398dd79b68901ae1edd761f3fe0f4ff19cfb1a/project/doc/Manual.html?format=raw">Manual</a></li>
</ul>
</div>
</div>
<div class="section" id="os-x">
<h4>OS X<a class="headerlink" href="#os-x" title="Permalink to this headline">¶</a></h4>
<div class="section" id="py2app">
<h5>py2app<a class="headerlink" href="#py2app" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="id1">
<h5>PyInstaller<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h5>
<p>PyInstaller can be used to build Unix executables and windowed apps on Mac OS X 10.6 (Snow Leopard) or newer.</p>
<p>To install PyInstaller, use pip:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install pyinstaller
</pre></div>
</div>
<p>To create a standard Unix executable, from say <code class="code docutils literal"><span class="pre">script.py</span></code>, use:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pyinstaller script.py
</pre></div>
</div>
<p>This creates,</p>
<ul class="simple">
<li>a <code class="code docutils literal"><span class="pre">script.spec</span></code> file, analogous to a <code class="code docutils literal"><span class="pre">make</span></code> file</li>
<li>a <code class="code docutils literal"><span class="pre">build</span></code> folder, that holds some log files</li>
<li>a <code class="code docutils literal"><span class="pre">dist</span></code> folder, that holds the main executable <code class="code docutils literal"><span class="pre">script</span></code>, and some dependent Python libraries,</li>
</ul>
<p>all in the same folder as <code class="code docutils literal"><span class="pre">script.py</span></code>. PyInstaller puts all the Python libraries used in <code class="code docutils literal"><span class="pre">script.py</span></code> into the <code class="code docutils literal"><span class="pre">dist</span></code> folder, so when distributing the executable, distribute the whole <code class="code docutils literal"><span class="pre">dist</span></code> folder.</p>
<p>The <code class="code docutils literal"><span class="pre">script.spec</span></code> file can be edited to <a class="reference external" href="http://pythonhosted.org/PyInstaller/#spec-file-operation">customise the build</a>, with options such as</p>
<ul class="simple">
<li>bundling data files with the executable</li>
<li>including run-time libraries (<code class="code docutils literal"><span class="pre">.dll</span></code> or <code class="code docutils literal"><span class="pre">.so</span></code> files) that PyInstaller can&#8217;t infer automatically</li>
<li>adding Python run-time options to the executable,</li>
</ul>
<p>Now <code class="code docutils literal"><span class="pre">script.spec</span></code> can be run with <code class="code docutils literal"><span class="pre">pyinstaller</span></code> (instead of using <code class="code docutils literal"><span class="pre">script.py</span></code> again):</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pyinstaller script.spec
</pre></div>
</div>
<p>To create a standalone windowed OS X application, use the <code class="code docutils literal"><span class="pre">--windowed</span></code> option</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pyinstaller --windowed script.spec
</pre></div>
</div>
<p>This creates a <code class="code docutils literal"><span class="pre">script.app</span></code> in the <code class="code docutils literal"><span class="pre">dist</span></code> folder. Make sure to use GUI packages in your Python code, like <a class="reference external" href="https://riverbankcomputing.com/software/pyqt/intro">PyQt</a> or <a class="reference external" href="http://wiki.qt.io/About-PySide">PySide</a>, to control the graphical parts of the app.</p>
<p>There are several options in <code class="code docutils literal"><span class="pre">script.spec</span></code> related to Mac OS X app bundles <a class="reference external" href="http://pythonhosted.org/PyInstaller/#spec-file-options-for-a-mac-os-x-bundle">here</a>. For example, to specify an icon for the app, use the <code class="code docutils literal"><span class="pre">icon=\path\to\icon.icns</span></code> option.</p>
</div>
</div>
<div class="section" id="linux">
<h4>Linux<a class="headerlink" href="#linux" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id2">
<h5>bbFreeze<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="id3">
<h5>PyInstaller<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h5>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="python-development-environments">
<h2>Python Development Environments<a class="headerlink" href="#python-development-environments" title="Permalink to this headline">¶</a></h2>
<p>This part of the guide focus on the Python development environment,
and the best-practice tools that are available for writing Python code.</p>
<div class="toctree-wrapper compound">
<span id="document-dev/env"></span><div class="section" id="your-development-environment">
<h3>Your Development Environment<a class="headerlink" href="#your-development-environment" title="Permalink to this headline">¶</a></h3>
<div class="section" id="text-editors">
<h4>Text Editors<a class="headerlink" href="#text-editors" title="Permalink to this headline">¶</a></h4>
<p>Just about anything that can edit plain text will work for writing Python code,
however, using a more powerful editor may make your life a bit easier.</p>
<div class="section" id="vim">
<h5>Vim<a class="headerlink" href="#vim" title="Permalink to this headline">¶</a></h5>
<p>Vim is a text editor which uses keyboard shortcuts for editing instead of menus
or icons. There are a couple of plugins and settings for the Vim editor to
aid Python development. If you only develop in Python, a good start is to set
the default settings for indentation and line-wrapping to values compliant with
<span class="target" id="index-0"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0008"><strong>PEP 8</strong></a>. In your home directory, open a file called <code class="file docutils literal"><span class="pre">.vimrc</span></code> and add the
following lines:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>set textwidth=79  &quot; lines longer than 79 columns will be broken
set shiftwidth=4  &quot; operation &gt;&gt; indents 4 columns; &lt;&lt; unindents 4 columns
set tabstop=4     &quot; a hard TAB displays as 4 columns
set expandtab     &quot; insert spaces when hitting TABs
set softtabstop=4 &quot; insert/delete 4 spaces when hitting a TAB/BACKSPACE
set shiftround    &quot; round indent to multiple of &#39;shiftwidth&#39;
set autoindent    &quot; align the new line indent with the previous line
</pre></div>
</div>
<p>With these settings, newlines are inserted after 79 characters and indentation
is set to 4 spaces per tab. If you also use Vim for other languages, there is a
handy plugin called <a class="reference external" href="http://www.vim.org/scripts/script.php?script_id=974">indent</a>, which handles indentation settings for Python
source files.</p>
<p>There is also a handy syntax plugin called <a class="reference external" href="http://www.vim.org/scripts/script.php?script_id=790">syntax</a> featuring some improvements
over the syntax file included in Vim 6.1.</p>
<p>These plugins supply you with a basic environment for developing in Python.
To get the most out of Vim, you should continually check your code for syntax
errors and PEP8 compliance. Luckily <a class="reference external" href="http://pypi.python.org/pypi/pep8/">PEP8</a> and <a class="reference external" href="http://pypi.python.org/pypi/pyflakes/">Pyflakes</a> will do this for you.
If your Vim is compiled with <code class="xref std std-option docutils literal"><span class="pre">+python</span></code> you can also utilize some very
handy plugins to do these checks from within the editor.</p>
<p>For PEP8 checking and pyflakes, you can install <a class="reference external" href="https://github.com/nvie/vim-flake8">vim-flake8</a>. Now you can map the
function <code class="docutils literal"><span class="pre">Flake8</span></code> to any hotkey or action you want in Vim. The plugin will
display errors at the bottom of the screen, and provide an easy way to jump to
the corresponding line. It&#8217;s very handy to call this function whenever you save
a file. In order to do this, add the following line to your
<code class="file docutils literal"><span class="pre">.vimrc</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>autocmd BufWritePost *.py call Flake8()
</pre></div>
</div>
<p>If you are already using <a class="reference external" href="https://github.com/scrooloose/syntastic">syntastic</a>, you can set it to run Pyflakes on write
and show errors and warnings in the quickfix window. An example configuration
to do that which also shows status and warning messages in the statusbar would
be:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>set statusline+=%#warningmsg#
set statusline+=%{SyntasticStatuslineFlag()}
set statusline+=%*
let g:syntastic_auto_loc_list=1
let g:syntastic_loc_list_height=5
</pre></div>
</div>
<div class="section" id="python-mode">
<h6>Python-mode<a class="headerlink" href="#python-mode" title="Permalink to this headline">¶</a></h6>
<p><a class="reference external" href="https://github.com/klen/python-mode">Python-mode</a> is a complex solution for working with Python code in Vim.
It has:</p>
<ul class="simple">
<li>Asynchronous Python code checking (<code class="docutils literal"><span class="pre">pylint</span></code>, <code class="docutils literal"><span class="pre">pyflakes</span></code>, <code class="docutils literal"><span class="pre">pep8</span></code>, <code class="docutils literal"><span class="pre">mccabe</span></code>) in any combination</li>
<li>Code refactoring and autocompletion with Rope</li>
<li>Fast Python folding</li>
<li>Virtualenv support</li>
<li>Search through Python documentation and run Python code</li>
<li>Auto <a class="reference external" href="http://pypi.python.org/pypi/pep8/">PEP8</a> error fixes</li>
</ul>
<p>And more.</p>
</div>
<div class="section" id="supertab">
<h6>SuperTab<a class="headerlink" href="#supertab" title="Permalink to this headline">¶</a></h6>
<p><a class="reference external" href="http://www.vim.org/scripts/script.php?script_id=1643">SuperTab</a> is a small Vim plugin that makes code completion more convenient by
using <code class="docutils literal"><span class="pre">&lt;Tab&gt;</span></code> key or any other customized keys.</p>
</div>
</div>
<div class="section" id="emacs">
<h5>Emacs<a class="headerlink" href="#emacs" title="Permalink to this headline">¶</a></h5>
<p>Emacs is another powerful text editor. It is fully programmable (lisp), but
it can be some work to wire up correctly. A good start if you&#8217;re already an
Emacs user is <a class="reference external" href="http://emacswiki.org/emacs/PythonProgrammingInEmacs">Python Programming in Emacs</a> at EmacsWiki.</p>
<ol class="arabic simple">
<li>Emacs itself comes with a Python mode.</li>
</ol>
</div>
<div class="section" id="textmate">
<h5>TextMate<a class="headerlink" href="#textmate" title="Permalink to this headline">¶</a></h5>
<blockquote>
<div><a class="reference external" href="http://macromates.com/">TextMate</a> brings Apple&#8217;s approach to operating
systems into the world of text editors. By bridging UNIX underpinnings and
GUI, TextMate cherry-picks the best of both worlds to the benefit of expert
scripters and novice users alike.</div></blockquote>
</div>
<div class="section" id="sublime-text">
<h5>Sublime Text<a class="headerlink" href="#sublime-text" title="Permalink to this headline">¶</a></h5>
<blockquote>
<div><a class="reference external" href="http://www.sublimetext.com/">Sublime Text</a> is a sophisticated text
editor for code, markup and prose. You&#8217;ll love the slick user interface,
extraordinary features and amazing performance.</div></blockquote>
<p>Sublime Text has excellent support for editing Python code and uses Python for
its plugin API. It also has a diverse variety of plugins,
<a class="reference external" href="https://github.com/SublimeLinter/SublimeLinter">some of which</a> allow for
in-editor PEP8 checking and code &#8220;linting&#8221;.</p>
</div>
<div class="section" id="atom">
<h5>Atom<a class="headerlink" href="#atom" title="Permalink to this headline">¶</a></h5>
<blockquote>
<div><a class="reference external" href="https://atom.io/">Atom</a> is a hackable text editor for the 21st century,
built on atom-shell, and based on everything we love about our favorite
editors.</div></blockquote>
<p>Atom is web native (HTML, CSS, JS), focusing on modular design and easy plugin
development. It comes with native package control and plethora of packages.
Recommended for Python development is
<a class="reference external" href="https://github.com/AtomLinter/Linter">Linter</a> combined with
<a class="reference external" href="https://github.com/AtomLinter/linter-flake8">linter-flake8</a>.</p>
</div>
</div>
<div class="section" id="ides">
<h4>IDEs<a class="headerlink" href="#ides" title="Permalink to this headline">¶</a></h4>
<div class="section" id="pycharm-intellij-idea">
<h5>PyCharm / IntelliJ IDEA<a class="headerlink" href="#pycharm-intellij-idea" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://www.jetbrains.com/pycharm/">PyCharm</a> is developed by JetBrains, also
known for IntelliJ IDEA. Both share the same code base and most of PyCharm&#8217;s
features can be brought to IntelliJ with the free
<a class="reference external" href="https://plugins.jetbrains.com/plugin/?idea&amp;pluginId=631">Python Plug-In</a>.  There are two
versions of PyCharm: Professional Edition (Free 30-day trial) and Community
Edition (Apache 2.0 License) with fewer features.</p>
</div>
<div class="section" id="python-on-visual-studio-code">
<h5>Python (on Visual Studio Code)<a class="headerlink" href="#python-on-visual-studio-code" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="https://marketplace.visualstudio.com/items?itemName=donjayamanne.python">Python for Visual Studio</a> is an extension for the <a class="reference external" href="https://code.visualstudio.com">Visual Studio Code IDE</a>.
This is a free, light weight, open source IDE, with support for Mac, Windows, and Linux.
Built using open source technologies such as Node.js and Python, with compelling features such as Intellisense (autocompletion), local and remote debugging, linting, and the like.</p>
<p>MIT licensed.</p>
</div>
<div class="section" id="enthought-canopy">
<h5>Enthought Canopy<a class="headerlink" href="#enthought-canopy" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="https://www.enthought.com/products/canopy/">Enthought Canopy</a> is a Python
IDE which is focused towards Scientists and Engineers as it provides pre
installed libraries for data analysis.</p>
</div>
<div class="section" id="eclipse">
<h5>Eclipse<a class="headerlink" href="#eclipse" title="Permalink to this headline">¶</a></h5>
<p>The most popular Eclipse plugin for Python development is Aptana&#8217;s
<a class="reference external" href="http://pydev.org">PyDev</a>.</p>
</div>
<div class="section" id="komodo-ide">
<h5>Komodo IDE<a class="headerlink" href="#komodo-ide" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://www.activestate.com/komodo-ide">Komodo IDE</a> is developed by
ActiveState and is a commercial IDE for Windows, Mac, and Linux.
<a class="reference external" href="https://github.com/Komodo/KomodoEdit">KomodoEdit</a> is the open source
alternative.</p>
</div>
<div class="section" id="spyder">
<h5>Spyder<a class="headerlink" href="#spyder" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="https://github.com/spyder-ide/spyder">Spyder</a> is an IDE specifically geared
toward working with scientific Python libraries (namely
<a class="reference external" href="http://www.scipy.org/">Scipy</a>). It includes integration with <a class="reference external" href="http://pypi.python.org/pypi/pyflakes/">pyflakes</a>,
<a class="reference external" href="http://www.logilab.org/857">pylint</a> and
<a class="reference external" href="https://github.com/python-rope/rope">rope</a>.</p>
<p>Spyder is open-source (free), offers code completion, syntax highlighting,
a class and function browser, and object inspection.</p>
</div>
<div class="section" id="wingide">
<h5>WingIDE<a class="headerlink" href="#wingide" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://wingware.com/">WingIDE</a> is a Python specific IDE. It runs on Linux,
Windows and Mac (as an X11 application, which frustrates some Mac users).</p>
<p>WingIDE offers code completion, syntax highlighting, source browser, graphical
debugger and support for version control systems.</p>
</div>
<div class="section" id="ninja-ide">
<h5>NINJA-IDE<a class="headerlink" href="#ninja-ide" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://www.ninja-ide.org/">NINJA-IDE</a> (from the recursive acronym: &#8220;Ninja-IDE
Is Not Just Another IDE&#8221;) is a cross-platform IDE, specially designed to build
Python applications, and runs on Linux/X11, Mac OS X and Windows desktop
operating systems. Installers for these platforms can be downloaded from the
website.</p>
<p>NINJA-IDE is open-source software (GPLv3 licence) and is developed
in Python and Qt. The source files can be downloaded from
<a class="reference external" href="https://github.com/ninja-ide">GitHub</a>.</p>
</div>
<div class="section" id="eric-the-eric-python-ide">
<h5>Eric (The Eric Python IDE)<a class="headerlink" href="#eric-the-eric-python-ide" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://eric-ide.python-projects.org/">Eric</a> is a full featured Python IDE
offering sourcecode autocompletion, syntax highlighting, support for version
control systems, python 3 support, integrated web browser, python shell,
integrated debugger and a flexible plug-in system. Written in python, it is
based on the Qt gui toolkit, integrating the Scintilla editor control. Eric
is an open-source software project (GPLv3 licence) with more than ten years of
active development.</p>
</div>
</div>
<div class="section" id="interpreter-tools">
<h4>Interpreter Tools<a class="headerlink" href="#interpreter-tools" title="Permalink to this headline">¶</a></h4>
<div class="section" id="virtual-environments">
<h5>Virtual Environments<a class="headerlink" href="#virtual-environments" title="Permalink to this headline">¶</a></h5>
<p>Virtual Environments provide a powerful way to isolate project package dependencies. This means that you can use packages particular to a Python project without installing them system wide and thus avoiding potential version conflicts.</p>
<p>To start using and see more information:
<a class="reference external" href="http://github.com/kennethreitz/python-guide/blob/master/docs/dev/virtualenvs.rst">Virtual Environments</a> docs.</p>
</div>
<div class="section" id="pyenv">
<h5>pyenv<a class="headerlink" href="#pyenv" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="https://github.com/yyuu/pyenv">pyenv</a> is a tool to allow multiple versions
of the Python interpreter to be installed at the same time.  This solves the
problem of having different projects requiring different versions of Python.
For example, it becomes very easy to install Python 2.7 for compatibility in
one project, whilst still using Python 3.4 as the default interpreter.
pyenv isn&#8217;t just limited to the CPython versions - it will also install PyPy,
anaconda, miniconda, stackless, jython, and ironpython interpreters.</p>
<p>pyenv works by filling a <code class="docutils literal"><span class="pre">shims</span></code> directory with fake versions of the Python
interpreter (plus other tools like <code class="docutils literal"><span class="pre">pip</span></code> and <code class="docutils literal"><span class="pre">2to3</span></code>).  When the system
looks for a program named <code class="docutils literal"><span class="pre">python</span></code>, it looks inside the <code class="docutils literal"><span class="pre">shims</span></code> directory
first, and uses the fake version, which in turn passes the command on to
pyenv.  pyenv then works out which version of Python should be run based on
environment variables, <code class="docutils literal"><span class="pre">.python-version</span></code> files, and the global default.</p>
<p>pyenv isn&#8217;t a tool for managing virtual environments, but there is the plugin
<a class="reference external" href="https://github.com/yyuu/pyenv-virtualenv">pyenv-virtualenv</a> which automates
the creation of different environments, and also makes it possible to use the
existing pyenv tools to switch to different environments based on environment
variables or <code class="docutils literal"><span class="pre">.python-version</span></code> files.</p>
</div>
</div>
<div class="section" id="other-tools">
<h4>Other Tools<a class="headerlink" href="#other-tools" title="Permalink to this headline">¶</a></h4>
<div class="section" id="idle">
<h5>IDLE<a class="headerlink" href="#idle" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://docs.python.org/library/idle.html#idle" title="(in Python v2.7)"><span class="xref std std-ref">IDLE</span></a> is an integrated development environment that is
part of Python standard library. It is completely written in Python and uses
the Tkinter GUI toolkit. Though IDLE is not suited for full-blown development
using Python, it is quite helpful to try out small Python snippets and
experiment with different features in Python.</p>
<p>It provides the following features:</p>
<ul class="simple">
<li>Python Shell Window (interpreter)</li>
<li>Multi window text editor that colorizes Python code</li>
<li>Minimal debugging facility</li>
</ul>
</div>
<div class="section" id="ipython">
<h5>IPython<a class="headerlink" href="#ipython" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://ipython.org/">IPython</a> provides a rich toolkit to help you make the
most out of using Python interactively. Its main components are:</p>
<ul class="simple">
<li>Powerful Python shells (terminal- and Qt-based).</li>
<li>A web-based notebook with the same core features but support for rich media,
text, code, mathematical expressions and inline plots.</li>
<li>Support for interactive data visualization and use of GUI toolkits.</li>
<li>Flexible, embeddable interpreters to load into your own projects.</li>
<li>Tools for high level and interactive parallel computing.</li>
</ul>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install ipython
</pre></div>
</div>
<p>To download and install IPython with all it&#8217;s optional dependencies for the notebook, qtconsole, tests, and other functionalities</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install ipython<span class="o">[</span>all<span class="o">]</span>
</pre></div>
</div>
</div>
<div class="section" id="bpython">
<h5>BPython<a class="headerlink" href="#bpython" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="http://bpython-interpreter.org/">bpython</a> is an alternative interface to the
Python interpreter for Unix-like operating systems. It has the following
features:</p>
<ul class="simple">
<li>In-line syntax highlighting.</li>
<li>Readline-like autocomplete with suggestions displayed as you type.</li>
<li>Expected parameter list for any Python function.</li>
<li>&#8220;Rewind&#8221; function to pop the last line of code from memory and re-evaluate.</li>
<li>Send entered code off to a pastebin.</li>
<li>Save entered code to a file.</li>
<li>Auto-indentation.</li>
<li>Python 3 support.</li>
</ul>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install bpython
</pre></div>
</div>
</div>
<div class="section" id="ptpython">
<h5>ptpython<a class="headerlink" href="#ptpython" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="https://github.com/jonathanslenders/ptpython/">ptpython</a> is a REPL build
on top of the <a class="reference external" href="http://github.com/jonathanslenders/python-prompt-toolkit">prompt_toolkit</a>
library. It is considered to be an alternative to <a class="reference external" href="http://bpython-interpreter.org/">BPython</a>. Features include:</p>
<ul class="simple">
<li>Syntax highlighting</li>
<li>Autocompletion</li>
<li>Multiline editing</li>
<li>Emacs and VIM Mode</li>
<li>Embedding REPL inside of your code</li>
<li>Syntax Validation</li>
<li>Tab pages</li>
<li>Support for integrating with <a class="reference external" href="http://ipython.org/">IPython</a>&#8216;s shell, by installing IPython
<code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">ipython</span></code> and running <code class="docutils literal"><span class="pre">ptipython</span></code>.</li>
</ul>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install ptpython
</pre></div>
</div>
</div>
</div>
</div>
<span id="document-dev/virtualenvs"></span><div class="section" id="virtual-environments">
<span id="virtualenvironments-ref"></span><h3>Virtual Environments<a class="headerlink" href="#virtual-environments" title="Permalink to this headline">¶</a></h3>
<p>A Virtual Environment is a tool to keep the dependencies required by different
projects in separate places, by creating virtual Python environments for them.
It solves the &#8220;Project X depends on version 1.x but, Project Y needs 4.x&#8221;
dilemma, and keeps your global site-packages directory clean and manageable.</p>
<p>For example, you can work on a project which requires Django 1.10 while also
maintaining a project which requires Django 1.8.</p>
<div class="section" id="virtualenv">
<h4>virtualenv<a class="headerlink" href="#virtualenv" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://pypi.python.org/pypi/virtualenv">virtualenv</a> is a tool to create
isolated Python environments. virtualenv creates a folder which contains all the
necessary executables to use the packages that a Python project would need.</p>
<p>Install virtualenv via pip:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install virtualenv
</pre></div>
</div>
<div class="section" id="basic-usage">
<h5>Basic Usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a></h5>
<ol class="arabic simple">
<li>Create a virtual environment for a project:</li>
</ol>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> my_project_folder
<span class="gp">$</span> virtualenv venv
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">virtualenv</span> <span class="pre">venv</span></code> will create a folder in the current directory which will
contain the Python executable files, and a copy of the <code class="docutils literal"><span class="pre">pip</span></code> library which you
can use to install other packages. The name of the virtual environment (in this
case, it was <code class="docutils literal"><span class="pre">venv</span></code>) can be anything; omitting the name will place the files
in the current directory instead.</p>
<p>This creates a copy of Python in whichever directory you ran the command in,
placing it in a folder named <code class="file docutils literal"><span class="pre">venv</span></code>.</p>
<p>You can also use a Python interpreter of your choice.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> virtualenv -p /usr/bin/python2.7 venv
</pre></div>
</div>
<p>This will use the Python interpreter in <code class="file docutils literal"><span class="pre">/usr/bin/python2.7</span></code></p>
<ol class="arabic simple" start="2">
<li>To begin using the virtual environment, it needs to be activated:</li>
</ol>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">source</span> venv/bin/activate
</pre></div>
</div>
<p>The name of the current virtual environment will now appear on the left of
the prompt (e.g. <code class="docutils literal"><span class="pre">(venv)Your-Computer:your_project</span> <span class="pre">UserName$)</span></code> to let you know
that it&#8217;s active. From now on, any package that you install using pip will be
placed in the <code class="docutils literal"><span class="pre">venv</span></code> folder, isolated from the global Python installation.</p>
<p>Install packages as usual, for example:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install requests
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>If you are done working in the virtual environment for the moment, you can
deactivate it:</li>
</ol>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> deactivate
</pre></div>
</div>
<p>This puts you back to the system&#8217;s default Python interpreter with all its
installed libraries.</p>
<p>To delete a virtual environment, just delete its folder. (In this case,
it would be <code class="docutils literal"><span class="pre">rm</span> <span class="pre">-rf</span> <span class="pre">venv</span></code>.)</p>
<p>After a while, though, you might end up with a lot of virtual environments
littered across your system, and its possible you&#8217;ll forget their names or
where they were placed.</p>
</div>
<div class="section" id="other-notes">
<h5>Other Notes<a class="headerlink" href="#other-notes" title="Permalink to this headline">¶</a></h5>
<p>Running <code class="docutils literal"><span class="pre">virtualenv</span></code> with the option <code class="xref std std-option docutils literal"><span class="pre">--no-site-packages</span></code> will not
include the packages that are installed globally. This can be useful
for keeping the package list clean in case it needs to be accessed later.
[This is the default behavior for <code class="docutils literal"><span class="pre">virtualenv</span></code> 1.7 and later.]</p>
<p>In order to keep your environment consistent, it&#8217;s a good idea to &#8220;freeze&#8221;
the current state of the environment packages. To do this, run</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip freeze &gt; requirements.txt
</pre></div>
</div>
<p>This will create a <code class="file docutils literal"><span class="pre">requirements.txt</span></code> file, which contains a simple
list of all the packages in the current environment, and their respective
versions. You can see the list of installed packages without the requirements
format using &#8220;pip list&#8221;. Later it will be easier for a different developer
(or you, if you need to re-create the environment) to install the same packages
using the same versions:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install -r requirements.txt
</pre></div>
</div>
<p>This can help ensure consistency across installations, across deployments,
and across developers.</p>
<p>Lastly, remember to exclude the virtual environment folder from source
control by adding it to the ignore list.</p>
</div>
</div>
<div class="section" id="virtualenvwrapper">
<span id="virtualenvwrapper-ref"></span><h4>virtualenvwrapper<a class="headerlink" href="#virtualenvwrapper" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://virtualenvwrapper.readthedocs.io/en/latest/index.html">virtualenvwrapper</a>
provides a set of commands which makes working with virtual environments much
more pleasant. It also places all your virtual environments in one place.</p>
<p>To install (make sure <strong>virtualenv</strong> is already installed):</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install virtualenvwrapper
<span class="gp">$</span> <span class="nb">export</span> <span class="nv">WORKON_HOME</span><span class="o">=</span>~/Envs
<span class="gp">$</span> <span class="nb">source</span> /usr/local/bin/virtualenvwrapper.sh
</pre></div>
</div>
<p>(<a class="reference external" href="https://virtualenvwrapper.readthedocs.io/en/latest/install.html">Full virtualenvwrapper install instructions</a>.)</p>
<p>For Windows, you can use the <a class="reference external" href="https://github.com/davidmarble/virtualenvwrapper-win/">virtualenvwrapper-win</a>.</p>
<p>To install (make sure <strong>virtualenv</strong> is already installed):</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install virtualenvwrapper-win
</pre></div>
</div>
<p>In Windows, the default path for WORKON_HOME is %USERPROFILE%Envs</p>
<div class="section" id="id3">
<h5>Basic Usage<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h5>
<ol class="arabic simple">
<li>Create a virtual environment:</li>
</ol>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> mkvirtualenv venv
</pre></div>
</div>
<p>This creates the <code class="file docutils literal"><span class="pre">venv</span></code> folder inside <code class="file docutils literal"><span class="pre">~/Envs</span></code>.</p>
<ol class="arabic simple" start="2">
<li>Work on a virtual environment:</li>
</ol>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> workon venv
</pre></div>
</div>
<p>Alternatively, you can make a project, which creates the virtual environment,
and also a project directory inside <code class="docutils literal"><span class="pre">$PROJECT_HOME</span></code>, which is <code class="docutils literal"><span class="pre">cd</span></code> -ed into
when you <code class="docutils literal"><span class="pre">workon</span> <span class="pre">myproject</span></code>.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> mkproject myproject
</pre></div>
</div>
<p><strong>virtualenvwrapper</strong> provides tab-completion on environment names. It really
helps when you have a lot of environments and have trouble remembering their
names.</p>
<p><code class="docutils literal"><span class="pre">workon</span></code> also deactivates whatever environment you are currently in, so you
can quickly switch between environments.</p>
<ol class="arabic simple" start="3">
<li>Deactivating is still the same:</li>
</ol>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> deactivate
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li>To delete:</li>
</ol>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> rmvirtualenv venv
</pre></div>
</div>
</div>
<div class="section" id="other-useful-commands">
<h5>Other useful commands<a class="headerlink" href="#other-useful-commands" title="Permalink to this headline">¶</a></h5>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">lsvirtualenv</span></code></dt>
<dd>List all of the environments.</dd>
<dt><code class="docutils literal"><span class="pre">cdvirtualenv</span></code></dt>
<dd>Navigate into the directory of the currently activated virtual environment,
so you can browse its <code class="file docutils literal"><span class="pre">site-packages</span></code>, for example.</dd>
<dt><code class="docutils literal"><span class="pre">cdsitepackages</span></code></dt>
<dd>Like the above, but directly into <code class="file docutils literal"><span class="pre">site-packages</span></code> directory.</dd>
<dt><code class="docutils literal"><span class="pre">lssitepackages</span></code></dt>
<dd>Shows contents of <code class="file docutils literal"><span class="pre">site-packages</span></code> directory.</dd>
</dl>
<p><a class="reference external" href="https://virtualenvwrapper.readthedocs.io/en/latest/command_ref.html">Full list of virtualenvwrapper commands</a>.</p>
</div>
</div>
<div class="section" id="virtualenv-burrito">
<h4>virtualenv-burrito<a class="headerlink" href="#virtualenv-burrito" title="Permalink to this headline">¶</a></h4>
<p>With <a class="reference external" href="https://github.com/brainsik/virtualenv-burrito">virtualenv-burrito</a>, you
can have a working virtualenv + virtualenvwrapper environment in a single command.</p>
</div>
<div class="section" id="autoenv">
<h4>autoenv<a class="headerlink" href="#autoenv" title="Permalink to this headline">¶</a></h4>
<p>When you <code class="docutils literal"><span class="pre">cd</span></code> into a directory containing a <code class="file docutils literal"><span class="pre">.env</span></code>, <a class="reference external" href="https://github.com/kennethreitz/autoenv">autoenv</a>
automagically activates the environment.</p>
<p>Install it on Mac OS X using <code class="docutils literal"><span class="pre">brew</span></code>:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> brew install autoenv
</pre></div>
</div>
<p>And on Linux:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> git clone git://github.com/kennethreitz/autoenv.git ~/.autoenv
<span class="gp">$</span> <span class="nb">echo</span> <span class="s1">&#39;source ~/.autoenv/activate.sh&#39;</span> &gt;&gt; ~/.bashrc
</pre></div>
</div>
</div>
</div>
<span id="document-dev/pip-virtualenv"></span><div class="section" id="further-configuration-of-pip-and-virtualenv">
<span id="pip-virtualenv"></span><h3>Further Configuration of Pip and Virtualenv<a class="headerlink" href="#further-configuration-of-pip-and-virtualenv" title="Permalink to this headline">¶</a></h3>
<div class="section" id="requiring-an-active-virtual-environment-for-pip">
<h4>Requiring an active virtual environment for <code class="docutils literal"><span class="pre">pip</span></code><a class="headerlink" href="#requiring-an-active-virtual-environment-for-pip" title="Permalink to this headline">¶</a></h4>
<p>By now it should be clear that using virtual environments is a great way to
keep your development environment clean and keeping different projects&#8217;
requirements separate.</p>
<p>When you start working on many different projects, it can be hard to remember to
activate the related virtual environment when you come back to a specific
project.  As a result of this, it is very easy to install packages globally
while thinking that you are actually installing the package for the virtual
environment of the project. Over time this can result in a messy global package
list.</p>
<p>In order to make sure that you install packages to your active virtual
environment when you use <code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span></code>, consider adding the following two
lines to your <code class="file docutils literal"><span class="pre">~/.bashrc</span></code> file:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">export PIP_REQUIRE_VIRTUALENV=true</span>
</pre></div>
</div>
<p>After saving this change and sourcing the <code class="file docutils literal"><span class="pre">~/.bashrc</span></code> file with
<code class="docutils literal"><span class="pre">source</span> <span class="pre">~/.bashrc</span></code>, pip will no longer let you install packages if you are not
in a virtual environment.  If you try to use <code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span></code> outside of a
virtual environment pip will gently remind you that an activated virtual
environment is needed to install packages.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install requests
<span class="go">Could not find an activated virtualenv (required).</span>
</pre></div>
</div>
<p>You can also do this configuration by editing your <code class="file docutils literal"><span class="pre">pip.conf</span></code> or
<code class="file docutils literal"><span class="pre">pip.ini</span></code> file. <code class="file docutils literal"><span class="pre">pip.conf</span></code> is used by Unix and Mac OS X operating
systems and it can be found at:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span>HOME/.pip/pip.conf
</pre></div>
</div>
<p>Similarly, the <code class="file docutils literal"><span class="pre">pip.ini</span></code> file is used by Windows operating systems and it
can be found at:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">%</span>HOME%<span class="se">\p</span>ip<span class="se">\p</span>ip.ini
</pre></div>
</div>
<p>If you don&#8217;t have a <code class="file docutils literal"><span class="pre">pip.conf</span></code> or <code class="file docutils literal"><span class="pre">pip.ini</span></code> file at these locations,
you can create a new file with the correct name for your operating system.</p>
<p>If you already have a configuration file, just add the following line under the
<code class="docutils literal"><span class="pre">[global]</span></code> settings to require an active virtual environment:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">require-virtualenv = true</span>
</pre></div>
</div>
<p>If you did not have a configuration file, you will need to create a new one and
add the following lines to this new file:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">[global]</span>
<span class="go">require-virtualenv = true</span>
</pre></div>
</div>
<p>You will of course need to install some packages globally (usually ones that
you use across different projects consistently) and this can be accomplished by
adding the following to your <code class="file docutils literal"><span class="pre">~/.bashrc</span></code> file:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">gpip() {</span>
<span class="go">    PIP_REQUIRE_VIRTUALENV=&quot;&quot; pip &quot;$@&quot;</span>
<span class="go">}</span>
</pre></div>
</div>
<p>After saving the changes and sourcing your <code class="file docutils literal"><span class="pre">~/.bashrc</span></code> file you can now
install packages globally by running <code class="docutils literal"><span class="pre">gpip</span> <span class="pre">install</span></code>. You can change the name
of the function to anything you like, just keep in mind that you will have to
use that name when trying to install packages globally with pip.</p>
</div>
<div class="section" id="caching-packages-for-future-use">
<h4>Caching packages for future use<a class="headerlink" href="#caching-packages-for-future-use" title="Permalink to this headline">¶</a></h4>
<p>Every developer has preferred libraries and when you are working on a lot of
different projects, you are bound to have some overlap between the libraries
that you use. For example, you may be using the <code class="docutils literal"><span class="pre">requests</span></code> library in a lot
of different projects.</p>
<p>It is surely unnecessary to re-download the same packages/libraries each time
you start working on a new project (and in a new virtual environment as a result).
Fortunately, you can configure pip in such a way that it tries to reuse already
installed packages.</p>
<p>On UNIX systems, you can add the following line to your <code class="file docutils literal"><span class="pre">.bashrc</span></code> or
<code class="file docutils literal"><span class="pre">.bash_profile</span></code> file.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">export PIP_DOWNLOAD_CACHE=$HOME/.pip/cache</span>
</pre></div>
</div>
<p>You can set the path to anywhere you like (as long as you have write
access). After adding this line, <code class="docutils literal"><span class="pre">source</span></code> your <code class="file docutils literal"><span class="pre">.bashrc</span></code>
(or <code class="file docutils literal"><span class="pre">.bash_profile</span></code>) file and you will be all set.</p>
<p>Another way of doing the same configuration is via the <code class="file docutils literal"><span class="pre">pip.conf</span></code> or
<code class="file docutils literal"><span class="pre">pip.ini</span></code> files, depending on your system. If you are on Windows, you can
add the following line to your <code class="file docutils literal"><span class="pre">pip.ini</span></code> file under <code class="docutils literal"><span class="pre">[global]</span></code> settings:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">download-cache = %HOME%\pip\cache</span>
</pre></div>
</div>
<p>Similarly, on UNIX systems you should simply add the following line to your
<code class="file docutils literal"><span class="pre">pip.conf</span></code> file under <code class="docutils literal"><span class="pre">[global]</span></code> settings:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">download-cache = $HOME/.pip/cache</span>
</pre></div>
</div>
<p>Even though you can use any path you like to store your cache, it is recommended
that you create a new folder <em>in</em> the folder where your <code class="file docutils literal"><span class="pre">pip.conf</span></code> or
<code class="file docutils literal"><span class="pre">pip.ini</span></code> file lives. If you don&#8217;t trust yourself with all of this path
voodoo, just use the values provided here and you will be fine.</p>
</div>
</div>
</div>
</div>
<div class="section" id="additional-notes">
<h2>Additional Notes<a class="headerlink" href="#additional-notes" title="Permalink to this headline">¶</a></h2>
<p>This part of the guide, which is mostly prose, begins with some
background information about Python, then focuses on next steps.</p>
<div class="toctree-wrapper compound">
<span id="document-intro/duction"></span><div class="section" id="introduction">
<h3>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h3>
<p>From the <a class="reference external" href="http://python.org/about/">official Python website</a>:</p>
<p>Python is a general-purpose, high-level programming language similar
to Tcl, Perl, Ruby, Scheme, or Java. Some of its main key features
include:</p>
<ul>
<li><p class="first"><strong>very clear, readable syntax</strong></p>
<p>Python&#8217;s philosophy focuses on readability, from code blocks
delineated with significant whitespace to intuitive keywords in
place of inscrutable punctuation.</p>
</li>
<li><p class="first"><strong>extensive standard libraries and third party modules for virtually
any task</strong></p>
<p>Python is sometimes described with the words &#8220;batteries included&#8221;
because of its extensive
<a class="reference external" href="http://docs.python.org/library/">standard library</a>, which includes
modules for regular expressions, file IO, fraction handling,
object serialization, and much more.</p>
<p>Additionally, the
<a class="reference external" href="http://pypi.python.org/pypi/">Python Package Index</a> is available
for users to submit their packages for widespread use, similar to
Perl&#8217;s <a class="reference external" href="http://www.cpan.org">CPAN</a>. There is a thriving community
of very powerful Python frameworks and tools like
the <a class="reference external" href="http://www.djangoproject.com">Django</a> web framework and the
<a class="reference external" href="http://numpy.scipy.org">NumPy</a> set of math routines.</p>
</li>
<li><p class="first"><strong>integration with other systems</strong></p>
<p>Python can integrate with <a class="reference external" href="http://www.jython.org">Java libraries</a>,
enabling it to be used with the rich Java environment that corporate
programmers are used to. It can also be
<a class="reference external" href="http://docs.python.org/extending/">extended by C or C++ modules</a>
when speed is of the essence.</p>
</li>
<li><p class="first"><strong>ubiquity on computers</strong></p>
<p>Python is available on Windows, *nix, and Mac. It runs wherever the
Java virtual machine runs, and the reference implementation CPython
can help bring Python to wherever there is a working C compiler.</p>
</li>
<li><p class="first"><strong>friendly community</strong></p>
<p>Python has a vibrant and large <a class="reference internal" href="index.html#the-community"><span>community</span></a>
which maintains wikis, conferences, countless repositories,
mailing lists, IRC channels, and so much more. Heck, the Python
community is even helping to write this guide!</p>
</li>
</ul>
<div class="section" id="about-this-guide">
<span id="about-ref"></span><h4>About This Guide<a class="headerlink" href="#about-this-guide" title="Permalink to this headline">¶</a></h4>
<div class="section" id="purpose">
<h5>Purpose<a class="headerlink" href="#purpose" title="Permalink to this headline">¶</a></h5>
<p>The Hitchhiker&#8217;s Guide to Python exists to provide both novice and expert
Python developers a best practice handbook for the installation, configuration,
and usage of Python on a daily basis.</p>
</div>
<div class="section" id="by-the-community">
<h5>By the Community<a class="headerlink" href="#by-the-community" title="Permalink to this headline">¶</a></h5>
<p>This guide is architected and maintained by <a class="reference external" href="https://github.com/kennethreitz">Kenneth Reitz</a> in an open fashion. This is a
community-driven effort that serves one purpose: to serve the community.</p>
</div>
<div class="section" id="for-the-community">
<h5>For the Community<a class="headerlink" href="#for-the-community" title="Permalink to this headline">¶</a></h5>
<p>All contributions to the Guide are welcome, from Pythonistas of all levels.
If you think there&#8217;s a gap in what the Guide covers, fork the Guide on
GitHub and submit a pull request.</p>
<p>Contributions are welcome from everyone, whether they&#8217;re an old hand or a
first-time Pythonista, and the authors to the Guide will gladly help if you
have any questions about the appropriateness, completeness, or accuracy of
a contribution.</p>
<p>To get started working on The Hitchhiker&#8217;s Guide,
see the <a class="reference internal" href="index.html#document-notes/contribute"><em>Contribute</em></a> page.</p>
</div>
</div>
</div>
<span id="document-intro/community"></span><div class="section" id="the-community">
<span id="id1"></span><h3>The Community<a class="headerlink" href="#the-community" title="Permalink to this headline">¶</a></h3>
<div class="section" id="bdfl">
<h4>BDFL<a class="headerlink" href="#bdfl" title="Permalink to this headline">¶</a></h4>
<p>Guido van Rossum, the creator of Python, is often referred to as the BDFL — the
Benevolent Dictator For Life.</p>
</div>
<div class="section" id="python-software-foundation">
<h4>Python Software Foundation<a class="headerlink" href="#python-software-foundation" title="Permalink to this headline">¶</a></h4>
<p>The mission of the Python Software Foundation is to promote, protect, and
advance the Python programming language, and to support and facilitate the
growth of a diverse and international community of Python programmers.</p>
<p><a class="reference external" href="http://www.python.org/psf/">Learn More about the PSF</a>.</p>
</div>
<div class="section" id="peps">
<h4>PEPs<a class="headerlink" href="#peps" title="Permalink to this headline">¶</a></h4>
<p>PEPs are <em>Python Enhancement Proposals</em>. They describe changes to Python itself,
or the standards around it.</p>
<p>There are three different types of PEPs (as defined by <span class="target" id="index-0"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0001"><strong>PEP 1</strong></a>):</p>
<blockquote>
<div><dl class="docutils">
<dt><strong>Standards</strong></dt>
<dd>Describes a new feature or implementation.</dd>
<dt><strong>Informational</strong></dt>
<dd>Describes a design issue, general guidelines, or information to the
community.</dd>
<dt><strong>Process</strong></dt>
<dd>Describes a process related to Python.</dd>
</dl>
</div></blockquote>
<div class="section" id="notable-peps">
<h5>Notable PEPs<a class="headerlink" href="#notable-peps" title="Permalink to this headline">¶</a></h5>
<p>There are a few PEPs that could be considered required reading:</p>
<ul>
<li><dl class="first docutils">
<dt><span class="target" id="index-1"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0008"><strong>PEP 8</strong></a>: The Python Style Guide.</dt>
<dd><p class="first last">Read this. All of it. Follow it.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><span class="target" id="index-2"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0020"><strong>PEP 20</strong></a>: The Zen of Python.</dt>
<dd><p class="first last">A list of 19 statements that briefly explain the philosophy behind Python.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><span class="target" id="index-3"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0257"><strong>PEP 257</strong></a>: Docstring Conventions.</dt>
<dd><p class="first last">Gives guidelines for semantics and conventions associated with Python
docstrings.</p>
</dd>
</dl>
</li>
</ul>
<p>You can read more at <a class="reference external" href="http://www.python.org/dev/peps/">The PEP Index</a>.</p>
</div>
<div class="section" id="submitting-a-pep">
<h5>Submitting a PEP<a class="headerlink" href="#submitting-a-pep" title="Permalink to this headline">¶</a></h5>
<p>PEPs are peer-reviewed and accepted/rejected after much discussion. Anyone
can write and submit a PEP for review.</p>
<p>Here&#8217;s an overview of the PEP acceptance workflow:</p>
<img alt="_images/pep-0001-1.png" src="_images/pep-0001-1.png" />
</div>
</div>
<div class="section" id="python-conferences">
<h4>Python Conferences<a class="headerlink" href="#python-conferences" title="Permalink to this headline">¶</a></h4>
<p>The major events for the Python community are developer conferences. The two
most notable conferences are PyCon, which is held in the US, and its European
sibling, EuroPython.</p>
<p>A comprehensive list of conferences is maintained at <a class="reference external" href="http://www.pycon.org/">pycon.org</a>.</p>
</div>
<div class="section" id="python-user-groups">
<h4>Python User Groups<a class="headerlink" href="#python-user-groups" title="Permalink to this headline">¶</a></h4>
<p>User Groups are where a bunch of Python developers meet to present or talk
about Python topics of interest. A list of local user groups is maintained at
the <a class="reference external" href="http://wiki.python.org/moin/LocalUserGroups">Python Software Foundation Wiki</a>.</p>
</div>
</div>
<span id="document-intro/learning"></span><div class="section" id="learning-python">
<h3>Learning Python<a class="headerlink" href="#learning-python" title="Permalink to this headline">¶</a></h3>
<div class="section" id="beginner">
<h4>Beginner<a class="headerlink" href="#beginner" title="Permalink to this headline">¶</a></h4>
<div class="section" id="the-python-tutorial">
<h5>The Python Tutorial<a class="headerlink" href="#the-python-tutorial" title="Permalink to this headline">¶</a></h5>
<p>This is the official tutorial. It covers all the basics, and offers a tour of
the language and the standard library. Recommended for those who need a
quick-start guide to the language.</p>
<blockquote>
<div><a class="reference external" href="http://docs.python.org/tutorial/index.html">The Python Tutorial</a></div></blockquote>
</div>
<div class="section" id="python-for-beginners">
<h5>Python for Beginners<a class="headerlink" href="#python-for-beginners" title="Permalink to this headline">¶</a></h5>
<p>thepythonguru.com is a tutorial focuses on beginner programmers. It covers many python concepts
in depth. It also teaches you some advance constructs of python like lambda expression, regular expression.
At last it finishes off with  tutorial &#8220;How to access MySQL db using python&#8221;</p>
<blockquote>
<div><a class="reference external" href="http://thepythonguru.com/">Python for beginners</a></div></blockquote>
</div>
<div class="section" id="learn-python-interactive-tutorial">
<h5>Learn Python Interactive Tutorial<a class="headerlink" href="#learn-python-interactive-tutorial" title="Permalink to this headline">¶</a></h5>
<p>Learnpython.org is an easy non-intimidating way to get introduced to Python.
The website takes the same approach used on the popular
<a class="reference external" href="http://tryruby.org/">Try Ruby</a> website, it has an interactive Python
interpreter built into the site that allows you to go through the lessons
without having to install Python locally.</p>
<blockquote>
<div><a class="reference external" href="http://www.learnpython.org/">Learn Python</a></div></blockquote>
<p>If you want a more traditional book, <em>Python For You and Me</em> is an excellent
resource for learning all aspects of the language.</p>
<blockquote>
<div><a class="reference external" href="https://pymbook.readthedocs.io/">Python for You and Me</a></div></blockquote>
</div>
<div class="section" id="online-python-tutor">
<h5>Online Python Tutor<a class="headerlink" href="#online-python-tutor" title="Permalink to this headline">¶</a></h5>
<p>Online Python Tutor gives you a visual step by step
representation of how your program runs. Python Tutor
helps people overcome a fundamental barrier to learning
programming by understanding what happens as the computer
executes each line of a program&#8217;s source code.</p>
<blockquote>
<div><a class="reference external" href="http://pythontutor.com/">Online Python Tutor</a></div></blockquote>
</div>
<div class="section" id="invent-your-own-computer-games-with-python">
<h5>Invent Your Own Computer Games with Python<a class="headerlink" href="#invent-your-own-computer-games-with-python" title="Permalink to this headline">¶</a></h5>
<p>This beginner&#8217;s book is for those with no programming experience at all. Each
chapter has the source code to a small game, using these example programs
to demonstrate programming concepts to give the reader an idea of what
programs &#8220;look like&#8221;.</p>
<blockquote>
<div><a class="reference external" href="http://inventwithpython.com/">Invent Your Own Computer Games with Python</a></div></blockquote>
</div>
<div class="section" id="hacking-secret-ciphers-with-python">
<h5>Hacking Secret Ciphers with Python<a class="headerlink" href="#hacking-secret-ciphers-with-python" title="Permalink to this headline">¶</a></h5>
<p>This book teaches Python programming and basic cryptography for absolute
beginners. The chapters provide the source code for various ciphers, as well
as programs that can break them.</p>
<blockquote>
<div><a class="reference external" href="http://inventwithpython.com/hacking/">Hacking Secret Ciphers with Python</a></div></blockquote>
</div>
<div class="section" id="learn-python-the-hard-way">
<h5>Learn Python the Hard Way<a class="headerlink" href="#learn-python-the-hard-way" title="Permalink to this headline">¶</a></h5>
<p>This is an excellent beginner programmer&#8217;s guide to Python. It covers &#8220;hello
world&#8221; from the console to the web.</p>
<blockquote>
<div><a class="reference external" href="http://learnpythonthehardway.org/book/">Learn Python the Hard Way</a></div></blockquote>
</div>
<div class="section" id="crash-into-python">
<h5>Crash into Python<a class="headerlink" href="#crash-into-python" title="Permalink to this headline">¶</a></h5>
<p>Also known as <em>Python for Programmers with 3 Hours</em>, this guide gives
experienced developers from other languages a crash course on Python.</p>
<blockquote>
<div><a class="reference external" href="http://stephensugden.com/crash_into_python/">Crash into Python</a></div></blockquote>
</div>
<div class="section" id="dive-into-python-3">
<h5>Dive Into Python 3<a class="headerlink" href="#dive-into-python-3" title="Permalink to this headline">¶</a></h5>
<p>Dive Into Python 3 is a good book for those ready to jump in to Python 3. It&#8217;s
a good read if you are moving from Python 2 to 3 or if you already have some
experience programming in another language.</p>
<blockquote>
<div><a class="reference external" href="http://www.diveinto.org/python3/">Dive Into Python 3</a></div></blockquote>
</div>
<div class="section" id="think-python-how-to-think-like-a-computer-scientist">
<h5>Think Python: How to Think Like a Computer Scientist<a class="headerlink" href="#think-python-how-to-think-like-a-computer-scientist" title="Permalink to this headline">¶</a></h5>
<p>Think Python attempts to give an introduction to basic concepts in computer
science through the use of the Python language. The focus was to create a book
with plenty of exercises, minimal jargon and a section in each chapter devoted
to the subject of debugging.</p>
<p>While exploring the various features available in the Python language the
author weaves in various design patterns and best practices.</p>
<p>The book also includes several case studies which have the reader explore the
topics discussed in the book in greater detail by applying those topics to
real-world examples. Case studies include assignments in GUI and Markov
Analysis.</p>
<blockquote>
<div><a class="reference external" href="http://greenteapress.com/thinkpython/html/index.html">Think Python</a></div></blockquote>
</div>
<div class="section" id="python-koans">
<h5>Python Koans<a class="headerlink" href="#python-koans" title="Permalink to this headline">¶</a></h5>
<p>Python Koans is a port of Edgecase&#8217;s Ruby Koans.  It uses a test-driven
approach, q.v. TEST DRIVEN DESIGN SECTION to provide an interactive tutorial
teaching basic Python concepts.  By fixing assertion statements that fail in a
test script, this provides sequential steps to learning Python.</p>
<p>For those used to languages and figuring out puzzles on their own, this can be
a fun, attractive option. For those new to Python and programming, having an
additional resource or reference will be helpful.</p>
<blockquote>
<div><a class="reference external" href="http://bitbucket.org/gregmalcolm/python_koans">Python Koans</a></div></blockquote>
<p>More information about test driven development can be found at these resources:</p>
<blockquote>
<div><a class="reference external" href="http://en.wikipedia.org/wiki/Test-driven_development">Test Driven Development</a></div></blockquote>
</div>
<div class="section" id="a-byte-of-python">
<h5>A Byte of Python<a class="headerlink" href="#a-byte-of-python" title="Permalink to this headline">¶</a></h5>
<p>A free introductory book that teaches Python at the beginner level, it assumes
no previous programming experience.</p>
<blockquote>
<div><a class="reference external" href="http://www.ibiblio.org/swaroopch/byteofpython/read/">A Byte of Python for Python 2.x</a>
<a class="reference external" href="http://swaroopch.com/notes/Python_en-Preface/">A Byte of Python for Python 3.x</a></div></blockquote>
</div>
<div class="section" id="learn-to-program-in-python-with-codeacademy">
<h5>Learn to Program in Python with Codeacademy<a class="headerlink" href="#learn-to-program-in-python-with-codeacademy" title="Permalink to this headline">¶</a></h5>
<p>A Codeacademy course for the absolute Python beginner. This free and interactive course provides and teaches the basics (and beyond) of Python programming whilst testing the user&#8217;s knowledge in between progress.
This course also features a built-in interpreter for receiving instant feedback on your learning.</p>
<blockquote>
<div><a class="reference external" href="http://www.codecademy.com/en/tracks/python">Learn to Program in Python with Codeacademy</a></div></blockquote>
</div>
</div>
<div class="section" id="intermediate">
<h4>Intermediate<a class="headerlink" href="#intermediate" title="Permalink to this headline">¶</a></h4>
<div class="section" id="effective-python">
<h5>Effective Python<a class="headerlink" href="#effective-python" title="Permalink to this headline">¶</a></h5>
<p>This book contains 59 specific ways to improve writing Pythonic code. At 227
pages, it is a very brief overview of some of the most commons adapations
programmers need to make to become efficient intermediate level Python
programmers.</p>
<blockquote>
<div><a class="reference external" href="http://www.effectivepython.com/">Effective Python</a></div></blockquote>
</div>
</div>
<div class="section" id="advanced">
<h4>Advanced<a class="headerlink" href="#advanced" title="Permalink to this headline">¶</a></h4>
<div class="section" id="pro-python">
<h5>Pro Python<a class="headerlink" href="#pro-python" title="Permalink to this headline">¶</a></h5>
<p>This book is for intermediate to advanced Python programmers who are looking to
understand how and why Python works the way it does and how they can take their
code to the next level.</p>
<blockquote>
<div><a class="reference external" href="http://propython.com">Pro Python</a></div></blockquote>
</div>
<div class="section" id="expert-python-programming">
<h5>Expert Python Programming<a class="headerlink" href="#expert-python-programming" title="Permalink to this headline">¶</a></h5>
<p>Expert Python Programming deals with best practices in programming Python and
is focused on the more advanced crowd.</p>
<p>It starts with topics like decorators (with caching, proxy, and context manager
case-studies), method resolution order, using super() and meta-programming, and
general <span class="target" id="index-0"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0008"><strong>PEP 8</strong></a> best practices.</p>
<p>It has a detailed, multi-chapter case study on writing and releasing a package
and eventually an application, including a chapter on using zc.buildout.  Later
chapters detail best practices such as writing documentation, test-driven
development, version control, optimization and profiling.</p>
<blockquote>
<div><a class="reference external" href="http://www.packtpub.com/expert-python-programming/book">Expert Python Programming</a></div></blockquote>
</div>
<div class="section" id="a-guide-to-python-s-magic-methods">
<h5>A Guide to Python&#8217;s Magic Methods<a class="headerlink" href="#a-guide-to-python-s-magic-methods" title="Permalink to this headline">¶</a></h5>
<p>This is a collection of blog posts by Rafe Kettler which explain &#8216;magic methods&#8217;
in Python. Magic methods are surrounded by double underscores (i.e. __init__)
and can make classes and objects behave in different and magical ways.</p>
<blockquote>
<div><a class="reference external" href="http://www.rafekettler.com/magicmethods.html">A Guide to Python&#8217;s Magic Methods</a></div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Rafekettler.com is currently down, you can go to their Github version directly. Here you can find a PDF version:
<a class="reference external" href="https://github.com/RafeKettler/magicmethods/blob/master/magicmethods.pdf">A Guide to Python&#8217;s Magic Methods (repo on GitHub)</a></p>
</div>
</div>
</div>
<div class="section" id="for-engineers-and-scientists">
<h4>For Engineers and Scientists<a class="headerlink" href="#for-engineers-and-scientists" title="Permalink to this headline">¶</a></h4>
<div class="section" id="a-primer-on-scientific-programming-with-python">
<h5>A Primer on Scientific Programming with Python<a class="headerlink" href="#a-primer-on-scientific-programming-with-python" title="Permalink to this headline">¶</a></h5>
<p>A Primer on Scientific Programming with Python, written by Hans Petter
Langtangen, mainly covers Python&#8217;s usage in the scientific field. In the book,
examples are chosen from mathematics and the natural sciences.</p>
<blockquote>
<div><a class="reference external" href="http://www.springer.com/mathematics/computational+science+%26+engineering/book/978-3-642-30292-3">A Primer on Scientific Programming with Python</a></div></blockquote>
</div>
<div class="section" id="numerical-methods-in-engineering-with-python">
<h5>Numerical Methods in Engineering with Python<a class="headerlink" href="#numerical-methods-in-engineering-with-python" title="Permalink to this headline">¶</a></h5>
<p>Numerical Methods in Engineering with Python, written by Jaan Kiusalaas,
puts the emphasis on numerical methods and how to implement them in Python.</p>
<blockquote>
<div><a class="reference external" href="http://www.cambridge.org/us/academic/subjects/engineering/engineering-mathematics-and-programming/numerical-methods-engineering-python-2nd-edition">Numerical Methods in Engineering with Python</a></div></blockquote>
</div>
</div>
<div class="section" id="miscellaneous-topics">
<h4>Miscellaneous topics<a class="headerlink" href="#miscellaneous-topics" title="Permalink to this headline">¶</a></h4>
<div class="section" id="problem-solving-with-algorithms-and-data-structures">
<h5>Problem Solving with Algorithms and Data Structures<a class="headerlink" href="#problem-solving-with-algorithms-and-data-structures" title="Permalink to this headline">¶</a></h5>
<p>Problem Solving with Algorithms and Data Structures covers a range of data
structures and algorithms. All concepts are illustrated with Python code along
with interactive samples that can be run directly in the browser.</p>
<blockquote>
<div><a class="reference external" href="http://www.interactivepython.org/courselib/static/pythonds/index.html">Problem Solving with Algorithms and Data Structures</a></div></blockquote>
</div>
<div class="section" id="programming-collective-intelligence">
<h5>Programming Collective Intelligence<a class="headerlink" href="#programming-collective-intelligence" title="Permalink to this headline">¶</a></h5>
<p>Programming Collective Intelligence introduces a wide array of basic machine
learning and data mining methods. The exposition is not very mathematically
formal, but rather focuses on explaining the underlying intuition and shows
how to implement the algorithms in Python.</p>
<blockquote>
<div><a class="reference external" href="http://shop.oreilly.com/product/9780596529321.do">Programming Collective Intelligence</a></div></blockquote>
</div>
<div class="section" id="transforming-code-into-beautiful-idiomatic-python">
<h5>Transforming Code into Beautiful, Idiomatic Python<a class="headerlink" href="#transforming-code-into-beautiful-idiomatic-python" title="Permalink to this headline">¶</a></h5>
<p>Transforming Code into Beautiful, Idiomatic Python is a video by Raymond Hettinger.
Learn to take better advantage of Python&#8217;s best features and improve existing code
through a series of code transformations, &#8220;When you see this, do that instead.&#8221;</p>
<blockquote>
<div><a class="reference external" href="https://www.youtube.com/watch?v=OSGv2VnC0go">Transforming Code into Beautiful, Idiomatic Python</a></div></blockquote>
</div>
<div class="section" id="fullstack-python">
<h5>Fullstack Python<a class="headerlink" href="#fullstack-python" title="Permalink to this headline">¶</a></h5>
<p>Fullstack Python offers a complete top-to-bottom resource for web development
using Python.</p>
<p>From setting up the webserver, to designing the front-end, choosing a database,
optimizing/scaling, etc.</p>
<p>As the name suggests, it covers everything you need to build and run a complete
web app from scratch.</p>
<blockquote>
<div><a class="reference external" href="https://www.fullstackpython.com">Fullstack Python</a></div></blockquote>
</div>
</div>
<div class="section" id="references">
<h4>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h4>
<div class="section" id="python-in-a-nutshell">
<h5>Python in a Nutshell<a class="headerlink" href="#python-in-a-nutshell" title="Permalink to this headline">¶</a></h5>
<p>Python in a Nutshell, written by Alex Martelli, covers most cross-platform
Python&#8217;s usage, from its syntax to built-in libraries to advanced topics such
as writing C extensions.</p>
<blockquote>
<div><a class="reference external" href="http://shop.oreilly.com/product/9780596001889.do">Python in a Nutshell</a></div></blockquote>
</div>
<div class="section" id="the-python-language-reference">
<h5>The Python Language Reference<a class="headerlink" href="#the-python-language-reference" title="Permalink to this headline">¶</a></h5>
<p>This is Python&#8217;s reference manual, it covers the syntax and the core semantics
of the language.</p>
<blockquote>
<div><a class="reference external" href="http://docs.python.org/reference/index.html">The Python Language Reference</a></div></blockquote>
</div>
<div class="section" id="python-essential-reference">
<h5>Python Essential Reference<a class="headerlink" href="#python-essential-reference" title="Permalink to this headline">¶</a></h5>
<p>Python Essential Reference, written by David Beazley, is the definitive reference
guide to Python. It concisely explains both the core language and the most essential
parts of the standard library. It covers Python 3 and 2.6 versions.</p>
<blockquote>
<div><a class="reference external" href="http://www.dabeaz.com/per.html">Python Essential Reference</a></div></blockquote>
</div>
<div class="section" id="python-pocket-reference">
<h5>Python Pocket Reference<a class="headerlink" href="#python-pocket-reference" title="Permalink to this headline">¶</a></h5>
<p>Python Pocket Reference, written by Mark Lutz, is an easy to use reference to
the core language, with descriptions of commonly used modules and toolkits. It
covers Python 3 and 2.6 versions.</p>
<blockquote>
<div><a class="reference external" href="http://shop.oreilly.com/product/9780596158095.do">Python Pocket Reference</a></div></blockquote>
</div>
<div class="section" id="python-cookbook">
<h5>Python Cookbook<a class="headerlink" href="#python-cookbook" title="Permalink to this headline">¶</a></h5>
<p>Python Cookbook, written by David Beazley and Brian K. Jones, is packed with
practical recipes. This book covers the core python language as well as tasks
common to a wide variety of application domains.</p>
<blockquote>
<div><a class="reference external" href="http://shop.oreilly.com/product/0636920027072.do">Python Cookbook</a></div></blockquote>
</div>
<div class="section" id="writing-idiomatic-python">
<h5>Writing Idiomatic Python<a class="headerlink" href="#writing-idiomatic-python" title="Permalink to this headline">¶</a></h5>
<p>&#8220;Writing Idiomatic Python&#8221;, written by Jeff Knupp, contains the most common and
important Python idioms in a format that maximizes identification and
understanding.  Each idiom is presented as a recommendation of a way to write
some commonly used piece of code, followed by an explanation of why the idiom
is important. It also contains two code samples for each idiom: the &#8220;Harmful&#8221;
way to write it and the &#8220;Idiomatic&#8221; way.</p>
<blockquote>
<div><p><a class="reference external" href="http://www.amazon.com/Writing-Idiomatic-Python-2-7-3-Knupp/dp/1482372177/">For Python 2.7.3+</a></p>
<p><a class="reference external" href="http://www.amazon.com/Writing-Idiomatic-Python-Jeff-Knupp-ebook/dp/B00B5VXMRG/">For Python 3.3+</a></p>
</div></blockquote>
</div>
</div>
</div>
<span id="document-intro/documentation"></span><div class="section" id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h3>
<div class="section" id="official-documentation">
<h4>Official Documentation<a class="headerlink" href="#official-documentation" title="Permalink to this headline">¶</a></h4>
<p>The official Python Language and Library documentation can be found here:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="https://docs.python.org/2/">Python 2.x</a></li>
<li><a class="reference external" href="https://docs.python.org/3/">Python 3.x</a></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="read-the-docs">
<h4>Read the Docs<a class="headerlink" href="#read-the-docs" title="Permalink to this headline">¶</a></h4>
<p>Read the Docs is a popular community project that hosts documentation
for open source software. It holds documentation for many Python modules,
both popular and exotic.</p>
<blockquote>
<div><a class="reference external" href="https://readthedocs.org/">Read the Docs</a></div></blockquote>
</div>
<div class="section" id="pydoc">
<h4>pydoc<a class="headerlink" href="#pydoc" title="Permalink to this headline">¶</a></h4>
<p><strong class="program">pydoc</strong> is a utility that is installed when you install Python.
It allows you to quickly retrieve and search for documentation from your
shell. For example, if you needed a quick refresher on the
<a class="reference external" href="http://docs.python.org/library/time.html#module-time" title="(in Python v2.7)"><code class="xref py py-mod docutils literal"><span class="pre">time</span></code></a> module, pulling up documentation would be as simple as</p>
<blockquote>
<div><div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> pydoc <span class="nb">time</span>
</pre></div>
</div>
</div></blockquote>
<p>The above command is essentially equivalent to opening the Python REPL
and running</p>
<blockquote>
<div><div class="highlight-pycon"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<span id="document-intro/news"></span><div class="section" id="news">
<h3>News<a class="headerlink" href="#news" title="Permalink to this headline">¶</a></h3>
<div class="section" id="planet-python">
<h4>Planet Python<a class="headerlink" href="#planet-python" title="Permalink to this headline">¶</a></h4>
<p>This is an aggregate of Python news from a growing number of developers.</p>
<blockquote>
<div><a class="reference external" href="http://planet.python.org">Planet Python</a></div></blockquote>
</div>
<div class="section" id="r-python">
<h4>/r/python<a class="headerlink" href="#r-python" title="Permalink to this headline">¶</a></h4>
<p>/r/python is the Reddit Python community where users contribute and vote on
Python-related news.</p>
<blockquote>
<div><a class="reference external" href="http://reddit.com/r/python">/r/python</a></div></blockquote>
</div>
<div class="section" id="pycoder-s-weekly">
<h4>Pycoder&#8217;s Weekly<a class="headerlink" href="#pycoder-s-weekly" title="Permalink to this headline">¶</a></h4>
<p>Pycoder&#8217;s Weekly is a free weekly Python newsletter for Python developers
by Python developers (Projects, Articles, News, and Jobs).</p>
<blockquote>
<div><a class="reference external" href="http://www.pycoders.com/">Pycoder&#8217;s Weekly</a></div></blockquote>
</div>
<div class="section" id="python-weekly">
<h4>Python Weekly<a class="headerlink" href="#python-weekly" title="Permalink to this headline">¶</a></h4>
<p>Python Weekly is a free weekly newsletter featuring curated news, articles,
new releases, jobs, etc. related to Python.</p>
<blockquote>
<div><a class="reference external" href="http://www.pythonweekly.com/">Python Weekly</a></div></blockquote>
</div>
<div class="section" id="python-news">
<h4>Python News<a class="headerlink" href="#python-news" title="Permalink to this headline">¶</a></h4>
<p>Python News is the news section in the official Python web site
(www.python.org). It briefly highlights the news from the Python community.</p>
<blockquote>
<div><a class="reference external" href="http://www.python.org/news/">Python News</a></div></blockquote>
</div>
<div class="section" id="import-python-weekly">
<h4>Import Python Weekly<a class="headerlink" href="#import-python-weekly" title="Permalink to this headline">¶</a></h4>
<p>Weekly Python Newsletter containing Python Articles, Projects, Videos, Tweets
delivered in your inbox.  Keep Your Python Programming Skills Updated.</p>
<blockquote>
<div><a class="reference external" href="http://www.importpython.com/newsletter/">Import Python Weekly Newsletter</a></div></blockquote>
</div>
<div class="section" id="awesome-python-newsletter">
<h4>Awesome Python Newsletter<a class="headerlink" href="#awesome-python-newsletter" title="Permalink to this headline">¶</a></h4>
<p>A weekly overview of the most popular Python news, articles and packages.</p>
<blockquote>
<div><a class="reference external" href="https://python.libhunt.com/newsletter">Awesome Python Newsletter</a></div></blockquote>
</div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Notes defined within all diatonic and chromatic musical scales have been
intentionally excluded from this list of additional notes. Additionally,
this note.</p>
</div>
<hr class="docutils" />
<p>Contribution notes and legal information (for those interested).</p>
<div class="toctree-wrapper compound">
<span id="document-notes/contribute"></span><div class="section" id="contribute">
<h3>Contribute<a class="headerlink" href="#contribute" title="Permalink to this headline">¶</a></h3>
<p>Python-guide is under active development, and contributors are welcome.</p>
<p>If you have a feature request, suggestion, or bug report, please open a new
issue on <a class="reference external" href="http://github.com/kennethreitz/python-guide/">GitHub</a>. To submit patches, please send a pull request on <a class="reference external" href="http://github.com/kennethreitz/python-guide/">GitHub</a>.
Once your changes get merged back in, you&#8217;ll automatically be added to the
<a class="reference external" href="https://github.com/kennethreitz/python-guide/contributors">Contributors List</a>.</p>
<div class="section" id="style-guide">
<h4>Style Guide<a class="headerlink" href="#style-guide" title="Permalink to this headline">¶</a></h4>
<p>For all contributions, please follow the <a class="reference internal" href="index.html#guide-style-guide"><span>The Guide Style Guide</span></a>.</p>
</div>
<div class="section" id="todo-list">
<span id="todo-list-ref"></span><h4>Todo List<a class="headerlink" href="#todo-list" title="Permalink to this headline">¶</a></h4>
<p>If you&#8217;d like to contribute, there&#8217;s plenty to do. Here&#8217;s a short <a class="reference external" href="https://github.com/kennethreitz/python-guide/blob/master/TODO.rst">todo</a> list.</p>
<blockquote>
<div><ul class="simple">
<li>Establish &#8220;use this&#8221; vs &#8220;alternatives are....&#8221; recommendations</li>
</ul>
<div class="admonition-todo admonition">
<p class="first admonition-title">Todo</p>
<p class="last">Write about Blueprint</p>
</div>
<p class="todo-source">(The <a class="reference internal" href="index.html#index-0"><em>original entry</em></a> is located in  /Users/rlaney/Projects/python-guide/docs/scenarios/admin.rst, line 369.)</p>
<div class="admonition-todo admonition">
<p class="first admonition-title">Todo</p>
<p class="last">Fill in &#8220;Freezing Your Code&#8221; stub</p>
</div>
<p class="todo-source">(The <a class="reference internal" href="index.html#index-0"><em>original entry</em></a> is located in  /Users/rlaney/Projects/python-guide/docs/shipping/freezing.rst, line 37.)</p>
<div class="admonition-todo admonition">
<p class="first admonition-title">Todo</p>
<p class="last">Write steps for most basic .exe</p>
</div>
<p class="todo-source">(The <a class="reference internal" href="index.html#index-1"><em>original entry</em></a> is located in  /Users/rlaney/Projects/python-guide/docs/shipping/freezing.rst, line 73.)</p>
<div class="admonition-todo admonition">
<p class="first admonition-title">Todo</p>
<p class="last">Include code examples of exemplary code from each of the projects listed. Explain why it is excellent code. Use complex examples.</p>
</div>
<p class="todo-source">(The <a class="reference internal" href="index.html#index-0"><em>original entry</em></a> is located in  /Users/rlaney/Projects/python-guide/docs/writing/reading.rst, line 57.)</p>
<div class="admonition-todo admonition">
<p class="first admonition-title">Todo</p>
<p class="last">Explain techniques to rapidly identify data structures, algorithms and determine what the code is doing.</p>
</div>
<p class="todo-source">(The <a class="reference internal" href="index.html#index-1"><em>original entry</em></a> is located in  /Users/rlaney/Projects/python-guide/docs/writing/reading.rst, line 59.)</p>
</div></blockquote>
</div>
</div>
<span id="document-notes/license"></span><div class="section" id="license">
<h3>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h3>
<p>The Guide is licensed under the <a class="reference external" href="https://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported license</a>.</p>
</div>
<span id="document-notes/styleguide"></span><div class="section" id="the-guide-style-guide">
<span id="guide-style-guide"></span><h3>The Guide Style Guide<a class="headerlink" href="#the-guide-style-guide" title="Permalink to this headline">¶</a></h3>
<p>As with all documentation, having a consistent format helps make the
document more understandable. In order to make The Guide easier to digest,
all contributions should fit within the rules of this style guide where
appropriate.</p>
<p>The Guide is written as <a class="reference internal" href="index.html#restructuredtext-ref"><span>reStructuredText</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Parts of The Guide may not yet match this style guide. Feel free
to update those parts to be in sync with The Guide Style Guide</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">On any page of the rendered HTML you can click &#8220;Show Source&#8221; to
see how authors have styled the page.</p>
</div>
<div class="section" id="relevancy">
<h4>Relevancy<a class="headerlink" href="#relevancy" title="Permalink to this headline">¶</a></h4>
<p>Strive to keep any contributions relevant to the <a class="reference internal" href="index.html#about-ref"><span>purpose of The Guide</span></a>.</p>
<ul class="simple">
<li>Avoid including too much information on subjects that don&#8217;t directly
relate to Python development.</li>
<li>Prefer to link to other sources if the information is already out there.
Be sure to describe what and why you are linking.</li>
<li><a class="reference external" href="http://sphinx.pocoo.org/rest.html?highlight=citations#citations">Cite</a>
references where needed.</li>
<li>If a subject isn&#8217;t directly relevant to Python, but useful in conjunction
with Python (e.g., Git, GitHub, Databases), reference by linking to useful
resources, and describe why it&#8217;s useful to Python.</li>
<li>When in doubt, ask.</li>
</ul>
</div>
<div class="section" id="headings">
<h4>Headings<a class="headerlink" href="#headings" title="Permalink to this headline">¶</a></h4>
<p>Use the following styles for headings.</p>
<p>Chapter title:</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span><span class="gh">#########</span>
<span class="gh">Chapter 1</span>
<span class="gh">#########</span>
</pre></div>
</div>
<p>Page title:</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span><span class="gh">===================</span>
<span class="gh">Time is an Illusion</span>
<span class="gh">===================</span>
</pre></div>
</div>
<p>Section headings:</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span><span class="gh">Lunchtime Doubly So</span>
<span class="gh">-------------------</span>
</pre></div>
</div>
<p>Sub section headings:</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span><span class="gh">Very Deep</span>
<span class="gh">~~~~~~~~~</span>
</pre></div>
</div>
</div>
<div class="section" id="prose">
<h4>Prose<a class="headerlink" href="#prose" title="Permalink to this headline">¶</a></h4>
<p>Wrap text lines at 78 characters. Where necessary, lines may exceed 78
characters, especially if wrapping would make the source text more difficult
to read.</p>
<p>Use of the <a class="reference external" href="https://en.wikipedia.org/wiki/Serial_comma">serial comma</a>
(also known as the Oxford comma) is 100% non-optional. Any attempt to
submit content with a missing serial comma will result in permanent banishment
from this project, due to complete and total lack of taste.</p>
<p>Banishment? Is this a joke? Hopefully we will never have to find out.</p>
</div>
<div class="section" id="code-examples">
<h4>Code Examples<a class="headerlink" href="#code-examples" title="Permalink to this headline">¶</a></h4>
<p>Wrap all code examples at 70 characters to avoid horizontal scrollbars.</p>
<p>Command line examples:</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> <span class="k">console</span>

    <span class="gp">$</span> run <span class="nb">command</span> --help
    <span class="gp">$</span> ls ..
</pre></div>
</div>
<p>Be sure to include the <code class="docutils literal"><span class="pre">$</span></code> prefix before each line.</p>
<p>Python interpreter examples:</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span>Label the example::

<span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> python

    &gt;&gt;&gt; import this
</pre></div>
</div>
<p>Python examples:</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span>Descriptive title::

<span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> <span class="k">python</span>

    <span class="k">def</span> <span class="nf">get_answer</span><span class="p">():</span>
        <span class="k">return</span> <span class="mi">42</span>
</pre></div>
</div>
</div>
<div class="section" id="externally-linking">
<h4>Externally Linking<a class="headerlink" href="#externally-linking" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Prefer labels for well known subjects (ex: proper nouns) when linking:</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span>Sphinx_ is used to document Python.

<span class="p">..</span> <span class="nt">_Sphinx:</span> http://sphinx.pocoo.org
</pre></div>
</div>
</li>
<li><p class="first">Prefer to use descriptive labels with inline links instead of leaving bare
links:</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span>Read the <span class="s">`Sphinx Tutorial </span><span class="si">&lt;http://sphinx.pocoo.org/tutorial.html&gt;</span><span class="s">`_</span>
</pre></div>
</div>
</li>
<li><p class="first">Avoid using labels such as &#8220;click here&#8221;, &#8220;this&#8221;, etc. preferring
descriptive labels (SEO worthy) instead.</p>
</li>
</ul>
</div>
<div class="section" id="linking-to-sections-in-the-guide">
<h4>Linking to Sections in The Guide<a class="headerlink" href="#linking-to-sections-in-the-guide" title="Permalink to this headline">¶</a></h4>
<p>To cross-reference other parts of this documentation, use the <a class="reference external" href="http://sphinx.pocoo.org/markup/inline.html#cross-referencing-arbitrary-locations">:ref:</a>
keyword and labels.</p>
<p>To make reference labels more clear and unique, always add a <code class="docutils literal"><span class="pre">-ref</span></code> suffix:</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="nt">_some-section-ref:</span>

<span class="gh">Some Section</span>
<span class="gh">------------</span>
</pre></div>
</div>
</div>
<div class="section" id="notes-and-warnings">
<h4>Notes and Warnings<a class="headerlink" href="#notes-and-warnings" title="Permalink to this headline">¶</a></h4>
<p>Make use of the appropriate <a class="reference external" href="http://sphinx.pocoo.org/rest.html#directives">admonitions directives</a> when making notes.</p>
<p>Notes:</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">note</span><span class="p">::</span>
    The Hitchhiker’s Guide to the Galaxy has a few things to say
    on the subject of towels. A towel, it says, is about the most
    massively useful thing an interstellar hitch hiker can have.
</pre></div>
</div>
<p>Warnings:</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">warning</span><span class="p">::</span> DON&#39;T PANIC
</pre></div>
</div>
</div>
<div class="section" id="todos">
<h4>TODOs<a class="headerlink" href="#todos" title="Permalink to this headline">¶</a></h4>
<p>Please mark any incomplete areas of The Guide with a <a class="reference external" href="http://sphinx.pocoo.org/ext/todo.html?highlight=todo#directive-todo">todo directive</a>. To
avoid cluttering the <a class="reference internal" href="index.html#todo-list-ref"><span>Todo List</span></a>, use a single <code class="docutils literal"><span class="pre">todo</span></code> for stub
documents or large incomplete sections.</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">todo</span><span class="p">::</span>
    Learn the Ultimate Answer to the Ultimate Question
    of Life, The Universe, and Everything
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="logo">
  <a href="index.html#document-index">
    <img class="logo" src="_static/python-guide-logo.png" title="The Hitchhiker's Guide to Python"/>
  </a>
</p>

<p>
  This opinionated guide exists to provide both novice and expert Python developers a best practice handbook to the installation, configuration, and usage of Python on a daily basis.
</p>



<h3>Stay Informed</h3>
<p>Receive updates on new releases and upcoming projects.</p>

<p><iframe src="http://ghbtns.com/github-btn.html?user=kennethreitz&type=follow&count=false"
  allowtransparency="true" frameborder="0" scrolling="0" width="200" height="20"></iframe></p>

<p><a href="https://twitter.com/kennethreitz" class="twitter-follow-button" data-show-count="false">Follow @kennethreitz</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script></p>

<p><a href="http://tinyletter.com/kennethreitz">Join Mailing List</a>.</p>
<p><a href="https://saythanks.io/to/kennethreitz">Say Thanks!</a></p>

<h3>O'Reilly Book</h3>

<p>This guide is now available in tangible book form!</p>

<a href="https://www.amazon.com/Hitchhikers-Guide-Python-Practices-Development/dp/1491933178/ref=as_li_ss_il?ie=UTF8&linkCode=li2&tag=bookforkind-20&linkId=804806ebdacaf3b56567347f3afbdbca" target="_blank"><img border="0" src="https://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&ASIN=1491933178&Format=_SL160_&ID=AsinImage&MarketPlace=US&ServiceVersion=20070822&WS=1&tag=bookforkind-20" ></a><img src="//ir-na.amazon-adsystem.com/e/ir?t=bookforkind-20&l=li2&o=1&a=1491933178" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />

<p>All proceeds are being directly donated to the <a href="https://djangogirls.org">DjangoGirls</a> organization.</p>

<h3>Other Projects</h3>

<p>More <a href="http://kennethreitz.org/">Kenneth Reitz</a> projects:</p>
<ul>
    <li><a href="http://pep8.org/">pep8.org</a></li>
    <li><a href="http://python-requests.org">Requests: HTTP for Humans</a></li>
    <li><a href="https://github.com/kennethreitz/records">Records: SQL for Humans</a></li>
    <li><a href="http://www.git-legit.org">Legit: Git for Humans</a></li>
    <li><a href="http://docs.python-tablib.org/en/latest/">Tablib: Tabular Datasets</a></li>
    <li><a href="http://markdownplease.com">Markdown, Please!</a></li>
</ul>

<h3>Contributors</h3>
<p>
  This guide is the result of the collaboration of
  <a href="https://github.com/kennethreitz/python-guide/graphs/contributors">hundreds of people</a>
  around the world, and your contributions
  <a href="http://docs.python-guide.org/en/latest/notes/contribute/">are welcome</a>!
</p>


<h3>Useful Links</h3>
<ul>
  <li><a href="http://python-guide.org/">The Guide Website</a></li>
  <li><a href="http://github.com/kennethreitz/python-guide">The Guide @ GitHub</a></li>
  <li><a href="http://github.com/kennethreitz/python-guide/issues">Issue Tracker</a></li>
  <li><a href="https://media.readthedocs.org/pdf/python-guide/latest/python-guide.pdf">The Guide as a PDF</a></li>
</ul>

<h3>Translations</h3>
<ul>
  <li><a href="http://docs.python-guide.org/en/latest/">English</a></li>
  <li><a href="https://python-guide-fr.readthedocs.io/fr/latest/">French</a></li>
  <li><a href="https://pythonguidecn.readthedocs.io/zh/latest/">Chinese</a></li>
  <li><a href="https://python-guide-ja.readthedocs.io/en/latest/">Japanese</a></li>
  <li><a href="https://python-guide-kr.readthedocs.io/ko/latest/">Korean</a></li>
</ul>
<script type="text/javascript">
  var _gauges = _gauges || [];
  (function() {
    var t   = document.createElement('script');
    t.type  = 'text/javascript';
    t.async = true;
    t.id    = 'gauges-tracker';
    t.setAttribute('data-site-id', '56ca79a64b2ffa7a470027ea');
    t.setAttribute('data-track-path', 'https://track.gaug.es/track.gif');
    t.src = 'https://d36ee2fcip1434.cloudfront.net/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016. A <a href="http://kennethreitz.com/pages/open-projects.html">Kenneth Reitz</a> Project. <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/">CC BY-NC-SA 3.0</a>.
      
    </div>

    
    <a href="https://github.com/kennethreitz/python-guide" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>
