<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>D3 Cheat Sheet</title><meta name="author" content="Scott Murray"/><style type="text/css"> * {margin:0; padding:0; text-indent:0; }
 .s1 { color: black; font-family:Baskerville, serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 36pt; }
 .s2 { color: black; font-family:Baskerville, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s3 { color: black; font-family:Baskerville, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 18pt; }
 .s4 { color: black; font-family:Baskerville, serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .p, p { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; margin:0pt; }
 .s6 { color: black; font-family:Baskerville, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 18pt; }
 .s7 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s8 { color: black; font-family:Baskerville, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s9 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 10pt; }
</style></head><body><p class="s1" style="padding-left: 8pt;text-indent: 0pt;text-align: left;">D3 Cheat Sheet</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 8pt;text-indent: 0pt;text-align: left;">Scott Murray — @alignedleft — alignedleft.com — January 6, 2014</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s3" style="padding-top: 3pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">Selections <span class="s4">Explanation Example</span></p><p style="padding-top: 9pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">d3.select() <span class="s2">Returns the element found </span>d3.select(&quot;svg&quot;)</p><p style="padding-top: 3pt;padding-left: 8pt;text-indent: 0pt;line-height: 120%;text-align: left;">d3.selectAll() <span class="s2">Returns all found elements </span>d3.selectAll(&quot;circle&quot;) <i>selection</i>.append() <span class="s2">Creates a new element inside the selection </span>d3.select(&quot;svg&quot;).append(&quot;circle&quot;) <i>selection</i>.remove() <span class="s2">Removes the selection from the DOM </span>d3.select(&quot;rect&quot;).remove() <i>selection</i>.text() <span class="s2">Sets the text content of the selection </span>d3.select(&quot;#tooltip&quot;).text(&quot;&quot;) <i>selection</i>.attr() <span class="s2">Set an HTML attribute value on the selection </span>d3.selectAll(&quot;circle&quot;).attr(&quot;r&quot;,  10)</p><p style="padding-left: 8pt;text-indent: 0pt;text-align: left;"><i>selection</i>.style() <span class="s2">Set an inline CSS style on the selection </span>d3.selectAll(&quot;circle&quot;).style(&quot;fill&quot;,  &quot;teal&quot;)</p><p style="padding-top: 3pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><i>selection</i>.classed() <span class="s2">Adds or removes a class from the selection </span>d3.select(&quot;circle&quot;).classed(&quot;highlight&quot;,  true)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s3" style="padding-left: 8pt;text-indent: 0pt;text-align: left;">Data</p><p style="padding-top: 9pt;padding-left: 8pt;text-indent: 0pt;line-height: 121%;text-align: justify;"><i>selection</i>.data() <span class="s2">Binds an array of data values to the selection </span>d3.selectAll(&quot;circle&quot;).data(dataset).enter()… <i>selection</i>.enter() <span class="s2">Returns a selection of “new” placeholder elements </span>d3.selectAll(&quot;circle&quot;).data(dataset).enter()… <span class="s2">Use anonymous functions to access data values bound to elements via </span>d<span class="s2">. </span>d3.selectAll(&quot;rect&quot;)</p><p style="padding-left: 8pt;text-indent: 0pt;line-height: 10pt;text-align: left;">                                                                                                                                                          .attr(&quot;height&quot;,    function(d)    {</p><p style="padding-top: 2pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">                                                                                                                                                                     return    d.value;        //    Set    the    height    to    &#39;value&#39;</p><p style="padding-top: 2pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">                                                                                                                                                          });</p><p class="s2" style="padding-top: 4pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">Optionally, include <span class="p">i </span>to get the index value of each element in the selection. <span class="p">d3.selectAll(&quot;rect&quot;)</span></p><p style="padding-top: 1pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">                                                                                                                                                          .attr(&quot;x&quot;,    function(d,    i)    {</p><p style="padding-top: 2pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">                                                                                                                                                                     return    i    *    10;        //    Move    each    rect    to    the    right</p><p style="padding-top: 2pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">                                                                                                                                                          });</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s3" style="padding-left: 8pt;text-indent: 0pt;text-align: left;">Transitions</p><p style="padding-top: 10pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><i>selection</i>.transition() <span class="s2">Initiates a new transition </span>d3.selectAll(&quot;circle&quot;).transition().attr(&quot;cx&quot;,  …</p><p style="padding-top: 2pt;padding-left: 8pt;text-indent: 0pt;text-align: left;"><i>selection</i>.duration() <span class="s2">Sets the transition duration, in milliseconds </span>d3.selectAll(&quot;circle&quot;).transition().duration(2000)…</p><table style="border-collapse:collapse;margin-left:5.5pt" cellspacing="0"><tr style="height:51pt"><td style="width:123pt"><p class="s6" style="padding-left: 2pt;text-indent: 0pt;line-height: 22pt;text-align: left;">Scales</p><p class="s7" style="padding-top: 11pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">d3.scale.linear()<span class="s8"> </span></p></td><td style="width:245pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 23pt;text-indent: 0pt;text-align: left;">Creates a new linear scale function </p></td><td style="width:313pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 31pt;text-indent: 0pt;text-align: left;">var  xScale  =  d3.scale.linear()</p></td></tr><tr style="height:18pt"><td style="width:123pt"><p class="s9" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">scale<span class="s7">.domain()</span><span class="s8"> </span></p></td><td style="width:245pt"><p class="s8" style="padding-left: 23pt;text-indent: 0pt;text-align: left;">Sets the scale’s input domain </p></td><td style="width:313pt"><p class="s7" style="padding-top: 2pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">                                                 .domain([    0,    2000    ])</p></td></tr><tr style="height:21pt"><td style="width:123pt"><p class="s9" style="padding-top: 4pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">scale<span class="s7">.range()</span><span class="s8"> </span></p></td><td style="width:245pt"><p class="s8" style="padding-top: 1pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Sets the scale’s output range </p></td><td style="width:313pt"><p class="s7" style="padding-top: 4pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">                                                 .range([    0,    width    ]);</p></td></tr><tr style="height:17pt"><td style="width:123pt"><p class="s7" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">d3.min()<span class="s8"> </span></p></td><td style="width:245pt"><p class="s8" style="padding-left: 23pt;text-indent: 0pt;line-height: 15pt;text-align: left;">Returns the smallest value in an array </p></td><td style="width:313pt"><p class="s7" style="padding-top: 1pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">d3.min([  10,  20,  70,  35  ])    //  Returns  10</p></td></tr><tr style="height:25pt"><td style="width:123pt"><p class="s7" style="padding-top: 4pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">d3.max()<span class="s8"> </span></p></td><td style="width:245pt"><p class="s8" style="padding-top: 1pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Returns the largest value in an array </p></td><td style="width:313pt"><p class="s7" style="padding-top: 4pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">d3.max([  10,  20,  70,  35  ])    //  Returns  70</p></td></tr><tr style="height:35pt"><td style="width:123pt"><p class="s6" style="padding-top: 7pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Axes</p></td><td style="width:245pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:313pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr><tr style="height:24pt"><td style="width:123pt"><p class="s7" style="padding-top: 7pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">d3.svg.axis()<span class="s8"> </span></p></td><td style="width:245pt"><p class="s8" style="padding-top: 4pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Creates a new axis generator function </p></td><td style="width:313pt"><p class="s7" style="padding-top: 7pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">var  xAxis  =  d3.svg.axis()</p></td></tr><tr style="height:18pt"><td style="width:123pt"><p class="s9" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">axis<span class="s7">.scale()</span><span class="s8"> </span></p></td><td style="width:245pt"><p class="s8" style="padding-left: 23pt;text-indent: 0pt;text-align: left;">Specifies the scale to be used with this axis  </p></td><td style="width:313pt"><p class="s7" style="padding-top: 2pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">                                                  .scale(xScale)</p></td></tr><tr style="height:19pt"><td style="width:123pt"><p class="s9" style="padding-top: 4pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">axis<span class="s7">.orient()</span><span class="s8"> </span></p></td><td style="width:245pt"><p class="s8" style="padding-top: 1pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Specifies the orientation for this axis </p></td><td style="width:313pt"><p class="s7" style="padding-top: 4pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">                                                  .orient(&quot;bottom&quot;)</p></td></tr><tr style="height:21pt"><td style="width:123pt"><p class="s9" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">axis<span class="s7">.ticks()</span><span class="s8"> </span></p></td><td style="width:245pt"><p class="s8" style="padding-top: 1pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Suggests a number of ticks for this axis </p></td><td style="width:313pt"><p class="s7" style="padding-top: 3pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">                                                  .ticks(5);</p></td></tr><tr style="height:23pt"><td style="width:123pt"><p class="s9" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">selection<span class="s7">.call()</span><span class="s8"> </span></p></td><td style="width:245pt"><p class="s8" style="padding-left: 23pt;text-indent: 0pt;text-align: left;">Calls a method; used to generate an axis </p></td><td style="width:313pt"><p class="s7" style="padding-top: 2pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">svg.append(&quot;g&quot;).call(xAxis);</p></td></tr><tr style="height:36pt"><td style="width:123pt"><p class="s6" style="padding-top: 7pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Interactivity</p></td><td style="width:245pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:313pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr><tr style="height:20pt"><td style="width:123pt"><p class="s9" style="padding-top: 7pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">selection<span class="s7">.on()</span><span class="s8"> </span></p></td><td style="width:245pt"><p class="s8" style="padding-top: 4pt;padding-left: 23pt;text-indent: 0pt;line-height: 14pt;text-align: left;">Binds an event listener to a selection </p></td><td style="width:313pt"><p class="s7" style="padding-top: 7pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">d3.select(&quot;#button&quot;).on(&quot;click&quot;,  function()  {  …  });</p></td></tr><tr style="height:22pt"><td style="width:681pt" colspan="3"><p class="s8" style="padding-top: 4pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Within an anonymous function, <span class="s7">this </span>refers to “the element being acted upon.” <span class="s7">d3.selectAll(&quot;rect&quot;)</span></p></td></tr><tr style="height:15pt"><td style="width:123pt"><p class="s7" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">    </p></td><td style="width:245pt"><p class="s7" style="padding-left: 24pt;text-indent: 0pt;text-align: left;">    </p></td><td style="width:313pt"><p class="s7" style="padding-left: 31pt;text-indent: 0pt;text-align: left;">        .on(&quot;mouseover&quot;,    function()    {</p></td></tr><tr style="height:14pt"><td style="width:123pt"><p class="s7" style="padding-left: 2pt;text-indent: 0pt;line-height: 11pt;text-align: left;">    </p></td><td style="width:245pt"><p class="s7" style="padding-left: 24pt;text-indent: 0pt;line-height: 11pt;text-align: left;">    </p></td><td style="width:313pt"><p class="s7" style="padding-left: 31pt;text-indent: 0pt;line-height: 11pt;text-align: left;">                   d3.select(this).classed(&quot;highlight&quot;,    true);</p></td></tr><tr style="height:12pt"><td style="width:123pt"><p class="s7" style="padding-left: 2pt;text-indent: 0pt;line-height: 11pt;text-align: left;">    </p></td><td style="width:245pt"><p class="s7" style="padding-left: 24pt;text-indent: 0pt;line-height: 11pt;text-align: left;">    </p></td><td style="width:313pt"><p class="s7" style="padding-left: 31pt;text-indent: 0pt;line-height: 11pt;text-align: left;">        });</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s3" style="padding-top: 3pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">Other Useful JavaScript</p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:5.5pt" cellspacing="0"><tr style="height:16pt"><td style="width:112pt"><p class="s7" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Math.random()<span class="s8"> </span></p></td><td style="width:271pt"><p class="s8" style="padding-left: 34pt;text-indent: 0pt;line-height: 15pt;text-align: left;">Returns a random value between 0.0 and 1.0 </p></td><td style="width:310pt"><p class="s7" style="padding-top: 1pt;padding-left: 16pt;text-indent: 0pt;text-align: left;">Math.random()  *  100    //  Could  return  61.87844036612…</p></td></tr><tr style="height:19pt"><td style="width:112pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Math.floor()<span class="s8"> </span></p></td><td style="width:271pt"><p class="s8" style="padding-top: 1pt;padding-left: 34pt;text-indent: 0pt;text-align: left;">Rounds down to the nearest integer </p></td><td style="width:310pt"><p class="s7" style="padding-top: 3pt;padding-left: 16pt;text-indent: 0pt;text-align: left;">Math.floor(61.87844036612)    //  Returns  61</p></td></tr><tr style="height:19pt"><td style="width:112pt"><p class="s9" style="padding-top: 4pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">array<span class="s7">.push()</span><span class="s8"> </span></p></td><td style="width:271pt"><p class="s8" style="padding-top: 1pt;padding-left: 34pt;text-indent: 0pt;text-align: left;">Appends a new value to an existing array </p></td><td style="width:310pt"><p class="s7" style="padding-top: 4pt;padding-left: 16pt;text-indent: 0pt;text-align: left;">var  numbers  =  [  2,  3,  4,  5  ];</p></td></tr><tr style="height:13pt"><td style="width:112pt"><p class="s7" style="padding-left: 2pt;text-indent: 0pt;line-height: 11pt;text-align: left;">    </p></td><td style="width:271pt"><p class="s7" style="padding-left: 35pt;text-indent: 0pt;line-height: 11pt;text-align: left;">    </p></td><td style="width:310pt"><p class="s7" style="padding-left: 16pt;text-indent: 0pt;line-height: 11pt;text-align: left;">numbers.push(6);        //    Now    numbers    is    [    2,    3,    4,    5,    6    ]</p></td></tr></table></body></html>
