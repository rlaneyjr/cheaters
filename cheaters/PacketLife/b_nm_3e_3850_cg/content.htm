<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>b_nm_3e_3850_cg</title><style type="text/css"> .s1 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 16pt; }
 .s2 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 .p, p { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; margin:0pt; }
 .s3 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 .s4 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s5 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .s6 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5.5pt; vertical-align: 2pt; }
 .s7 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5.5pt; }
 .s8 { color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .a { color: #00F; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s9 { color: #00F; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s10 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 11pt; }
 .s12 { color: #00F; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 .s13 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 .s14 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 .s15 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8pt; }
 .s16 { color: #FFF; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8pt; }
 .s17 { color: #FFF; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8pt; }
 h2 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 22.5pt; }
 h3 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 21pt; }
 .s18 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s19 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 .s20 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s21 { color: black; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s22 { color: black; font-family:"Courier New", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8pt; }
 .s23 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .h1 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 48pt; }
 h4 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 17pt; }
 .s24 { color: black; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s25 { color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s26 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10.5pt; }
 .s27 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9.5pt; }
 .s28 { color: black; font-family:"Courier New", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8pt; }
 .s29 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 13.5pt; }
 .s30 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 .s31 { color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s32 { color: #00F; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; vertical-align: 5pt; }
 .s33 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s34 { color: #00F; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; vertical-align: 4pt; }
 .s35 { color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s36 { color: #00F; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s37 { color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s38 { color: #00F; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 .s39 { color: #00F; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 li {display: block; }
 #l1 {padding-left: 0pt; }
 #l1> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l2 {padding-left: 0pt; }
 #l2> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l3 {padding-left: 0pt; }
 #l3> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l4 {padding-left: 0pt; }
 #l4> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l5 {padding-left: 0pt;counter-reset: f1 0; }
 #l5> li:before {counter-increment: f1; content: counter(f1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l6 {padding-left: 0pt;counter-reset: g1 0; }
 #l6> li:before {counter-increment: g1; content: counter(g1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l7 {padding-left: 0pt;counter-reset: h1 0; }
 #l7> li:before {counter-increment: h1; content: counter(h1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l8 {padding-left: 0pt;counter-reset: i1 0; }
 #l8> li:before {counter-increment: i1; content: counter(i1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l9 {padding-left: 0pt;counter-reset: j1 0; }
 #l9> li:before {counter-increment: j1; content: counter(j1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l10 {padding-left: 0pt; }
 #l10> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l11 {padding-left: 0pt; }
 #l11> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l12 {padding-left: 0pt; }
 #l12> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l13 {padding-left: 0pt; }
 #l13> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l14 {padding-left: 0pt; }
 #l14> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l15 {padding-left: 0pt; }
 #l15> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l16 {padding-left: 0pt; }
 #l16> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l17 {padding-left: 0pt;counter-reset: o1 0; }
 #l17> li:before {counter-increment: o1; content: counter(o1, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; vertical-align: 3pt; }
 #l18 {padding-left: 0pt;counter-reset: o2 0; }
 #l18> li:before {counter-increment: o2; content: counter(o2, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l19 {padding-left: 0pt; }
 #l19> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l20 {padding-left: 0pt;counter-reset: q1 0; }
 #l20> li:before {counter-increment: q1; content: counter(q1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l21 {padding-left: 0pt; }
 #l21> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l22 {padding-left: 0pt; }
 #l22> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l23 {padding-left: 0pt;counter-reset: t1 0; }
 #l23> li:before {counter-increment: t1; content: counter(t1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l24 {padding-left: 0pt; }
 #l24> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l25 {padding-left: 0pt; }
 #l25> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l26 {padding-left: 0pt; }
 #l26> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l27 {padding-left: 0pt; }
 #l27> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l28 {padding-left: 0pt; }
 #l28> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l29 {padding-left: 0pt; }
 #l29> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l30 {padding-left: 0pt;counter-reset: c1 0; }
 #l30> li:before {counter-increment: c1; content: counter(c1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l31 {padding-left: 0pt; }
 #l31> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l32 {padding-left: 0pt;counter-reset: e1 0; }
 #l32> li:before {counter-increment: e1; content: counter(e1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l33 {padding-left: 0pt; }
 #l33> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l34 {padding-left: 0pt; }
 #l34> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l35 {padding-left: 0pt; }
 #l35> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l36 {padding-left: 0pt;counter-reset: h1 0; }
 #l36> li:before {counter-increment: h1; content: counter(h1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l37 {padding-left: 0pt;counter-reset: i1 0; }
 #l37> li:before {counter-increment: i1; content: counter(i1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l38 {padding-left: 0pt;counter-reset: j1 0; }
 #l38> li:before {counter-increment: j1; content: counter(j1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l39 {padding-left: 0pt;counter-reset: k1 0; }
 #l39> li:before {counter-increment: k1; content: counter(k1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l40 {padding-left: 0pt;counter-reset: l1 0; }
 #l40> li:before {counter-increment: l1; content: counter(l1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l41 {padding-left: 0pt; }
 #l41> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l42 {padding-left: 0pt; }
 #l42> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l43 {padding-left: 0pt; }
 #l43> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l44 {padding-left: 0pt; }
 #l44> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l45 {padding-left: 0pt; }
 #l45> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l46 {padding-left: 0pt;counter-reset: o2 0; }
 #l46> li:before {counter-increment: o2; content: counter(o2, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l47 {padding-left: 0pt; }
 #l47> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l48 {padding-left: 0pt;counter-reset: p1 0; }
 #l48> li:before {counter-increment: p1; content: counter(p1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l49 {padding-left: 0pt; }
 #l49> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l50 {padding-left: 0pt; }
 #l50> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l51 {padding-left: 0pt;counter-reset: s1 0; }
 #l51> li:before {counter-increment: s1; content: counter(s1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l52 {padding-left: 0pt; }
 #l52> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l53 {padding-left: 0pt; }
 #l53> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l54 {padding-left: 0pt; }
 #l54> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l55 {padding-left: 0pt;counter-reset: w1 0; }
 #l55> li:before {counter-increment: w1; content: counter(w1, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l56 {padding-left: 0pt;counter-reset: x1 0; }
 #l56> li:before {counter-increment: x1; content: counter(x1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l57 {padding-left: 0pt;counter-reset: y1 0; }
 #l57> li:before {counter-increment: y1; content: counter(y1, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l58 {padding-left: 0pt;counter-reset: z1 0; }
 #l58> li:before {counter-increment: z1; content: counter(z1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l59 {padding-left: 0pt;counter-reset: c1 0; }
 #l59> li:before {counter-increment: c1; content: counter(c1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l60 {padding-left: 0pt;counter-reset: d1 0; }
 #l60> li:before {counter-increment: d1; content: counter(d1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l61 {padding-left: 0pt; }
 #l61> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l62 {padding-left: 0pt; }
 #l62> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l63 {padding-left: 0pt; }
 #l63> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l64 {padding-left: 0pt; }
 #l64> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l65 {padding-left: 0pt; }
 #l65> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l66 {padding-left: 0pt;counter-reset: j1 0; }
 #l66> li:before {counter-increment: j1; content: counter(j1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l67 {padding-left: 0pt; }
 #l67> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l68 {padding-left: 0pt; }
 #l68> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l69 {padding-left: 0pt; }
 #l69> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l70 {padding-left: 0pt; }
 #l70> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l71 {padding-left: 0pt;counter-reset: m1 0; }
 #l71> li:before {counter-increment: m1; content: counter(m1, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l72 {padding-left: 0pt; }
 #l72> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l73 {padding-left: 0pt;counter-reset: n1 0; }
 #l73> li:before {counter-increment: n1; content: counter(n1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l74 {padding-left: 0pt; }
 #l74> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l75 {padding-left: 0pt; }
 #l75> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l76 {padding-left: 0pt; }
 #l76> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l77 {padding-left: 0pt;counter-reset: p1 0; }
 #l77> li:before {counter-increment: p1; content: counter(p1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l78 {padding-left: 0pt; }
 #l78> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l79 {padding-left: 0pt;counter-reset: r1 0; }
 #l79> li:before {counter-increment: r1; content: counter(r1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l80 {padding-left: 0pt; }
 #l80> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l81 {padding-left: 0pt; }
 #l81> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l82 {padding-left: 0pt; }
 #l82> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l83 {padding-left: 0pt; }
 #l83> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l84 {padding-left: 0pt;counter-reset: w1 0; }
 #l84> li:before {counter-increment: w1; content: counter(w1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l85 {padding-left: 0pt; }
 #l85> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l86 {padding-left: 0pt; }
 #l86> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l87 {padding-left: 0pt; }
 #l87> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l88 {padding-left: 0pt; }
 #l88> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l89 {padding-left: 0pt;counter-reset: d1 0; }
 #l89> li:before {counter-increment: d1; content: counter(d1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l90 {padding-left: 0pt; }
 #l90> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l91 {padding-left: 0pt; }
 #l91> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l92 {padding-left: 0pt; }
 #l92> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l93 {padding-left: 0pt; }
 #l93> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l94 {padding-left: 0pt; }
 #l94> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l95 {padding-left: 0pt;counter-reset: h1 0; }
 #l95> li:before {counter-increment: h1; content: counter(h1, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l96 {padding-left: 0pt;counter-reset: i1 0; }
 #l96> li:before {counter-increment: i1; content: counter(i1, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l97 {padding-left: 0pt;counter-reset: j1 0; }
 #l97> li:before {counter-increment: j1; content: counter(j1, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l98 {padding-left: 0pt; }
 #l98> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l99 {padding-left: 0pt;counter-reset: l1 0; }
 #l99> li:before {counter-increment: l1; content: counter(l1, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l100 {padding-left: 0pt;counter-reset: m1 0; }
 #l100> li:before {counter-increment: m1; content: counter(m1, lower-latin)") "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l101 {padding-left: 0pt;counter-reset: n1 0; }
 #l101> li:before {counter-increment: n1; content: counter(n1, lower-latin)") "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l102 {padding-left: 0pt;counter-reset: o1 0; }
 #l102> li:before {counter-increment: o1; content: counter(o1, lower-latin)") "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l103 {padding-left: 0pt;counter-reset: p1 0; }
 #l103> li:before {counter-increment: p1; content: counter(p1, lower-latin)") "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l104 {padding-left: 0pt;counter-reset: q1 0; }
 #l104> li:before {counter-increment: q1; content: counter(q1, lower-latin)") "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l105 {padding-left: 0pt;counter-reset: r1 0; }
 #l105> li:before {counter-increment: r1; content: counter(r1, lower-latin)") "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l106 {padding-left: 0pt; }
 #l106> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l107 {padding-left: 0pt; }
 #l107> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l108 {padding-left: 0pt; }
 #l108> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l109 {padding-left: 0pt; }
 #l109> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l110 {padding-left: 0pt; }
 #l110> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l111 {padding-left: 0pt; }
 #l111> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l112 {padding-left: 0pt; }
 #l112> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l113 {padding-left: 0pt; }
 #l113> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l114 {padding-left: 0pt; }
 #l114> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l115 {padding-left: 0pt; }
 #l115> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l116 {padding-left: 0pt; }
 #l116> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l117 {padding-left: 0pt;counter-reset: x1 0; }
 #l117> li:before {counter-increment: x1; content: counter(x1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l118 {padding-left: 0pt; }
 #l118> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l119 {padding-left: 0pt; }
 #l119> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l120 {padding-left: 0pt; }
 #l120> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l121 {padding-left: 0pt; }
 #l121> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l122 {padding-left: 0pt;counter-reset: e1 0; }
 #l122> li:before {counter-increment: e1; content: counter(e1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l123 {padding-left: 0pt; }
 #l123> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l124 {padding-left: 0pt; }
 #l124> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l125 {padding-left: 0pt;counter-reset: h1 0; }
 #l125> li:before {counter-increment: h1; content: counter(h1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l126 {padding-left: 0pt; }
 #l126> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l127 {padding-left: 0pt; }
 #l127> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l128 {padding-left: 0pt; }
 #l128> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l129 {padding-left: 0pt; }
 #l129> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l130 {padding-left: 0pt; }
 #l130> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l131 {padding-left: 0pt;counter-reset: n1 0; }
 #l131> li:before {counter-increment: n1; content: counter(n1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l132 {padding-left: 0pt;counter-reset: o1 0; }
 #l132> li:before {counter-increment: o1; content: counter(o1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l133 {padding-left: 0pt; }
 #l133> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l134 {padding-left: 0pt; }
 #l134> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l135 {padding-left: 0pt; }
 #l135> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l136 {padding-left: 0pt;counter-reset: s1 0; }
 #l136> li:before {counter-increment: s1; content: counter(s1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l137 {padding-left: 0pt; }
 #l137> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l138 {padding-left: 0pt; }
 #l138> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l139 {padding-left: 0pt; }
 #l139> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l140 {padding-left: 0pt; }
 #l140> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l141 {padding-left: 0pt;counter-reset: x1 0; }
 #l141> li:before {counter-increment: x1; content: counter(x1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l142 {padding-left: 0pt; }
 #l142> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l143 {padding-left: 0pt; }
 #l143> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l144 {padding-left: 0pt; }
 #l144> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l145 {padding-left: 0pt; }
 #l145> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l146 {padding-left: 0pt;counter-reset: e1 0; }
 #l146> li:before {counter-increment: e1; content: counter(e1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l147 {padding-left: 0pt; }
 #l147> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l148 {padding-left: 0pt; }
 #l148> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l149 {padding-left: 0pt; }
 #l149> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l150 {padding-left: 0pt; }
 #l150> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l151 {padding-left: 0pt;counter-reset: j1 0; }
 #l151> li:before {counter-increment: j1; content: counter(j1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l152 {padding-left: 0pt; }
 #l152> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l153 {padding-left: 0pt; }
 #l153> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l154 {padding-left: 0pt; }
 #l154> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l155 {padding-left: 0pt; }
 #l155> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l156 {padding-left: 0pt;counter-reset: o1 0; }
 #l156> li:before {counter-increment: o1; content: counter(o1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l157 {padding-left: 0pt; }
 #l157> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l158 {padding-left: 0pt; }
 #l158> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l159 {padding-left: 0pt; }
 #l159> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l160 {padding-left: 0pt; }
 #l160> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l161 {padding-left: 0pt; }
 #l161> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l162 {padding-left: 0pt; }
 #l162> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l163 {padding-left: 0pt; }
 #l163> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l164 {padding-left: 0pt; }
 #l164> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l165 {padding-left: 0pt; }
 #l165> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l166 {padding-left: 0pt; }
 #l166> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l167 {padding-left: 0pt;counter-reset: x1 15; }
 #l167> li:before {counter-increment: x1; content: "."counter(x1, lower-latin)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l168 {padding-left: 0pt;counter-reset: x2 15; }
 #l168> li:before {counter-increment: x2; content: "."counter(x2, lower-latin)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l169 {padding-left: 0pt; }
 #l169> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l170 {padding-left: 0pt;counter-reset: y1 0; }
 #l170> li:before {counter-increment: y1; content: counter(y1, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l171 {padding-left: 0pt;counter-reset: z1 0; }
 #l171> li:before {counter-increment: z1; content: counter(z1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l172 {padding-left: 0pt; }
 #l172> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l173 {padding-left: 0pt; }
 #l173> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l174 {padding-left: 0pt; }
 #l174> li:before {content: "• "; color: black; font-family:"Arial Unicode MS"; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l175 {padding-left: 0pt;counter-reset: f1 0; }
 #l175> li:before {counter-increment: f1; content: counter(f1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l176 {padding-left: 0pt;counter-reset: g1 0; }
 #l176> li:before {counter-increment: g1; content: counter(g1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l177 {padding-left: 0pt;counter-reset: h1 0; }
 #l177> li:before {counter-increment: h1; content: counter(h1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l178 {padding-left: 0pt;counter-reset: i1 0; }
 #l178> li:before {counter-increment: i1; content: counter(i1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l179 {padding-left: 0pt;counter-reset: j1 0; }
 #l179> li:before {counter-increment: j1; content: counter(j1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 td>p {display: inline; }
</style></head><body><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="76" height="41" alt="image" src="Image_001.jpg"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 77pt;text-indent: 0pt;text-align: left;"><span><img width="600" height="269" alt="image" src="Image_002.jpg"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s1" style="padding-top: 4pt;padding-left: 95pt;text-indent: 0pt;line-height: 16pt;text-align: left;"><a name="bookmark0">Network Management Configuration Guide, Cisco IOS XE Release 3.6E (Catalyst 3850 Switches)</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 95pt;text-indent: 0pt;text-align: left;">First Published: <span class="p">June 27, 2014</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 95pt;text-indent: 0pt;text-align: left;">Last Modified: <span class="p">October 07, 2013</span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s3" style="padding-left: 95pt;text-indent: 0pt;text-align: left;"><a name="a0">Americas Headquarters</a></p><p style="padding-left: 95pt;text-indent: 0pt;line-height: 11pt;text-align: left;">Cisco Systems, Inc.</p><p style="padding-left: 95pt;text-indent: 0pt;text-align: left;">170 West Tasman Drive San Jose, CA 95134-1706 USA</p><p style="padding-left: 95pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/" class="s4" target="_blank">http://www</a>.cisco.com Tel: 408 526-4000</p><p style="text-indent: 0pt;text-align: center;">800 553-NETS (6387)</p><p style="padding-left: 95pt;text-indent: 0pt;text-align: left;">Fax: 408 527-0883</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 95pt;text-indent: 0pt;text-align: left;">Text Part Number: OL-32604-01</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s5" style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;line-height: 111%;text-align: justify;">THE SPECIFICATIONS AND INFORMATION REGARDING THE PRODUCTS IN THIS MANUAL ARE SUBJECT TO CHANGE WITHOUT NOTICE. ALL STATEMENTS, INFORMATION, AND RECOMMENDATIONS IN THIS MANUAL ARE BELIEVED TO BE ACCURATE BUT ARE PRESENTED WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED. USERS MUST TAKE FULL RESPONSIBILITY FOR THEIR APPLICATION OF ANY PRODUCTS.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 5pt;text-indent: 0pt;line-height: 111%;text-align: left;">THE SOFTWARE LICENSE AND LIMITED WARRANTY FOR THE ACCOMPANYING PRODUCT ARE SET FORTH IN THE INFORMATION PACKET THAT SHIPPED WITH THE PRODUCT AND ARE INCORPORATED HEREIN BY THIS REFERENCE. IF YOU ARE UNABLE TO LOCATE THE SOFTWARE LICENSE OR LIMITED WARRANTY, CONTACT YOUR CISCO REPRESENTATIVE FOR A COPY.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">The Cisco implementation of TCP header compression is an adaptation of a program developed by the University of California, Berkeley (UCB) as part of UCB&#39;s public domain version of the UNIX operating system. All rights reserved. Copyright <span class="s6">©</span><span class="s7"> </span>1981, Regents of the University of California.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">NOTWITHSTANDING ANY OTHER WARRANTY HEREIN, ALL DOCUMENT FILES AND SOFTWARE OF THESE SUPPLIERS ARE PROVIDED <span class="s8">“</span>AS IS&quot; WITH ALL FAULTS. CISCO AND THE ABOVE-NAMED SUPPLIERS DISCLAIM ALL WARRANTIES, EXPRESSED OR IMPLIED, INCLUDING, WITHOUT LIMITATION, THOSE OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT OR ARISING FROM A COURSE OF DEALING, USAGE, OR TRADE PRACTICE.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 5pt;text-indent: 0pt;line-height: 111%;text-align: justify;">IN NO EVENT SHALL CISCO OR ITS SUPPLIERS BE LIABLE FOR ANY INDIRECT, SPECIAL, CONSEQUENTIAL, OR INCIDENTAL DAMAGES, INCLUDING, WITHOUT LIMITATION, LOST PROFITS OR LOSS OR DAMAGE TO DATA ARISING OUT OF THE USE OR INABILITY TO USE THIS MANUAL, EVEN IF CISCO OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 5pt;text-indent: 0pt;line-height: 111%;text-align: justify;">Any Internet Protocol (IP) addresses and phone numbers used in this document are not intended to be actual addresses and phone numbers. Any examples, command display output, network topology diagrams, and other figures included in the document are shown for illustrative purposes only. Any use of actual IP addresses or phone numbers in illustrative content is unintentional and coincidental.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/go/trademarks" style=" color: black; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt;" target="_blank">Cisco and the Cisco logo are trademarks or registered trademarks of Cisco and/or its affiliates in the U.S. and other countries. To view a list of Cisco trademarks, go to this URL: </a><a href="http://www.cisco.com/go/trademarks" class="a" target="_blank">http:// www.cisco.com/go/trademark</a>s<span class="s5">. Third-party trademarks mentioned are the property of their respective owners. The use of the word partner does not imply a partnership relationship between Cisco and any other company. (1110R)</span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s6" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">©<span class="s7"> </span><span class="s5">2014 Cisco Systems, Inc. All rights reserved.</span></p><p style="padding-top: 4pt;padding-left: 114pt;text-indent: 0pt;text-align: left;"><span><img width="576" height="144" alt="image" src="Image_003.jpg"/></span></p><p class="s10" style="padding-left: 114pt;text-indent: 0pt;text-align: left;"><a name="bookmark1">C O N T E N T S </a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="127" height="1" alt="image" src="Image_004.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a href="#bookmark6" style=" color: black; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7pt;">P r e f a c e                            </a><a href="#bookmark6" class="s12">Preface </a><a href="#bookmark6" class="s13">xi</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark7" class="a">Document Conventions  </a><a href="#bookmark7" class="s13">xi</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark8" class="a">Related Documentation  </a><a href="#bookmark8" class="s13">xiii</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark9" class="a">Obtaining Documentation and Submitting a Service Request  </a><a href="#bookmark9" class="s13">xiii</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="127" height="1" alt="image" src="Image_005.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a href="#bookmark29" style=" color: black; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7pt;">C H A P T E R  1                   </a><a href="#bookmark29" class="s12">Using the Command-Line Interface </a><a href="#bookmark29" class="s13">1</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark30" class="a">Information About Using the Command-Line Interface  </a><a href="#bookmark30" class="s13">1</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark31" class="a">Command Modes  </a><a href="#bookmark31" class="s13">1</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;line-height: 157%;text-align: left;"><a href="#bookmark32" class="a">Understanding Abbreviated Commands  </a><a href="#bookmark33" class="s13">3 </a><a href="#bookmark33" class="a">No and Default Forms of Commands  </a><a href="#bookmark34" class="s13">4 </a><a href="#bookmark34" class="a">CLI Error Messages  </a><a href="#bookmark34" class="s13">4</a></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark35" class="a">Configuration Logging  </a><a href="#bookmark35" class="s13">4</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark36" class="a">Using the Help System  </a><a href="#bookmark36" class="s13">5</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark37" class="a">How to Use the CLI to Configure Features  </a><a href="#bookmark37" class="s13">6</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark38" class="a">Configuring the Command History  </a><a href="#bookmark38" class="s13">6</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 168pt;text-indent: 0pt;text-align: left;"><a href="#bookmark39" class="a">Changing the Command History Buffer Size  </a><a href="#bookmark39" class="s13">6</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 168pt;text-indent: 0pt;text-align: left;"><a href="#bookmark40" class="a">Recalling Commands  </a><a href="#bookmark40" class="s13">7</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 168pt;text-indent: 0pt;text-align: left;"><a href="#bookmark41" class="a">Disabling the Command History Feature  </a><a href="#bookmark41" class="s13">7</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 168pt;text-indent: -18pt;line-height: 157%;text-align: left;"><a href="#bookmark42" class="a">Enabling and Disabling Editing Features  </a><a href="#bookmark43" class="s13">8 </a><a href="#bookmark43" class="a">Editing Commands Through Keystrokes  </a><a href="#bookmark44" class="s13">8 </a><a href="#bookmark44" class="a">Editing Command Lines That Wrap  </a><a href="#bookmark44" class="s13">10</a></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark45" class="a">Searching and Filtering Output of show and more Commands  </a><a href="#bookmark45" class="s13">11</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark46" class="a">Accessing the CLI on a Switch Stack  </a><a href="#bookmark46" class="s13">11</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark47" class="a">Accessing the CLI Through a Console Connection or Through Telnet  </a><a href="#bookmark47" class="s13">12</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="127" height="1" alt="image" src="Image_006.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a href="#bookmark76" style=" color: black; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7pt;">C H A P T E R  2                  </a><a href="#bookmark76" class="s12">Configuring Cisco IOS Configuration Engine </a><a href="#bookmark76" class="s13">13</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark77" class="a">Finding Feature Information  </a><a href="#bookmark77" class="s13">13</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="701" height="27" alt="image" src="Image_007.png"/></span></p><p class="s15" style="padding-top: 3pt;padding-left: 183pt;text-indent: 0pt;text-align: left;">Network Management Configuration Guide, Cisco IOS XE Release 3.6E (Catalyst 3850 Switches)</p><p style="padding-top: 1pt;padding-left: 27pt;text-indent: 0pt;text-align: left;"><span class="s15">OL-32604-01                                                                                                                                                                                                                                               </span><span class="s16" style=" background-color: #000;">iii       </span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 139pt;text-indent: 0pt;line-height: 157%;text-align: left;"><a href="#bookmark78" class="a">Prerequisites for Configuring the Configuration Engine  </a><a href="#bookmark79" class="s13">13 </a><a href="#bookmark79" class="a">Restrictions for Configuring the Configuration Engine  </a><a href="#bookmark81" class="s13">14 </a><a href="#bookmark81" class="a">Information About Configuring the Configuration Engine  </a><a href="#bookmark81" class="s13">14</a></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark82" class="a">Cisco Configuration Engine Software  </a><a href="#bookmark82" class="s13">14</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark83" class="a">Configuration Service  </a><a href="#bookmark83" class="s13">15</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark84" class="a">Event Service  </a><a href="#bookmark84" class="s13">16</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark86" class="a">NameSpace Mapper  </a><a href="#bookmark86" class="s13">16</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark88" class="a">Cisco Networking Services IDs and Device Hostnames  </a><a href="#bookmark88" class="s13">16</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 168pt;text-indent: 0pt;text-align: left;"><a href="#bookmark90" class="a">ConfigID   </a><a href="#bookmark90" class="s13">16</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 168pt;text-indent: 0pt;text-align: left;"><a href="#bookmark91" class="a">DeviceID   </a><a href="#bookmark91" class="s13">17</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 168pt;text-indent: 0pt;text-align: left;"><a href="#bookmark92" class="a">Hostname and DeviceID  </a><a href="#bookmark92" class="s13">17</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 168pt;text-indent: 0pt;text-align: left;"><a href="#bookmark93" class="a">Hostname, DeviceID, and ConfigID  </a><a href="#bookmark93" class="s13">17</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark94" class="a">Cisco IOS CNS Agents  </a><a href="#bookmark94" class="s13">18</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 168pt;text-indent: 0pt;text-align: left;"><a href="#bookmark95" class="a">Initial Configuration  </a><a href="#bookmark95" class="s13">18</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 168pt;text-indent: 0pt;text-align: left;"><a href="#bookmark96" class="a">Incremental (Partial) Configuration  </a><a href="#bookmark96" class="s13">19</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 168pt;text-indent: 0pt;text-align: left;"><a href="#bookmark97" class="a">Synchronized Configuration  </a><a href="#bookmark97" class="s13">19</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark98" class="a">Automated CNS Configuration  </a><a href="#bookmark98" class="s13">19</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark100" class="a">How to Configure the Configuration Engine  </a><a href="#bookmark100" class="s13">20</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark101" class="a">Enabling the CNS Event Agent  </a><a href="#bookmark101" class="s13">20</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark102" class="a">Enabling the Cisco IOS CNS Agent  </a><a href="#bookmark102" class="s13">22</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark103" class="a">Enabling an Initial Configuration for Cisco IOS CNS Agent  </a><a href="#bookmark103" class="s13">24</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark104" class="a">Refreshing DeviceIDs  </a><a href="#bookmark104" class="s13">29</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark105" class="a">Enabling a Partial Configuration for Cisco IOS CNS Agent  </a><a href="#bookmark105" class="s13">31</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark106" class="a">Monitoring CNS Configurations  </a><a href="#bookmark106" class="s13">33</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark107" class="a">Additional References  </a><a href="#bookmark107" class="s13">34</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark108" class="a">Feature History and Information for the Configuration Engine  </a><a href="#bookmark108" class="s13">35</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="108" height="1" alt="image" src="Image_008.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a href="#bookmark124" style=" color: black; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7pt;">C H A P T E R  3                  </a><a href="#bookmark124" class="s12">Configuring the Cisco Discovery Protocol </a><a href="#bookmark124" class="s13">37</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark125" class="a">Finding Feature Information  </a><a href="#bookmark125" class="s13">37</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark126" class="a">Information About CDP  </a><a href="#bookmark126" class="s13">37</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark127" class="a">CDP Overview  </a><a href="#bookmark127" class="s13">37</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark129" class="a">CDP and Stacks  </a><a href="#bookmark129" class="s13">38</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark131" class="a">Default CDP Configuration  </a><a href="#bookmark131" class="s13">38</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark132" class="a">How to Configure CDP  </a><a href="#bookmark132" class="s13">39</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark133" class="a">Configuring CDP Characteristics  </a><a href="#bookmark133" class="s13">39</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_009.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark134" class="a">Disabling CDP  </a><a href="#bookmark134" class="s13">40</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark135" class="a">Enabling CDP  </a><a href="#bookmark135" class="s13">42</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 10pt;line-height: 157%;text-align: right;"><a href="#bookmark136" class="a">Disabling CDP on an Interface  </a><a href="#bookmark137" class="s13">44 </a><a href="#bookmark137" class="a">Enabling CDP on an Interface  </a><a href="#bookmark138" class="s13">45 </a><a href="#bookmark138" class="a">Monitoring and Maintaining CDP  </a><a href="#bookmark138" class="s13">47</a></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark139" class="a">Additional References  </a><a href="#bookmark139" class="s13">48</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark140" class="a">Feature History and Information for Cisco Discovery Protocol  </a><a href="#bookmark140" class="s13">49</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="127" height="1" alt="image" src="Image_010.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: center;"><a href="#bookmark168" style=" color: black; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7pt;">C H A P T E R  4                 </a><a href="#bookmark168" class="s12">Configuring Simple Network Management Protocol </a><a href="#bookmark168" class="s13">51</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;line-height: 157%;text-align: left;"><a href="#bookmark169" class="a">Finding Feature Information  </a><a href="#bookmark170" class="s13">51 </a><a href="#bookmark170" class="a">Prerequisites for SNMP  </a><a href="#bookmark171" class="s13">51 </a><a href="#bookmark171" class="a">Restrictions for SNMP  </a><a href="#bookmark172" class="s13">54 </a><a href="#bookmark172" class="a">Information About SNMP  </a><a href="#bookmark172" class="s13">54</a></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark173" class="a">SNMP Overview  </a><a href="#bookmark173" class="s13">54</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;line-height: 157%;text-align: left;"><a href="#bookmark174" class="a">SNMP Manager Functions  </a><a href="#bookmark177" class="s13">54 </a><a href="#bookmark177" class="a">SNMP Agent Functions  </a><a href="#bookmark178" class="s13">55 </a><a href="#bookmark178" class="a">SNMP Community Strings  </a><a href="#bookmark179" class="s13">55 </a><a href="#bookmark179" class="a">SNMP MIB Variables Access  </a><a href="#bookmark180" class="s13">55 </a><a href="#bookmark180" class="a">SNMP Notifications  </a><a href="#bookmark180" class="s13">56</a></p><p style="padding-left: 150pt;text-indent: 0pt;line-height: 157%;text-align: left;"><a href="#bookmark181" class="a">SNMP ifIndex MIB Object Values  </a><a href="#bookmark184" class="s13">56 </a><a href="#bookmark184" class="a">Default SNMP Configuration  </a><a href="#bookmark186" class="s13">57 </a><a href="#bookmark186" class="a">SNMP Configuration Guidelines  </a><a href="#bookmark186" class="s13">57</a></p><p style="padding-left: 150pt;text-indent: -10pt;line-height: 157%;text-align: left;"><a href="#bookmark187" class="a">How to Configure SNMP  </a><a href="#bookmark188" class="s13">58 </a><a href="#bookmark188" class="a">Disabling the SNMP Agent  </a><a href="#bookmark189" class="s13">58 </a><a href="#bookmark189" class="a">Configuring Community Strings  </a><a href="#bookmark189" class="s13">60</a></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark190" class="a">Configuring SNMP Groups and Users  </a><a href="#bookmark190" class="s13">62</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark191" class="a">Configuring SNMP Notifications  </a><a href="#bookmark191" class="s13">65</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;line-height: 157%;text-align: left;"><a href="#bookmark192" class="a">Setting the Agent Contact and Location Information  </a><a href="#bookmark193" class="s13">70 </a><a href="#bookmark193" class="a">Limiting TFTP Servers Used Through SNMP  </a><a href="#bookmark194" class="s13">71 </a><a href="#bookmark194" class="a">Configuring Trap Flags for SNMP  </a><a href="#bookmark194" class="s13">73</a></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark195" class="a">Enabling SNMP Wireless Trap Notification  </a><a href="#bookmark195" class="s13">75</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark196" class="a">Monitoring SNMP Status  </a><a href="#bookmark196" class="s13">76</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark197" class="a">SNMP Examples  </a><a href="#bookmark197" class="s13">77</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark198" class="a">Additional References  </a><a href="#bookmark198" class="s13">78</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark199" class="a">Feature History and Information for Simple Network Management Protocol  </a><a href="#bookmark199" class="s13">79</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="28" alt="image" src="Image_011.png"/></span></p><p class="s15" style="padding-top: 3pt;padding-left: 183pt;text-indent: 0pt;text-align: left;">Network Management Configuration Guide, Cisco IOS XE Release 3.6E (Catalyst 3850 Switches)</p><p class="s15" style="padding-top: 1pt;padding-left: 27pt;text-indent: 0pt;text-align: left;">OL-32604-01                                                                                                                                                                                                                                                                              <span style=" color: #FFF;">v</span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="108" height="1" alt="image" src="Image_012.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: center;"><a href="#bookmark216" style=" color: black; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7pt;">C H A P T E R  5                     </a><a href="#bookmark216" class="s12">Configuring Cache Services Using the Web Cache Communication Protocol </a><a href="#bookmark216" class="s13">81</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;line-height: 157%;text-align: left;"><a href="#bookmark217" class="a">Finding Feature Information  </a><a href="#bookmark218" class="s13">81 </a><a href="#bookmark218" class="a">Prerequisites for WCCP  </a><a href="#bookmark219" class="s13">81 </a><a href="#bookmark219" class="a">Restrictions for WCCP  </a><a href="#bookmark220" class="s13">82 </a><a href="#bookmark220" class="a">Information About WCCP  </a><a href="#bookmark220" class="s13">83</a></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark221" class="a">WCCP Overview  </a><a href="#bookmark221" class="s13">83</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark222" class="a">WCCP Message Exchange  </a><a href="#bookmark222" class="s13">83</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark223" class="a">WCCP Negotiation  </a><a href="#bookmark223" class="s13">84</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark224" class="a">MD5 Security  </a><a href="#bookmark224" class="s13">84</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark225" class="a">Packet Redirection and Service Groups  </a><a href="#bookmark225" class="s13">84</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark226" class="a">WCCP and Switch Stacks  </a><a href="#bookmark226" class="s13">85</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: -10pt;line-height: 157%;text-align: left;"><a href="#bookmark227" class="a">How to Configure WCCP  </a><a href="#bookmark228" class="s13">86 </a><a href="#bookmark228" class="a">Default WCCP Configuration  </a><a href="#bookmark229" class="s13">86 </a><a href="#bookmark229" class="a">Enabling the Cache Service  </a><a href="#bookmark229" class="s13">86</a></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark230" class="a">Additional References  </a><a href="#bookmark230" class="s13">92</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark231" class="a">Feature History and Information for Web Cache Communication Protocol  </a><a href="#bookmark231" class="s13">93</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="108" height="1" alt="image" src="Image_013.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a href="#bookmark254" style=" color: black; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7pt;">C H A P T E R  6                  </a><a href="#bookmark254" class="s12">Configuring Service Level Agreements </a><a href="#bookmark254" class="s13">95</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;line-height: 157%;text-align: left;"><a href="#bookmark255" class="a">Finding Feature Information  </a><a href="#bookmark256" class="s13">95 </a><a href="#bookmark256" class="a">Restrictions on SLAs  </a><a href="#bookmark257" class="s13">95 </a><a href="#bookmark257" class="a">Information About SLAs  </a><a href="#bookmark257" class="s13">96</a></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark258" class="a">Cisco IOS IP Service Level Agreements (SLAs)  </a><a href="#bookmark258" class="s13">96</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark263" class="a">Network Performance Measurement with Cisco IOS IP SLAs  </a><a href="#bookmark263" class="s13">97</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark265" class="a">IP SLA Responder and IP SLA Control Protocol  </a><a href="#bookmark265" class="s13">98</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark267" class="a">Response Time Computation for IP SLAs  </a><a href="#bookmark267" class="s13">99</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark269" class="a">IP SLAs Operation Scheduling  </a><a href="#bookmark269" class="s13">100</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark271" class="a">IP SLA Operation Threshold Monitoring  </a><a href="#bookmark271" class="s13">100</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark273" class="a">UDP Jitter </a><a href="#bookmark273" class="s13">101</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark275" class="a">How to Configure IP SLAs Operations  </a><a href="#bookmark275" class="s13">102</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark277" class="a">Default Configuration </a><a href="#bookmark277" class="s13">102</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark278" class="a">Configuration Guidelines </a><a href="#bookmark278" class="s13">102</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark280" class="a">Configuring the IP SLA Responder  </a><a href="#bookmark280" class="s13">103</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark282" class="a">Implementing IP SLA Network Performance Measurement  </a><a href="#bookmark282" class="s13">104</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark283" class="a">Analyzing IP Service Levels by Using the UDP Jitter Operation  </a><a href="#bookmark283" class="s13">108</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_014.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark286" class="a">Analyzing IP Service Levels by Using the ICMP Echo Operation  </a><a href="#bookmark286" class="s13">112</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;line-height: 157%;text-align: left;"><a href="#bookmark289" class="a">Monitoring IP SLA Operations  </a><a href="#bookmark291" class="s13">115 </a><a href="#bookmark291" class="a">Monitoring IP SLA Operation Examples  </a><a href="#bookmark292" class="s13">116 </a><a href="#bookmark292" class="a">Additional References </a><a href="#bookmark292" class="s13">117</a></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark293" class="a">Feature History and Information for Service Level Agreements  </a><a href="#bookmark293" class="s13">118</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="127" height="1" alt="image" src="Image_015.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a href="#bookmark314" style=" color: black; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7pt;">C H A P T E R  7                    </a><a href="#bookmark314" class="s12">Configuring Local Policies </a><a href="#bookmark314" class="s13">119</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark315" class="a">Finding Feature Information  </a><a href="#bookmark315" class="s13">119</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;line-height: 157%;text-align: left;"><a href="#bookmark316" class="a">Restrictions for Configuring Local Policies  </a><a href="#bookmark317" class="s13">119 </a><a href="#bookmark317" class="a">Information About Configuring Local Policies  </a><a href="#bookmark318" class="s13">120 </a><a href="#bookmark318" class="a">How to Configure Local Policies  </a><a href="#bookmark318" class="s13">121</a></p><p style="padding-left: 168pt;text-indent: -18pt;line-height: 157%;text-align: left;"><a href="#bookmark319" class="a">Configuring Local Policies (CLI)  </a><a href="#bookmark320" class="s13">121 </a><a href="#bookmark320" class="a">Creating a Service Template (CLI)  </a><a href="#bookmark321" class="s13">122 </a><a href="#bookmark321" class="a">Creating an Interface Template (CLI)  </a><a href="#bookmark322" class="s13">123 </a><a href="#bookmark322" class="a">Creating a Parameter Map (CLI)  </a><a href="#bookmark323" class="s13">124 </a><a href="#bookmark323" class="a">Creating a Class Map (CLI)  </a><a href="#bookmark323" class="s13">125</a></p><p style="padding-left: 168pt;text-indent: 0pt;text-align: left;"><a href="#bookmark324" class="a">Creating a Policy Map (CLI)  </a><a href="#bookmark324" class="s13">126</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 168pt;text-indent: 0pt;text-align: left;"><a href="#bookmark325" class="a">Applying a Local Policy for a Device on a WLAN (CLI)  </a><a href="#bookmark325" class="s13">127</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 168pt;text-indent: -18pt;line-height: 157%;text-align: left;"><a href="#bookmark326" class="a">Configuring Local Policies (GUI)  </a><a href="#bookmark327" class="s13">128 </a><a href="#bookmark327" class="a">Creating a Service Template (GUI)  </a><a href="#bookmark328" class="s13">128 </a><a href="#bookmark328" class="a">Creating a Policy Map (GUI)  </a><a href="#bookmark328" class="s13">129</a></p><p style="padding-left: 168pt;text-indent: 0pt;text-align: left;"><a href="#bookmark330" class="a">Applying Local Policies to WLAN (GUI)  </a><a href="#bookmark330" class="s13">130</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark331" class="a">Monitoring Local Policies  </a><a href="#bookmark331" class="s13">131</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark332" class="a">Examples: Local Policies Configuration  </a><a href="#bookmark332" class="s13">132</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark333" class="a">Additional References for Configuring Local Policies  </a><a href="#bookmark333" class="s13">133</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark334" class="a">Feature History for Performing Local Policies Configuration  </a><a href="#bookmark334" class="s13">134</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="127" height="1" alt="image" src="Image_016.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a href="#bookmark376" style=" color: black; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7pt;">C H A P T E R  8                   </a><a href="#bookmark376" class="s12">Configuring SPAN and RSPAN </a><a href="#bookmark376" class="s13">135</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;line-height: 157%;text-align: left;"><a href="#bookmark377" class="a">Finding Feature Information  </a><a href="#bookmark378" class="s13">135 </a><a href="#bookmark378" class="a">Prerequisites for SPAN and RSPAN  </a><a href="#bookmark379" class="s13">135 </a><a href="#bookmark379" class="a">Restrictions for SPAN and RSPAN  </a><a href="#bookmark382" class="s13">136 </a><a href="#bookmark382" class="a">Information About SPAN and RSPAN  </a><a href="#bookmark382" class="s13">137</a></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark383" class="a">SPAN and RSPAN  </a><a href="#bookmark383" class="s13">137</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 168pt;text-indent: 0pt;text-align: left;"><a href="#bookmark387" class="a">Local SPAN </a><a href="#bookmark387" class="s13">138</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 168pt;text-indent: 0pt;text-align: left;"><a href="#bookmark391" class="a">Remote SPAN </a><a href="#bookmark391" class="s13">139</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 20pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_017.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 168pt;text-indent: 0pt;text-align: left;"><a href="#bookmark393" class="a">SPAN and RSPAN Concepts and Terminology  </a><a href="#bookmark393" class="s13">140</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: center;"><a href="#bookmark394" class="a">SPAN Sessions </a><a href="#bookmark394" class="s13">141</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 30pt;text-indent: 0pt;text-align: center;"><a href="#bookmark396" class="a">Monitored Traffic </a><a href="#bookmark396" class="s13">142</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 174pt;text-indent: 0pt;text-align: center;"><a href="#bookmark400" class="a">Source Ports </a><a href="#bookmark400" class="s13">143</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 185pt;text-indent: 0pt;text-align: center;"><a href="#bookmark402" class="a">Source VLANs </a><a href="#bookmark402" class="s13">143</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 184pt;text-indent: 0pt;text-align: center;"><a href="#bookmark404" class="a">VLAN Filtering </a><a href="#bookmark404" class="s13">144</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 185pt;text-indent: 0pt;text-align: center;"><a href="#bookmark406" class="a">Destination Port </a><a href="#bookmark406" class="s13">144</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: center;"><a href="#bookmark408" class="a">RSPAN VLAN </a><a href="#bookmark408" class="s13">145</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 168pt;text-indent: 0pt;text-align: left;"><a href="#bookmark410" class="a">SPAN and RSPAN Interaction with Other Features  </a><a href="#bookmark410" class="s13">146</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 168pt;text-indent: 0pt;text-align: left;"><a href="#bookmark412" class="a">SPAN and RSPAN and Device Stacks  </a><a href="#bookmark412" class="s13">147</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark415" class="a">Flow-Based SPAN </a><a href="#bookmark415" class="s13">147</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark416" class="a">Default SPAN and RSPAN Configuration  </a><a href="#bookmark416" class="s13">148</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark418" class="a">Configuration Guidelines </a><a href="#bookmark418" class="s13">148</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 168pt;text-indent: 0pt;text-align: left;"><a href="#bookmark419" class="a">SPAN Configuration Guidelines  </a><a href="#bookmark419" class="s13">148</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 168pt;text-indent: 0pt;text-align: left;"><a href="#bookmark422" class="a">RSPAN Configuration Guidelines  </a><a href="#bookmark422" class="s13">148</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 168pt;text-indent: 0pt;text-align: left;"><a href="#bookmark424" class="a">FSPAN and FRSPAN Configuration Guidelines  </a><a href="#bookmark424" class="s13">149</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: center;"><a href="#bookmark425" class="a">How to Configure SPAN and RSPAN  </a><a href="#bookmark425" class="s13">149</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark426" class="a">Creating a Local SPAN Session  </a><a href="#bookmark426" class="s13">149</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark428" class="a">Creating a Local SPAN Session and Configuring Incoming Traffic  </a><a href="#bookmark428" class="s13">152</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark430" class="a">Specifying VLANs to Filter  </a><a href="#bookmark430" class="s13">154</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;line-height: 157%;text-align: left;"><a href="#bookmark432" class="a">Configuring a VLAN as an RSPAN VLAN  </a><a href="#bookmark435" class="s13">156 </a><a href="#bookmark435" class="a">Creating an RSPAN Source Session  </a><a href="#bookmark436" class="s13">158 </a><a href="#bookmark436" class="a">Specifying VLANs to Filter  </a><a href="#bookmark436" class="s13">160</a></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark438" class="a">Creating an RSPAN Destination Session  </a><a href="#bookmark438" class="s13">162</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark439" class="a">Creating an RSPAN Destination Session and Configuring Incoming Traffic  </a><a href="#bookmark439" class="s13">164</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark441" class="a">Configuring an FSPAN Session  </a><a href="#bookmark441" class="s13">167</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 10pt;line-height: 157%;text-align: left;"><a href="#bookmark443" class="a">Configuring an FRSPAN Session  </a><a href="#bookmark444" class="s13">169 </a><a href="#bookmark444" class="a">Monitoring SPAN and RSPAN Operations  </a><a href="#bookmark445" class="s13">172 </a><a href="#bookmark445" class="a">SPAN and RSPAN Configuration Examples  </a><a href="#bookmark445" class="s13">173</a></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark446" class="a">Example: Configuring Local SPAN  </a><a href="#bookmark446" class="s13">173</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><a href="#bookmark447" class="a">Examples: Creating an RSPAN VLAN  </a><a href="#bookmark447" class="s13">174</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark448" class="a">Additional References </a><a href="#bookmark448" class="s13">175</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 139pt;text-indent: 0pt;text-align: left;"><a href="#bookmark449" class="a">Feature History and Information for SPAN and RSPAN  </a><a href="#bookmark449" class="s13">176</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="108" height="1" alt="image" src="Image_018.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a href="#bookmark487" style=" color: black; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7pt;">C H A P T E R  9                    </a><a href="#bookmark487" class="s12">Configuring Wireshark </a><a href="#bookmark487" class="s13">179</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_019.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 124pt;text-indent: 0pt;line-height: 157%;text-align: left;"><a href="#bookmark488" class="a">Finding Feature Information  </a><a href="#bookmark489" class="s13">179 </a><a href="#bookmark489" class="a">Prerequisites for Wireshark  </a><a href="#bookmark490" class="s13">179 </a><a href="#bookmark490" class="a">Restrictions for Wireshark  </a><a href="#bookmark491" class="s13">180 </a><a href="#bookmark491" class="a">Information About Wireshark  </a><a href="#bookmark491" class="s13">181</a></p><p style="padding-left: 135pt;text-indent: 0pt;text-align: left;"><a href="#bookmark492" class="a">Wireshark Overview </a><a href="#bookmark492" class="s13">181</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 135pt;text-indent: 0pt;text-align: left;"><a href="#bookmark493" class="a">Capture Points </a><a href="#bookmark493" class="s13">181</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 135pt;text-indent: 0pt;text-align: left;"><a href="#bookmark494" class="a">Attachment Points </a><a href="#bookmark494" class="s13">182</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 135pt;text-indent: 0pt;text-align: left;"><a href="#bookmark495" class="a">Filters  </a><a href="#bookmark495" class="s13">183</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 135pt;text-indent: 0pt;text-align: left;"><a href="#bookmark496" class="a">Actions  </a><a href="#bookmark496" class="s13">183</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 135pt;text-indent: 0pt;line-height: 157%;text-align: left;"><a href="#bookmark497" class="a">Storage of Captured Packets to Buffer in Memory  </a><a href="#bookmark498" class="s13">184 </a><a href="#bookmark498" class="a">Storage of Captured Packets to a .pcap File  </a><a href="#bookmark499" class="s13">184 </a><a href="#bookmark499" class="a">Packet Decoding and Display  </a><a href="#bookmark499" class="s13">185</a></p><p style="padding-left: 135pt;text-indent: 0pt;text-align: left;"><a href="#bookmark500" class="a">Packet Storage and Display  </a><a href="#bookmark500" class="s13">185</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 135pt;text-indent: 0pt;text-align: left;"><a href="#bookmark501" class="a">Wireshark Capture Point Activation and Deactivation  </a><a href="#bookmark501" class="s13">186</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 135pt;text-indent: 0pt;text-align: left;"><a href="#bookmark502" class="a">Wireshark Features </a><a href="#bookmark502" class="s13">186</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 135pt;text-indent: 0pt;text-align: left;"><a href="#bookmark503" class="a">Guidelines for Wireshark  </a><a href="#bookmark503" class="s13">188</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 135pt;text-indent: 0pt;text-align: left;"><a href="#bookmark504" class="a">Default Wireshark Configuration  </a><a href="#bookmark504" class="s13">190</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 124pt;text-indent: 0pt;text-align: left;"><a href="#bookmark505" class="a">How to Configure Wireshark  </a><a href="#bookmark505" class="s13">191</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 135pt;text-indent: 0pt;text-align: left;"><a href="#bookmark506" class="a">Defining a Capture Point  </a><a href="#bookmark506" class="s13">191</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 135pt;text-indent: 0pt;text-align: left;"><a href="#bookmark507" class="a">Adding or Modifying Capture Point Parameters  </a><a href="#bookmark507" class="s13">196</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 135pt;text-indent: 0pt;text-align: left;"><a href="#bookmark508" class="a">Deleting Capture Point Parameters  </a><a href="#bookmark508" class="s13">199</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 135pt;text-indent: 0pt;text-align: left;"><a href="#bookmark509" class="a">Deleting a Capture Point  </a><a href="#bookmark509" class="s13">201</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 135pt;text-indent: 0pt;text-align: left;"><a href="#bookmark510" class="a">Activating and Deactivating a Capture Point  </a><a href="#bookmark510" class="s13">202</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 135pt;text-indent: 0pt;text-align: left;"><a href="#bookmark511" class="a">Clearing the Capture Point Buffer  </a><a href="#bookmark511" class="s13">204</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 124pt;text-indent: 0pt;text-align: left;"><a href="#bookmark512" class="a">Monitoring Wireshark </a><a href="#bookmark512" class="s13">206</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 124pt;text-indent: 0pt;text-align: left;"><a href="#bookmark513" class="a">Configuration Examples for Wireshark  </a><a href="#bookmark513" class="s13">206</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 135pt;text-indent: 0pt;line-height: 157%;text-align: left;"><a href="#bookmark514" class="a">Example: Displaying a Brief Output from a .pcap File  </a><a href="#bookmark515" class="s13">206 </a><a href="#bookmark515" class="a">Example: Displaying Detailed Output from a .pcap File  </a><a href="#bookmark516" class="s13">208 </a><a href="#bookmark516" class="a">Example: Simple Capture and Display  </a><a href="#bookmark516" class="s13">210</a></p><p style="padding-left: 135pt;text-indent: 0pt;line-height: 157%;text-align: left;"><a href="#bookmark517" class="a">Example: Simple Capture and Store  </a><a href="#bookmark518" class="s13">211 </a><a href="#bookmark518" class="a">Example: Using Buffer Capture  </a><a href="#bookmark519" class="s13">213 </a><a href="#bookmark519" class="a">Example: Capture Sessions  </a><a href="#bookmark519" class="s13">217</a></p><p style="padding-left: 135pt;text-indent: 0pt;text-align: left;"><a href="#bookmark520" class="a">Example: Capture and Store in Lock-step Mode  </a><a href="#bookmark520" class="s13">218</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 135pt;text-indent: 0pt;text-align: left;"><a href="#bookmark521" class="a">Example: Simple Capture and Store of Packets in Egress Direction  </a><a href="#bookmark521" class="s13">219</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 124pt;text-indent: 0pt;text-align: left;"><a href="#bookmark522" class="a">Additional References </a><a href="#bookmark522" class="s13">221</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_020.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 122pt;text-indent: 0pt;text-align: left;"><a href="#bookmark523" class="a">Feature History and Information for WireShark  </a><a href="#bookmark523" class="s13">222</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="28" alt="image" src="Image_021.png"/></span></p><p class="s15" style="padding-top: 3pt;padding-left: 40pt;text-indent: 0pt;text-align: left;">Network Management Configuration Guide, Cisco IOS XE Release 3.6E (Catalyst 3850 Switches)</p><p class="s17" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">x                                                                                                                                                                                                                                                <span style=" color: #000;">OL-32604-01</span></p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><span><img width="576" height="144" alt="image" src="Image_022.jpg"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h2 style="padding-top: 1pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark2">Preface</a><a name="bookmark6">&zwnj;</a></h2><p style="padding-top: 2pt;padding-left: 96pt;text-indent: 0pt;text-align: left;"><span><img width="584" height="6" alt="image" src="Image_023.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><ul id="l1"><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark7" class="a">Document Conventions, page xi</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark8" class="a">Related Documentation, page xiii</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark9" class="a" name="bookmark3">Obtaining Documentation and Submitting a Service Request, page xiii</a><a name="bookmark7">&zwnj;</a></p></li></ul><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a1">Document  Conventions</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="577" height="27" alt="image" src="Image_024.png"/></span></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This document uses the following conventions:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: right;"><a name="a2">Convention</a></p><p class="s2" style="padding-top: 3pt;padding-left: 58pt;text-indent: 0pt;text-align: left;">Description</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:98.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">^ or Ctrl</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Both the <b>^ </b>symbol and Ctrl represent the Control (Ctrl) key on a keyboard. For example, the key combination <b>^D </b>or <b>Ctrl-D </b>means that you hold down the Control key while you press the D key. (Keys are indicated in capital letters but are not case sensitive.)</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">bold <span class="s18">font</span></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Commands and keywords and user-entered text appear in <b>bold </b>font.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s20" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Italic <span class="s18">font</span></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Document titles, new or emphasized terms, and arguments for which you supply values are in <i>italic </i>font.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s21" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Courier <span class="s18">font</span></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Terminal sessions and information the system displays appear in <span class="s21">courier </span>font.</p></td></tr></table><p class="s22" style="padding-top: 2pt;padding-left: 102pt;text-indent: 0pt;text-align: left;">Bold Courier <span class="p">font</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="2" height="28" alt="image" src="Image_025.png"/></span></p><p class="s22" style="padding-top: 2pt;padding-left: 27pt;text-indent: 0pt;text-align: left;">Bold Courier <span class="p">font indicates text that the user must enter.</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:98.809pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">[x]</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Elements in square brackets are optional.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">...</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 5pt;text-indent: 0pt;text-align: left;">An ellipsis (three consecutive nonbolded periods without spaces) after a syntax element indicates that the element can be repeated.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">|</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 22pt;text-indent: 0pt;text-align: left;">A vertical line, called a pipe, indicates a choice within a set of keywords or arguments.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">[x | y]</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Optional alternative keywords are grouped in brackets and separated by vertical bars.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_026.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: right;"><a name="a3">Convention</a></p><p class="s2" style="padding-top: 3pt;padding-left: 58pt;text-indent: 0pt;text-align: left;">Description</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:99.409pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">{x | y}</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 9pt;text-indent: 0pt;text-align: left;">Required alternative keywords are grouped in braces and separated by vertical bars.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">[x {y | z}]</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 16pt;text-indent: 0pt;text-align: justify;">Nested set of square brackets or braces indicate optional or required choices within optional or required elements. Braces and a vertical bar within square brackets indicate a required choice within an optional element.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">string</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">A nonquoted set of characters. Do not use quotation marks around the string or the string will include the quotation marks.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">&lt; &gt;</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Nonprinting characters such as passwords are in angle brackets.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">[ ]</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Default responses to system prompts are in square brackets.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">!, #</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 10pt;text-indent: 0pt;text-align: left;">An exclamation point (!) or a pound sign (#) at the beginning of a line of code indicates a comment line.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="577" height="27" alt="image" src="Image_027.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Reader Alert Conventions</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This document may use the following conventions for reader alerts:</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 65pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="24" alt="image" src="Image_028.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 70pt;text-indent: 0pt;text-align: left;"><span><img width="20" height="21" alt="image" src="Image_029.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Tip</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 53pt;text-indent: 0pt;text-align: left;"><span><img width="42" height="20" alt="image" src="Image_030.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Caution</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 45pt;text-indent: 0pt;text-align: left;"><span><img width="55" height="24" alt="image" src="Image_031.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Timesaver</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 51pt;text-indent: 0pt;text-align: left;"><span><img width="46" height="20" alt="image" src="Image_032.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Warning</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_033.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">Means <i>reader take note</i>. Notes contain helpful suggestions or references to material not covered in the manual.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_034.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_035.png"/></span></p><p style="padding-top: 2pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">Means <i>the following information will help you solve a problem.</i></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_036.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 10pt;text-indent: 0pt;text-align: left;"><span><img width="559" height="1" alt="image" src="Image_037.png"/></span></p><p style="padding-top: 2pt;padding-left: 10pt;text-indent: 0pt;text-align: left;">Means <i>reader be careful</i>. In this situation, you might do something that could result in equipment damage or loss of data.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 10pt;text-indent: 0pt;text-align: left;"><span><img width="559" height="1" alt="image" src="Image_038.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_039.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">Means <i>the described action saves time. </i>You can save time by performing the action described in the paragraph.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_040.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_041.png"/></span></p><p style="padding-top: 2pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">IMPORTANT SAFETY INSTRUCTIONS</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">This warning symbol means danger. You are in a situation that could cause bodily injury. Before you work on any equipment, be aware of the hazards involved with electrical circuitry and be familiar with standard practices for preventing accidents. Use the statement number provided at the end of each warning to locate its translation in the translated safety warnings that accompanied this device. Statement 1071</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">SAVE THESE INSTRUCTIONS</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 100pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_042.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_043.png"/></span></p><p class="s15" style="padding-top: 3pt;padding-left: 19pt;text-indent: 0pt;text-align: left;">Preface</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s15" style="padding-left: 19pt;text-indent: 0pt;text-align: left;">Related Documentation</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="31" alt="image" src="Image_044.png"/></span></p><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark4">Related Documentation</a><a name="bookmark8">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 64pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_045.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_046.png"/></span></p><p style="padding-top: 2pt;text-indent: 0pt;text-align: center;">Before installing or upgrading the switch, refer to the switch release notes.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_047.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><ul id="l2"><li style="padding-left: 33pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Cisco Catalyst 3850 Switch documentation, located at:</p><p style="padding-top: 4pt;padding-left: 33pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/go/cat3850_docs" class="a" target="_blank">http://www.cisco.com/go/cat3850_docs</a></p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p></li><li style="padding-left: 33pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Cisco SFP and SFP+ modules documentation, including compatibility matrixes, located at:</p><p style="padding-top: 4pt;padding-left: 33pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/en/US/products/hw/modules/ps5455/tsd_products_support_series_home.html" class="a" target="_blank">http://www.cisco.com/en/US/products/hw/modules/ps5455/tsd_products_support_series_home.html</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 33pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Cisco Validated Designs documents, located at:</p><p style="padding-top: 4pt;padding-left: 33pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/go/designzone" class="a" target="_blank">http://www.cisco.com/go/designzone</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 33pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Error Message Decoder, located at:</p><p style="padding-top: 4pt;padding-left: 33pt;text-indent: 0pt;text-align: left;"><a href="https://www.cisco.com/cgi-bin/Support/Errordecoder/index.cgi" class="a" target="_blank" name="bookmark5">https://www.cisco.com/cgi-bin/Support/Errordecoder/index.cgi</a><a name="bookmark9">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a4">Obtaining Documentation and Submitting a Service Request</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">For information on obtaining documentation, submitting a service request, and gathering additional information, see the monthly <i>What&#39;s New in Cisco Product Documentation</i>, which also lists all new and revised Cisco technical documentation, at:</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/c/en/us/td/docs/general/whatsnew/whatsnew.html" class="a" target="_blank">http://www.cisco.com/c/en/us/td/docs/general/whatsnew/whatsnew.html</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Subscribe to the <i>What&#39;s New in Cisco Product Documentation </i>as a Really Simple Syndication (RSS) feed and set content to be delivered directly to your desktop using a reader application. The RSS feeds are a free service and Cisco currently supports RSS version 2.0.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_048.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_049.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="576" height="144" alt="image" src="Image_050.jpg"/></span></p><p class="s10" style="padding-left: 315pt;text-indent: 0pt;line-height: 54pt;text-align: left;"><a name="bookmark10">C H A P T E R   </a><span class="h1">1</span><a name="bookmark29">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h2 style="padding-top: 1pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Using the Command-Line Interface</h2><p style="padding-top: 2pt;padding-left: 96pt;text-indent: 0pt;text-align: left;"><span><img width="584" height="6" alt="image" src="Image_051.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><ul id="l3"><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark30" class="a">Information About Using the Command-Line Interface, page 1</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark37" class="a" name="bookmark11">How to Use the CLI to Configure Features, page 6</a><a name="bookmark30">&zwnj;</a></p></li></ul></li></ul><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark12">Information About Using the Command-Line Interface</a><a name="bookmark31">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a5">Command Modes</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">The Cisco IOS user interface is divided into many different modes. The commands available to you depend on which mode you are currently in. Enter a question mark (?) at the system prompt to obtain a list of commands available for each command mode.</p><p style="padding-left: 99pt;text-indent: 0pt;line-height: 17pt;text-align: left;">You can start a CLI session through a console connection, through Telnet, an SSH, or by using the browser. When you start a session, you begin in user mode, often called user EXEC mode. Only a limited subset of</p><p style="padding-left: 99pt;text-indent: 0pt;line-height: 11pt;text-align: left;">the commands are available in user EXEC mode. For example, most of the user EXEC commands are one-time</p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">commands, such as <b>show </b>commands, which show the current configuration status, and <b>clear </b>commands, which clear counters or interfaces. The user EXEC commands are not saved when the switch reboots.</p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">To have access to all commands, you must enter privileged EXEC mode. Normally, you must enter a password to enter privileged EXEC mode. From this mode, you can enter any privileged EXEC command or enter global configuration mode.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Using the configuration modes (global, interface, and line), you can make changes to the running configuration. If you save the configuration, these commands are stored and used when the switch reboots. To access the various configuration modes, you must start at global configuration mode. From global configuration mode, you can enter interface configuration mode and line configuration mode .</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This table describes the main command modes, how to access each one, the prompt you see in that mode, and how to exit the mode.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="702" height="28" alt="image" src="Image_052.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="28" alt="image" src="Image_053.png"/></span></p><p class="s14" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Table 1: Command Mode Summary</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: right;"><a name="a6">Mode</a></p><p class="s2" style="padding-top: 3pt;padding-left: 58pt;text-indent: 0pt;text-align: left;">Access Method</p><p class="s2" style="padding-top: 3pt;padding-left: 18pt;text-indent: 0pt;text-align: left;">Prompt</p><p class="s2" style="padding-top: 3pt;padding-left: 76pt;text-indent: 0pt;text-align: left;">Exit Method</p><p class="s2" style="padding-top: 3pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">About This Mode</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:431pt;margin-left:99.409pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">User EXEC</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;padding-right: 5pt;text-indent: 0pt;text-align: left;">Begin a session using Telnet, SSH, or console.</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">Switch&gt;</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Enter <b>logout </b>or</p><p class="s19" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">quit<span class="s18">.</span></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;padding-right: 6pt;text-indent: 0pt;text-align: left;">Use this mode to</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l4"><li style="padding-left: 25pt;padding-right: 29pt;text-indent: -6pt;text-align: justify;"><p class="s18" style="display: inline;">Change terminal settings.</p></li><li style="padding-left: 25pt;padding-right: 6pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">Perform basic tests.</p></li><li style="padding-left: 25pt;padding-right: 3pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">Display system information.</p></li></ul><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Privileged EXEC</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 2pt;text-indent: 0pt;text-align: left;">While in user EXEC mode, enter the <b>enable </b>command.</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">Switch#</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Enter <b>disable</b></p><p class="s18" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">to exit.</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 4pt;text-indent: 0pt;text-align: left;">Use this mode to verify commands that you have entered. Use a password to protect access to this mode.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Use this mode to execute privilege EXEC commands for access points. These commands are not part of the running config of the controller, they are sent to the IOS config of the access point.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 26pt;text-indent: 0pt;text-align: left;">Global configuration</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">While in privileged EXEC mode, enter the <b>configure </b>command.</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">Switch(config)#</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 10pt;text-indent: 0pt;text-align: left;">To exit to privileged EXEC mode, enter <b>exit </b>or <b>end</b>, or press <b>Ctrl-Z</b>.</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Use this mode to configure parameters that apply to the entire switch.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Use this mode to configure access point commands that are part of the running config of the controller.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">VLAN</p><p class="s18" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">configuration</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 2pt;text-indent: 0pt;text-align: left;">While in global configuration mode, enter the <b>vlan </b><i>vlan-id </i>command.</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">Switch(config-vlan)#</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"/></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="702" height="28" alt="image" src="Image_054.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: right;"><a name="a7">Mode</a></p><p class="s2" style="padding-top: 3pt;padding-left: 58pt;text-indent: 0pt;text-align: left;">Access Method</p><p class="s2" style="padding-top: 3pt;padding-left: 18pt;text-indent: 0pt;text-align: left;">Prompt</p><p class="s2" style="padding-top: 3pt;padding-left: 76pt;text-indent: 0pt;text-align: left;">Exit Method</p><p class="s2" style="padding-top: 3pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">About This Mode</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:98.809pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">To exit to global configuration mode, enter the <b>exit </b>command.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">To return to privileged EXEC mode, press <b>Ctrl-Z </b>or enter <b>end</b>.</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Use this mode to configure VLAN parameters. When VTP mode is transparent, you can create</p><p class="s18" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">extended-range VLANs (VLAN IDs</p><p class="s18" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">greater than 1005) and save configurations in the switch startup configuration file.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 26pt;text-indent: 0pt;text-align: left;">Interface configuration</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">While in global configuration mode, enter the <b>interface </b>command (with a specific interface).</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">Switch(config-if)#</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 2pt;text-indent: 0pt;text-align: left;">To exit to global configuration mode, enter <b>exit</b>.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">To return to privileged EXEC mode, press <b>Ctrl-Z </b>or enter <b>end</b>.</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Use this mode to configure parameters for the Ethernet ports.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Line configuration</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">While in global configuration mode, specify a line with the <b>line vty </b>or <b>line console </b>command.</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">Switch(config-line)#</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 2pt;text-indent: 0pt;text-align: left;">To exit to global configuration mode, enter <b>exit</b>.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 3pt;text-indent: 0pt;text-align: left;"><a name="bookmark13">To return to privileged EXEC mode, press </a><b>Ctrl-Z </b>or enter <b>end</b>.<a name="bookmark32">&zwnj;</a></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Use this mode to configure parameters for the terminal line.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="28" alt="image" src="Image_055.png"/></span></p><h4 style="padding-top: 2pt;text-indent: 0pt;text-align: center;">Understanding Abbreviated Commands</h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You need to enter only enough characters for the switch to recognize the command as unique.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to enter the <b>show configuration </b>privileged EXEC command in an abbreviated form:</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>show conf</b></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="702" height="28" alt="image" src="Image_056.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark14">No and Default Forms of Commands</a><a name="bookmark33">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">Almost every configuration command also has a <b>no </b>form. In general, use the <b>no </b>form to disable a feature or function or reverse the action of a command. For example, the <b>no shutdown </b>interface configuration command reverses the shutdown of an interface. Use the command without the keyword <b>no </b>to reenable a disabled feature or to enable a feature that is disabled by default.</p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark15">Configuration commands can also have a </a><b>default </b>form. The <b>default </b>form of a command returns the command setting to its default. Most commands are disabled by default, so the <b>default </b>form is the same as the <b>no </b>form. However, some commands are enabled by default and have variables set to certain default values. In these cases, the <b>default </b>command enables the command and sets variables to their default values.<a name="bookmark34">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a8">CLI Error Messages</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This table lists some error messages that you might encounter while using the CLI to configure your switch.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="28" alt="image" src="Image_057.png"/></span></p><p class="s14" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Table 2: Common CLI Error Messages</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;"><a name="a9">Error Message</a></p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Meaning</p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;">How to Get Help</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:99.409pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s21" style="padding-top: 3pt;padding-left: 3pt;padding-right: 15pt;text-indent: 0pt;line-height: 9pt;text-align: left;">% Ambiguous command: &quot;show con&quot;</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">You did not enter enough characters for your switch to recognize the command.</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Reenter the command followed by a question mark (?) without any space between the command and the question mark.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">The possible keywords that you can enter with the command appear.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s21" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">% Incomplete command.</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">You did not enter all of the keywords or values required by this command.</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Reenter the command followed by a question mark (?) with a space between the command and the question mark.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">The possible keywords that you can enter with the command appear.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s21" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">% Invalid input detected at</p><p class="s25" style="padding-left: 3pt;text-indent: 0pt;line-height: 9pt;text-align: left;">‘<span class="s21">^</span>’  <span class="s21">marker.</span></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">You entered the command incorrectly. The caret (^) marks the point of the error.</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Enter a question mark (?) to display all of the commands that are available in this command mode.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 3pt;text-indent: 0pt;text-align: left;"><a name="bookmark16">The possible keywords that you can enter with the command appear.</a><a name="bookmark35">&zwnj;</a></p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Configuration Logging</h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You can log and view changes to the switch configuration. You can use the Configuration Change Logging and Notification feature to track changes on a per-session and per-user basis. The logger tracks each configuration command that is applied, the user who entered the command, the time that the command was entered, and the parser return code for the command. This feature includes a mechanism for asynchronous</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="702" height="28" alt="image" src="Image_058.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">notification to registered applications whenever the configuration changes. You can choose to have the notifications sent to the syslog.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 64pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_059.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_060.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">Only CLI or HTTP changes are logged.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_061.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark17">Using the Help System</a><a name="bookmark36">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You can enter a question mark (?) at the system prompt to display a list of commands available for each command mode. You can also obtain a list of associated keywords and arguments for any command.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a10">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l5"><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a11">help</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s23" style="display: inline;">abbreviated-command-entry <b>?</b></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s23" style="display: inline;">abbreviated-command-entry <span class="p">&lt;Tab&gt;</span></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a12">?</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s23" style="display: inline;">command <b>?</b></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s23" style="display: inline;">command keyword  <b>?</b></p></li></ol><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_062.png"/></span></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a13">DETAILED STEPS</a></p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 82pt;text-indent: 0pt;text-align: left;"><a name="a14">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 82pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">help</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>help</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 10pt;text-indent: 0pt;text-align: left;">Obtains a brief description of the help system in any command mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s20" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">abbreviated-command-entry <b>?</b></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>di?</b></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">dir disable disconnect</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Obtains a list of commands that begin with a particular character string.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s20" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">abbreviated-command-entry <span class="s18">&lt;Tab&gt;</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;padding-right: 102pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>sh conf</b>&lt;tab&gt; Switch# <b>show configuration</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Completes a partial command name.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">?</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>?</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Lists all commands available for a particular command mode.</p></td></tr></table><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="702" height="28" alt="image" src="Image_063.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 83pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 83pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s20" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">command <b>?</b></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>show ?</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Lists the associated keywords for a command.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s20" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">command keyword  <b>?</b></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>cdp holdtime ?</b></p><p class="s21" style="padding-left: 7pt;padding-right: 2pt;text-indent: 3pt;line-height: 93%;text-align: left;">&lt;10-255&gt; Length of time (in sec) that receiver must keep this packet</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Lists the associated arguments for a keyword.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_064.png"/></span></p><h3 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark18">How to Use the CLI to Configure Features</a><a name="bookmark19">&zwnj;</a><a name="bookmark37">&zwnj;</a><a name="bookmark38">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;">Configuring the Command History</h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark20">The software provides a history or record of commands that you have entered. The command history feature is particularly useful for recalling long or complex commands or entries, including access lists. You can customize this feature to suit your needs.</a><a name="bookmark39">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s29" style="padding-left: 31pt;text-indent: 0pt;text-align: left;">Changing the Command History Buffer Size</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">By default, the switch records ten command lines in its history buffer. You can alter this number for a current terminal session or for all sessions on a particular line. This procedure is optional.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a15">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">1.  terminal history <span class="p">[</span>size <i>number-of-lines</i><span class="p">]</span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_065.png"/></span></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a16">DETAILED STEPS</a></p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 61pt;text-indent: 0pt;text-align: left;"><a name="a17">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 61pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.809pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">terminal history <span class="s18">[</span>size <i>number-of-lines</i><span class="s18">]</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>terminal history size 200</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Changes the number of command lines that the switch records during the current terminal session in privileged EXEC mode. You can configure the size from 0 to 256.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="702" height="28" alt="image" src="Image_066.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s29" style="padding-top: 3pt;padding-left: 30pt;text-indent: 0pt;text-align: left;"><a name="bookmark21">Recalling  Commands</a><a name="bookmark40">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">To recall commands from the history buffer, perform one of the actions listed in this table. These actions are optional.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 64pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_067.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s26" style="text-indent: 0pt;text-align: right;"><a name="a18">SUMMARY STEPS</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_068.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="557" height="1" alt="image" src="Image_069.png"/></span></p><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The arrow keys function only on ANSI-compatible terminals such as VT100s.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ol id="l6"><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">Ctrl-P <span class="p">or use the </span>up arrow <span class="p">key</span></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">Ctrl-N <span class="p">or use the </span>down arrow <span class="p">key</span></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a19">show history</a></p></li></ol><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_070.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 67pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 66pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Ctrl-P <span class="s18">or use the </span>up arrow <span class="s18">key</span></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Recalls commands in the history buffer, beginning with the most recent command. Repeat the key sequence to recall successively older commands.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Ctrl-N <span class="s18">or use the </span>down arrow <span class="s18">key</span></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: justify;">Returns to more recent commands in the history buffer after recalling commands with <b>Ctrl-P </b>or the up arrow key. Repeat the key sequence to recall successively more recent commands.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show history</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;"><a name="bookmark22">Switch# </a><b>show history</b><a name="bookmark41">&zwnj;</a></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Lists the last several commands that you just entered in privileged EXEC mode. The number of commands that appear is controlled by the setting of the <b>terminal history </b>global configuration command and the <b>history </b>line configuration command.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s29" style="padding-top: 3pt;padding-left: 30pt;text-indent: 0pt;text-align: left;">Disabling the Command History Feature</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The command history feature is automatically enabled. You can disable it for the current terminal session or for the command line. This procedure is optional.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a20">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a21">1.  terminal no history</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="702" height="28" alt="image" src="Image_071.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_072.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 74pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 74pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.809pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">terminal no history</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>terminal no history</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 8pt;text-indent: 0pt;text-align: left;">Disables the feature during the current terminal session in privileged EXEC mode.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark23">Enabling and Disabling Editing Features</a><a name="bookmark42">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Although enhanced editing mode is automatically enabled, you can disable it and reenable it.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a22">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l7"><li style="padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a23">terminal editing</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">terminal no editing</p></li></ol><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_073.png"/></span></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 75pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 75pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">terminal editing</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>terminal editing</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 10pt;text-indent: 0pt;text-align: left;">Reenables the enhanced editing mode for the current terminal session in privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">terminal no editing</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;"><a name="bookmark24">Switch# </a><b>terminal no editing</b><a name="bookmark43">&zwnj;</a></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 16pt;text-indent: 0pt;text-align: left;">Disables the enhanced editing mode for the current terminal session in privileged EXEC mode.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s29" style="padding-top: 3pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">Editing Commands Through Keystrokes</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The keystrokes help you to edit the command lines. These keystrokes are optional.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 65pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_074.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_075.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">The arrow keys function only on ANSI-compatible terminals such as VT100s.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_076.png"/></span></p><p style="text-indent: 0pt;line-height: 13pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="34" alt="image" src="Image_077.png"/></span></p><p class="s14" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Table 3: Editing Commands</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;"><a name="a24">Editing Commands</a></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;">Description</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="702" height="28" alt="image" src="Image_078.png"/></span></p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:98.809pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Ctrl-B <span class="s18">or use the </span>left arrow <span class="s18">key</span></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Moves the cursor back one character.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Ctrl-F <span class="s18">or use the </span>right arrow <span class="s18">key</span></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Moves the cursor forward one character.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Ctrl-A</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 7pt;text-indent: 0pt;text-align: left;">Moves the cursor to the beginning of the command line.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Ctrl-E</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Moves the cursor to the end of the command line.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Esc B</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Moves the cursor back one word.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Esc F</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Moves the cursor forward one word.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Ctrl-T</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Transposes the character to the left of the cursor with the character located at the cursor.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Delete <span class="s18">or </span>Backspace <span class="s18">key</span></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Erases the character to the left of the cursor.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Ctrl-D</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Deletes the character at the cursor.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Ctrl-K</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Deletes all characters from the cursor to the end of the command line.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Ctrl-U <span class="s18">or </span>Ctrl-X</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Deletes all characters from the cursor to the beginning of the command line.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Ctrl-W</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Deletes the word to the left of the cursor.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Esc D</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Deletes from the cursor to the end of the word.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Esc C</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Capitalizes at the cursor.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Esc L</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Changes the word at the cursor to lowercase.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Esc U</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Capitalizes letters from the cursor to the end of the word.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Ctrl-V <span class="s18">or </span>Esc Q</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 11pt;text-indent: 0pt;text-align: left;">Designates a particular keystroke as an executable command, perhaps as a shortcut.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Return <span class="s18">key</span></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 16pt;text-indent: 0pt;text-align: left;">Scrolls down a line or screen on displays that are longer than the terminal screen can display.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 38pt;padding-right: 3pt;text-indent: -35pt;text-align: left;"><span class="s30">Note       </span>The More prompt is used for any output that has more lines than can be displayed on the terminal screen, including <b>show </b>command output. You can use the <b>Return </b>and <b>Space </b>bar keystrokes whenever you see the More prompt.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Space <span class="s18">bar</span></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Scrolls down one screen.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="702" height="28" alt="image" src="Image_079.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;">Ctrl-L <span class="p">or </span>Ctrl-R</p><p style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;">Redisplays the current command line if the switch suddenly sends a message to your screen.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="50" alt="image" src="Image_080.png"/></span></p><p class="s29" style="padding-top: 3pt;padding-left: 31pt;text-indent: 0pt;text-align: left;"><a name="bookmark25">Editing Command Lines That Wrap</a><a name="bookmark44">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">You can use a wraparound feature for commands that extend beyond a single line on the screen. When the cursor reaches the right margin, the command line shifts ten spaces to the left. You cannot see the first ten characters of the line, but you can scroll back and check the syntax at the beginning of the command. The keystroke actions are optional.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">To scroll back to the beginning of the command entry, press <b>Ctrl-B </b>or the left arrow key repeatedly. You can also press <b>Ctrl-A </b>to immediately move to the beginning of the line.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 65pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_081.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_082.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">The arrow keys function only on ANSI-compatible terminals such as VT100s.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_083.png"/></span></p><p style="padding-top: 2pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">The following example shows how to wrap a command line that extends beyond a single line on the screen.</p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a25">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ol id="l8"><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a26">access-list</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">Ctrl-A</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">Return <span class="p">key</span></p></li></ol><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_084.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a27">DETAILED STEPS</a></p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 53pt;text-indent: 0pt;text-align: left;"><a name="a28">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 53pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" rowspan="11"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">access-list</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Displays the global configuration command entry that extends beyond</p></td></tr><tr><td style="border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-left: 2pt;text-indent: 0pt;line-height: 11pt;text-align: left;">one line.</p></td></tr><tr><td style="border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s27" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p></td><td style="border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">When the cursor first reaches the end of the line, the line is shifted ten</p></td></tr><tr><td style="border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 7pt;text-indent: -4pt;line-height: 9pt;text-align: left;">Switch(config)# <b>access-list 101 permit tcp 10.15.22.25 255.255.255.0 10.15.22.35</b></p></td><td style="border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-left: 2pt;text-indent: 0pt;line-height: 11pt;text-align: left;">spaces to the left and redisplayed. The dollar sign ($) shows that the</p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">line has been scrolled to the left. Each time the cursor reaches the end</p></td></tr><tr><td style="border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# $ <b>101 permit tcp</b></p><p class="s28" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.15.22.25 255.255.255.0 10.15.22.35</p></td><td style="border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt" rowspan="7"><p class="s18" style="padding-left: 2pt;text-indent: 0pt;line-height: 11pt;text-align: left;">of the line, the line is again shifted ten spaces to the left.</p></td></tr><tr><td style="border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s28" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">255.25</p></td></tr><tr><td style="border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# $<b>t tcp 10.15.22.25</b></p></td></tr><tr><td style="border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s28" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">255.255.255.0 131.108.1.20 255.255.255.0</p></td></tr><tr><td style="border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s28" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">eq</p></td></tr><tr><td style="border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# $<b>15.22.25 255.255.255.0</b></p></td></tr><tr><td style="border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s28" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.15.22.35 255.255.255.0 eq 45</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Ctrl-A</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 7pt;text-indent: -4pt;line-height: 9pt;text-align: left;">Switch(config)# <b>access-list 101 permit tcp 10.15.22.25 255.255.255.0 10.15.2$</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Checks the complete syntax.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">The dollar sign ($) appears at the end of the line to show that the line has been scrolled to the right.</p></td></tr></table><p class="s2" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Step 3</p><p style="text-indent: 0pt;text-align: left;"><span><img width="2" height="29" alt="image" src="Image_085.png"/></span></p><p class="s2" style="padding-top: 1pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">Return <span class="p">key</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="2" height="29" alt="image" src="Image_086.png"/></span></p><p style="padding-top: 1pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">Execute the commands.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_087.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 52pt;text-indent: 0pt;text-align: left;"><a name="a29">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 52pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.209pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: justify;">The software assumes that you have a terminal screen that is 80 columns wide. If you have a different width, use the <b>terminal width </b>privileged EXEC command to set the width of your terminal.</p><p class="s18" style="padding-top: 4pt;padding-left: 2pt;padding-right: 16pt;text-indent: 0pt;text-align: left;">Use line wrapping with the command history feature to recall and modify previous complex command entries.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_088.png"/></span></p><h4 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark26">Searching and Filtering Output of show and more Commands</a><a name="bookmark45">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You can search and filter the output for <b>show </b>and <b>more </b>commands. This is useful when you need to sort through large amounts of output or if you want to exclude output that you do not need to see. Using these commands is optional.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a30">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l9"><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">{<b>show </b>| <b>more</b>} <i>command </i>| {<b>begin </b>| <b>include </b>| <b>exclude</b>} <i>regular-expression</i></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_089.png"/></span></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a31">DETAILED STEPS</a></p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 48pt;text-indent: 0pt;text-align: left;"><a name="a32">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 48pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.209pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">{<b>show </b>| <b>more</b>} <i>command </i>| {<b>begin </b>| <b>include </b>| <b>exclude</b>}</p><p class="s20" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">regular-expression</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show interfaces | include protocol</b></p><p class="s21" style="padding-left: 2pt;padding-right: 79pt;text-indent: 0pt;line-height: 93%;text-align: left;">Vlan1 is up, line protocol is up Vlan10 is up, line protocol is down</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 93%;text-align: left;"><a name="bookmark27">GigabitEthernet1/0/1 is up, line protocol is down GigabitEthernet1/0/2 is up, line protocol is up</a><a name="bookmark46">&zwnj;</a></p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Searches and filters the output.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Expressions are case sensitive. For example, if you enter</p><p class="s19" style="padding-left: 2pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">| exclude output<span class="s18">, the lines that contain </span>output <span class="s18">are not displayed, but the lines that contain </span>output <span class="s18">appear.</span></p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Accessing the CLI on a Switch Stack</h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You can access the CLI through a console connection, through Telnet, a SSH, or by using the browser.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You manage the switch stack and the stack member interfaces through the active switch. You cannot manage stack members on an individual switch basis. You can connect to the active switch through the console port or the Ethernet management port of one or more stack members. Be careful with using multiple CLI sessions on the active switch. Commands that you enter in one session are not displayed in the other sessions. Therefore, it is possible to lose track of the session from which you entered commands.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 64pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_090.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_091.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">We recommend using one CLI session when managing the switch stack.</p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_092.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_093.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">If you want to configure a specific stack member port, you must include the stack member number in the CLI command interface notation.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">To debug the standby switch, use the <b>session standby ios </b>privileged EXEC command from the active switch to access the IOS console of the standby switch. To debug a specific stack member, use the <b>session switch </b><i>stack-member-number </i>privileged EXEC command from the active switch to access the diagnostic shell of the stack member. For more information about these commands, see the switch command reference.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark28">Accessing the CLI Through a Console Connection or Through Telnet</a><a name="bookmark47">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">Before you can access the CLI, you must connect a terminal or a PC to the switch console or connect a PC to the Ethernet management port and then power on the switch, as described in the hardware installation guide that shipped with your switch.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">If your switch is already configured, you can access the CLI through a local console connection or through a remote Telnet session, but your switch must first be configured for this type of access.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You can use one of these methods to establish a connection with the switch:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l10"><li style="padding-left: 121pt;text-indent: -6pt;text-align: justify;"><p style="display: inline;">Connect the switch console port to a management station or dial-up modem, or connect the Ethernet management port to a PC. For information about connecting to the console or Ethernet management port, see the switch hardware installation guide.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Use any Telnet TCP/IP or encrypted Secure Shell (SSH) package from a remote management station. The switch must have network connectivity with the Telnet or SSH client, and the switch must have an enable secret password configured.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><ul id="l11"><li style="padding-left: 143pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">The switch supports up to 16 simultaneous Telnet sessions. Changes made by one Telnet user are reflected in all other Telnet sessions.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 143pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">The switch supports up to five simultaneous secure SSH sessions.</p></li></ul></li></ul></li></ol><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p style="padding-left: 121pt;text-indent: 0pt;text-align: left;">After you connect through the console port, through the Ethernet management port, through a Telnet session or through an SSH session, the user EXEC prompt appears on the management station.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_094.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="576" height="144" alt="image" src="Image_095.jpg"/></span></p><p class="s10" style="padding-left: 315pt;text-indent: 0pt;line-height: 54pt;text-align: left;"><a name="bookmark48">C H A P T E R   </a><span class="h1">2</span><a name="bookmark76">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h2 style="padding-top: 1pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Configuring Cisco IOS Configuration Engine</h2><p style="padding-top: 2pt;padding-left: 96pt;text-indent: 0pt;text-align: left;"><span><img width="584" height="6" alt="image" src="Image_096.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><ul id="l12"><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark77" class="a">Finding Feature Information, page 13</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark78" class="a">Prerequisites for Configuring the Configuration Engine, page 13</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark79" class="a">Restrictions for Configuring the Configuration Engine, page 14</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark81" class="a">Information About Configuring the Configuration Engine, page 14</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark100" class="a">How to Configure the Configuration Engine, page 20</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark106" class="a">Monitoring CNS Configurations, page 33</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark107" class="a">Additional References, page 34</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark108" class="a" name="bookmark49">Feature History and Information for the Configuration Engine, page 35</a><a name="bookmark77">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a33">Finding Feature Information</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Your software release may not support all the features documented in this module. For the latest caveats and feature information, see Bug Search Tool and the release notes for your platform and software release. To find information about the features documented in this module, and to see a list of the releases in which each feature is supported, see the feature information table at the end of this module.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/go/cfn" class="s4" target="_blank" name="bookmark50">Use Cisco Feature Navigator to find information about platform support and Cisco software image support. To access Cisco Feature Navigator, go to </a><a href="http://www.cisco.com/go/cfn" class="a" target="_blank">http://www.cisco.com/go/cf</a>n<span style=" color: #000;">. An account on Cisco.com is not required.</span><a name="bookmark78">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a34">Prerequisites for Configuring the Configuration Engine</a></h3><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><ul id="l13"><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Obtain the name of the configuration engine instance to which you are connecting.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Because the CNS uses both the event bus and the configuration server to provide configurations to devices, you must define both ConfigID and Device ID for each configured switch.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">All switches configured with the <b>cns config partial </b>global configuration command must access the event bus. The DeviceID, as originated on the switch, must match the DeviceID of the corresponding switch definition in the Cisco Configuration Engine. You must know the hostname of the event bus to which you are connecting.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_097.png"/></span></p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a35">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark88" class="a">Cisco Networking Services IDs and Device Hostname</a><a href="#bookmark91" class="a">s, on page 16 DeviceI</a>D,  on page 17</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h3 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark51">Restrictions for Configuring the Configuration Engine</a><a name="bookmark79">&zwnj;</a><a name="bookmark80">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Within the scope of a single instance of the configuration server, no two configured switches can share the same value for ConfigID.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Within the scope of a single instance of the event bus, no two configured switches can share the same value for DeviceID.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a36">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark88" class="a" name="bookmark52">Cisco Networking Services IDs and Device Hostname</a>s, on page 16<a name="bookmark81">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark53">Information About Configuring the Configuration Engine</a><a name="bookmark82">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a37">Cisco Configuration Engine Software</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The Cisco Configuration Engine is network management utility software that acts as a configuration service for automating the deployment and management of network devices and services. Each Cisco Configuration Engine manages a group of Cisco devices (switches and routers) and the services that they deliver, storing their configurations and delivering them as needed. The Cisco Configuration Engine automates initial configurations and configuration updates by generating device-specific configuration changes, sending them to the device, executing the configuration change, and logging the results.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The Cisco Configuration Engine supports standalone and server modes and has these Cisco Networking Services (CNS) components:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Configuration service:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 137pt;text-indent: 0pt;text-align: left;">◦<span class="p">Web server</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 137pt;text-indent: 0pt;text-align: left;">◦<span class="p">File manager</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 137pt;text-indent: 0pt;text-align: left;">◦<span class="p">Namespace mapping server</span></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Event service (event gateway)</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Data service directory (data models and schema)</p></li></ul></li></ul><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_098.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">In standalone mode, the Cisco Configuration Engine supports an embedded directory service. In this mode, no external directory or other data store is required. In server mode, the Cisco Configuration Engine supports the use of a user-defined external directory.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s14" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Figure 1: Cisco Configuration Engine Architectural Overview</p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><span><img width="473" height="301" alt="image" src="Image_099.jpg"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark54">Configuration  Service</a><a name="bookmark83">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The Configuration Service is the core component of the Cisco Configuration Engine. It consists of a Configuration Server that works with Cisco IOS CNS agents on the switch. The Configuration Service delivers device and service configurations to the switch for initial configuration and mass reconfiguration by logical groups. Switches receive their initial configuration from the Configuration Service when they start up on the network for the first time.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The Configuration Service uses the CNS Event Service to send and receive configuration change events and to send success and failure notifications.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The Configuration Server is a web server that uses configuration templates and the device-specific configuration information stored in the embedded (standalone mode) or remote (server mode) directory.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">Configuration templates are text files containing static configuration information in the form of CLI commands. In the templates, variables are specified by using Lightweight Directory Access Protocol (LDAP) URLs that reference the device-specific configuration information stored in a directory.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">The Cisco IOS agent can perform a syntax check on received configuration files and publish events to show the success or failure of the syntax check. The configuration agent can either apply configurations immediately or delay the application until receipt of a synchronization event from the configuration server.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_100.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark55">Event Service</a><a name="bookmark84">&zwnj;</a><a name="bookmark85">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The Cisco Configuration Engine uses the Event Service for receipt and generation of configuration events. The Event Service consists of an event agent and an event gateway. The event agent is on the switch and facilitates the communication between the switch and the event gateway on the Cisco Configuration Engine.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">The Event Service is a highly capable publish-and-subscribe communication method. The Event Service uses subject-based addressing to send messages to their destinations. Subject-based addressing conventions define a simple, uniform namespace for messages and their destinations.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a38">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark101" class="a" name="bookmark56">Enabling the CNS Event Agen</a>t,  on page 20<a name="bookmark86">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark87">NameSpace Mapper</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The Cisco Configuration Engine includes the NameSpace Mapper (NSM) that provides a lookup service for managing logical groups of devices based on application, device or group ID, and event.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Cisco IOS devices recognize only event subject-names that match those configured in Cisco IOS software; for example, cisco.cns.config.load. You can use the namespace mapping service to designate events by using any desired naming convention. When you have populated your data store with your subject names, NSM changes your event subject-name strings to those known by Cisco IOS.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark57">For a subscriber, when given a unique device ID and event, the namespace mapping service returns a set of events to which to subscribe. Similarly, for a publisher, when given a unique group ID, device ID, and event, the mapping service returns a set of events on which to publish.</a><a name="bookmark88">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark89">Cisco Networking Services IDs and Device Hostnames</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The Cisco Configuration Engine assumes that a unique identifier is associated with each configured switch. This unique identifier can take on multiple synonyms, where each synonym is unique within a particular namespace. The event service uses namespace content for subject-based addressing of messages.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The Cisco Configuration Engine intersects two namespaces, one for the event bus and the other for the configuration server. Within the scope of the configuration server namespace, the term <i>ConfigID </i>is the unique identifier for a device. Within the scope of the event bus namespace, the term <i>DeviceID </i>is the CNS unique identifier for a device.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark58">Related Topics</a><a name="bookmark90">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark78" class="a">Prerequisites for Configuring the Configuration Engin</a><a href="#bookmark79" class="a">e, on page 13 Restrictions for Configuring the Configuration Engin</a>e, on page 14</p><p style="text-indent: 0pt;line-height: 13pt;text-align: left;"><br/></p><p class="s29" style="padding-top: 3pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">ConfigID</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 19pt;text-indent: 0pt;text-align: justify;">Each configured switch has a unique ConfigID, which serves as the key into the Cisco Configuration Engine directory for the corresponding set of switch CLI attributes. The ConfigID defined on the switch must match the ConfigID for the corresponding switch definition on the Cisco Configuration Engine.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_101.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">The ConfigID is fixed at startup time and cannot be changed until the device restarts, even if the switch hostname is reconfigured.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s29" style="padding-top: 3pt;padding-left: 30pt;text-indent: 0pt;text-align: left;"><a name="bookmark59">DeviceID</a><a name="bookmark91">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 16pt;text-indent: 0pt;text-align: left;">Each configured switch participating on the event bus has a unique DeviceID, which is analogous to the switch source address so that the switch can be targeted as a specific destination on the bus.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 16pt;text-indent: 0pt;text-align: left;">The origin of the DeviceID is defined by the Cisco IOS hostname of the switch. However, the DeviceID variable and its usage reside within the event gateway adjacent to the switch.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 16pt;text-indent: 0pt;text-align: left;">The logical Cisco IOS termination point on the event bus is embedded in the event gateway, which in turn functions as a proxy on behalf of the switch. The event gateway represents the switch and its corresponding DeviceID to the event bus.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 16pt;text-indent: 0pt;text-align: left;">The switch declares its hostname to the event gateway immediately after the successful connection to the event gateway. The event gateway couples the DeviceID value to the Cisco IOS hostname each time this connection is established. The event gateway retains this DeviceID value for the duration of its connection to the switch.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 16pt;text-indent: 0pt;text-align: left;"><a name="a39">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 32pt;text-indent: 0pt;text-align: left;"><a href="#bookmark78" class="a" name="bookmark60">Prerequisites for Configuring the Configuration Engin</a>e, on page 13<a name="bookmark92">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s29" style="padding-top: 3pt;padding-left: 30pt;text-indent: 0pt;text-align: left;"><a name="a40">Hostname and DeviceID</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The DeviceID is fixed at the time of the connection to the event gateway and does not change even when the switch hostname is reconfigured.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">When changing the switch hostname on the switch, the only way to refresh the DeviceID is to break the connection between the switch and the event gateway. For instructions on refreshing DeviceIDs, see &quot;Related Topics.&quot;</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">When the connection is reestablished, the switch sends its modified hostname to the event gateway. The event gateway redefines the DeviceID to the new value.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 52pt;text-indent: 0pt;text-align: left;"><span><img width="42" height="20" alt="image" src="Image_102.png"/></span></p><p class="s14" style="padding-top: 3pt;padding-left: 55pt;text-indent: 0pt;text-align: left;">Caution</p><p style="text-indent: 0pt;text-align: left;"><span><img width="559" height="1" alt="image" src="Image_103.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">When using the Cisco Configuration Engine user interface, you must first set the DeviceID field to the hostname value that the switch acquires <i>after</i>, not <i>before</i>, and you must reinitialize the configuration for your Cisco IOS CNS agent. Otherwise, subsequent partial configuration command operations may malfunction.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="559" height="1" alt="image" src="Image_104.png"/></span></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 13pt;text-indent: 0pt;text-align: left;"><a name="bookmark61">Related Topics</a><a name="bookmark93">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 29pt;text-indent: 0pt;text-align: left;"><a href="#bookmark104" class="a">Refreshing DeviceID</a>s, on page 29</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s29" style="padding-top: 3pt;padding-left: 30pt;text-indent: 0pt;text-align: left;"><a name="a41">Hostname, DeviceID, and ConfigID</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">In standalone mode, when a hostname value is set for a switch, the configuration server uses the hostname as the DeviceID when an event is sent on hostname. If the hostname has not been set, the event is sent on the cn=&lt;<i>value</i>&gt; of the device.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_105.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">In server mode, the hostname is not used. In this mode, the unique DeviceID attribute is always used for sending an event on the bus. If this attribute is not set, you cannot update the switch.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">These and other associated attributes (tag value pairs) are set when you run <b>Setup </b>on the Cisco Configuration Engine.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="text-indent: 0pt;text-align: center;"><a name="bookmark62">Cisco IOS CNS Agents</a><a name="bookmark94">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">The CNS event agent feature allows the switch to publish and subscribe to events on the event bus and works with the Cisco IOS CNS agent. These agents, embedded in the switch Cisco IOS software, allow the switch to be connected and automatically configured.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a42">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark102" class="a" name="bookmark63">Enabling the Cisco IOS CNS Agen</a>t,  on page 22<a name="bookmark95">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s29" style="text-indent: 0pt;text-align: center;">Initial Configuration</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">When the switch first comes up, it attempts to get an IP address by broadcasting a Dynamic Host Configuration Protocol (DHCP) request on the network. Assuming there is no DHCP server on the subnet, the distribution switch acts as a DHCP relay agent and forwards the request to the DHCP server. Upon receiving the request, the DHCP server assigns an IP address to the new switch and includes the Trivial File Transfer Protocol (TFTP) server Internet Protocol (IP) address, the path to the bootstrap configuration file, and the default gateway IP address in a unicast reply to the DHCP relay agent. The DHCP relay agent forwards the reply to the switch.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">The switch automatically configures the assigned IP address on interface VLAN 1 (the default) and downloads the bootstrap configuration file from the TFTP server. Upon successful download of the bootstrap configuration file, the switch loads the file in its running configuration.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The Cisco IOS CNS agents initiate communication with the Configuration Engine by using the appropriate ConfigID and EventID. The Configuration Engine maps the Config ID to a template and downloads the full configuration file to the switch.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The following figure shows a sample network configuration for retrieving the initial bootstrap configuration file by using DHCP-based autoconfiguration.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s14" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Figure 2: Initial Configuration</p><p style="text-indent: 0pt;line-height: 13pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><span><img width="398" height="212" alt="image" src="Image_106.jpg"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_107.png"/></span></p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a43">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark103" class="a">Enabling an Initial Configuration for Cisco IOS CNS Agen</a><a href="#bookmark106" class="a">t, on page 24 Monitoring CNS Configuration</a>s, on page 33</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s29" style="padding-left: 30pt;text-indent: 0pt;text-align: center;"><a name="bookmark64">Incremental (Partial) Configuration</a><a name="bookmark96">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">After the network is running, new services can be added by using the Cisco IOS CNS agent. Incremental (partial) configurations can be sent to the switch. The actual configuration can be sent as an event payload by way of the event gateway (push operation) or as a signal event that triggers the switch to initiate a pull operation.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The switch can check the syntax of the configuration before applying it. If the syntax is correct, the switch applies the incremental configuration and publishes an event that signals success to the configuration server. If the switch does not apply the incremental configuration, it publishes an event showing an error status. When the switch has applied the incremental configuration, it can write it to nonvolatile random-access memory (NVRAM) or wait until signaled to do so.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a44">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark105" class="a" name="bookmark65">Enabling a Partial Configuration for Cisco IOS CNS Agen</a><a href="#bookmark106" class="a">t, on page 31 Monitoring CNS Configuration</a>s, on page 33<a name="bookmark97">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s29" style="padding-left: 30pt;text-indent: 0pt;text-align: left;"><a name="a45">Synchronized  Configuration</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark66">When the switch receives a configuration, it can defer application of the configuration upon receipt of a write-signal event. The write-signal event tells the switch not to save the updated configuration into its NVRAM. The switch uses the updated configuration as its running configuration. This ensures that the switch configuration is synchronized with other network activities before saving the configuration in NVRAM for use at the next reboot.</a><a name="bookmark98">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: center;"><a name="a46">Automated CNS Configuration</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">To enable automated CNS configuration of the switch, you must first complete the prerequisites listed in this topic. When you complete them, power on the switch. At the <b>setup </b>prompt, do nothing; the switch begins the initial configuration. When the full configuration file is loaded on your switch, you do not need to do anything else.</p><p style="padding-top: 5pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">For more information on what happens during initial configuration, see &quot;Related Topics.&quot;</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="28" alt="image" src="Image_108.png"/></span></p><p class="s14" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Table 4: Prerequisites for Enabling Automatic Configuration</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: right;"><a name="a47">Device</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="0" alt="image" src="Image_109.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: left;">Required Configuration</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:98.809pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Access switch</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Factory default (no configuration file)</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Distribution switch</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><ul id="l14"><li style="padding-left: 25pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">IP helper address</p></li><li style="padding-top: 3pt;padding-left: 25pt;text-indent: -6pt;text-align: left;"><p style="display: inline;"><a href="#bookmark99" style=" color: black; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">Enable DHCP relay agent</a><a href="#bookmark99" class="s32">1</a></p></li><li style="padding-left: 25pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">IP routing (if used as default gateway)</p></li></ul><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr></table><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_110.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: right;"><a name="a48">Device</a></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;">Required Configuration</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:99.409pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">DHCP server</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><ul id="l15"><li style="padding-left: 25pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">IP address assignment</p></li><li style="padding-left: 25pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">TFTP server IP address</p></li><li style="padding-left: 25pt;padding-right: 3pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">Path to bootstrap configuration file on the TFTP server</p></li><li style="padding-left: 25pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">Default gateway IP address</p></li></ul><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">TFTP server</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><ul id="l16"><li style="padding-left: 25pt;padding-right: 3pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">A bootstrap configuration file that includes the CNS configuration commands that enable the switch to communicate with the Configuration Engine</p></li><li style="padding-left: 25pt;padding-right: 3pt;text-indent: -6pt;text-align: justify;"><p class="s18" style="display: inline;">The switch configured to use either the switch MAC address or the serial number (instead of the default hostname) to generate the ConfigID and EventID</p></li><li style="padding-left: 25pt;padding-right: 12pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">The CNS event agent configured to push the configuration file to the switch</p></li></ul><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;"><a name="bookmark99">CNS Configuration Engine</a></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 4pt;text-indent: 0pt;text-align: left;">One or more templates for each type of device, with the ConfigID of the device mapped to the template.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="28" alt="image" src="Image_111.png"/></span></p><ol id="l17"><li style="padding-top: 3pt;padding-left: 28pt;text-indent: -9pt;text-align: left;"><p class="s33" style="display: inline;"><a name="bookmark67">A DHCP Relay is needed only when the DHCP Server is on a different subnet from the client.</a><a name="bookmark100">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark68">How to Configure the Configuration Engine</a><a name="bookmark101">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a49">Enabling the CNS Event Agent</a></h4><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 65pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_112.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_113.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="557" height="1" alt="image" src="Image_114.png"/></span></p><p style="padding-top: 2pt;padding-left: 11pt;text-indent: 1pt;line-height: 208%;text-align: left;">You must enable the CNS event agent on the switch before you enable the CNS configuration agent. Follow these steps to enable the CNS event agent on the switch.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_115.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a50">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ol id="l18"><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a51">enable</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>cns event </b>{<i>hostname </i>| <i>ip-address</i>} [<i>port-number</i>] [ [<b>keepalive </b><i>seconds retry-count</i>] [<b>failover-time </b><i>seconds</i></p><p style="text-indent: 0pt;text-align: center;">] [<b>reconnect-time </b><i>time</i>] | <b>backup</b>]</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a52">end</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_116.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 60pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 60pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 28pt;text-indent: 0pt;text-align: left;"><b>cns event </b>{<i>hostname </i>| <i>ip-address</i>} [<i>port-number</i>] [ [<b>keepalive </b><i>seconds retry-count</i>] [<b>failover-time </b><i>seconds </i>] [<b>reconnect-time </b><i>time</i>] | <b>backup</b>]</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 7pt;padding-right: 2pt;text-indent: -4pt;line-height: 9pt;text-align: left;">Switch(config)# <b>cns event 10.180.1.27 keepalive 120 10</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables the event agent, and enters the gateway parameters.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s30" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Note       <span class="s18">Though visible in the command-line help string, the </span><span class="s19">encrypt</span></p><p class="s18" style="padding-left: 37pt;text-indent: 0pt;text-align: left;">and the <b>clock-timeout </b><i>time </i>keywords are not supported.</p></td></tr></table><ul id="l19"><li style="padding-left: 24pt;padding-right: 25pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For {<i>hostname </i>| <i>ip-address</i>}, enter either the hostname or the IP address of the event gateway.</p></li><li style="padding-left: 24pt;padding-right: 14pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) For <i>port number</i>, enter the port number for the event gateway. The default port number is 11011.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) For <b>keepalive </b><i>seconds</i>, enter how often the switch sends keepalive messages. For <i>retry-count</i>, enter the number of unanswered keepalive messages that the switch sends before the connection is terminated. The default for each is 0.</p></li><li style="padding-left: 24pt;padding-right: 11pt;text-indent: -6pt;text-align: justify;"><p class="s18" style="display: inline;">(Optional) For <b>failover-time </b><i>seconds</i>, enter how long the switch waits for the primary gateway route after the route to the backup gateway is established.</p></li><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) For <b>reconnect-time </b><i>time</i>, enter the maximum time interval that the switch waits before trying to reconnect to the event gateway.</p></li><li style="padding-left: 24pt;padding-right: 8pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) Enter <b>backup </b>to show that this is the backup gateway. (If omitted, this is the primary gateway.)</p></li></ul><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_117.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 61pt;text-indent: 0pt;text-align: left;"><a name="a53">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 61pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 47pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_118.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">What to Do Next</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">To verify information about the event agent, use the <b>show cns event connections </b>command in privileged EXEC mode.</p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">To disable the CNS event agent, use the <b>no cns event </b>{ <i>ip-address </i>| <i>hostname </i>} global configuration command.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark69">Related Topics</a><a name="bookmark102">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark84" class="a">Event Servic</a>e,  on page 16</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a54">Enabling the Cisco IOS CNS Agent</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to enable the Cisco IOS CNS agent on the switch.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a55">Before You Begin</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You must enable the CNS event agent on the switch before you enable this agent.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_119.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a56">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ol id="l20"><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a57">enable</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>cns config initial </b>{<i>hostname </i>| <i>ip-address</i>} [<i>port-number</i>]</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>cns config partial </b>{<i>hostname </i>| <i>ip-address</i>} [<i>port-number</i>]</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a58">end</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Start the Cisco IOS CNS agent on the switch.</p></li></ol><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_120.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a59">DETAILED STEPS</a></p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 70pt;text-indent: 0pt;text-align: left;"><a name="a60">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 70pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 27pt;text-indent: 0pt;text-align: left;"><b>cns config initial </b>{<i>hostname </i>| <i>ip-address</i>} [<i>port-number</i>]</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>cns config initial 10.180.1.27 10</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables the Cisco IOS CNS agent, and enters the configuration server parameters.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;padding-right: 2pt;text-indent: 0pt;text-align: left;">This command enables the Cisco IOS CNS agent and initiates an initial configuration on the switch.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 23pt;text-indent: 0pt;text-align: left;"><b>cns config partial </b>{<i>hostname </i>| <i>ip-address</i>} [<i>port-number</i>]</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>cns config partial 10.180.1.27 10</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables the Cisco IOS CNS agent, and enters the configuration server parameters.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables the Cisco IOS CNS agent and initiates a partial configuration on the switch.</p></td></tr></table><ul id="l21"><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For {<i>hostname </i>| <i>ip-address</i>}, enter either the hostname or the IP address of the configuration server.</p></li><li style="padding-left: 24pt;padding-right: 9pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) For <i>port number</i>, enter the port number for the configuration server.</p></li></ul><ul id="l22"><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For {<i>hostname </i>| <i>ip-address</i>}, enter either the hostname or the IP address of the configuration server.</p></li><li style="padding-left: 24pt;padding-right: 9pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) For <i>port number</i>, enter the port number for the configuration server.</p></li></ul><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_121.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 71pt;text-indent: 0pt;text-align: left;"><a name="a61">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 71pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_122.png"/></span></p><p class="s2" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Step 8</p><p style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Start the Cisco IOS CNS agent on the switch.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="25" alt="image" src="Image_123.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a62">What to Do Next</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You can now use the Cisco Configuration Engine to remotely send incremental configurations to the switch.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark70">Related Topics</a><a name="bookmark103">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark94" class="a">Cisco IOS CNS Agent</a>s,  on page 18</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a63">Enabling an Initial Configuration for Cisco IOS CNS Agent</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to enable the CNS configuration agent and initiate an initial configuration on the switch.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_124.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a64">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ol id="l23"><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a65">enable</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">cns template connect <i>name</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">cli <i>config-text</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Repeat Steps 3 to 4 to configure another CNS connect template.</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a66">exit</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">cns connect <i>name </i><span class="p">[</span>retries <i>number</i><span class="p">] [</span>retry-interval <i>seconds</i><span class="p">] [</span>sleep <i>seconds</i><span class="p">] [</span>timeout <i>seconds</i><span class="p">]</span></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>discover </b>{<b>controller </b><i>controller-type </i>| <b>dlci </b>[<b>subinterface </b><i>subinterface-number</i>] | <b>interface </b>[<i>interface-type</i>]</p><p style="padding-left: 113pt;text-indent: 0pt;text-align: left;">| <b>line </b><i>line-type</i>}</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s23" style="display: inline;"><b>template </b>name <span class="p">[</span>... name<span class="p">]</span></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Repeat Steps 8 to 9 to specify more interface parameters and CNS connect templates in the CNS connect profile.</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a67">exit</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">hostname <i>name</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">ip route <i>network-number</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">cns id <i>interface num </i><span class="p">{</span>dns-reverse <span class="p">| </span>ipaddress <span class="p">| </span>mac-address<span class="p">} [</span>event<span class="p">] [</span>image<span class="p">]</span></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">cns id <span class="p">{</span>hardware-serial <span class="p">| </span>hostname <span class="p">| </span>string <i>string </i><span class="p">| </span>udi<span class="p">} [</span>event<span class="p">] [</span>image<span class="p">]</span></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>cns config initial </b>{<i>hostname </i>| <i>ip-address</i>} [<i>port-number</i>] [<b>event</b>] [<b>no-persist</b>] [<b>page </b><i>page</i>] [<b>source</b></p><p style="padding-left: 113pt;text-indent: 0pt;text-align: left;"><i>ip-address</i>] [<b>syntax-check</b>]</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a68">end</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_125.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr></table><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_126.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_127.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">cns template connect <i>name</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 7pt;padding-right: 2pt;text-indent: -4pt;line-height: 9pt;text-align: left;">Switch(config)# <b>cns template connect template-dhcp</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters CNS template connect configuration mode, and specifies the name of the CNS connect template.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">cli <i>config-text</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 20pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-tmpl-conn)# <b>cli ip address dhcp</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters a command line for the CNS connect template. Repeat this step for each command line in the template.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 13pt;text-indent: 0pt;text-align: left;">Repeat Steps 3 to 4 to configure another CNS connect template.</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"/></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">exit</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>exit</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;padding-right: 10pt;text-indent: 0pt;text-align: left;">cns connect <i>name </i><span class="s18">[</span>retries <i>number</i><span class="s18">] [</span>retry-interval <i>seconds</i><span class="s18">] [</span>sleep <i>seconds</i><span class="s18">] [</span>timeout <i>seconds</i><span class="s18">]</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>cns connect dhcp</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 7pt;text-indent: 0pt;text-align: left;">Enters CNS connect configuration mode, specifies the name of the CNS connect profile, and defines the profile parameters. The switch uses the CNS connect profile to connect to the Configuration Engine.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 8</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 4pt;text-indent: 0pt;text-align: left;"><b>discover </b>{<b>controller </b><i>controller-type </i>| <b>dlci </b>[<b>subinterface </b><i>subinterface-number</i>] | <b>interface </b>[<i>interface-type</i>] | <b>line </b><i>line-type</i>}</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-cns-conn)# <b>discover interface gigabitethernet</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the interface parameters in the CNS connect profile.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 24pt;text-indent: 0pt;line-height: 8pt;text-align: left;">point-to-point subinterface number that is used to search for active</p><p class="s18" style="padding-left: 24pt;text-indent: 0pt;text-align: left;">DLCIs.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr></table><ul id="l24"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">Enter the <i>name </i>of the CNS connect profile.</p></li><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) For <b>retries </b><i>number</i>, enter the number of connection retries. The range is 1 to 30. The default is 3.</p></li><li style="padding-left: 24pt;padding-right: 12pt;text-indent: -6pt;text-align: justify;"><p class="s18" style="display: inline;">(Optional) For <b>retry-interval </b><i>seconds</i>, enter the interval between successive connection attempts to the Configuration Engine. The range is 1 to 40 seconds. The default is 10 seconds.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) For <b>sleep </b><i>seconds</i>, enter the amount of time before which the first connection attempt occurs. The range is 0 to 250 seconds. The default is 0.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) For <b>timeout </b><i>seconds</i>, enter the amount of time after which the connection attempts end. The range is 10 to 2000 seconds. The default is 120.</p></li></ul><ul id="l25"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <b>controller </b><i>controller-type</i>, enter the controller type.</p></li><li style="padding-left: 24pt;padding-right: 9pt;text-indent: -6pt;line-height: 135%;text-align: left;"><p class="s18" style="display: inline;">For <b>dlci</b>, enter the active data-link connection identifiers (DLCIs). (Optional) For <b>subinterface </b><i>subinterface-number</i>, specify the</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <b>interface </b>[<i>interface-type</i>], enter the type of interface.</p></li></ul><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_128.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_129.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;"><a name="a69">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"/></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 9</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s20" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>template </b>name <span class="s18">[</span>... name<span class="s18">]</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-cns-conn)# <b>template template-dhcp</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 2pt;text-indent: 0pt;text-align: left;">Specifies the list of CNS connect templates in the CNS connect profile to be applied to the switch configuration. You can specify more than one template.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 10</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 2pt;text-indent: 0pt;text-align: left;">Repeat Steps 8 to 9 to specify more interface parameters and CNS connect templates in the CNS connect profile.</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"/></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 11</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">exit</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-cns-conn)# <b>exit</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 12</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">hostname <i>name</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>hostname device1</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the hostname for the switch.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" rowspan="6"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 13</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">ip route <i>network-number</i></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Establishes a static route to the Configuration Engine whose IP</p></td></tr><tr><td style="border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt" rowspan="5"><p class="s18" style="padding-left: 2pt;text-indent: 0pt;line-height: 11pt;text-align: left;">address is <i>network-number</i>.</p></td></tr><tr><td style="border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s27" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p></td></tr><tr><td style="border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s21" style="padding-top: 4pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">RemoteSwitch(config)# <b>ip route</b></p></td></tr><tr><td style="border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s28" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">172.28.129.22 255.255.255.255</p></td></tr><tr><td style="border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s28" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">11.11.11.1</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 14</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">cns id <i>interface num </i><span class="s18">{</span>dns-reverse <span class="s18">|</span></p><p class="s19" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">ipaddress <span class="s18">| </span>mac-address<span class="s18">} [</span>event<span class="s18">] [</span>image<span class="s18">]</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 30pt;text-indent: 0pt;line-height: 9pt;text-align: left;">RemoteSwitch(config)# <b>cns id GigabitEthernet1/0/1 ipaddress</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Sets the unique EventID or ConfigID used by the Configuration Engine. If you enter this command, do not enter the <b>cns id </b>{<b>hardware-serial</b></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">| <b>hostname </b>| <b>string </b><i>string </i>| <b>udi</b>} [<b>event</b>] [<b>image</b>] command.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 37pt;text-indent: -35pt;text-align: left;"><span class="s30">Note       </span>If both the <b>event </b>and <b>image </b>keywords are omitted, the image-id value is used to identify the switch.</p></td></tr></table><ul id="l26"><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For <b>line </b><i>line-type</i>, enter the line type.</p></li></ul><ul id="l27"><li style="padding-left: 24pt;text-indent: -6pt;text-align: justify;"><p class="s18" style="display: inline;">For <i>interface num</i>, enter the type of interface. For example, ethernet, group-async, loopback, or virtual-template. This setting specifies from which interface the IP or MAC address should be retrieved to define the unique ID.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: justify;"><p class="s18" style="display: inline;">For {<b>dns-reverse </b>| <b>ipaddress </b>| <b>mac-address</b>}, enter <b>dns-reverse </b>to retrieve the hostname and assign it as the unique ID, enter <b>ipaddress </b>to use the IP address, or enter <b>mac-address </b>to use the MAC address as the unique ID.</p></li><li style="padding-left: 24pt;padding-right: 3pt;text-indent: -6pt;line-height: 12pt;text-align: justify;"><p class="s18" style="display: inline;">(Optional) Enter <b>event </b>to set the ID to be the event-id value used to identify the switch.</p></li><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: justify;"><p class="s18" style="display: inline;">(Optional) Enter <b>image </b>to set the ID to be the image-id value used to identify the switch.</p></li></ul><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_130.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_131.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;"><a name="a70">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;text-indent: 0pt;text-align: left;">Step 15</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">cns id <span class="s18">{</span>hardware-serial <span class="s18">| </span>hostname <span class="s18">|</span></p><p class="s19" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">string <i>string </i><span class="s18">| </span>udi<span class="s18">} [</span>event<span class="s18">] [</span>image<span class="s18">]</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">RemoteSwitch(config)# <b>cns id hostname</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Sets the unique EventID or ConfigID used by the Configuration Engine. If you enter this command, do not enter the <b>cns id </b><i>interface num</i></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">{<b>dns-reverse </b>| <b>ipaddress </b>| <b>mac-address</b>} [<b>event</b>] [<b>image</b>] command.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 16</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 5pt;text-indent: 0pt;text-align: left;"><b>cns config initial </b>{<i>hostname </i>| <i>ip-address</i>} [<i>port-number</i>] [<b>event</b>] [<b>no-persist</b>] [<b>page </b><i>page</i>] [<b>source </b><i>ip-address</i>] [<b>syntax-check</b>]</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 20pt;text-indent: 0pt;line-height: 9pt;text-align: left;">RemoteSwitch(config)# <b>cns config initial 10.1.1.1 no-persist</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables the Cisco IOS agent, and initiates an initial configuration.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 37pt;text-indent: -35pt;text-align: left;"><span class="s30">Note       </span>Though visible in the command-line help string, the <b>encrypt</b>, <b>status </b><i>url</i>, and <b>inventory </b>keywords are not supported.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 17</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 18</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr></table><ul id="l28"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For { <b>hardware-serial </b>| <b>hostname </b>| <b>string  </b><i>string  </i>| <b>udi </b>}, enter <b>hardware-serial </b>to set the switch serial number as the unique ID, enter <b>hostname </b>(the default) to select the switch hostname as the unique ID, enter an arbitrary text string for <b>string </b><i>string </i>as the unique ID, or enter <b>udi </b>to set the unique device identifier (UDI) as the unique ID.</p></li></ul><ul id="l29"><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For {<i>hostname </i>| <i>ip-address</i>}, enter the hostname or the IP address of the configuration server.</p></li><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) For <i>port-number</i>, enter the port number of the configuration server. The default port number is 80.</p></li><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) Enable <b>event </b>for configuration success, failure, or warning messages when the configuration is finished.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) Enable <b>no-persist </b>to suppress the automatic writing to NVRAM of the configuration pulled as a result of entering the <b>cns config initial </b>global configuration command. If the <b>no-persist </b>keyword is not entered, using the <b>cns config initial </b>command causes the resultant configuration to be automatically written to NVRAM.</p></li><li style="padding-left: 24pt;padding-right: 39pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) For <b>page </b><i>page</i>, enter the web page of the initial configuration. The default is /Config/config/asp.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) Enter <b>source </b><i>ip-address </i>to use for source IP address.</p></li><li style="padding-left: 24pt;padding-right: 23pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) Enable <b>syntax-check </b>to check the syntax when this parameter is entered.</p></li></ul><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_132.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;"><a name="a71">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.209pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 19</p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 44pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_133.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">What to Do Next</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">To verify information about the configuration agent, use the <b>show cns config connections </b>command in privileged EXEC mode.</p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">To disable the CNS Cisco IOS agent, use the <b>no cns config initial </b>{ <i>ip-address </i>| <i>hostname </i>} global configuration command.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a72">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark95" class="a" name="bookmark71">Initial Configuratio</a>n, on page 18<a name="bookmark104">&zwnj;</a></p><p class="s9" style="padding-top: 2pt;padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark106" class="a">Monitoring CNS Configuration</a>s, on page 33</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a73">Refreshing DeviceIDs</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to refresh a DeviceID when changing the hostname on the switch.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a74">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l30"><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a75">enable</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show cns config connections</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Make sure that the CNS event agent is properly connected to the event gateway.</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a76">show cns event connections</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Record from the output of Step 4 the information for the currently connected connection listed below.</p><p style="padding-left: 113pt;text-indent: 0pt;text-align: left;">You will be using the IP address and port number in subsequent steps of these instructions.</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a77">configure terminal</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">no cns event <i>ip-address port-number</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">cns event <i>ip-address port-number</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a78">end</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Make sure that you have reestablished the connection between the switch and the event connection by examining the output from <b>show cns event connections</b>.</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a79">show running-config</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_134.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_135.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 72pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 72pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 11pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show cns config connections</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show cns config connections</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: justify;">Displays whether the CNS event agent is connecting to the gateway, connected, or active, and the gateway used by the event agent, its IP address and port number.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 31pt;text-indent: 0pt;text-align: left;">Make sure that the CNS event agent is properly connected to the event gateway.</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Examine the output of <b>show cns config connections </b>for the following:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show cns event connections</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show cns event connections</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Displays the event connection information for your switch.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 9pt;text-indent: 0pt;text-align: left;">Record from the output of Step 4 the information for the currently connected connection listed below. You will be using the IP address and port number in subsequent steps of these instructions.</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"/></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">no cns event <i>ip-address port-number</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>no cns event 172.28.129.22 2012</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the IP address and port number that you recorded in Step 5 in this command.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;padding-right: 7pt;text-indent: 0pt;text-align: justify;">This command breaks the connection between the switch and the event gateway. It is necessary to first break, then reestablish, this connection to refresh the DeviceID.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 8</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">cns event <i>ip-address port-number</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>cns event 172.28.129.22 2012</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the IP address and port number that you recorded in Step 5 in this command.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;padding-right: 11pt;text-indent: 0pt;text-align: left;">This command reestablishes the connection between the switch and the event gateway.</p></td></tr></table><ul id="l31"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">Connection is active.</p></li><li style="padding-left: 24pt;padding-right: 3pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">Connection is using the currently configured switch hostname. The DeviceID will be refreshed to correspond to the new hostname configuration using these instructions.</p></li></ul><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_136.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 72pt;text-indent: 0pt;text-align: left;"><a name="a80">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 72pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 9</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 10</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 2pt;text-indent: 0pt;text-align: left;">Make sure that you have reestablished the connection between the switch and the event connection by examining the output from <b>show cns event connections</b>.</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"/></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 11</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 12</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_137.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark72">Related Topics</a><a name="bookmark105">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark92" class="a">Hostname and DeviceI</a>D,  on page 17</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a81">Enabling a Partial Configuration for Cisco IOS CNS Agent</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to enable the Cisco IOS CNS agent and to initiate a partial configuration on the switch.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a82">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l32"><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a83">enable</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>cns config partial </b>{<i>ip-address </i>| <i>hostname</i>} [<i>port-number</i>] [<b>source </b><i>ip-address</i>]</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a84">end</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="55" alt="image" src="Image_138.png"/></span></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">Step 1</p><p class="s2" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">Command or Action</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">enable</p><p class="s2" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_139.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 72pt;text-indent: 0pt;text-align: left;"><a name="a85">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 72pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"/></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 27pt;text-indent: 0pt;text-align: left;"><b>cns config partial </b>{<i>ip-address </i>| <i>hostname</i>} [<i>port-number</i>] [<b>source </b><i>ip-address</i>]</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 37pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>cns config partial 172.28.129.22 2013</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 42pt;text-indent: 0pt;text-align: left;">Enables the configuration agent, and initiates a partial configuration.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s30" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Note       <span class="s18">Though visible in the command-line help string, the</span></p><p class="s19" style="padding-left: 37pt;text-indent: 0pt;text-align: left;">encrypt <span class="s18">keyword is not supported.</span></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><ul id="l33"><li style="padding-left: 24pt;padding-right: 13pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For {<i>ip-address </i>| <i>hostname</i>}, enter the IP address or the hostname of the configuration server.</p></li><li style="padding-left: 24pt;padding-right: 7pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) For <i>port-number</i>, enter the port number of the configuration server. The default port number is 80.</p></li><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) Enter <b>source </b><i>ip-address </i>to use for the source IP address.</p></li></ul><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_140.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a86">What to Do Next</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">To verify information about the configuration agent, use either the <b>show cns config stats </b>or the <b>show cns config outstanding </b>command in privileged EXEC mode.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_141.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">To disable the Cisco IOS agent, use the <b>no cns config partial </b>{ <i>ip-address </i>| <i>hostname </i>} global configuration command. To cancel a partial configuration, use the <b>cns config cancel </b>global configuration command.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a87">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark96" class="a">Incremental (Partial) Configuratio</a><a href="#bookmark106" class="a">n, on page 19 Monitoring CNS Configuration</a>s, on page 33</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark73">Monitoring CNS Configurations</a><a name="bookmark106">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="28" alt="image" src="Image_142.png"/></span></p><p class="s14" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Table 5: CNS show Commands</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: right;"><a name="a88">Command</a></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:98.809pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show cns config connections</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">Switch# <b>show cns config connections</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Displays the status of the CNS Cisco IOS CNS agent connections.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show cns config outstanding</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">Switch# <b>show cns config outstanding</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Displays information about incremental (partial) CNS configurations that have started but are not yet completed.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show cns config stats</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">Switch# <b>show cns config stats</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Displays statistics about the Cisco IOS CNS agent.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show cns event connections</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">Switch# <b>show cns event connections</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 41pt;text-indent: 0pt;text-align: left;">Displays the status of the CNS event agent connections.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show cns event gateway</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">Switch# <b>show cns event gateway</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Displays the event gateway information for your switch.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show cns event stats</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">Switch# <b>show cns event stats</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Displays statistics about the CNS event agent.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show cns event subject</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">Switch# <b>show cns event subject</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Displays a list of event agent subjects that are subscribed to by applications.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Related Topics</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark105" class="a">Enabling a Partial Configuration for Cisco IOS CNS Agen</a><a href="#bookmark96" class="a">t, on page 31 Incremental (Partial) Configuratio</a>n, on page 19</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark103" class="a">Enabling an Initial Configuration for Cisco IOS CNS Agen</a><a href="#bookmark95" class="a">t, on page 24 Initial Configuratio</a>n, on page 18</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_143.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h3 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark74">Additional References</a><a name="bookmark107">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a89">Related Documents</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;">Related Topic</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">Configuration Engine Setup</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="110" alt="image" src="Image_144.png"/></span></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a90">Error Message Decoder</a></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Document Title</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;line-height: 107%;text-align: left;"><a href="http://www.cisco.com/en/US/docs/net_mgmt/configuration_engine/1.5/installation_linux/guide/setup_1.html" style=" color: black; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 10pt;" target="_blank">Cisco Configuration Engine Installation and Setup Guide, 1.5 for Linux </a><a href="http://www.cisco.com/en/US/docs/net_mgmt/configuration_engine/1.5/installation_linux/guide/setup_1.html" class="a" target="_blank">http://www.cisco.com/en/US/ docs/net_mgmt/configuration_engine/1.5/ installation_linux/guide/setup_1.html</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: center;"><a name="a91">Description</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">To help you research and resolve system error messages in this release, use the Error Message Decoder tool.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="92" alt="image" src="Image_145.png"/></span></p><p class="s2" style="padding-left: 98pt;text-indent: 0pt;text-align: center;"><a name="a92">Standards and RFCs</a></p><p class="s2" style="padding-top: 3pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">Link</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 107%;text-align: left;"><a href="https://www.cisco.com/cgi-bin/Support/Errordecoder/index.cgi" class="a" target="_blank">https://www.cisco.com/cgi-bin/Support/Errordecoder/ index.cgi</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;"><a name="a93">Standard/RFC</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">None</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="60" alt="image" src="Image_146.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="115" alt="image" src="Image_147.png"/></span></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a94">MIBs</a></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Title</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">-</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: center;"><a name="a95">MIB</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">All supported MIBs for this release.</p><p class="s2" style="padding-top: 3pt;padding-left: 70pt;text-indent: 0pt;text-align: justify;"><a name="a96">MIBs Link</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 70pt;text-indent: 0pt;text-align: justify;">To locate and download MIBs for selected platforms, Cisco IOS releases, and feature sets, use Cisco MIB Locator found at the following URL:</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 70pt;text-indent: 0pt;text-align: justify;"><a href="http://www.cisco.com/go/mibs" class="a" target="_blank">http://www.cisco.com/go/mibs</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_148.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="234" alt="image" src="Image_149.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a97">Technical Assistance</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: left;">Description</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">The Cisco Support website provides extensive online resources, including documentation and tools for troubleshooting and resolving technical issues with Cisco products and technologies.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">To receive security and technical information about your products, you can subscribe to various services, such as the Product Alert Tool (accessed from Field Notices), the Cisco Technical Services Newsletter, and Really Simple Syndication (RSS) Feeds.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">Access to most tools on the Cisco Support website requires a Cisco.com user ID and password.</p><p class="s2" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a98">Link</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/support" class="a" target="_blank">http://www.cisco.com/support</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="60" alt="image" src="Image_150.png"/></span></p><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark75">Feature History and Information for the Configuration Engine</a><a name="bookmark108">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 101pt;text-indent: 0pt;text-align: center;"><a name="a99">Release</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">Cisco IOS XE 3.2SECisco IOS XE 3.2SE</p><p class="s2" style="padding-top: 3pt;padding-left: 101pt;text-indent: 0pt;text-align: center;"><a name="a100">Modification</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">This feature was introduced.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_151.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_152.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="576" height="144" alt="image" src="Image_153.jpg"/></span></p><p class="s10" style="padding-left: 315pt;text-indent: 0pt;line-height: 54pt;text-align: left;"><a name="bookmark109">C H A P T E R   </a><span class="h1">3</span><a name="bookmark124">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h2 style="padding-top: 1pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Configuring the Cisco Discovery Protocol</h2><p style="padding-top: 2pt;padding-left: 96pt;text-indent: 0pt;text-align: left;"><span><img width="584" height="6" alt="image" src="Image_154.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><ul id="l34"><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark125" class="a">Finding Feature Information, page 37</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark126" class="a">Information About CDP,  page 37</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark132" class="a">How to Configure CDP,  page 39</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark138" class="a">Monitoring and Maintaining CDP,  page 47</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark139" class="a">Additional References, page 48</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark140" class="a" name="bookmark110">Feature History and Information for Cisco Discovery Protocol, page 49</a><a name="bookmark125">&zwnj;</a></p></li></ul></li></ol><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a101">Finding Feature Information</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Your software release may not support all the features documented in this module. For the latest caveats and feature information, see Bug Search Tool and the release notes for your platform and software release. To find information about the features documented in this module, and to see a list of the releases in which each feature is supported, see the feature information table at the end of this module.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/go/cfn" class="s4" target="_blank" name="bookmark111">Use Cisco Feature Navigator to find information about platform support and Cisco software image support. To access Cisco Feature Navigator, go to </a><a href="http://www.cisco.com/go/cfn" class="a" target="_blank">http://www.cisco.com/go/cf</a>n<span style=" color: #000;">. An account on Cisco.com is not required.</span><a name="bookmark126">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark112">Information About CDP</a><a name="bookmark127">&zwnj;</a><a name="bookmark128">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a102">CDP Overview</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">CDP is a device discovery protocol that runs over Layer 2 (the data-link layer) on all Cisco-manufactured devices (routers, bridges, access servers, controllers, and switches) and allows network management applications to discover Cisco devices that are neighbors of already known devices. With CDP, network management applications can learn the device type and the Simple Network Management Protocol (SNMP) agent address of neighboring devices running lower-layer, transparent protocols. This feature enables applications to send SNMP queries to neighboring devices.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_155.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: justify;">CDP runs on all media that support Subnetwork Access Protocol (SNAP). Because CDP runs over the data-link layer only, two systems that support different network-layer protocols can learn about each other.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">Each CDP-configured device sends periodic messages to a multicast address, advertising at least one address at which it can receive SNMP messages. The advertisements also contain time-to-live, or holdtime information, which is the length of time a receiving device holds CDP information before discarding it. Each device also listens to the messages sent by other devices to learn about neighboring devices.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">On the switch, CDP enables Network Assistant to display a graphical view of the network. The switch uses CDP to find cluster candidates and maintain information about cluster members and other devices up to three cluster-enabled devices away from the command switch by default.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: justify;"><a name="a103">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark133" class="a" name="bookmark113">Configuring CDP Characteristic</a><a href="#bookmark138" class="a">s,  on page 39 Monitoring and Maintaining CD</a>P,  on page 47<a name="bookmark129">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark130">CDP and Stacks</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;"><a name="bookmark114">A switch stack appears as a single switch in the network. Therefore, CDP discovers the switch stack, not the individual stack members. The switch stack sends CDP messages to neighboring network devices when there are changes to the switch stack membership, such as stack members being added or removed.</a><a name="bookmark131">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a104">Default CDP Configuration</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">This table shows the default CDP configuration.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: center;"><a name="a105">Feature</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;line-height: 167%;text-align: left;">CDP global state CDP interface state</p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="157" alt="image" src="Image_156.png"/></span></p><p style="padding-left: 103pt;text-indent: 0pt;line-height: 167%;text-align: left;">CDP timer (packet update frequency) CDP holdtime (before discarding) CDP Version-2 advertisements</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="text-indent: 0pt;text-align: center;"><a name="a106">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark135" class="a">Enabling CD</a><a href="#bookmark134" class="a">P, on page 42 Disabling CD</a>P, on page 40</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark137" class="a">Enabling CDP on an Interfac</a><a href="#bookmark136" class="a">e, on page 45 Disabling CDP on an Interfac</a>e,  on page 44</p><p class="s2" style="padding-top: 3pt;padding-left: 27pt;text-indent: 0pt;line-height: 167%;text-align: left;">Default Setting <span class="p">Enabled Enabled</span></p><p style="padding-left: 27pt;text-indent: 0pt;text-align: left;">60 seconds</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 27pt;text-indent: 0pt;line-height: 167%;text-align: left;">180 seconds Enabled</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_157.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark115">How to Configure CDP</a><a name="bookmark132">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark116">Configuring CDP Characteristics</a><a name="bookmark133">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You can configure these CDP characteristics:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l35"><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Frequency of CDP updates</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Amount of time to hold the information before discarding it</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Whether or not to send Version-2 advertisements</p></li></ul><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p style="padding-left: 64pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_158.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_159.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="557" height="1" alt="image" src="Image_160.png"/></span></p><p style="padding-top: 2pt;padding-left: 11pt;text-indent: 1pt;line-height: 208%;text-align: left;">Steps 3 through 5 are all optional and can be performed in any order. Follow these steps to configure the CDP characteristics.</p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a107">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ol id="l36"><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a108">enable</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">cdp timer <i>seconds</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">cdp holdtime <i>seconds</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a109">cdp advertise-v2</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">end</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_161.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 79pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 79pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 20pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_162.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 80pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 80pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">cdp timer <i>seconds</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>cdp timer 20</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Sets the transmission frequency of CDP updates in seconds.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">The range is 5 to 254; the default is 60 seconds.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">cdp holdtime <i>seconds</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>cdp holdtime 60</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 10pt;text-indent: 0pt;text-align: left;">(Optional) Specifies the amount of time a receiving device should hold the information sent by your device before discarding it.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">The range is 10 to 255 seconds; the default is 180 seconds.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">cdp advertise-v2</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>cdp advertise-v2</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;line-height: 147%;text-align: left;">(Optional) Configures CDP to send Version-2 advertisements. This is the default state.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 8</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_163.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">What to Do Next</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Use the <b>no </b>form of the CDP commands to return to the default settings.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark117">Related Topics</a><a name="bookmark134">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark127" class="a">CDP Overvie</a>w,  on page 37</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark138" class="a">Monitoring and Maintaining CD</a>P,  on page 47</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a110">Disabling CDP</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">CDP is enabled by default.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_164.png"/></span></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p style="padding-left: 64pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_165.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_166.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">Switch clusters and other Cisco devices (such as Cisco IP Phones) regularly exchange CDP messages. Disabling CDP can interrupt cluster discovery and device connectivity.</p><p style="padding-top: 4pt;padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_167.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Follow these steps to disable the CDP device discovery capability.</p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a111">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ol id="l37"><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a112">enable</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">no cdp run</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">end</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_168.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 91pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 91pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 29pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">no cdp run</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>no cdp run</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Disables CDP.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr></table><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_169.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 91pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 91pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.809pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 6pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_170.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">What to Do Next</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You must reenable CDP to use it.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a113">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark135" class="a">Enabling CD</a>P,  on page 42</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark131" class="a" name="bookmark118">Default CDP Configuratio</a>n,  on page 38<a name="bookmark135">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a114">Enabling CDP</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 65pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_171.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;">CDP is enabled by default.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_172.png"/></span></p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;">Switch clusters and other Cisco devices (such as Cisco IP Phones) regularly exchange CDP messages. Disabling CDP can interrupt cluster discovery and device connectivity.</p><p style="padding-top: 4pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_173.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;">Follow these steps to enable CDP when it has been disabled.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s26" style="text-indent: 0pt;text-align: left;"><a name="a115">Before You Begin</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;">CDP must be disabled, or it cannot be enabled.</p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a116">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ol id="l38"><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a117">enable</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">cdp run</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">end</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_174.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_175.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 90pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 90pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">cdp run</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>cdp run</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables CDP if it has been disabled.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">What to Do Next</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Use the <b>show run all </b>command to show that CDP has been enabled. If you enter only <b>show run</b>, the enabling of CDP may not be displayed.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a118">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark131" class="a">Default CDP Configuratio</a><a href="#bookmark134" class="a">n,  on page 38 Disabling CD</a>P, on page 40</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_176.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark119">Disabling CDP on an Interface</a><a name="bookmark136">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">CDP is enabled by default on all supported interfaces to send and to receive CDP information.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 65pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_177.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 65pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_178.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_179.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">Switch clusters and other Cisco devices (such as Cisco IP Phones) regularly exchange CDP messages. Disabling CDP can interrupt cluster discovery and device connectivity.</p><p style="padding-top: 4pt;padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_180.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_181.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="557" height="1" alt="image" src="Image_182.png"/></span></p><p style="padding-top: 2pt;padding-left: 11pt;text-indent: 1pt;line-height: 208%;text-align: left;">CDP bypass is not supported and may cause a port go into err-disabled state. Follow these steps to disable CDP on a port.</p><p class="s26" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a119">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ol id="l39"><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a120">enable</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">interface <i>interface-id</i></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a121">no cdp enable</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">end</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_183.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 85pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 85pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">interface <i>interface-id</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>interface gigabitethernet1/0/1</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the interface on which you are disabling CDP, and enters interface configuration mode.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_184.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 85pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 85pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">no cdp enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-if)# <b>no cdp enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Disables CDP on the interface specified in Step 3.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_185.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Related Topics</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark137" class="a" name="bookmark120">Enabling CDP on an Interfac</a><a href="#bookmark131" class="a">e, on page 45 Default CDP Configuratio</a>n,  on page 38<a name="bookmark137">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a122">Enabling CDP on an Interface</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">CDP is enabled by default on all supported interfaces to send and to receive CDP information.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 64pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_186.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 64pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_187.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_188.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">Switch clusters and other Cisco devices (such as Cisco IP Phones) regularly exchange CDP messages. Disabling CDP can interrupt cluster discovery and device connectivity.</p><p style="padding-top: 4pt;padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_189.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_190.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="557" height="1" alt="image" src="Image_191.png"/></span></p><p style="padding-top: 2pt;padding-left: 11pt;text-indent: 1pt;line-height: 208%;text-align: left;">CDP bypass is not supported and may cause a port go into err-disabled state. Follow these steps to enable CDP on a port on which it has been disabled.</p><p class="s26" style="padding-left: 11pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><a name="a123">Before You Begin</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">CDP must be disabled on the port that you are trying to CDP enable on, or it cannot be enabled.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_192.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a124">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ol id="l40"><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a125">enable</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">interface <i>interface-id</i></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a126">cdp enable</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">end</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_193.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 86pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 86pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">interface <i>interface-id</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>interface gigabitethernet1/0/1</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the interface on which you are enabling CDP, and enters interface configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">cdp enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-if)# <b>cdp enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables CDP on a disabled interface.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr></table><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_194.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 86pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 86pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.209pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_195.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Related Topics</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark131" class="a" name="bookmark121">Default CDP Configuratio</a><a href="#bookmark136" class="a">n,  on page 38 Disabling CDP on an Interfac</a>e,  on page 44<a name="bookmark138">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a127">Monitoring and Maintaining CDP</a></h3><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="28" alt="image" src="Image_196.png"/></span></p><p class="s14" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Table 6: Commands for Displaying CDP Information</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: right;"><a name="a128">Command</a></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: left;">Description</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:98.809pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">clear cdp counters</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Resets the traffic counters to zero.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">clear cdp table</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Deletes the CDP table of information about neighbors.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show cdp</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Displays global information, such as frequency of transmissions and the holdtime for packets being sent.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;padding-right: 12pt;text-indent: 0pt;text-align: left;">show cdp entry <i>entry-name </i><span class="s18">[</span>version<span class="s18">] [</span>protocol<span class="s18">]</span></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 68pt;text-indent: 0pt;text-align: justify;">Displays information about a specific neighbor.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 3pt;padding-right: 11pt;text-indent: 0pt;text-align: justify;">You can enter an asterisk (*) to display all CDP neighbors, or you can enter the name of the neighbor about which you want information.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: justify;">You can also limit the display to information about the protocols enabled on the specified neighbor or information about the version of software running on the device.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;"><b>show cdp interface </b>[<i>interface-id</i>]</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Displays information about interfaces where CDP is enabled.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 3pt;padding-right: 4pt;text-indent: 0pt;text-align: left;">You can limit the display to the interface about which you want information.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 25pt;text-indent: 0pt;text-align: left;"><b>show cdp neighbors </b>[<i>interface-id</i>] [<i>detail</i>]</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Displays information about neighbors, including device type, interface type and number, holdtime settings, capabilities, platform, and port ID.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 3pt;padding-right: 6pt;text-indent: 0pt;text-align: left;">You can limit the display to neighbors of a specific interface or expand the display to provide more detailed information.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_197.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;">Command</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">show cdp traffic</p><p class="s2" style="padding-top: 3pt;padding-left: 98pt;text-indent: 0pt;text-align: left;">Description</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 98pt;text-indent: 0pt;text-align: left;">Displays CDP counters, including the number of packets sent and received and checksum errors.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="76" alt="image" src="Image_198.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a129">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark133" class="a">Configuring CDP Characteristic</a><a href="#bookmark127" class="a">s,  on page 39 CDP Overvie</a>w, on page 37</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><h3 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark122">Additional References</a><a name="bookmark139">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a130">Related Documents</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;">Related Topic</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">System Management Commands</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="76" alt="image" src="Image_199.png"/></span></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a131">Error Message Decoder</a></p><p class="s2" style="padding-top: 3pt;padding-left: 81pt;text-indent: 0pt;text-align: left;">Document Title</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s23" style="padding-left: 81pt;text-indent: 0pt;text-align: left;">Network Management Command Reference, Cisco IOS XE Release 3E</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: center;"><a name="a132">Description</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">To help you research and resolve system error messages in this release, use the Error Message Decoder tool.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="92" alt="image" src="Image_200.png"/></span></p><p class="s2" style="padding-left: 98pt;text-indent: 0pt;text-align: center;"><a name="a133">Standards and RFCs</a></p><p class="s2" style="padding-top: 3pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">Link</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 107%;text-align: left;"><a href="https://www.cisco.com/cgi-bin/Support/Errordecoder/index.cgi" class="a" target="_blank">https://www.cisco.com/cgi-bin/Support/Errordecoder/ index.cgi</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;"><a name="a134">Standard/RFC</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">None</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="60" alt="image" src="Image_201.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="115" alt="image" src="Image_202.png"/></span></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a135">MIBs</a></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Title</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">-</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: center;"><a name="a136">MIB</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">All supported MIBs for this release.</p><p class="s2" style="padding-top: 3pt;padding-left: 70pt;text-indent: 0pt;text-align: justify;"><a name="a137">MIBs Link</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 70pt;text-indent: 0pt;text-align: justify;">To locate and download MIBs for selected platforms, Cisco IOS releases, and feature sets, use Cisco MIB Locator found at the following URL:</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 70pt;text-indent: 0pt;text-align: justify;"><a href="http://www.cisco.com/go/mibs" class="a" target="_blank">http://www.cisco.com/go/mibs</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_203.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="234" alt="image" src="Image_204.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a138">Technical Assistance</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: left;">Description</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">The Cisco Support website provides extensive online resources, including documentation and tools for troubleshooting and resolving technical issues with Cisco products and technologies.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">To receive security and technical information about your products, you can subscribe to various services, such as the Product Alert Tool (accessed from Field Notices), the Cisco Technical Services Newsletter, and Really Simple Syndication (RSS) Feeds.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">Access to most tools on the Cisco Support website requires a Cisco.com user ID and password.</p><p class="s2" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a139">Link</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/support" class="a" target="_blank">http://www.cisco.com/support</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="60" alt="image" src="Image_205.png"/></span></p><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark123">Feature History and Information for Cisco Discovery Protocol</a><a name="bookmark140">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 101pt;text-indent: 0pt;text-align: center;"><a name="a140">Release</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">Cisco IOS XE 3.2SECisco IOS XE 3.2SE</p><p class="s2" style="padding-top: 3pt;padding-left: 101pt;text-indent: 0pt;text-align: center;"><a name="a141">Modification</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">This feature was introduced.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_206.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_207.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="576" height="144" alt="image" src="Image_208.jpg"/></span></p><p class="s10" style="padding-left: 315pt;text-indent: 0pt;line-height: 54pt;text-align: left;"><a name="bookmark141">C H A P T E R   </a><span class="h1">4</span><a name="bookmark168">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h2 style="padding-top: 1pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Configuring Simple Network Management Protocol</h2><p style="padding-top: 1pt;padding-left: 96pt;text-indent: 0pt;text-align: left;"><span><img width="584" height="6" alt="image" src="Image_209.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><ul id="l41"><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark169" class="a">Finding Feature Information, page 51</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark170" class="a">Prerequisites for SNMP, page 51</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark171" class="a">Restrictions for SNMP, page 54</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark172" class="a">Information About SNMP,  page 54</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark187" class="a">How to Configure SNMP,  page 58</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark196" class="a">Monitoring SNMP Status, page 76</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark197" class="a">SNMP Examples, page 77</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark198" class="a" name="bookmark142">Additional References, page 78</a><a name="bookmark169">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark199" class="a">Feature History and Information for Simple Network Management Protocol, page 79</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a142">Finding Feature Information</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Your software release may not support all the features documented in this module. For the latest caveats and feature information, see Bug Search Tool and the release notes for your platform and software release. To find information about the features documented in this module, and to see a list of the releases in which each feature is supported, see the feature information table at the end of this module.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/go/cfn" class="s4" target="_blank" name="bookmark143">Use Cisco Feature Navigator to find information about platform support and Cisco software image support. To access Cisco Feature Navigator, go to </a><a href="http://www.cisco.com/go/cfn" class="a" target="_blank">http://www.cisco.com/go/cf</a>n<span style=" color: #000;">. An account on Cisco.com is not required.</span><a name="bookmark170">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a143">Prerequisites for SNMP</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a144">Supported SNMP Versions</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This software release supports the following SNMP versions:</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_210.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><ul id="l42"><li style="padding-top: 2pt;padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">SNMPv1<span class="s31">—</span>The Simple Network Management Protocol, a Full Internet Standard, defined in RFC 1157.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">SNMPv2C replaces the Party-based Administrative and Security Framework of SNMPv2Classic with the community-string-based Administrative Framework of SNMPv2C while retaining the bulk retrieval and improved error handling of SNMPv2Classic. It has these features:</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 143pt;text-indent: -6pt;line-height: 12pt;text-align: left;">◦<span class="p">SNMPv2</span>—<span class="p">Version 2 of the Simple Network Management Protocol, a Draft Internet Standard, defined in RFCs 1902 through 1907.</span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 143pt;text-indent: -6pt;line-height: 12pt;text-align: left;">◦<span class="p">SNMPv2C</span>—<span class="p">The community-string-based Administrative Framework for SNMPv2, an Experimental Internet Protocol defined in RFC 1901.</span></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: justify;"><p style="display: inline;">SNMPv3<span class="s31">—</span>Version 3 of the SNMP is an interoperable standards-based protocol defined in RFCs 2273 to 2275. SNMPv3 provides secure access to devices by authenticating and encrypting packets over the network and includes these security features:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 137pt;text-indent: 0pt;text-align: left;">◦<span class="p">Message integrity</span>—<span class="p">Ensures that a packet was not tampered with in transit.</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 137pt;text-indent: 0pt;text-align: left;">◦<span class="p">Authentication</span>—<span class="p">Determines that the message is from a valid source.</span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 143pt;text-indent: -6pt;line-height: 12pt;text-align: left;">◦<span class="p">Encryption</span>—<span class="p">Mixes the contents of a package to prevent it from being read by an unauthorized source.</span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 65pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="24" alt="image" src="Image_211.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_212.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">To select encryption, enter the <b>priv </b>keyword.</p><p style="padding-top: 4pt;padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_213.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Both SNMPv1 and SNMPv2C use a community-based form of security. The community of managers able to access the agent<span class="s31">’</span>s MIB is defined by an IP address access control list and password.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">SNMPv2C includes a bulk retrieval function and more detailed error message reporting to management stations. The bulk retrieval function retrieves tables and large quantities of information, minimizing the number of round-trips required. The SNMPv2C improved error-handling includes expanded error codes that distinguish different kinds of error conditions; these conditions are reported through a single error code in SNMPv1. Error return codes in SNMPv2C report the error type.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">SNMPv3 provides for both security models and security levels. A security model is an authentication strategy set up for a user and the group within which the user resides. A security level is the permitted level of security within a security model. A combination of the security level and the security model determine which security method is used when handling an SNMP packet. Available security models are SNMPv1, SNMPv2C, and SNMPv3.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">The following table identifies characteristics and compares different combinations of security models and levels:</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="28" alt="image" src="Image_214.png"/></span></p><p class="s14" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Table 7: SNMP Security Models and Levels</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: right;"><a name="a145">Model</a></p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Level</p><p class="s2" style="padding-top: 3pt;padding-left: 62pt;text-indent: 0pt;text-align: left;">Authentication</p><p class="s2" style="padding-top: 3pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">Encryption</p><p class="s2" style="padding-top: 3pt;padding-left: 41pt;text-indent: 0pt;text-align: left;">Result</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:99.409pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">SNMPv1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">noAuthNoPriv</p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Community string</p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">No</p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;padding-right: 8pt;text-indent: 0pt;text-align: left;">Uses a community string match for authentication.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_215.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Model</p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Level</p><p class="s2" style="padding-top: 3pt;padding-left: 62pt;text-indent: 0pt;text-align: left;">Authentication</p><p class="s2" style="padding-top: 3pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">Encryption</p><p class="s2" style="padding-top: 3pt;padding-left: 41pt;text-indent: 0pt;text-align: left;">Result</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:98.809pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">SNMPv2C</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">noAuthNoPriv</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Community string</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">No</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 8pt;text-indent: 0pt;text-align: left;">Uses a community string match for authentication.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">SNMPv3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">noAuthNoPriv</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Username</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">No</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Uses a username match for authentication.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">SNMPv3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">authNoPriv</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 5pt;text-indent: 0pt;text-align: left;">Message Digest 5 (MD5) or Secure Hash Algorithm (SHA)</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">No</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Provides authentication based on the HMAC-MD5 or HMAC-SHA</p><p class="s18" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">algorithms.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">SNMPv3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">authPriv</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">MD5 or SHA</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Data Encryption Standard (DES) or Advanced Encryption Standard (AES)</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Provides authentication based on the HMAC-MD5 or HMAC-SHA</p><p class="s18" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">algorithms.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">Allows specifying the User-based Security Model (USM) with these encryption algorithms:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 25pt;text-indent: 0pt;text-align: left;">standard.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr></table><ul id="l43"><li style="padding-left: 25pt;padding-right: 3pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">DES 56-bit encryption in addition to authentication based on the CBC-DES (DES-56)</p></li><li style="padding-left: 25pt;padding-right: 5pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">3DES 168-bit encryption</p></li><li style="padding-left: 25pt;padding-right: 7pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">AES 128-bit, 192-bit, or 256-bit encryption</p></li></ul><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="28" alt="image" src="Image_216.png"/></span></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: justify;">You must configure the SNMP agent to use the SNMP version supported by the management station. Because an agent can communicate with multiple managers, you can configure the software to support communications using SNMPv1, SNMPv2C, or SNMPv3.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_217.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h3 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark144">Restrictions for SNMP</a><a name="bookmark171">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a146">Version Restrictions</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">SNMPv1 does not support informs.</p></li></ul></li></ul></li></ol><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><h3 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark145">Information About SNMP</a><a name="bookmark146">&zwnj;</a><a name="bookmark172">&zwnj;</a><a name="bookmark173">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a147">SNMP Overview</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">SNMP is an application-layer protocol that provides a message format for communication between managers and agents. The SNMP system consists of an SNMP manager, an SNMP agent, and a management information base (MIB). The SNMP manager can be part of a network management system (NMS) such as Cisco Prime Infrastructure. The agent and MIB reside on the switch. To configure SNMP on the switch, you define the relationship between the manager and the agent.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">The SNMP agent contains MIB variables whose values the SNMP manager can request or change. A manager can get a value from an agent or store a value into the agent. The agent gathers data from the MIB, the repository for information about device parameters and network data. The agent can also respond to a manager&#39;s requests to get or set data.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark147">An agent can send unsolicited traps to the manager. Traps are messages alerting the SNMP manager to a condition on the network. Traps can mean improper user authentication, restarts, link status (up or down), MAC address tracking, closing of a TCP connection, loss of connection to a neighbor, or other significant events.</a><a name="bookmark174">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a148">SNMP Manager Functions</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The SNMP manager uses information in the MIB to perform the operations described in the following table:</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="214" alt="image" src="Image_218.png"/></span></p><p class="s14" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Table 8: SNMP Operations</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;"><a name="a149">Operation</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">get-request</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;line-height: 148%;text-align: left;"><a href="#bookmark176" class="s4">get-next-request get-bulk-request</a><a href="#bookmark176" class="s34">3</a></p><p style="text-indent: 0pt;line-height: 13pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;line-height: 167%;text-align: left;">get-response set-request trap</p><p class="s2" style="padding-top: 3pt;padding-left: 4pt;text-indent: 0pt;text-align: left;"><a name="a150">Description</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 4pt;text-indent: 0pt;line-height: 148%;text-align: left;"><a href="#bookmark175" class="s4">Retrieves a value from a specific variable. Retrieves a value from a variable within a table.</a><a href="#bookmark175" class="s34">2</a></p><p style="padding-top: 1pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">Retrieves large blocks of data, such as multiple rows in a table, that would otherwise require the transmission of many small blocks of data.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 4pt;text-indent: 0pt;line-height: 167%;text-align: left;">Replies to a get-request, get-next-request, and set-request sent by an NMS. Stores a value in a specific variable.</p><p style="padding-left: 4pt;text-indent: 0pt;text-align: left;">An unsolicited message sent by an SNMP agent to an SNMP manager when some event has occurred.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_219.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li></ol></li><li style="padding-left: 28pt;text-indent: -9pt;text-align: left;"><p class="s33" style="display: inline;"><a name="bookmark175">With this operation, an SNMP manager does not need to know the exact variable name. A sequential search is performed to find the needed variable from within a table.</a><a name="bookmark176">&zwnj;</a></p></li><li style="padding-left: 28pt;text-indent: -9pt;line-height: 9pt;text-align: left;"><p class="s33" style="display: inline;">The get-bulk command only works with SNMPv2 or later.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark148">SNMP Agent Functions</a><a name="bookmark177">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The SNMP agent responds to SNMP manager requests as follows:</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><ul id="l44"><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Get a MIB variable<span class="s31">—</span>The SNMP agent begins this function in response to a request from the NMS. The agent retrieves the value of the requested MIB variable and responds to the NMS with that value.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Set a MIB variable<span class="s31">—</span>The SNMP agent begins this function in response to a message from the NMS. The SNMP agent changes the value of the MIB variable to the value requested by the NMS.</p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The SNMP agent also sends unsolicited trap messages to notify an NMS that a significant event has occurred on the agent. Examples of trap conditions include, but are not limited to, when a port or module goes up or down, when spanning-tree topology changes occur, and when authentication failures occur.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a151">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark188" class="a" name="bookmark149">Disabling the SNMP Agen</a><a href="#bookmark196" class="a">t,  on page 58 Monitoring SNMP Statu</a>s,  on page 76<a name="bookmark178">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a152">SNMP Community Strings</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">SNMP community strings authenticate access to MIB objects and function as embedded passwords. In order for the NMS to access the switch, the community string definitions on the NMS must match at least one of the three community string definitions on the switch.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">A community string can have one of the following attributes:</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Read-only (RO)<span class="s31">—</span>Gives all objects in the MIB except the community strings read access to authorized management stations, but does not allow write access.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Read-write (RW)<span class="s31">—</span>Gives all objects in the MIB read and write access to authorized management stations, but does not allow access to the community strings.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">When a cluster is created, the command switch manages the exchange of messages among member switches and the SNMP application. The Network Assistant software appends the member switch number (@esN, where N is the switch number) to the first configured RW and RO community strings on the command switch and propagates them to the member switches.</p></li></ul><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark150">Related Topics</a><a name="bookmark179">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark189" class="a">Configuring Community String</a>s, on page 60</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a153">SNMP MIB Variables Access</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">An example of an NMS is the Cisco Prime Infrastructure network management software. Cisco Prime Infrastructure 2.0 software uses the switch MIB variables to set device variables and to poll devices on the network for specific information. The results of a poll can be displayed as a graph and analyzed to troubleshoot</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_220.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">internetworking problems, increase network performance, verify the configuration of devices, monitor traffic loads, and more.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">As shown in the figure, the SNMP agent gathers data from the MIB. The agent can send traps, or notification of certain events, to the SNMP manager, which receives and processes the traps. Traps alert the SNMP manager to a condition on the network such as improper user authentication, restarts, link status (up or down), MAC address tracking, and so forth. The SNMP agent also responds to MIB-related queries sent by the SNMP manager in <i>get-request</i>, <i>get-next-request</i>, and <i>set-request </i>format.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s14" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Figure 3: SNMP Network</p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><span><img width="424" height="80" alt="image" src="Image_221.jpg"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark151">SNMP Notifications</a><a name="bookmark180">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">SNMP allows the switch to send notifications to SNMP managers when particular events occur. SNMP notifications can be sent as traps or inform requests. In command syntax, unless there is an option in the command to select either traps or informs, the keyword traps refers to either traps or informs, or both. Use the <b>snmp-server host </b>command to specify whether to send SNMP notifications as traps or informs.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 65pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="24" alt="image" src="Image_222.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_223.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">SNMPv1 does not support informs.</p><p style="padding-top: 4pt;padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_224.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Traps are unreliable because the receiver does not send an acknowledgment when it receives a trap, and the sender cannot determine if the trap was received. When an SNMP manager receives an inform request, it acknowledges the message with an SNMP response protocol data unit (PDU). If the sender does not receive a response, the inform request can be sent again. Because they can be resent, informs are more likely than traps to reach their intended destination.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">The characteristics that make informs more reliable than traps also consume more resources in the switch and in the network. Unlike a trap, which is discarded as soon as it is sent, an inform request is held in memory until a response is received or the request times out. Traps are sent only once, but an inform might be resent or retried several times. The retries increase traffic and contribute to a higher overhead on the network. Therefore, traps and informs require a trade-off between reliability and resources. If it is important that the SNMP manager receive every notification, use inform requests. If traffic on the network or memory in the switch is a concern and notification is not required, use traps.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 11pt;text-indent: 0pt;text-align: left;"><a name="bookmark152">Related Topics</a><a name="bookmark181">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 27pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark191" class="a">Configuring SNMP Notification</a><a href="#bookmark196" class="a">s,  on page 65 Monitoring SNMP Statu</a>s,  on page 76</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a154">SNMP ifIndex MIB Object Values</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">In an NMS, the IF-MIB generates and assigns an interface index (ifIndex) object value that is a unique number greater than zero to identify a physical or a logical interface. When the switch reboots or the switch software</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_225.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">is upgraded, the switch uses this same value for the interface. For example, if the switch assigns a port 2 an ifIndex value of 10003, this value is the same after the switch reboots.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The switch uses one of the values in the following table to assign an ifIndex value to an interface:</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s14" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Table 9: ifIndex Values</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: left;"><a name="a155">Interface Type</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;"><a href="#bookmark182" class="s4">SVI</a><a href="#bookmark182" class="s34">4</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;line-height: 170%;text-align: left;">EtherChannel Loopback Tunnel</p><p style="padding-left: 102pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a href="#bookmark183" class="s4">Physical (such as Gigabit Ethernet or SFP</a><span style=" color: #00F; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; vertical-align: 4pt;">5</span>-module interfaces)</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;"><a name="bookmark182">Null</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="185" alt="image" src="Image_226.png"/></span></p></li><li style="padding-left: 28pt;text-indent: -9pt;text-align: left;"><p class="s33" style="display: inline;"><a name="bookmark183">SVI = switch virtual interface</a></p></li><li style="padding-left: 28pt;text-indent: -9pt;line-height: 12pt;text-align: left;"><p class="s33" style="display: inline;"><a name="bookmark153">SFP = small form-factor pluggable</a><a name="bookmark184">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="199" alt="image" src="Image_227.png"/></span></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a156">Default SNMP Configuration</a></h4><p class="s2" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a157">ifIndex Range</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">1<span class="s31">–</span>4999</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">5000<span class="s31">–</span>5012</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">5013<span class="s31">–</span>5077</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">5078<span class="s31">–</span>5142</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">10000<span class="s31">–</span>14500</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">14501</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: left;"><a name="a158">Feature</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">SNMP agent</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;line-height: 167%;text-align: left;">SNMP trap receiver SNMP traps</p><p style="padding-left: 102pt;text-indent: 0pt;line-height: 167%;text-align: left;"><a name="bookmark185">SNMP version SNMPv3 authentication</a></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;"><a name="bookmark154">SNMP notification type</a><a name="bookmark186">&zwnj;</a></p><p class="s2" style="padding-top: 3pt;padding-left: 36pt;text-indent: 0pt;text-align: left;"><a name="a159">Default Setting</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;"><a href="#bookmark185" class="s4">Disabled</a><span style=" color: #00F; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; vertical-align: 4pt;">6</span>.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;">None configured.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 167%;text-align: left;">None enabled except the trap for TCP connections (tty). If no version keyword is present, the default is Version 1.</p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;">If no keyword is entered, the default is the <b>noauth </b>(noAuthNoPriv) security level.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;">If no type is specified, all notifications are sent.</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p></li><li style="padding-top: 3pt;padding-left: 28pt;text-indent: -9pt;text-align: left;"><p class="s33" style="display: inline;">This is the default when the switch starts and the startup configuration does not have any <span class="s2">snmp-server </span>global configuration commands.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a160">SNMP Configuration Guidelines</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">If the switch starts and the switch startup configuration has at least one <b>snmp-server </b>global configuration command, the SNMP agent is enabled.</p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: justify;">An SNMP <i>group </i>is a table that maps SNMP users to SNMP views. An SNMP <i>user </i>is a member of an SNMP group. An SNMP <i>host </i>is the recipient of an SNMP trap operation. An SNMP <i>engine ID </i>is a name for the local or remote SNMP engine.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">When configuring SNMP, follow these guidelines:</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_228.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l45"><li style="padding-top: 2pt;padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">When configuring an SNMP group, do not specify a notify view. The <b>snmp-server host </b>global configuration command auto-generates a notify view for the user and then adds it to the group associated with that user. Modifying the group&#39;s notify view affects all users associated with that group.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">To configure a remote user, specify the IP address or port number for the remote SNMP agent of the device where the user resides.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Before you configure remote users for a particular agent, configure the SNMP engine ID, using the <b>snmp-server engineID </b>global configuration command with the <b>remote </b>option. The remote agent&#39;s SNMP engine ID and user password are used to compute the authentication and privacy digests. If you do not configure the remote engine ID first, the configuration command fails.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">When configuring SNMP informs, you need to configure the SNMP engine ID for the remote agent in the SNMP database before you can send proxy requests or informs to it.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">If a local user is not associated with a remote host, the switch does not send informs for the <b>auth</b></p><p style="padding-left: 121pt;text-indent: 0pt;line-height: 11pt;text-align: left;">(authNoPriv) and the <b>priv </b>(authPriv) authentication levels.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Changing the value of the SNMP engine ID has significant results. A user&#39;s password (entered on the command line) is converted to an MD5 or SHA security digest based on the password and the local engine ID. The command-line password is then destroyed, as required by RFC 2274. Because of this deletion, if the value of the engine ID changes, the security digests of SNMPv3 users become invalid, and you need to reconfigure SNMP users by using the <b>snmp-server user </b><i>username </i>global configuration command. Similar restrictions require the reconfiguration of community strings when the engine ID changes.</p></li></ul><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a161">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark190" class="a" name="bookmark155">Configuring SNMP Groups and User</a><a href="#bookmark196" class="a">s, on page 62 Monitoring SNMP Statu</a>s,  on page 76<a name="bookmark187">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><h3 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark156">How to Configure SNMP</a><a name="bookmark188">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a162">Disabling the SNMP Agent</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The <b>no snmp-server </b>global configuration command disables all running versions (Version 1, Version 2C, and Version 3) of the SNMP agent on the device. You reenable all versions of the SNMP agent by the first <b>snmp-server </b>global configuration command that you enter. There is no Cisco IOS command specifically designated for enabling SNMP.</p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to disable the SNMP agent.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a163">Before You Begin</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The SNMP Agent must be enabled before it can be disabled. The SNMP agent is enabled by the first</p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">snmp-server <span class="p">global configuration command entered on the device.</span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_229.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a164">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ol id="l46"><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a165">enable</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">no snmp-server</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">end</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_230.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 89pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 89pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">no snmp-server</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>no snmp-server</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Disables the SNMP agent operation.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 10pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_231.png"/></span></p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: justify;">Related Topics</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark177" class="a">SNMP Agent Function</a><a href="#bookmark196" class="a">s,  on page 55 Monitoring SNMP Statu</a>s,  on page 76</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark157">Configuring Community Strings</a><a name="bookmark189">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">You use the SNMP community string to define the relationship between the SNMP manager and the agent. The community string acts like a password to permit access to the agent on the switch. Optionally, you can specify one or more of these characteristics associated with the string:</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><ul id="l47"><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">An access list of IP addresses of the SNMP managers that are permitted to use the community string to gain access to the agent</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">A MIB view, which defines the subset of all MIB objects accessible to the given community</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 99pt;text-indent: 16pt;line-height: 186%;text-align: left;"><p style="display: inline;">Read and write or read-only permission for the MIB objects accessible to the community Follow these steps to configure a community string on the switch.</p></li></ul></li></ol></li></ol><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a166">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l48"><li style="padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p class="s2" style="display: inline;"><a name="a167">enable</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p style="display: inline;"><b>snmp-server community </b><i>string </i>[<b>view </b><i>view-name</i>] [<b>ro </b>| <b>rw</b>] [<i>access-list-number</i>]</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p style="display: inline;"><b>access-list </b><i>access-list-number </i>{<b>deny </b>| <b>permit</b>} <i>source </i>[<i>source-wildcard</i>]</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p class="s2" style="display: inline;"><a name="a168">end</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_232.png"/></span></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 58pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 58pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">snmp-server community <i>string </i><span class="s18">[</span>view</p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;"><i>view-name</i>] [<b>ro </b>| <b>rw</b>] [<i>access-list-number</i>]</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Configures the community string.</p></td></tr></table><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_233.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_234.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 34pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server community comaccess ro 4</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s30" style="padding-left: 37pt;text-indent: -35pt;text-align: left;">Note       <span class="s18">The @ symbol is used for delimiting the context information. Avoid using the @ symbol as part of the SNMP community string when configuring this command.</span></p><ul id="l49"><li style="padding-top: 1pt;padding-left: 24pt;text-indent: -6pt;text-align: justify;"><p class="s18" style="display: inline;">For <i>string</i>, specify a string that acts like a password and permits access to the SNMP protocol. You can configure one or more community strings of any length.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) For <b>view</b>, specify the view record accessible to the community.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) Specify either read-only (<b>ro</b>) if you want authorized management stations to retrieve MIB objects, or specify read-write (<b>rw</b>) if you want authorized management stations to retrieve and modify MIB objects. By default, the community string permits read-only access to all objects.</p></li><li style="padding-left: 24pt;padding-right: 21pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) For <i>access-list-number</i>, enter an IP standard access list numbered from 1 to 99 and 1300 to 1999.</p></li></ul><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">access-list <i>access-list-number </i><span class="s18">{</span>deny <span class="s18">|</span></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>permit</b>} <i>source </i>[<i>source-wildcard</i>]</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 7pt;padding-right: 2pt;text-indent: -4pt;line-height: 9pt;text-align: left;">Switch(config)# <b>access-list 4 deny any</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 4pt;text-indent: 0pt;text-align: left;">(Optional) If you specified an IP standard access list number in Step 3, then create the list, repeating the command as many times as necessary.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l50"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>access-list-number</i>, enter the access list number specified in Step 3.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">The <b>deny </b>keyword denies access if the conditions are matched. The</p></li><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: justify;"><p class="s18" style="display: inline;">For <i>source</i>, enter the IP address of the SNMP managers that are permitted to use the community string to gain access to the agent.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: justify;"><p class="s18" style="display: inline;">(Optional) For <i>source-wildcard</i>, enter the wildcard bits in dotted decimal notation to be applied to the source. Place ones in the bit positions that you want to ignore.</p></li></ul><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s19" style="padding-left: 24pt;padding-right: 21pt;text-indent: 0pt;line-height: 11pt;text-align: left;">permit <span class="s18">keyword permits access if the conditions are matched.</span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;padding-right: 1pt;text-indent: 0pt;text-align: left;">Recall that the access list is always terminated by an implicit deny statement for everything.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_235.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 58pt;text-indent: 0pt;text-align: left;"><a name="a169">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 58pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.809pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 34pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_236.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: justify;">What to Do Next</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">To disable access for an SNMP community, set the community string for that community to the null string (do not enter a value for the community string).</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">To remove a specific community string, use the <b>no snmp-server </b>community string global configuration command.</p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: justify;">You can specify an identification name (engine ID) for the local or remote SNMP server engine on the switch. You can configure an SNMP server group that maps SNMP users to SNMP views, and you can add new users to the SNMP group.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: justify;"><a name="bookmark158">Related Topics</a><a name="bookmark190">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark178" class="a">SNMP Community String</a>s, on page 55</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="text-indent: 0pt;text-align: center;"><a name="a170">Configuring SNMP Groups and Users</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">You can specify an identification name (engine ID) for the local or remote SNMP server engine on the switch. You can configure an SNMP server group that maps SNMP users to SNMP views, and you can add new users to the SNMP group.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">Follow these steps to configure SNMP groups and users on the switch.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a171">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l51"><li style="padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p class="s2" style="display: inline;"><a name="a172">enable</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p style="display: inline;"><b>snmp-server engineID </b>{<b>local </b><i>engineid-string </i>| <b>remote </b><i>ip-address </i>[<b>udp-port </b><i>port-number</i>] <i>engineid-string</i>}</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">snmp-server group <i>group-name </i><span class="p">{</span>v1 <span class="p">| </span>v2c <span class="p">| </span>v3 <span class="p">{</span>auth <span class="p">| </span>noauth <span class="p">| </span>priv<span class="p">}} [</span>read <i>readview</i><span class="p">] [</span>write <i>writeview</i><span class="p">] [</span>notify <i>notifyview</i><span class="p">] [</span>access <i>access-list</i><span class="p">]</span></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p class="s2" style="display: inline;">snmp-server user <i>username group-name </i><span class="p">{</span>remote <i>host </i><span class="p">[ </span>udp-port <i>port</i><span class="p">]} {</span>v1 <span class="p">[</span>access <i>access-list</i><span class="p">] | </span>v2c</p><p style="padding-left: 114pt;text-indent: 0pt;text-align: left;">[<b>access </b><i>access-list</i>] | <b>v3 </b>[<b>encrypted</b>] [<b>access </b><i>access-list</i>] [<b>auth </b>{<b>md5 </b>| <b>sha</b>} <i>auth-password</i>] } [<i>priv </i>{<b>des</b></p><p style="padding-left: 114pt;text-indent: 0pt;text-align: left;">| <b>3des </b>| <b>aes </b>{<b>128 </b>| <b>192 </b>| <b>256</b>}} <i>priv-password</i>]</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p class="s2" style="display: inline;"><a name="a173">end</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_237.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_238.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 48pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 48pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">snmp-server engineID <span class="s18">{</span>local</p><p class="s20" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">engineid-string <span class="s18">| </span><b>remote </b>ip-address</p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">[<b>udp-port </b><i>port-number</i>] <i>engineid-string</i>}</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 34pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server engineID local 1234</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Configures a name for either the local or remote copy of SNMP.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l52"><li style="padding-left: 24pt;padding-right: 2pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">The <i>engineid-string </i>is a 24-character ID string with the name of the copy of SNMP. You need not specify the entire 24-character engine ID if it has trailing zeros. Specify only the portion of the engine ID up to the point where only zeros remain in the value. The Step Example configures an engine ID of 123400000000000000000000.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">If you select <b>remote</b>, specify the <i>ip-address </i>of the device that contains the remote copy of SNMP and the optional User Datagram Protocol (UDP) port on the remote device. The default is 162.</p></li></ul><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;padding-right: 9pt;text-indent: 0pt;text-align: left;">snmp-server group <i>group-name </i><span class="s18">{</span>v1 <span class="s18">| </span>v2c <span class="s18">| </span>v3 <span class="s18">{</span>auth <span class="s18">| </span>noauth <span class="s18">| </span>priv<span class="s18">}} [</span>read <i>readview</i><span class="s18">] [</span>write <i>writeview</i><span class="s18">] [</span>notify <i>notifyview</i><span class="s18">] [</span>access <i>access-list</i><span class="s18">]</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server group public v2c access lmnop</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 102pt;text-indent: 0pt;line-height: 147%;text-align: left;">Configures a new SNMP group on the remote device. For <i>group-name</i>, specify the name of the group. Specify one of the following security models:</p><ul id="l53"><li style="padding-top: 1pt;padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">v1 <span class="s18">is the least secure of the possible security models.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s19" style="display: inline;">v2c <span class="s18">is the second least secure model. It allows transmission of informs and integers twice the normal width.</span></p></li><li style="padding-left: 24pt;padding-right: 44pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s19" style="display: inline;">v3<span class="s18">, the most secure, requires you to select one of the following authentication levels:</span></p></li></ul><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s19" style="padding-top: 4pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">auth<span class="s35">—</span><span class="s18">Enables the Message Digest 5 (MD5) and the Secure Hash Algorithm (SHA) packet authentication.</span></p><p class="s19" style="padding-top: 4pt;padding-left: 24pt;padding-right: 6pt;text-indent: 0pt;text-align: left;">noauth<span class="s35">—</span><span class="s18">Enables the noAuthNoPriv security level. This is the default if no keyword is specified.</span></p><p class="s19" style="padding-top: 4pt;padding-left: 24pt;padding-right: 5pt;text-indent: 0pt;text-align: left;">priv<span class="s35">—</span><span class="s18">Enables Data Encryption Standard (DES) packet encryption (also called privacy).</span></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">(Optional) Enter <b>read </b><i>readview </i>with a string (not to exceed 64 characters) that is the name of the view in which you can only view the contents of the agent.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_239.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_240.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 48pt;text-indent: 0pt;text-align: left;"><a name="a174">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 48pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: justify;">(Optional) Enter <b>write </b><i>writeview </i>with a string (not to exceed 64 characters) that is the name of the view in which you enter data and configure the contents of the agent.</p><p class="s18" style="padding-top: 4pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Enter <b>notify </b><i>notifyview </i>with a string (not to exceed 64 characters) that is the name of the view in which you specify a notify, inform, or trap.</p><p class="s18" style="padding-top: 4pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Enter <b>access </b><i>access-list </i>with a string (not to exceed 64 characters) that is the name of the access list.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">snmp-server user <i>username group-name</i></p><p class="s18" style="padding-left: 2pt;padding-right: 17pt;text-indent: 0pt;text-align: left;">{<b>remote </b><i>host </i>[ <b>udp-port </b><i>port</i>]} {<b>v1 </b>[<b>access </b><i>access-list</i>] | <b>v2c </b>[<b>access </b><i>access-list</i>] | <b>v3 </b>[<b>encrypted</b>] [<b>access </b><i>access-list</i>] [<b>auth </b>{<b>md5 </b>| <b>sha</b>}</p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;"><i>auth-password</i>] } [<i>priv </i>{<b>des </b>| <b>3des </b>| <b>aes</b></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">{<b>128 </b>| <b>192 </b>| <b>256</b>}} <i>priv-password</i>]</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server user Pat public v2c</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Adds a new user for an SNMP group.</p><p class="s18" style="padding-left: 2pt;padding-right: 5pt;text-indent: 0pt;line-height: 17pt;text-align: left;">The <i>username </i>is the name of the user on the host that connects to the agent. The <i>group-name </i>is the name of the group to which the user is associated. Enter <b>remote </b>to specify a remote SNMP entity to which the user belongs and</p><p class="s18" style="padding-left: 2pt;padding-right: 10pt;text-indent: 0pt;text-align: left;">the hostname or IP address of that entity with the optional UDP port number. The default is 162.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Enter the SNMP version number (<b>v1</b>, <b>v2c</b>, or <b>v3</b>). If you enter <b>v3</b>, you have these additional options:</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><ul id="l54"><li style="padding-left: 24pt;padding-right: 5pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s19" style="display: inline;">encrypted <span class="s18">specifies that the password appears in encrypted format. This keyword is available only when the </span>v3 <span class="s18">keyword is specified.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;"><b>auth </b>is an authentication level setting session that can be either the HMAC-MD5-96 (<b>md5</b>) or the HMAC-SHA-96 (<b>sha</b>) authentication level and requires a password string <i>auth-password </i>(not to exceed 64 characters).</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">priv <span class="s18">specifies the User-based Security Model (USM).</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">des <span class="s18">specifies the use of the 56-bit DES algorithm.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">3des <span class="s18">specifies the use of the 168-bit DES algorithm.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s19" style="display: inline;">aes <span class="s18">specifies the use of the DES algorithm. You must select either 128-bit, 192-bit, or 256-bit encryption.</span></p></li></ul><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: justify;">If you enter <b>v3 </b>you can also configure a private (<b>priv</b>) encryption algorithm and password string <i>priv-password </i>using the following keywords (not to exceed 64 characters):</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Enter <b>access </b><i>access-list </i>with a string (not to exceed 64 characters) that is the name of the access list.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr></table><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_241.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 48pt;text-indent: 0pt;text-align: left;"><a name="a175">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 48pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 8</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 34pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_242.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: justify;">Related Topics</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark186" class="a" name="bookmark159">SNMP Configuration Guideline</a><a href="#bookmark196" class="a">s,  on page 57 Monitoring SNMP Statu</a>s,  on page 76<a name="bookmark191">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a176">Configuring SNMP Notifications</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">A trap manager is a management station that receives and processes traps. Traps are system alerts that the switch generates when certain events occur. By default, no trap manager is defined, and no traps are sent. Switches running this Cisco IOS release can have an unlimited number of trap managers.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 64pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="24" alt="image" src="Image_243.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_244.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">Many commands use the word <b>traps </b>in the command syntax. Unless there is an option in the command to select either traps or informs, the keyword <b>traps </b>refers to traps, informs, or both. Use the <b>snmp-server host </b>global configuration command to specify whether to send SNMP notifications as traps or informs.</p><p style="padding-top: 4pt;padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_245.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">You can use the <b>snmp-server host </b>global configuration command for a specific host to receive the notification types listed in the following table. You can enable any or all of these traps and configure a trap manager to receive them.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s14" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Table 10: Device Notification Types</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: justify;"><a name="a177">Notification Type Keyword</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 102pt;text-indent: 0pt;line-height: 168%;text-align: justify;">bridge cluster config</p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="158" alt="image" src="Image_246.png"/></span></p><p class="s2" style="padding-left: 102pt;text-indent: 0pt;line-height: 168%;text-align: left;">copy-config cpu threshold</p><p class="s2" style="padding-top: 3pt;padding-left: 48pt;text-indent: 0pt;text-align: left;">Description</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 48pt;text-indent: 0pt;text-align: left;">Generates STP bridge MIB traps.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 48pt;text-indent: 0pt;line-height: 168%;text-align: left;">Generates a trap when the cluster configuration changes. Generates a trap for SNMP configuration changes. Generates a trap for SNMP copy configuration changes. Allow CPU-related traps.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_247.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;"><a name="a178">Notification Type Keyword</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="79" alt="image" src="Image_248.png"/></span></p><p class="s2" style="padding-left: 20pt;text-indent: 0pt;text-align: center;">entity</p><p class="s2" style="padding-top: 3pt;padding-left: 48pt;text-indent: 0pt;text-align: left;">Description</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 48pt;text-indent: 0pt;text-align: left;">Generates a trap for SNMP entity changes.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:99.409pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">envmon</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 7pt;text-indent: 0pt;text-align: left;">Generates environmental monitor traps. You can enable any or all of these environmental traps: fan, shutdown, status, supply, temperature.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">flash</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Generates SNMP FLASH notifications. In a switch stack, you can optionally enable notification for flash insertion or removal, which would cause a trap to be issued whenever a switch in the stack is removed or inserted (physical removal, power cycle, or reload).</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">fru-ctrl</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Generates entity field-replaceable unit (FRU) control traps. In the switch stack, this trap refers to the insertion or removal of a switch in the stack.</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="54" alt="image" src="Image_249.png"/></span></p><p class="s2" style="padding-top: 2pt;padding-left: 103pt;text-indent: 0pt;line-height: 168%;text-align: left;"><a name="a179">hsrp ipmulticast</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="105" alt="image" src="Image_250.png"/></span></p><p class="s2" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">mac-notification</p><p style="padding-top: 2pt;padding-left: 85pt;text-indent: 0pt;line-height: 168%;text-align: left;">Generates a trap for Hot Standby Router Protocol (HSRP) changes. Generates a trap for IP multicast routing changes.</p><p style="padding-left: 85pt;text-indent: 0pt;text-align: left;">Generates a trap for MAC address notifications.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:99.409pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">ospf</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: justify;">Generates a trap for Open Shortest Path First (OSPF) changes. You can enable any or all of these traps: Cisco specific, errors, link-state advertisement, rate limit, retransmit, and state changes.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">pim</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Generates a trap for Protocol-Independent Multicast (PIM) changes. You can enable any or all of these traps: invalid PIM messages, neighbor changes, and rendezvous point (RP)-mapping changes.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">port-security</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 6pt;text-indent: 0pt;text-align: justify;">Generates SNMP port security traps. You can also set a maximum trap rate per second. The range is from 0 to 1000; the default is 0, which means that there is no rate limit.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 38pt;padding-right: 8pt;text-indent: -35pt;text-align: left;"><span class="s30">Note       </span>When you configure a trap by using the notification type <b>port-security</b>, configure the port security trap first, and then configure the port security trap rate:</p><ol id="l55"><li style="padding-top: 1pt;padding-left: 17pt;text-indent: -14pt;text-align: left;"><p class="s19" style="display: inline;"><a name="a180">snmp-server enable traps port-security</a></p></li><li style="padding-left: 17pt;text-indent: -14pt;text-align: left;"><p class="s19" style="display: inline;">snmp-server enable traps port-security trap-rate <i>rate</i></p></li></ol><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">snmp</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 13pt;text-indent: 0pt;text-align: left;">Generates a trap for SNMP-type notifications for authentication, cold start, warm start, link up or link down.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">storm-control</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Generates a trap for SNMP storm-control. You can also set a maximum trap rate per minute. The range is from 0 to 1000; the default is 0 (no limit is imposed; a trap is sent at every occurrence).</p></td></tr></table><p class="s2" style="padding-top: 2pt;padding-left: 103pt;text-indent: 0pt;line-height: 168%;text-align: left;">stpx syslog tty</p><p class="s2" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">vlan-membership</p><p style="padding-top: 2pt;padding-left: 80pt;text-indent: 0pt;line-height: 168%;text-align: left;">Generates SNMP STP Extended MIB traps. Generates SNMP syslog traps.</p><p style="padding-left: 80pt;text-indent: 0pt;line-height: 168%;text-align: left;">Generates a trap for TCP connections. This trap is enabled by default. Generates a trap for SNMP VLAN membership changes.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_251.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: justify;"><a name="a181">Notification Type Keyword</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="106" alt="image" src="Image_252.png"/></span></p><p class="s2" style="padding-left: 102pt;text-indent: 0pt;line-height: 168%;text-align: justify;">vlancreate vlandelete vtp</p><p class="s2" style="padding-top: 3pt;padding-left: 48pt;text-indent: 0pt;text-align: left;">Description</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 48pt;text-indent: 0pt;line-height: 168%;text-align: left;">Generates SNMP VLAN created traps. Generates SNMP VLAN deleted traps.</p><p style="padding-left: 48pt;text-indent: 0pt;text-align: left;">Generates a trap for VLAN Trunking Protocol (VTP) changes.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to configure the switch to send traps or informs to a host.</p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">SUMMARY STEPS</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ol id="l56"><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a182">enable</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">snmp-server engineID remote <i>ip-address engineid-string</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">snmp-server user <i>username group-name </i><span class="p">{</span>remote <i>host </i><span class="p">[ </span>udp-port <i>port</i><span class="p">]} {</span>v1 <span class="p">[</span>access <i>access-list</i><span class="p">] | </span>v2c</p><p style="padding-left: 113pt;text-indent: 0pt;text-align: left;">[<b>access </b><i>access-list</i>] | <b>v3 </b>[<b>encrypted</b>] [<b>access </b><i>access-list</i>] [<b>auth </b>{<b>md5 </b>| <b>sha</b>} <i>auth-password</i>] }</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">snmp-server group <i>group-name </i><span class="p">{</span>v1 <span class="p">| </span>v2c <span class="p">| </span>v3 <span class="p">{</span>auth <span class="p">| </span>noauth <span class="p">| </span>priv<span class="p">}} [</span>read <i>readview</i><span class="p">] [</span>write <i>writeview</i><span class="p">] [</span>notify <i>notifyview</i><span class="p">] [</span>access <i>access-list</i><span class="p">]</span></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">snmp-server host <i>host-addr </i><span class="p">[</span>informs <span class="p">| </span>traps<span class="p">] [</span>version <span class="p">{</span>1 <span class="p">| </span>2c <span class="p">| </span>3 <span class="p">{</span>auth <span class="p">| </span>noauth <span class="p">| </span>priv<span class="p">}}]</span></p><p class="s23" style="padding-left: 113pt;text-indent: 0pt;text-align: left;">community-string <span class="p">[</span>notification-type<span class="p">]</span></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">snmp-server enable traps <i>notification-types</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">snmp-server trap-source <i>interface-id</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a183">snmp-server queue-length </a><i>length</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">snmp-server trap-timeout <i>seconds</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a184">end</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_253.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;padding-right: 29pt;text-indent: 0pt;text-align: left;">snmp-server engineID remote <i>ip-address engineid-string</i></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the engine ID for the remote host.</p></td></tr></table><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_254.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_255.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 60pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 60pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 7pt;padding-right: 2pt;text-indent: -4pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server engineID remote 192.180.1.27 00000063000100a1c0b4011b</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"/></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>snmp-server user </b><i>username group-name </i>{<b>remote </b><i>host </i>[ <b>udp-port </b><i>port</i>]} {<b>v1 </b>[<b>access </b><i>access-list</i>] | <b>v2c </b>[<b>access </b><i>access-list</i>] | <b>v3 </b>[<b>encrypted</b>] [<b>access </b><i>access-list</i>] [<b>auth </b>{<b>md5 </b>| <b>sha</b>} <i>auth-password</i>] }</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;padding-right: 23pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server user Pat public v2c</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 13pt;text-indent: 0pt;text-align: left;">Configures an SNMP user to be associated with the remote host created in Step 3.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s30" style="padding-left: 37pt;text-indent: -35pt;text-align: left;">Note       <span class="s18">You cannot configure a remote user for an address without first configuring the engine ID for the remote host. Otherwise, you receive an error message, and the command is not executed.</span></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">snmp-server group <i>group-name </i><span class="s18">{</span>v1 <span class="s18">| </span>v2c <span class="s18">| </span>v3</p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">{<b>auth </b>| <b>noauth </b>| <b>priv</b>}} [<b>read </b><i>readview</i>] [<b>write</b></p><p class="s20" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">writeview<span class="s18">] [</span><b>notify </b>notifyview<span class="s18">] [</span><b>access </b>access-list<span class="s18">]</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;padding-right: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server group public v2c access lmnop</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Configures an SNMP group.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 13pt;text-indent: 0pt;text-align: left;"><b>snmp-server host </b><i>host-addr </i>[<b>informs </b>| <b>traps</b>] [<b>version </b>{<b>1 </b>| <b>2c </b>| <b>3 </b>{<b>auth </b>| <b>noauth </b>| <b>priv</b>}}] <i>community-string </i>[<i>notification-type</i>]</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;padding-right: 47pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server host 203.0.113.1 comaccess snmp</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the recipient of an SNMP trap operation.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;padding-right: 1pt;text-indent: 0pt;text-align: left;">For <i>host-addr</i>, specify the name or Internet address of the host (the targeted recipient).</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;padding-right: 10pt;text-indent: 0pt;text-align: left;">(Optional) Specify <b>traps </b>(the default) to send SNMP traps to the host.</p><p class="s18" style="padding-left: 2pt;padding-right: 3pt;text-indent: 0pt;line-height: 17pt;text-align: left;">(Optional) Specify <b>informs </b>to send SNMP informs to the host. (Optional) Specify the SNMP <b>version </b>(<b>1</b>, <b>2c</b>, or <b>3</b>). SNMPv1 does</p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;line-height: 11pt;text-align: left;">not support informs.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;padding-right: 2pt;text-indent: 0pt;text-align: left;">(Optional) For Version 3, select authentication level <b>auth</b>, <b>noauth</b>, or <b>priv</b>.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 37pt;text-indent: -35pt;text-align: left;"><span class="s30">Note       </span>The <b>priv </b>keyword is available only when the cryptographic software image is installed.</p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;line-height: 11pt;text-align: left;">For <i>community-string</i>, when <b>version 1 </b>or <b>version 2c </b>is specified,</p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">enter the password-like community string sent with the notification operation. When <b>version 3 </b>is specified, enter the SNMPv3 username.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">The @ symbol is used for delimiting the context information. Avoid using the @ symbol as part of the SNMP community string when configuring this command.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) For <i>notification-type</i>, use the keywords listed in the table above. If no type is specified, all notifications are sent.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">snmp-server enable traps <i>notification-types</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server enable traps snmp</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: justify;">Enables the switch to send traps or informs and specifies the type of notifications to be sent. For a list of notification types, see the table above, or enter <b>snmp-server enable traps ?</b></p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_256.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_257.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">To enable multiple types of traps, you must enter a separate</p><p class="s19" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">snmp-server enable traps <span class="s18">command for each trap type.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 37pt;padding-right: 6pt;text-indent: -35pt;text-align: left;"><span class="s30">Note       </span>When you configure a trap by using the notification type <b>port-security</b>, configure the port security trap first, and then configure the port security trap rate:</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><ol id="l57"><li style="padding-left: 51pt;text-indent: -14pt;text-align: left;"><p class="s19" style="display: inline;">snmp-server enable traps port-security</p></li><li style="padding-left: 51pt;text-indent: -14pt;text-align: left;"><p class="s19" style="display: inline;">snmp-server enable traps port-security trap-rate <i>rate</i></p></li></ol><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 8</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">snmp-server trap-source <i>interface-id</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server trap-source GigabitEthernet1/0/1</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Specifies the source interface, which provides the IP address for the trap message. This command also sets the source IP address for informs.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 9</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">snmp-server queue-length <i>length</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server queue-length 20</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Establishes the message queue length for each trap host. The range is 1 to 1000; the default is 10.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 10</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">snmp-server trap-timeout <i>seconds</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server trap-timeout 60</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Defines how often to resend trap messages. The range is 1 to 1000; the default is 30 seconds.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 11</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 12</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 13</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_258.png"/></span></p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">What to Do Next</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The <b>snmp-server host </b>command specifies which hosts receive the notifications. The <b>snmp-server enable trap </b>command globally enables the method for the specified notification (for traps and informs). To enable a host to receive an inform, you must configure an <b>snmp-server host informs </b>command for the host and globally enable informs by using the <b>snmp-server enable traps </b>command.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">To remove the specified host from receiving traps, use the <b>no snmp-server host </b><i>host </i>global configuration command. The <b>no snmp-server host </b>command with no keywords disables traps, but not informs, to the host. To disable informs, use the <b>no snmp-server host informs </b>global configuration command. To disable a specific trap type, use the <b>no snmp-server enable traps </b><i>notification-types </i>global configuration command.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a185">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark180" class="a" name="bookmark160">SNMP Notification</a><a href="#bookmark196" class="a">s,  on page 56 Monitoring SNMP Statu</a>s,  on page 76<a name="bookmark192">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a186">Setting the Agent Contact and Location Information</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to set the system contact and location of the SNMP agent so that these descriptions can be accessed through the configuration file.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a187">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l58"><li style="padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a188">enable</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">snmp-server contact <i>text</i></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">snmp-server location <i>text</i></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">end</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_259.png"/></span></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 87pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 87pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 21pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_260.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 86pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 86pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">snmp-server contact <i>text</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;padding-right: 19pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server contact Dial System Operator at beeper 21555</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Sets the system contact string.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">snmp-server location <i>text</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 7pt;padding-right: 2pt;text-indent: -4pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server location Building 3/Room 222</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Sets the system location string.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_261.png"/></span></p><h4 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark161">Limiting TFTP Servers Used Through SNMP</a><a name="bookmark193">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to limit the TFTP servers used for saving and loading configuration files through SNMP to the servers specified in an access list.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a189">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l59"><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a190">enable</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">snmp-server tftp-server-list <i>access-list-number</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>access-list </b><i>access-list-number </i>{<b>deny </b>| <b>permit</b>} <i>source </i>[<i>source-wildcard</i>]</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a191">end</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_262.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_263.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 67pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 67pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">snmp-server tftp-server-list</p><p class="s20" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">access-list-number</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;padding-right: 58pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server tftp-server-list 44</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 8pt;text-indent: 0pt;text-align: left;">Limits the TFTP servers used for configuration file copies through SNMP to the servers in the access list.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">For <i>access-list-number</i>, enter an IP standard access list numbered from 1 to 99 and 1300 to 1999.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">access-list <i>access-list-number </i><span class="s18">{</span>deny <span class="s18">| </span>permit<span class="s18">}</span></p><p class="s20" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">source <span class="s18">[</span>source-wildcard<span class="s18">]</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;padding-right: 10pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>access-list 44 permit 10.1.1.2</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Creates a standard access list, repeating the command as many times as necessary.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">For <i>access-list-number</i>, enter the access list number specified in Step 3.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">The <b>deny </b>keyword denies access if the conditions are matched. The</p><p class="s19" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">permit <span class="s18">keyword permits access if the conditions are matched.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;padding-right: 4pt;text-indent: 0pt;text-align: left;">For <i>source</i>, enter the IP address of the TFTP servers that can access the switch.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;padding-right: 12pt;text-indent: 0pt;text-align: left;">(Optional) For <i>source-wildcard</i>, enter the wildcard bits, in dotted decimal notation, to be applied to the source. Place ones in the bit positions that you want to ignore.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">The access list is always terminated by an implicit deny statement for everything.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_264.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 66pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 66pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.209pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 58pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_265.png"/></span></p><h4 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark162">Configuring Trap Flags for SNMP</a><a name="bookmark194">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">SUMMARY STEPS</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l60"><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">trapflags ap <span class="p">{ </span>interfaceup | register<span class="p">}</span></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">trapflags client <span class="p">{</span>dot11 | excluded<span class="p">}</span></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">trapflags dot11-security <span class="p">{</span>ids-sig-attack | wep-decrypt-error<span class="p">}</span></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">trapflags mesh</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">trapflags rogueap</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">trapflags rrm-params <span class="p">{</span>channels | tx-power<span class="p">}</span></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">trapflags rrm-profile <span class="p">{</span>coverage | interference | load | noise<span class="p">}</span></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">end</p></li></ol><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_266.png"/></span></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 62pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 62pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">trapflags ap <span class="s18">{ </span>interfaceup | register<span class="s18">}</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>trapflags ap interfaceup</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables sending AP-related traps. Use the <b>no </b>form of the command to disable the trap flags.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><ul id="l61"><li style="padding-left: 24pt;padding-right: 10pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s19" style="display: inline;">interfaceup<span class="s35">– </span><span class="s18">Enables trap when a Cisco AP interface (A or B) comes up.</span></p></li><li style="padding-left: 24pt;padding-right: 11pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s19" style="display: inline;">register<span class="s35">– </span><span class="s18">Enables trap when a Cisco AP registers with a Cisco switch.</span></p></li></ul><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></td></tr></table><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_267.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_268.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 62pt;text-indent: 0pt;text-align: left;"><a name="a192">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 62pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">trapflags client <span class="s18">{</span>dot11 | excluded<span class="s18">}</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 29pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>trapflags client excluded</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 20pt;text-indent: 0pt;text-align: left;">Enables sending client-related dot11 traps. Use the <b>no </b>form of the command to disable the trap flags.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l62"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">dot11<span class="s35">– </span><span class="s18">Enables Dot11 traps for clients.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">excluded<span class="s35">– </span><span class="s18">Enables excluded traps for clients.</span></p></li></ul><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;padding-right: 12pt;text-indent: 0pt;text-align: left;">trapflags dot11-security <span class="s18">{</span>ids-sig-attack | wep-decrypt-error<span class="s18">}</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>trapflags</b></p><p class="s28" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">dot11-security wep-decrypt-error</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables sending 802.11 security-related traps. Use the <b>no </b>form of the command to disable the trap flags.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l63"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">ids-sig-attack<span class="s35">– </span><span class="s18">Enables IDS signature attack traps.</span></p></li><li style="padding-left: 24pt;padding-right: 14pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s19" style="display: inline;">wep-decrypt-error<span class="s35">– </span><span class="s18">Enables traps for WEP decrypt error for clients.</span></p></li></ul><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">trapflags mesh</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>trapflags mesh</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 2pt;text-indent: 0pt;text-align: left;">Enables trap for the mesh. Use the <b>no </b>form of the command to disable the trap flags.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">trapflags rogueap</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>trapflags rogueap</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables trap for rogue AP detection. Use the <b>no </b>form of the command to disable the trap flags.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">trapflags rrm-params <span class="s18">{</span>channels | tx-power<span class="s18">}</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 10pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>trapflags rrm-params tx-power</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables sending RRM-parameter update-related traps. Use the <b>no </b>form of the command to disable the trap flags.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><ul id="l64"><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s19" style="display: inline;">channels<span class="s35">– </span><span class="s18">Enables trap when RF Manager automatically changes a channel number for the Cisco AP interface.</span></p></li><li style="padding-left: 24pt;padding-right: 17pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s19" style="display: inline;">tx-power<span class="s35">– </span><span class="s18">Enables the trap when RF Manager automatically changes Tx-Power level for the Cisco AP interface.</span></p></li></ul><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 8</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">trapflags rrm-profile <span class="s18">{</span>coverage | interference | load | noise<span class="s18">}</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>trapflags rrm-profile interference</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 15pt;text-indent: 0pt;text-align: left;">Enables sending RRM-profile-related traps. Use the <b>no </b>form of the command to disable the trap flags.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><ul id="l65"><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s19" style="display: inline;">coverage<span class="s35">– </span><span class="s18">Enables the trap when the coverage profile maintained by RF Manager fails.</span></p></li><li style="padding-left: 24pt;padding-right: 20pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s19" style="display: inline;">interference<span class="s35">– </span><span class="s18">Enables the trap when the interference profile maintained by RF Manager fails.</span></p></li><li style="padding-left: 24pt;padding-right: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s19" style="display: inline;">load<span class="s35">– </span><span class="s18">Enables trap when the load profile maintained by RF Manager fails.</span></p></li><li style="padding-left: 24pt;padding-right: 16pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s19" style="display: inline;">noise<span class="s35">– </span><span class="s18">Enables trap when the noise profile maintained by RF Manager fails.</span></p></li></ul><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_269.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 62pt;text-indent: 0pt;text-align: left;"><a name="a193">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 62pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.209pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 9</p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_270.png"/></span></p><h4 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark163">Enabling SNMP Wireless Trap Notification</a><a name="bookmark195">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">SUMMARY STEPS</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l66"><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">snmp-server enable traps wireless <span class="p">[</span>AP <span class="p">| </span>RRM <span class="p">| </span>bsn80211SecurityTrap <span class="p">| </span>bsnAPParamUpdate <span class="p">|</span></p><p class="s2" style="padding-left: 113pt;text-indent: 0pt;text-align: left;">bsnAPProfile <span class="p">| </span>bsnAccessPoint <span class="p">| </span>bsnMobileStation <span class="p">| </span>bsnRogue <span class="p">| </span>client <span class="p">| </span>mfp <span class="p">| </span>rogue<span class="p">]</span></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">end</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_271.png"/></span></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;padding-right: 2pt;text-indent: 0pt;text-align: left;">snmp-server enable traps wireless <span class="s18">[</span>AP <span class="s18">| </span>RRM <span class="s18">| </span>bsn80211SecurityTrap <span class="s18">| </span>bsnAPParamUpdate <span class="s18">| </span>bsnAPProfile <span class="s18">| </span>bsnAccessPoint <span class="s18">| </span>bsnMobileStation <span class="s18">| </span>bsnRogue <span class="s18">| </span>client <span class="s18">| </span>mfp <span class="s18">| </span>rogue<span class="s18">]</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 9pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server enable traps wireless AP</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-right: 101pt;text-indent: 0pt;text-align: center;">Enables SNMP wireless trap notification.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></td></tr></table><ul id="l67"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">AP<span class="s35">– </span><span class="s18">Enables access point traps.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">RRM<span class="s35">– </span><span class="s18">Enables RRM traps.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">bsn80211SecurityTrap<span class="s35">– </span><span class="s18">Enables the security-related trap.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s19" style="display: inline;">bsnAPParamUpdate<span class="s35">– </span><span class="s18">Enables the trap for AP parameters that get updated.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">bsnAPProfile<span class="s35">– </span><span class="s18">Enables BSN AP profile traps.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">bsnAccessPoint<span class="s35">– </span><span class="s18">Enables BSN access point traps.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">bsnMobileStation<span class="s35">– </span><span class="s18">Controls wireless client traps.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">bsnRogue<span class="s35">– </span><span class="s18">Enables BSN rogue-related traps.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">client<span class="s35">– </span><span class="s18">Enables client traps.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">mfp<span class="s35">– </span><span class="s18">Enables MFP traps.</span></p></li></ul><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_272.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 58pt;text-indent: 0pt;text-align: left;"><a name="a194">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 58pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"/></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr></table><ul id="l68"><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s19" style="display: inline;">rogue<span class="s35">– </span><span class="s18">Enables rogue-related traps.</span></p></li></ul><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_273.png"/></span></p><h3 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark164">Monitoring SNMP Status</a><a name="bookmark196">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">To display SNMP input and output statistics, including the number of illegal community string entries, errors, and requested variables, use the <b>show snmp </b>privileged EXEC command. You also can use the other privileged EXEC commands listed in the table to display SNMP information.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="28" alt="image" src="Image_274.png"/></span></p><p class="s14" style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">Table 11: Commands for Displaying SNMP Information</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: right;"><a name="a195">Command</a></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:99.409pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show snmp</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Displays SNMP statistics.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show snmp engineID</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 6pt;text-indent: 0pt;text-align: left;">Displays information on the local SNMP engine and all remote engines that have been configured on the device.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show snmp group</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Displays information on each SNMP group on the network.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show snmp pending</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Displays information on pending SNMP requests.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show snmp sessions</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Displays information on the current SNMP sessions.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show snmp user</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 12pt;text-indent: 0pt;text-align: left;">Displays information on each SNMP user name in the SNMP users table.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 38pt;padding-right: 3pt;text-indent: -35pt;text-align: left;"><span class="s30">Note       </span>You must use this command to display SNMPv3 configuration information for <b>auth </b>| <b>noauth </b>| <b>priv </b>mode. This information is not displayed in the <b>show</b></p><p class="s19" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">running-config <span class="s18">output.</span></p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Related Topics</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark188" class="a">Disabling the SNMP Agen</a><a href="#bookmark177" class="a">t,  on page 58 SNMP Agent Function</a>s,  on page 55</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark190" class="a">Configuring SNMP Groups and User</a><a href="#bookmark186" class="a">s, on page 62 SNMP Configuration Guideline</a>s,  on page 57</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_275.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-top: 3pt;padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark191" class="a">Configuring SNMP Notification</a><a href="#bookmark180" class="a">s,  on page 65 SNMP Notification</a>s,  on page 56</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark165">SNMP Examples</a><a name="bookmark197">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">This example shows how to enable all versions of SNMP. The configuration permits any SNMP manager to access all objects with read-only permissions using the community string <i>public</i>. This configuration does not cause the switch to send any traps.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>snmp-server community public</b></p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to permit any SNMP manager to access all objects with read-only permission using the community string <i>public</i>. The switch also sends VTP traps to the hosts 192.180.1.111 and 192.180.1.33 using SNMPv1 and to the host 192.180.1.27 using SNMPv2C. The community string <i>public </i>is sent with the traps.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>snmp-server community public</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server enable traps vtp</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server host 192.180.1.27 version 2c public</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server host 192.180.1.111 version 1 public</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server host 192.180.1.33 public</b></p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to allow read-only access for all objects to members of access list 4 that use the <i>comaccess </i>community string. No other SNMP managers have access to any objects. SNMP Authentication Failure traps are sent by SNMPv2C to the host <i>cisco.com </i>using the community string <i>public</i>.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server community comaccess ro 4 </b>Switch(config)# <b>snmp-server enable traps snmp authentication </b>Switch(config)# <b>snmp-server host cisco.com version 2c public</b></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to send Entity MIB traps to the host <i>cisco.com</i>. The community string is restricted. The first line enables the switch to send Entity MIB traps in addition to any traps previously enabled. The second line specifies the destination of these traps and overwrites any previous <b>snmp-server </b>host commands for the host <i>cisco.com</i>.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>snmp-server enable traps entity</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server host cisco.com restricted entity</b></p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to enable the switch to send all traps to the host <i>myhost.cisco.com </i>using the community string <i>public</i>:</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>snmp-server enable traps</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server host myhost.cisco.com public</b></p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to associate a user with a remote host and to send <b>auth </b>(authNoPriv) authentication-level informs when the user enters global configuration mode:</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>snmp-server engineID remote 192.180.1.27 00000063000100a1c0b4011b</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server group authgroup v3 auth</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server user authuser authgroup remote 192.180.1.27 v3 auth md5 mypassword</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server user authuser authgroup v3 auth md5 mypassword</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server host 192.180.1.27 informs version 3 auth authuser config</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server enable traps</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>snmp-server inform retries 0</b></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_276.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h3 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark166">Additional References</a><a name="bookmark198">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a196">Related Documents</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;">Related Topic</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">SNMP Commands</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="76" alt="image" src="Image_277.png"/></span></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a197">Error Message Decoder</a></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Document Title</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s23" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Network Management Command Reference, Cisco IOS XE Release 3E</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: center;"><a name="a198">Description</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">To help you research and resolve system error messages in this release, use the Error Message Decoder tool.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="92" alt="image" src="Image_278.png"/></span></p><p class="s2" style="padding-left: 98pt;text-indent: 0pt;text-align: center;"><a name="a199">Standards and RFCs</a></p><p class="s2" style="padding-top: 3pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">Link</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 107%;text-align: left;"><a href="https://www.cisco.com/cgi-bin/Support/Errordecoder/index.cgi" class="a" target="_blank">https://www.cisco.com/cgi-bin/Support/Errordecoder/ index.cgi</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;"><a name="a200">Standard/RFC</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">None</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="70" alt="image" src="Image_279.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="115" alt="image" src="Image_280.png"/></span></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a201">MIBs</a></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Title</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">-</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: center;"><a name="a202">MIB</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">All supported MIBs for this release.</p><p class="s2" style="padding-top: 3pt;padding-left: 70pt;text-indent: 0pt;text-align: justify;"><a name="a203">MIBs Link</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 70pt;text-indent: 0pt;text-align: justify;">To locate and download MIBs for selected platforms, Cisco IOS releases, and feature sets, use Cisco MIB Locator found at the following URL:</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 70pt;text-indent: 0pt;text-align: justify;"><a href="http://www.cisco.com/go/mibs" class="a" target="_blank">http://www.cisco.com/go/mibs</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_281.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="234" alt="image" src="Image_282.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a204">Technical Assistance</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: left;">Description</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">The Cisco Support website provides extensive online resources, including documentation and tools for troubleshooting and resolving technical issues with Cisco products and technologies.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">To receive security and technical information about your products, you can subscribe to various services, such as the Product Alert Tool (accessed from Field Notices), the Cisco Technical Services Newsletter, and Really Simple Syndication (RSS) Feeds.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">Access to most tools on the Cisco Support website requires a Cisco.com user ID and password.</p><p class="s2" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a205">Link</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/support" class="a" target="_blank">http://www.cisco.com/support</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="60" alt="image" src="Image_283.png"/></span></p><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark167">Feature History and Information for Simple Network Management Protocol</a><a name="bookmark199">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 101pt;text-indent: 0pt;text-align: center;"><a name="a206">Release</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">Cisco IOS XE 3.2SECisco IOS XE 3.2SE</p><p class="s2" style="padding-top: 3pt;padding-left: 101pt;text-indent: 0pt;text-align: center;"><a name="a207">Modification</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">This feature was introduced.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_284.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_285.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="576" height="144" alt="image" src="Image_286.jpg"/></span></p><p class="s10" style="padding-left: 315pt;text-indent: 0pt;line-height: 54pt;text-align: left;"><a name="bookmark200">C H A P T E R   </a><span class="h1">5</span><a name="bookmark216">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h2 style="padding-top: 1pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Configuring Cache Services Using the Web Cache Communication Protocol</h2><p style="padding-top: 1pt;padding-left: 96pt;text-indent: 0pt;text-align: left;"><span><img width="584" height="6" alt="image" src="Image_287.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><ul id="l69"><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark217" class="a">Finding Feature Information, page 81</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark218" class="a">Prerequisites for WCCP, page 81</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark219" class="a">Restrictions for WCCP, page 82</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark220" class="a">Information About WCCP, page 83</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark227" class="a">How to Configure WCCP, page 86</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark230" class="a">Additional References, page 92</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark231" class="a" name="bookmark201">Feature History and Information for Web Cache Communication Protocol, page 93</a><a name="bookmark217">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a208">Finding Feature Information</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Your software release may not support all the features documented in this module. For the latest caveats and feature information, see Bug Search Tool and the release notes for your platform and software release. To find information about the features documented in this module, and to see a list of the releases in which each feature is supported, see the feature information table at the end of this module.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/go/cfn" class="s4" target="_blank" name="bookmark202">Use Cisco Feature Navigator to find information about platform support and Cisco software image support. To access Cisco Feature Navigator, go to </a><a href="http://www.cisco.com/go/cfn" class="a" target="_blank">http://www.cisco.com/go/cf</a>n<span style=" color: #000;">. An account on Cisco.com is not required.</span><a name="bookmark218">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a209">Prerequisites for WCCP</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Before configuring WCCP on your switch, make sure you adhere to the following configuration prerequisites:</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><ul id="l70"><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: justify;"><p style="display: inline;">The application engines and switches in the same service group must be in the same subnetwork directly connected to the switch that has WCCP enabled.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: justify;"><p style="display: inline;">Configure the switch interfaces that are connected to the clients, the application engines, and the server as Layer 3 interfaces (routed ports and switch virtual interfaces [SVIs]). For WCCP packet redirection to work, the servers, application engines, and clients must be on different subnets.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_288.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-top: 4pt;padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Use only nonreserved multicast addresses when configuring a single multicast address for each application engine.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">WCCP entries and PBR entries use the same TCAM region. WCCP is supported only on the templates that support PBR: access, routing, and dual IPv4/v6 routing.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">When TCAM entries are not available to add WCCP entries, packets are not redirected and are forwarded by using the standard routing tables.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">The number of available policy-based routing (PBR) labels are reduced as more interfaces are enabled for WCCP ingress redirection. For every interface that supports service groups, one label is consumed. The WCCP labels are taken from the PBR labels. You need to monitor and manage the labels that are available between PBR and WCCP. When labels are not available, the switch cannot add service groups. However, if another interface has the same sequence of service groups, a new label is not needed, and the group can be added to the interface.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: justify;"><p style="display: inline;"><a name="bookmark203">The routing maximum transmission unit (MTU) size configured on the stack member switches should be larger than the client MTU size. The MAC-layer MTU size configured on ports connected to application engines should consider the GRE tunnel header bytes.</a><a name="bookmark219">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h3 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a210">Restrictions for WCCP</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a211">Unsupported WCCP Features</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The following WCCP features are not supported in this software release:</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Packet redirection on an outbound interface that is configured by using the <b>ip wccp redirect out </b>interface configuration command.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">The GRE forwarding method for packet redirection.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">GRE redirect and return.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">The hash assignment method for load balancing.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">SNMP support for WCCP.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Hash assignments in hardware. You can load balance using mask assignments only.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Redirection for fragmented packets. This is a security feature.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a212">General Restrictions</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Maximum number of service groups: eight ingress and eight egress.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">You cannot configure WCCP and VPN routing/forwarding (VRF) on the same switch interface.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">You cannot configure WCCP and PBR on the same switch interface.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">You cannot configure WCCP and a private VLAN (PVLAN) on the same switch interface.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">The <b>ip wccp redirect exclude in </b>command allows you to exclude ingress packets from egress WCCP methods. It is not needed on the interface to CE.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">When no cache engine is available, matching packets are dropped. This is closed group support. There is no VRF-aware WCCP support and no IPv6 WCCP.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_289.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-top: 4pt;padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">When the device is configured with the <b>ip wccp check services all </b>command, if the redirect ACL fails to match on packet, it will be checked against the next priority service group.</p></li></ul></li></ul></li></ol><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark204">Information About WCCP</a><a name="bookmark220">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark205">WCCP Overview</a><a name="bookmark221">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 64pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="24" alt="image" src="Image_290.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_291.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">To use this feature, the device must be running the IP Services feature set.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_292.png"/></span></p><p style="padding-top: 2pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">WCCP is a Cisco-developed content-routing technology that you can use to integrate wide-area application engines (referred to as application engines) into your network infrastructure. The application engines transparently store frequently accessed content and then fulfill successive requests for the same content, eliminating repetitive transmissions of identical content from servers. Application engines accelerate content delivery and ensure maximum scalability and availability of content. In a service-provider network, you can deploy the WCCP and application engine solution at the points of presence (POPs). In an enterprise network, you can deploy the WCCP and application engine solution at a regional site or small branch office.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">The WCCP and Cisco cache engines (or other application engines running WCCP) localize traffic patterns in the network, enabling content requests to be fulfilled locally.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">WCCP enables supported Cisco routers and switches to transparently redirect content requests. With transparent redirection, users do not have to configure their browsers to use a web proxy. Instead, they can use the target URL to request content, and their requests are automatically redirected to an application engine. The word transparent means that the end user does not know that a requested file (such as a web page) came from the application engine instead of from the originally specified server.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;"><a name="bookmark206">When an application engine receives a request, it attempts to service it from its own local cache. If the requested information is not present, the application engine sends a separate request to the end server to retrieve the requested information. After receiving the requested information, the application engine forwards it to the requesting client and also caches it to fulfill future requests.</a><a name="bookmark222">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">With WCCP, the application-engine cluster (a series of application engines) can service multiple routers or switches.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a213">WCCP Message Exchange</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The following sequence of events describes the WCCP message exchange:</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><ol id="l71"><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">The application engines send their IP addresses to the WCCP-enabled switch by using WCCP, signaling their presence through a Here I am message. The switch and application engines communicate to each other through a control channel based on UDP port 2048.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">The WCCP-enabled switch uses the application engine IP information to create a cluster view (a list of application engines in the cluster). This view is sent through an I see you message to each application engine in the cluster, essentially making all the application engines aware of each other. A stable view is established after the membership of the cluster remains the same for a certain amount of time.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">When a stable view is established, the application engine in the cluster with the lowest IP address is elected as the designated application engine.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_293.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark207">WCCP Negotiation</a><a name="bookmark223">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">In the exchange of WCCP protocol messages, the designated application engine and the WCCP-enabled switch negotiate these items:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l72"><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Forwarding method (the method by which the switch forwards packets to the application engine). The switch rewrites the Layer 2 header by replacing the packet destination MAC address with the target application engine MAC address. It then forwards the packet to the application engine. This forwarding method requires the target application engine to be directly connected to the switch at Layer 2.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: justify;"><p style="display: inline;">Assignment method (the method by which packets are distributed among the application engines in the cluster). The switch uses some bits of the destination IP address, the source IP address, the destination Layer 4 port, and the source Layer 4 port to determine which application engine receives the redirected packets.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Packet-return method (the method by which packets are returned from the application engine to the switch for normal forwarding). These are the typical reasons why an application engine rejects packets and starts the packet-return feature:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 137pt;text-indent: 0pt;text-align: left;">◦<span class="p">The application engine is overloaded and has no room to service the packets.</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 143pt;text-indent: -6pt;text-align: left;">◦<span class="p">The application engine receives an error message (such as a protocol or authentication error) from the server and uses the dynamic client bypass feature. The bypass enables clients to bypass the application engines and to connect directly to the server.</span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark208">The application engine returns a packet to the WCCP-enabled switch to forward to the server as if the application engine is not present. The application engine does not intercept the reconnection attempt. In this way, the application engine effectively cancels the redirection of a packet to the application engine and creates a bypass flow. If the return method is Layer 2 rewrite, the packets are forwarded in hardware to the target server. When the server responds with the information, the switch uses normal Layer 3 forwarding to return the information to the requesting client.</a><a name="bookmark224">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a214">MD5 Security</a></h4><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><a name="bookmark209">WCCP provides an optional security component in each protocol message to enable the switch to use MD5 authentication on messages between the switch and the application engine. Messages that do not authenticate by MD5 (when authentication of the switch is enabled) are discarded by the switch. The password string is combined with the MD5 value to create security for the connection between the switch and the application engine. You must configure the same password on each application engine.</a><a name="bookmark225">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a215">Packet Redirection and Service Groups</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You can configure WCCP to classify traffic for redirection, such as FTP, proxy-web-cache handling, and audio and video applications. This classification, known as a service group, is based on the protocol type (TCP or UDP) and the Layer 4 source destination port numbers. The service groups are identified either by well-known names such as web-cache, which means TCP port 80, or a service number, 0 to 99. Service groups are configured to map to a protocol and Layer 4 port numbers and are established and maintained independently. WCCP allows dynamic service groups, where the classification criteria are provided dynamically by a participating application engine.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_294.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">You can configure up to 8 service groups on a switch or switch stack and up to 32 cache engines per service group. WCCP maintains the priority of the service group in the group definition. WCCP uses the priority to configure the service groups in the switch hardware. For example, if service group 1 has a priority of 100 and looks for destination port 80, and service group 2 has a priority of 50 and looks for source port 80, the incoming packet with source and destination port 80 is forwarded by using service group 1 because it has the higher priority.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">WCCP supports a cluster of application engines for every service group. Redirected traffic can be sent to any one of the application engines. The switch supports the mask assignment method of load balancing the traffic among the application engines in the cluster for a service group.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">After WCCP is configured on the switch, the switch forwards all service group packets received from clients to the application engines. However, the following packets are not redirected:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Packets originating from the application engine and targeted to the server.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Packets originating from the application engine and targeted to the client.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Packets returned or rejected by the application engine. These packets are sent to the server.</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You can configure a single multicast address per service group for sending and receiving protocol messages. When there is a single multicast address, the application engine sends a notification to one address, which provides coverage for all routers in the service group, for example, 225.0.0.0. If you add and remove routers dynamically, using a single multicast address provides easier configuration because you do not need to specifically enter the addresses of all devices in the WCCP network.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You can use a router group list to validate the protocol packets received from the application engine. Packets matching the address in the group list are processed, packets not matching the group list address are dropped.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">To disable caching for specific clients, servers, or client/server pairs, you can use a WCCP redirect access control list (ACL). Packets that do not match the redirect ACL bypass the cache and are forwarded normally.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">Before WCCP packets are redirected, the switch examines ACLs associated with all inbound features configured on the interface and permits or denies packet forwarding based on how the packet matches the entries in the ACL.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 64pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_295.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_296.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">Both permit and deny ACL entries are supported in WCCP redirect lists.</p><p style="padding-top: 4pt;padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_297.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;"><a name="bookmark210">When packets are redirected, the output ACLs associated with the redirected interface are applied to the packets. Any ACLs associated with the original port are not applied unless you specifically configure the required output ACLs on the redirected interfaces.</a><a name="bookmark226">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a216">WCCP and Switch Stacks</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">WCCP support is the same for a switch stack as for a standalone switch. WCCP configuration information is propagated to all switches in the stack. All switches in the stack, including the stack master, process the information and program their hardware.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The stack master performs the following WCCP functions:</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Receives protocol packets from any WCCP-enabled interface and sends them out any WCCP-enabled interface in the stack.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Processes the WCCP configuration and propagates the information to all stack members.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_298.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-top: 2pt;padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Distributes the WCCP information to any switch that joins the stack.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Programs its hardware with the WCCP information it processes.</p></li></ul></li></ol><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Stack members receive the WCCP information from the master switch and program their hardware.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark211">How to Configure WCCP</a><a name="bookmark212">&zwnj;</a><a name="bookmark227">&zwnj;</a><a name="bookmark228">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a217">Default WCCP Configuration</a></h4><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: center;"><a name="a218">Feature</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;line-height: 167%;text-align: left;">WCCP enable state Protocol version</p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">Redirecting traffic received on an interface</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="106" alt="image" src="Image_299.png"/></span></p><p class="s2" style="text-indent: 0pt;text-align: center;"><a name="a219">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark229" class="a" name="bookmark213">Enabling the Cache Servic</a>e, on page 86<a name="bookmark229">&zwnj;</a></p><p class="s2" style="padding-top: 3pt;padding-left: 18pt;text-indent: 0pt;text-align: center;"><a name="a220">Default Setting</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;line-height: 167%;text-align: left;">WCCP services are disabled. WCCPv2.</p><p style="text-indent: 0pt;text-align: center;">Disabled.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a221">Enabling the Cache Service</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">For WCCP packet redirection to operate, you must configure the switch interface connected to the client to redirect inbound packets.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This procedure shows how to configure these features on routed ports. To configure these features on SVIs, see the configuration examples that follow the procedure.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to enable the cache service, to set a multicast group address or group list, to configure routed interfaces, to redirect inbound packets received from a client to the application engine, enable an interface to listen for a multicast address, and to set a password. This procedure is required.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a222">Before You Begin</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Configure the SDM template, and reboot the device.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_300.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a223">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ol id="l73"><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a224">enable</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>ip wccp </b>{<b>web-cache </b>| <i>service-number</i>} [<b>group-address </b><i>groupaddress</i>] [<b>group-list </b><i>access-list</i>] [<b>redirect-list</b></p><p class="s23" style="padding-left: 113pt;text-indent: 0pt;text-align: left;">access-list<span class="p">] [</span><b>password </b>encryption-number password<span class="p">]</span></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">interface <i>interface-id</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a225">no switchport</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">ip address <i>ip-address subnet-mask</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a226">no shutdown</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">exit</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">interface <i>interface-id</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a227">no switchport</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">ip address <i>ip-address subnet-mask</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a228">no shutdown</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>ip wccp </b>{<b>web-cache </b>| <i>service-number</i>} <b>redirect in</b></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>ip wccp </b>{<b>web-cache </b>| <i>service-number</i>} <b>group-listen</b></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a229">exit</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">end</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_301.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 70pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 70pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 22pt;text-indent: 0pt;text-align: left;"><b>ip wccp </b>{<b>web-cache </b>| <i>service-number</i>} [<b>group-address </b><i>groupaddress</i>] [<b>group-list</b></p><p class="s20" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">access-list<span class="s18">] [</span><b>redirect-list </b>access-list<span class="s18">] [</span><b>password</b></p><p class="s20" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">encryption-number password<span class="s18">]</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>ip wccp web-cache</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables the cache service, and specifies the service number that corresponds to a dynamic service that is defined by the application engine. By default, this feature is disabled.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: justify;">(Optional) For <b>group-address </b><i>groupaddress</i>, specifies the multicast group address used by the switches and the application engines to participate in the service group.</p></td></tr></table><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_302.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_303.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 71pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 71pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) For <b>group-list </b><i>access-list</i>, if a multicast group address is not used, specify a list of valid IP addresses that correspond to the application engines that are participating in the service group.</p><p class="s18" style="padding-top: 4pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) For <b>redirect-list </b><i>access-list</i>, specify the redirect service for specific hosts or specific packets from hosts.</p><p class="s18" style="padding-top: 4pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) For <b>password </b><i>encryption-number password</i>, specify an encryption number. The range is 0 to 7. Use 0 for not encrypted, and use 7 for proprietary. Specify a password name up to seven characters in length. The switch combines the password with the MD5 authentication value to create security for the connection between the switch and the application engine. By default, no password is configured, and no authentication is performed.</p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;line-height: 17pt;text-align: left;">You must configure the same password on each application engine. When authentication is enabled, the switch discards messages that</p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;line-height: 11pt;text-align: left;">are not authenticated.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">interface <i>interface-id</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>interface gigabitethernet1/0/1</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 5pt;text-indent: 0pt;text-align: left;">Specifies the interface connected to the application engine or the server, and enters interface configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">no switchport</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-if)# <b>no switchport</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters Layer 3 mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">ip address <i>ip-address subnet-mask</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>ip address 172.20.10.30 255.255.255.0</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Configures the IP address and subnet mask.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">no shutdown</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-if)# <b>no shutdown</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables the interface.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 8</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">exit</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-if)# <b>exit</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to global configuration mode. Repeat Steps 4 through 8 for each application engine and server.</p></td></tr></table><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_304.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_305.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 70pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 70pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 9</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">interface <i>interface-id</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>interface gigabitethernet1/0/2</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the interface connected to the client, and enters interface configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 10</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">no switchport</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-if)# <b>no switchport</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters Layer 3 mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 11</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">ip address <i>ip-address subnet-mask</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>ip address 175.20.20.10 255.255.255.0</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Configures the IP address and subnet mask.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 12</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">no shutdown</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-if)# <b>no shutdown</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables the interface.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 13</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 2pt;text-indent: 0pt;text-align: left;"><b>ip wccp </b>{<b>web-cache </b>| <i>service-number</i>} <b>redirect in</b></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>ip wccp web-cache redirect in</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Redirects packets received from the client to the application engine. Enable this on the interface connected to the client.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 14</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>ip wccp </b>{<b>web-cache </b>| <i>service-number</i>}</p><p class="s19" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">group-listen</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>ip wccp web-cache group-listen</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) When using a multicast group address, the <b>group-listen </b>keyword enables the interface to listen for the multicast address. Enable this on the interface connected to the application engine.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 15</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">exit</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-if)# <b>exit</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to global configuration mode. Repeat Steps 9 through 15 for each client.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 16</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr></table><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_306.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 71pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 71pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 17</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 18</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 64pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_307.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Configuration Examples</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to configure routed interfaces and to enable the cache service with a multicast group address and a redirect access list. Gigabit Ethernet port 1 is connected to the application engine, is configured as a routed port with an IP address of 172.20.10.30, and is reenabled. Gigabit Ethernet port 2 is connected through the Internet to the server, is configured as a routed port with an IP address of 175.20.20.10, and is reenabled. Gigabit Ethernet ports 3 to 6 are connected to the clients and are configured as routed ports with IP addresses 175.20.30.20, 175.20.40.30, 175.20.50.40, and 175.20.60.50. The switch listens for multicast traffic and redirects packets received from the client interfaces to the application engine.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>ip wccp web-cache group-address 224.1.1.100 redirect list 12</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>access-list 12 permit host 10.1.1.1</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>interface gigabitethernet1/0/1</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>no switchport</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>ip address 172.20.10.30 255.255.255.0</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>no shutdown</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>ip wccp web-cache group-listen</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>exit</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>interface gigabitethernet1/0/2</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>no switchport</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>ip address 175.20.20.10 255.255.255.0</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>no shutdown</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>exit</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>interface gigabitethernet1/0/3</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>no switchport</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>ip address 175.20.30.20 255.255.255.0</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>no shutdown</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>ip wccp web-cache redirect in</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>exit</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>interface gigabitethernet1/0/4</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>no switchport</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>ip address 175.20.40.30 255.255.255.0</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>no shutdown</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>ip wccp web-cache redirect in</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>exit</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>interface gigabitethernet1/0/5</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>no switchport</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>ip address 175.20.50.40 255.255.255.0</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>no shutdown</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>ip wccp web-cache redirect in</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>exit</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>interface gigabitethernet1/0/6</b></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_308.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch(config-if)# <b>no switchport</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>ip address 175.20.60.50 255.255.255.0</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>no shutdown</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>ip wccp web-cache redirect in</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>exit</b></p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to configure SVIs and how to enable the cache service with a multicast group list. VLAN 299 is created and configured with an IP address of 175.20.20.10. Gigabit Ethernet port 1 is connected through the Internet to the server and is configured as an access port in VLAN 299. VLAN 300 is created and configured with an IP address of 172.20.10.30. Gigabit Ethernet port 2 is connected to the application engine and is configured as an access port in VLAN 300. VLAN 301 is created and configured with an IP address of 175.20.30.50. Fast Ethernet ports 3 to 6, which are connected to the clients, are configured as access ports in VLAN 301. The switch redirects packets received from the client interfaces to the application engine.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 64pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_309.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_310.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">Both permit and deny ACL entries are supported in WCCP redirect lists.</p><p style="padding-top: 4pt;padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_311.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>ip wccp web-cache group-list 15</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>access-list 15 permit host 171.69.198.102</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>access-list 15 permit host 171.69.198.104</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>access-list 15 permit host 171.69.198.106</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>vlan 299</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-vlan)# <b>exit</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>interface vlan 299</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>ip address 175.20.20.10 255.255.255.0</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>exit</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>interface gigabitethernet1/0/1</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>switchport mode access</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>switchport access vlan 299</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>vlan 300</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-vlan)# <b>exit</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>interface vlan 300</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>ip address 171.69.198.100 255.255.255.0</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>exit</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>interface gigabitethernet1/0/2</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>switchport mode access</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>switchport access vlan 300</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>exit</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>vlan 301</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-vlan)# <b>exit</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>interface vlan 301</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>ip address 175.20.30.20 255.255.255.0</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>ip wccp web-cache redirect in</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if)# <b>exit</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>interface range gigabitethernet1/0/3 - 6</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if-range)# <b>switchport mode access</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if-range)# <b>switchport access vlan 301</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-if-range)# <b>exit</b></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 11pt;text-indent: 0pt;text-align: left;"><a name="a230">What to Do Next</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">To disable the cache service, use the <b>no ip wccp web-cache </b>global configuration command. To disable inbound packet redirection, use the <b>no ip wccp web-cache redirect in </b>interface configuration command. After completing this procedure, configure the application engines in the network.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 11pt;text-indent: 0pt;text-align: left;"><a name="a231">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="text-indent: 0pt;text-align: center;"><a href="#bookmark228" class="a">Default WCCP Configuratio</a>n, on page 86</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_312.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h3 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark214">Additional References</a><a name="bookmark230">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a232">Related Documents</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;">Related Topic</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">SNMP Commands</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="76" alt="image" src="Image_313.png"/></span></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a233">Error Message Decoder</a></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Document Title</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s23" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Network Management Command Reference, Cisco IOS XE Release 3E</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: center;"><a name="a234">Description</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">To help you research and resolve system error messages in this release, use the Error Message Decoder tool.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="92" alt="image" src="Image_314.png"/></span></p><p class="s2" style="padding-left: 98pt;text-indent: 0pt;text-align: center;"><a name="a235">Standards and RFCs</a></p><p class="s2" style="padding-top: 3pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">Link</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 107%;text-align: left;"><a href="https://www.cisco.com/cgi-bin/Support/Errordecoder/index.cgi" class="a" target="_blank">https://www.cisco.com/cgi-bin/Support/Errordecoder/ index.cgi</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;"><a name="a236">Standard/RFC</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">None</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="70" alt="image" src="Image_315.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="115" alt="image" src="Image_316.png"/></span></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a237">MIBs</a></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Title</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">-</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: center;"><a name="a238">MIB</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">All supported MIBs for this release.</p><p class="s2" style="padding-top: 3pt;padding-left: 70pt;text-indent: 0pt;text-align: justify;"><a name="a239">MIBs Link</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 70pt;text-indent: 0pt;text-align: justify;">To locate and download MIBs for selected platforms, Cisco IOS releases, and feature sets, use Cisco MIB Locator found at the following URL:</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 70pt;text-indent: 0pt;text-align: justify;"><a href="http://www.cisco.com/go/mibs" class="a" target="_blank">http://www.cisco.com/go/mibs</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_317.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="234" alt="image" src="Image_318.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a240">Technical Assistance</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: left;">Description</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">The Cisco Support website provides extensive online resources, including documentation and tools for troubleshooting and resolving technical issues with Cisco products and technologies.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">To receive security and technical information about your products, you can subscribe to various services, such as the Product Alert Tool (accessed from Field Notices), the Cisco Technical Services Newsletter, and Really Simple Syndication (RSS) Feeds.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">Access to most tools on the Cisco Support website requires a Cisco.com user ID and password.</p><p class="s2" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a241">Link</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/support" class="a" target="_blank">http://www.cisco.com/support</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="60" alt="image" src="Image_319.png"/></span></p><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark215">Feature History and Information for Web Cache Communication Protocol</a><a name="bookmark231">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 101pt;text-indent: 0pt;text-align: center;"><a name="a242">Release</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">Cisco IOS XE 3.2SECisco IOS XE 3.2SE</p><p class="s2" style="padding-top: 3pt;padding-left: 101pt;text-indent: 0pt;text-align: center;"><a name="a243">Modification</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">This feature was introduced.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_320.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_321.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="576" height="144" alt="image" src="Image_322.jpg"/></span></p><p class="s10" style="padding-left: 315pt;text-indent: 0pt;line-height: 54pt;text-align: left;"><a name="bookmark232">C H A P T E R   </a><span class="h1">6</span><a name="bookmark254">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h2 style="padding-top: 1pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Configuring Service Level Agreements</h2><p style="padding-top: 2pt;padding-left: 96pt;text-indent: 0pt;text-align: left;"><span><img width="584" height="6" alt="image" src="Image_323.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;line-height: 147%;text-align: left;">This chapter describes how to use Cisco IOS IP Service Level Agreements (SLAs) on the switch. Unless otherwise noted, the term <i>switch </i>refers to a standalone switch or a switch stack.</p><ul id="l74"><li style="padding-top: 4pt;padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark255" class="a">Finding Feature Information, page 95</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark256" class="a">Restrictions on SLAs, page 95</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark257" class="a">Information About SLAs, page 96</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark275" class="a">How to Configure IP SLAs Operations, page 102</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark289" class="a">Monitoring IP SLA Operations, page 115</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark291" class="a">Monitoring IP SLA Operation Examples, page 116</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark292" class="a" name="bookmark233">Additional References, page 117</a><a name="bookmark255">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark293" class="a">Feature History and Information for Service Level Agreements, page 118</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a244">Finding Feature Information</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Your software release may not support all the features documented in this module. For the latest caveats and feature information, see Bug Search Tool and the release notes for your platform and software release. To find information about the features documented in this module, and to see a list of the releases in which each feature is supported, see the feature information table at the end of this module.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/go/cfn" class="s4" target="_blank" name="bookmark234">Use Cisco Feature Navigator to find information about platform support and Cisco software image support. To access Cisco Feature Navigator, go to </a><a href="http://www.cisco.com/go/cfn" class="a" target="_blank">http://www.cisco.com/go/cf</a>n<span style=" color: #000;">. An account on Cisco.com is not required.</span><a name="bookmark256">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a245">Restrictions on SLAs</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This section lists the restrictions on SLAs.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The following are restrictions on IP SLAs network performance measurement:</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><ul id="l75"><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">The switch does not support VoIP service levels using the gatekeeper registration delay operations measurements.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_324.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-top: 2pt;padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Only a Cisco IOS device can be a source for a destination IP SLAs responder.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">You cannot configure the IP SLAs responder on non-Cisco devices and Cisco IOS IP SLAs can send operational packets only to services native to those devices.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a246">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark282" class="a">Implementing IP SLA Network Performance Measuremen</a><a href="#bookmark263" class="a">t, on page 104 Network Performance Measurement with Cisco IOS IP SLA</a><a href="#bookmark265" class="a">s, on page 97 IP SLA Responder and IP SLA Control Protoco</a>l,  on page 98</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><h3 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark235">Information About SLAs</a><a name="bookmark236">&zwnj;</a><a name="bookmark257">&zwnj;</a><a name="bookmark258">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark259">Cisco IOS IP Service Level Agreements (SLAs)</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Cisco IOS IP SLAs send data across the network to measure performance between multiple network locations or across multiple network paths. They simulate network data and IP services and collect network performance information in real time. Cisco IOS IP SLAs generate and analyze traffic either between Cisco IOS devices or from a Cisco IOS device to a remote IP device such as a network application server. Measurements provided by the various Cisco IOS IP SLA operations can be used for troubleshooting, for problem analysis, and for designing network topologies.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark260">Depending on the specific Cisco IOS IP SLA operations, various network performance statistics are monitored within the Cisco device and stored in both command-line interface (CLI) and Simple Network Management Protocol (SNMP) MIBs. IP SLA packets have configurable IP and application layer options such as source and destination IP address, User Datagram Protocol (UDP)/TCP port numbers, a type of service (ToS) byte (including Differentiated Services Code Point [DSCP] and IP Prefix bits), Virtual Private Network (VPN) routing/forwarding instance (VRF), and URL web address.</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Because Cisco IP SLAs are Layer 2 transport independent, you can configure end-to-end operations over disparate networks to best reflect the metrics that an end user is likely to experience. IP SLAs support the use of Cisco Mediatrace and Cisco Performance Monitor to collect and analyze the following performance metrics:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Delay (both round-trip and one-way)</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Jitter (directional)</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Packet loss (directional)</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Packet sequencing (packet ordering)</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Path (per hop)</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Connectivity (directional)</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Server or website download time</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">Additionally, the switch also supports Cisco Medianet to enable intelligent services in the network infrastructure for a wide variety of video applications. Cisco Medianet supports the auto-provisioning of endpoints offering video conferencing services and of IP Surveillance cameras through Auto Smartports.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Cisco Mediatrace and Cisco Performance Monitor can be used on switches running the IP Base image or the IP Services image.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_325.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: justify;"><a name="bookmark261">Because Cisco IOS IP SLAs is SNMP-accessible, it can also be used by performance-monitoring applications like Cisco Prime Internetwork Performance Monitor (IPM) and other third-party Cisco partner performance management products.</a><a name="bookmark262">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Using IP SLAs can provide the following benefits:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Service-level agreement monitoring, measurement, and verification.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Network performance monitoring</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 137pt;text-indent: 0pt;text-align: left;">◦<span class="p">Measurement of jitter, latency, or packet loss in the network.</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 137pt;text-indent: 0pt;text-align: left;">◦<span class="p">Continuous, reliable, and predictable measurements.</span></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">IP service network health assessment to verify that the existing QoS is sufficient for new IP services.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Edge-to-edge network availability monitoring for proactive verification and connectivity testing of network resources (for example, shows the network availability of an NFS server used to store business critical data from a remote site).</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Network operation troubleshooting by providing consistent, reliable measurement that immediately identifies problems and saves troubleshooting time.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;"><a name="bookmark237">Multiprotocol Label Switching (MPLS) performance monitoring and network verification (if the switch supports MPLS).</a><a name="bookmark263">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark264">Network Performance Measurement with Cisco IOS IP SLAs</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You can use IP SLAs to monitor the performance between any area in the network<span class="s31">—</span>core, distribution, and edge<span class="s31">—</span>without deploying a physical probe. It uses generated traffic to measure network performance between two networking devices.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The following figure shows how IP SLAs begin when the source device sends a generated packet to the destination device. After the destination device receives the packet, depending on the type of IP SLAs operation, it responds with time-stamp information for the source to make the calculation on performance metrics. An</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_326.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">IP SLAs operation performs a network measurement from the source device to a destination in the network using a specific protocol such as UDP.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s14" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Figure 4: Cisco IOS IP SLAs Operation</p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><span><img width="452" height="252" alt="image" src="Image_327.gif"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a247">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark282" class="a" name="bookmark238">Implementing IP SLA Network Performance Measuremen</a><a href="#bookmark256" class="a">t, on page 104 Restrictions on SLA</a>s, on page 95<a name="bookmark265">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h4 style="padding-left: 4pt;text-indent: 0pt;text-align: center;"><a name="bookmark266">IP SLA Responder and IP SLA Control Protocol</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The IP SLA responder is a component embedded in the destination Cisco device that allows the system to anticipate and respond to IP SLA request packets. The responder provides accurate measurements without the need for dedicated probes. The responder uses the Cisco IOS IP SLA Control Protocol to provide a mechanism through which it can be notified on which port it should listen and respond.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 65pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_328.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_329.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">The IP SLA responder can be a Cisco IOS Layer 2, responder-configurable switch. The responder does not need to support full IP SLA functionality.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_330.png"/></span></p><p style="padding-top: 2pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">The following figure shows where the Cisco IOS IP SLA responder fits in the IP network. The responder listens on a specific port for control protocol messages sent by an IP SLA operation. Upon receipt of the control message, it enables the specified UDP or TCP port for the specified duration. During this time, the</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_331.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">responder accepts the requests and responds to them. It disables the port after it responds to the IP SLA packet, or when the specified time expires. MD5 authentication for control messages is available for added security.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s14" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Figure 5: Cisco IOS IP SLAs Operation</p><p style="text-indent: 0pt;line-height: 13pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><span><img width="452" height="252" alt="image" src="Image_332.gif"/></span></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You do not need to enable the responder on the destination device for all IP SLA operations. For example, a responder is not required for services that are already provided by the destination router (such as Telnet or HTTP).</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark239">Related Topics</a><a name="bookmark267">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark256" class="a">Restrictions on SLA</a>s, on page 95</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark268">Response Time Computation for IP SLAs</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switches, controllers, and routers can take tens of milliseconds to process incoming packets due to other high priority processes. This delay affects the response times because the test-packet reply might be in a queue while waiting to be processed. In this situation, the response times would not accurately represent true network delays. IP SLAs minimize these processing delays on the source device as well as on the target device (if the responder is being used) to determine true round-trip times. IP SLA test packets use time stamping to minimize the processing delays.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">When the IP SLA responder is enabled, it allows the target device to take time stamps when the packet arrives on the interface at interrupt level and again just as it is leaving, eliminating the processing time. This time stamping is made with a granularity of sub-milliseconds (ms).</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The following figure demonstrates how the responder works. Four time stamps are taken to make the calculation for round-trip time. At the target router, with the responder functionality enabled, time stamp 2 (TS2) is subtracted from time stamp 3 (TS3) to produce the time spent processing the test packet as represented by delta. This delta value is then subtracted from the overall round-trip time. Notice that the same principle is</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_333.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">applied by IP SLAs on the source router where the incoming time stamp 4 (TS4) is also taken at the interrupt level to allow for greater accuracy.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s14" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Figure 6: Cisco IOS IP SLA Responder Time Stamping</p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><span><img width="417" height="106" alt="image" src="Image_334.jpg"/></span></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark240">An additional benefit of the two time stamps at the target device is the ability to track one-way delay, jitter, and directional packet loss. Because much network behavior is asynchronous, it is critical to have these statistics. However, to capture one-way delay measurements, you must configure both the source router and target router with Network Time Protocol (NTP) so that the source and target are synchronized to the same clock source. One-way jitter measurements do not require clock synchronization.</a><a name="bookmark269">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark270">IP SLAs Operation Scheduling</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">When you configure an IP SLAs operation, you must schedule the operation to begin capturing statistics and collecting error information. You can schedule an operation to start immediately or to start at a certain month, day, and hour. You can use the <i>pending </i>option to set the operation to start at a later time. The pending option is an internal state of the operation that is visible through SNMP. The pending state is also used when an operation is a reaction (threshold) operation waiting to be triggered. You can schedule a single IP SLAs operation or a group of operations at one time.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You can schedule several IP SLAs operations by using a single command through the Cisco IOS CLI or the CISCO RTTMON-MIB. Scheduling the operations to run at evenly distributed times allows you to control the amount of IP SLAs monitoring traffic. This distribution of IP SLA operations helps minimize the CPU utilization and thus improves network scalability.</p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a name="bookmark241">For more details about the IP SLA multi-operations scheduling functionality, see the </a><span class="s31">“</span>IP SLAs<span class="s31">—</span>Multiple Operation Scheduling<span class="s31">” </span>chapter of the <i>Cisco IOS IP SLAs Configuration Guide</i>.<a name="bookmark271">&zwnj;</a><a name="bookmark272">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a248">IP SLA Operation Threshold Monitoring</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">To support successful service level agreement monitoring, you must have mechanisms that notify you immediately of any possible violation. IP SLAs can send SNMP traps that are triggered by events such as the following:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Connection loss</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Timeout</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Round-trip time threshold</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Average jitter threshold</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">One-way packet loss</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">One-way jitter</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_335.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-top: 2pt;padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">One-way mean opinion score (MOS)</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">One-way latency</p></li></ul></li></ul></li></ol><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">An IP SLA threshold violation can also trigger another IP SLA operation for further analysis. For example, the frequency could be increased or an Internet Control Message Protocol (ICMP) path echo or ICMP path jitter operation could be initiated for troubleshooting.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a249">ICMP Echo</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The ICMP echo operation measures the end-to-end response time between a Cisco device and any other device that uses IP. The response time is computed by measuring the time it takes to send an ICMP echo request message to a destination and receive an ICMP echo reply. Many customers use IP SLA ICMP-based operations, in-house ping testing, or ping-based dedicated probes to measure this response time. The IP SLA ICMP echo operation conforms to the same specifications as ICMP ping testing, and both methods result in the same response times.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a250">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark286" class="a" name="bookmark242">Analyzing IP Service Levels by Using the ICMP Echo Operatio</a>n, on page 112<a name="bookmark273">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark274">UDP Jitter</a></h4><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Jitter is a simple term that describes interpacket delay variance. When multiple packets are sent consecutively at an interval of 10 ms from source to destination, the destination should receive them 10 ms apart (if the network is behaving correctly). However, if there are delays in the network (such as queuing, arriving through alternate routes, and so on), the time interval between packet arrivals might be more or less than 10 ms. A positive jitter value indicates that the packets arrived more than 10 ms apart. A negative jitter value indicates that the packets arrived less than 10 ms apart. If the packets arrive 12 ms apart, the positive jitter is 2 ms; if the packets arrive 8 ms apart, the negative jitter is 2 ms. For delay-sensitive networks, positive jitter values are undesirable, and a jitter value of 0 is ideal.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">In addition to monitoring jitter, the IP SLA UDP jitter operation can be used as a multipurpose data gathering operation. The packets generated by IP SLAs carry sequence information and time stamps from the source and operational target that include packet sending and receiving data. Based on this data, UDP jitter operations measure the following:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l76"><li style="padding-left: 27pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Per-direction jitter (source to destination and destination to source)</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 27pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Per-direction packet-loss</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 27pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Per-direction delay (one-way delay)</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 27pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Round-trip delay (average round-trip time)</p></li></ul><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Because the paths for the sending and receiving of data can be different (asymmetric), you can use the</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">per-direction data to more readily identify where congestion or other problems are occurring in the network.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">The UDP jitter operation generates synthetic (simulated) UDP traffic and sends a number of UDP packets, each of a specified size, sent a specified number of milliseconds apart, from a source router to a target router, at a given frequency. By default, ten packet-frames, each with a payload size of 10 bytes are generated every 10 ms, and the operation is repeated every 60 seconds. You can configure each of these parameters to best simulate the IP service you want to provide.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_336.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">To provide accurate one-way delay (latency) measurements, time synchronization (as provided by NTP) is required between the source and the target device. Time synchronization is not required for the one-way jitter and packet loss measurements. If the time is not synchronized between the source and target devices, one-way jitter and packet loss data is returned, but values of 0 are returned for the one-way delay measurements provided by the UDP jitter operation.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a251">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark283" class="a">Analyzing IP Service Levels by Using the UDP Jitter Operatio</a>n, on page 108</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark243">How to Configure IP SLAs Operations</a><a name="bookmark275">&zwnj;</a><a name="bookmark276">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark244">This section does not include configuration information for all available operations as the configuration information details are included in the </a><i>Cisco IOS IP SLAs Configuration Guide</i>. It does include several operations as examples, including configuring the responder, configuring a UDP jitter operation, which requires a responder, and configuring an ICMP echo operation, which does not require a responder. For details about configuring other operations, see the <i>Cisco IOS IP SLAs Configuration Guide</i>.<a name="bookmark277">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a252">Default Configuration</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark245">No IP SLAs operations are configured.</a><a name="bookmark278">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark279">Configuration  Guidelines</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">For information on the IP SLA commands, see the <i>Cisco IOS IP SLAs Command Reference, Release 12.4T</i></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">command reference.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">For detailed descriptions and configuration procedures, see the <i>Cisco IOS IP SLAs Configuration Guide, Release 12.4TL</i>.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Not all of the IP SLA commands or operations described in the referenced guide are supported on the switch. The switch supports IP service level analysis by using UDP jitter, UDP echo, HTTP, TCP connect, ICMP echo, ICMP path echo, ICMP path jitter, FTP, DNS, and DHCP, as well as multiple operation scheduling and proactive threshold monitoring. It does not support VoIP service levels using the gatekeeper registration delay operations measurements.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Before configuring any IP SLAs application, you can use the <b>show ip sla application </b>privileged EXEC command to verify that the operation type is supported on your software image. This is an example of the output from the command:</p><p style="text-indent: 0pt;line-height: 13pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>show ip sla application</b></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;text-align: left;">IP Service Level Agreements</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Version: Round Trip Time MIB 2.2.0, Infrastructure Engine-III</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Supported Operation Types:</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">icmpEcho, path-echo, path-jitter, udpEcho, tcpConnect, http</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">dns, udpJitter, dhcp, ftp, udpApp, wspApp</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Supported Features:</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">IPSLAs Event Publisher</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">IP SLAs low memory water mark: 33299323 Estimated system max number of entries: 24389</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_337.png"/></span></p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s24" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Estimated number of configurable operations: 24389 Number of Entries configured : 0</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">Number of active Entries : 0 Number of pending Entries : 0 Number of inactive Entries   : 0</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">Time of last change in whole IP SLAs: *13:04:37.668 UTC Wed Dec 19 2012</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark246">Configuring the IP SLA Responder</a><a name="bookmark280">&zwnj;</a><a name="bookmark281">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The IP SLA responder is available only on Cisco IOS software-based devices, including some Layer 2 switches that do not support full IP SLA functionality.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">Follow these steps to configure the IP SLA responder on the target device (the operational target):</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a253">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l77"><li style="padding-left: 113pt;text-indent: -14pt;text-align: justify;"><p class="s2" style="display: inline;"><a name="a254">enable</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: justify;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: justify;"><p class="s2" style="display: inline;">ip sla responder <span class="p">{</span>tcp-connect <span class="p">| </span>udp-echo<span class="p">} </span>ipaddress <i>ip-address </i>port <i>port-number</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: justify;"><p class="s2" style="display: inline;"><a name="a255">end</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: justify;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: justify;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_338.png"/></span></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 70pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 70pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;padding-right: 23pt;text-indent: 0pt;text-align: left;">ip sla responder <span class="s18">{</span>tcp-connect <span class="s18">| </span>udp-echo<span class="s18">} </span>ipaddress <i>ip-address </i>port <i>port-number</i></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 7pt;padding-right: 2pt;text-indent: -4pt;line-height: 9pt;text-align: left;">Switch(config)# <b>ip sla responder udp-echo 172.29.139.134 5000</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 58pt;text-indent: 0pt;line-height: 147%;text-align: left;">Configures the switch as an IP SLA responder. The keywords have these meanings:</p><ul id="l78"><li style="padding-top: 1pt;padding-left: 24pt;padding-right: 21pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">tcp-connect<span class="s35">—</span><span class="s18">Enables the responder for TCP connect operations.</span></p></li><li style="padding-left: 24pt;padding-right: 22pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">udp-echo<span class="s35">—</span><span class="s18">Enables the responder for User Datagram Protocol (UDP) echo or jitter operations.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">ipaddress <i>ip-address</i><span class="s35">—</span><span class="s18">Enter the destination IP address.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">port <i>port-number</i><span class="s35">—</span><span class="s18">Enter the destination port number.</span></p></li></ul><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr></table><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_339.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 70pt;text-indent: 0pt;text-align: left;"><a name="a256">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 70pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s30" style="padding-left: 59pt;padding-right: 2pt;text-indent: -35pt;text-align: left;">Note       <span class="s18">The IP address and port number must match those configured on the source device for the IP SLA operation.</span></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_340.png"/></span></p><h4 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark247">Implementing IP SLA Network Performance Measurement</a><a name="bookmark282">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to implement IP SLA network performance measurement on your switch:</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a257">Before You Begin</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Use the <b>show ip sla application </b>privileged EXEC command to verify that the desired operation type is supported on your software image.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_341.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a258">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ol id="l79"><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a259">enable</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">ip sla <i>operation-number</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>udp-jitter </b>{<i>destination-ip-address </i>| <i>destination-hostname</i>} <i>destination-port </i>[<b>source-ip </b>{<i>ip-address </i>| <i>hostname</i>}] [<b>source-port </b><i>port-number</i>] [<b>control </b>{<b>enable </b>| <b>disable</b>}] [<b>num-packets </b><i>number-of-packets</i>] [<b>interval </b><i>interpacket-interval</i>]</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">frequency <i>seconds</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">threshold <i>milliseconds</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a260">exit</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>ip sla schedule </b><i>operation-number </i>[<b>life </b>{<b>forever </b>| <i>seconds</i>}] [<b>start-time </b>{<i>hh:mm </i>[:<i>ss</i>] [<i>month day </i>| <i>day month</i>] | <b>pending </b>| <b>now </b>| <b>after </b><i>hh:mm:ss</i>] [<b>ageout </b><i>seconds</i>] [<b>recurring</b>]</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a261">end</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_342.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 55pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 55pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">ip sla <i>operation-number</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>ip sla 10</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Creates an IP SLA operation, and enters IP SLA configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 14pt;text-indent: 0pt;text-align: left;"><b>udp-jitter </b>{<i>destination-ip-address </i>| <i>destination-hostname</i>} <i>destination-port </i>[<b>source-ip </b>{<i>ip-address </i>| <i>hostname</i>}] [<b>source-port </b><i>port-number</i>] [<b>control</b></p><p class="s18" style="padding-left: 2pt;padding-right: 33pt;text-indent: 0pt;text-align: left;">{<b>enable </b>| <b>disable</b>}] [<b>num-packets </b><i>number-of-packets</i>] [<b>interval </b><i>interpacket-interval</i>]</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Configures the IP SLA operation as the operation type of your choice (a UDP jitter operation is used in the example), and enters its configuration mode (UDP jitter configuration mode is used in the example).</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><ul id="l80"><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s20" style="display: inline;">destination-ip-address <span class="s18">| </span>destination-hostname<span class="s35">—</span><span class="s18">Specifies the destination IP address or hostname.</span></p></li><li style="padding-left: 24pt;padding-right: 6pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s20" style="display: inline;">destination-port<span class="s35">—</span><span class="s18">Specifies the destination port number in the range from 1 to 65535.</span></p></li></ul><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></td></tr></table><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_343.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_344.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 56pt;text-indent: 0pt;text-align: left;"><a name="a262">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 56pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 13pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-ip-sla)# <b>udp-jitter 172.29.139.134 5000</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><ul id="l81"><li style="padding-left: 24pt;padding-right: 2pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>source-ip </b>{<i>ip-address </i>| <i>hostname</i>}<span class="s35">—</span>Specifies the source IP address or hostname. When a source IP address or hostname is not</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: justify;"><p class="s18" style="display: inline;">(Optional) <b>source-port </b><i>port-number</i><span class="s35">—</span>Specifies the source port number in the range from 1 to 65535. When a port number is not specified, IP SLA chooses an available port.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>control</b><span class="s35">—</span>Enables or disables sending of IP SLA control messages to the IP SLA responder. By default, IP SLA control messages are sent to the destination device to establish a connection with the IP SLA responder</p></li><li style="padding-left: 24pt;padding-right: 8pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>num-packets </b><i>number-of-packets</i><span class="s35">—</span>Enters the number of packets to be generated. The range is 1 to 6000; the default is 10.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>interval </b><i>inter-packet-interval</i><span class="s35">—</span>Enters the interval between sending packets in milliseconds. The range is 1 to 6000; the default value is 20 ms.</p></li></ul><p class="s18" style="padding-left: 24pt;text-indent: 0pt;text-align: left;">specified, IP SLA chooses the IP address nearest to the destination</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">frequency <i>seconds</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-ip-sla-jitter)#</p><p class="s28" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">frequency 45</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Configures options for the SLA operation. This example sets the rate at which a specified IP SLA operation repeats. The range is from 1 to 604800 seconds; the default is 60 seconds.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">threshold <i>milliseconds</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-ip-sla-jitter)#</p><p class="s28" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">threshold 200</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Configures threshold conditions. This example sets the threshold of the specified IP SLA operation to 200. The range is from 0 to 60000 milliseconds.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">exit</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-ip-sla-jitter)# <b>exit</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Exits the SLA operation configuration mode (UDP jitter configuration mode in this example), and returns to global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 8</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">ip sla schedule <i>operation-number </i><span class="s18">[</span>life</p><p class="s18" style="padding-left: 2pt;padding-right: 6pt;text-indent: 0pt;text-align: left;">{<b>forever </b>| <i>seconds</i>}] [<b>start-time </b>{<i>hh:mm </i>[:<i>ss</i>] [<i>month day </i>| <i>day month</i>] | <b>pending </b>| <b>now </b>| <b>after </b><i>hh:mm:ss</i>] [<b>ageout </b><i>seconds</i>] [<b>recurring</b>]</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>ip sla schedule 10 start-time now life forever</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Configures the scheduling parameters for an individual IP SLA operation.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l82"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s20" style="display: inline;">operation-number<span class="s35">—</span><span class="s18">Enter the RTR entry number.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: justify;"><p class="s18" style="display: inline;">(Optional) <b>life</b><span class="s35">—</span>Sets the operation to run indefinitely (<b>forever</b>) or for a specific number of <i>seconds</i>. The range is from 0 to 2147483647. The default is 3600 seconds (1 hour).</p></li><li style="padding-left: 24pt;padding-right: 18pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>start-time</b><span class="s35">—</span>Enters the time for the operation to begin collecting information:</p></li></ul><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_345.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 55pt;text-indent: 0pt;text-align: left;"><a name="a263">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 55pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-left: 24pt;padding-right: 3pt;text-indent: 0pt;text-align: justify;">To start at a specific time, enter the hour, minute, second (in 24-hour notation), and day of the month. If no month is entered, the default is the current month.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 24pt;padding-right: 4pt;text-indent: 0pt;text-align: justify;">Enter <b>pending </b>to select no information collection until a start time is selected.</p><p class="s18" style="padding-top: 4pt;padding-left: 24pt;padding-right: 98pt;text-indent: 0pt;text-align: justify;">Enter <b>now </b>to start the operation immediately.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 24pt;padding-right: 2pt;text-indent: 0pt;text-align: justify;">Enter <b>after </b><i>hh:mm:ss </i>to show that the operation should start after the entered time has elapsed.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><ul id="l83"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>ageout </b><i>seconds</i><span class="s35">—</span>Enter the number of seconds to keep the operation in memory when it is not actively collecting information. The range is 0 to 2073600 seconds, the default is 0 seconds (never ages out).</p></li><li style="padding-left: 24pt;padding-right: 9pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>recurring</b><span class="s35">—</span>Set the operation to automatically run every day.</p></li></ul><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 9</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 10</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 11</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 42pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_346.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a264">UDP Jitter Configuration</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to configure a UDP jitter IP SLA operation:</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>ip sla 10</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-ip-sla)# <b>udp-jitter 172.29.139.134 5000</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-ip-sla-jitter)# <b>frequency 30</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-ip-sla-jitter)# <b>exit</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>ip sla schedule 5 start-time now life forever</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>end</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>show ip sla configuration 10</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">IP SLAs, Infrastructure Engine-II.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_347.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Entry number: 10 Owner:</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Tag:</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Type of operation to perform: udp-jitter</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Target address/Source address: 1.1.1.1/0.0.0.0</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Target port/Source port: 2/0</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Request size (ARR data portion): 32</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Operation timeout (milliseconds): 5000</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packet Interval (milliseconds)/Number of packets: 20/10</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Type Of Service parameters: 0x0</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Verify data: No</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Vrf Name:</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Control Packets: enabled</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Schedule:</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Operation frequency (seconds): 30</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Next Scheduled Start Time: Pending trigger</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Group Scheduled : FALSE</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Randomly Scheduled : FALSE</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Life (seconds): 3600</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Entry Ageout (seconds): never</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Recurring (Starting Everyday): FALSE</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Status of entry (SNMP RowStatus): notInService</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Threshold (milliseconds): 5000</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Distribution Statistics:</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Number of statistic hours kept: 2</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Number of statistic distribution buckets kept: 1</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Statistic distribution interval (milliseconds): 20</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Enhanced History:</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a265">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark263" class="a" name="bookmark248">Network Performance Measurement with Cisco IOS IP SLA</a><a href="#bookmark256" class="a">s, on page 97 Restrictions on SLA</a>s, on page 95<a name="bookmark283">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h4 style="text-indent: 0pt;text-align: center;"><a name="bookmark284">Analyzing IP Service Levels by Using the UDP Jitter Operation</a><a name="bookmark285">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to configure a UDP jitter operation on the source device:</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a266">Before You Begin</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You must enable the IP SLA responder on the target device (the operational target) to configure a UDP jitter operation on the source device.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_348.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a267">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ol id="l84"><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a268">enable</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">ip sla <i>operation-number</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>udp-jitter </b>{<i>destination-ip-address </i>| <i>destination-hostname</i>} <i>destination-port </i>[<b>source-ip </b>{<i>ip-address </i>| <i>hostname</i>}] [<b>source-port </b><i>port-number</i>] [<b>control </b>{<b>enable </b>| <b>disable</b>}] [<b>num-packets </b><i>number-of-packets</i>] [<b>interval </b><i>interpacket-interval</i>]</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">frequency <i>seconds</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a269">exit</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>ip sla schedule </b><i>operation-number </i>[<b>life </b>{<b>forever </b>| <i>seconds</i>}] [<b>start-time </b>{<i>hh:mm </i>[:<i>ss</i>] [<i>month day </i>| <i>day month</i>] | <b>pending </b>| <b>now </b>| <b>after </b><i>hh:mm:ss</i>] [<b>ageout </b><i>seconds</i>] [<b>recurring</b>]</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a270">end</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_349.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 55pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 55pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">ip sla <i>operation-number</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>ip sla 10</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Creates an IP SLA operation, and enters IP SLA configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 2pt;text-indent: 0pt;text-align: left;"><b>udp-jitter </b>{<i>destination-ip-address </i>| <i>destination-hostname</i>} <i>destination-port </i>[<b>source-ip </b>{<i>ip-address </i>| <i>hostname</i>}] [<b>source-port </b><i>port-number</i>] [<b>control </b>{<b>enable</b></p><p class="s18" style="padding-left: 2pt;padding-right: 57pt;text-indent: 0pt;text-align: left;">| <b>disable</b>}] [<b>num-packets </b><i>number-of-packets</i>] [<b>interval </b><i>interpacket-interval</i>]</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Configures the IP SLA operation as a UDP jitter operation, and enters UDP jitter configuration mode.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><ul id="l85"><li style="padding-left: 24pt;padding-right: 32pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s20" style="display: inline;">destination-ip-address <span class="s18">| </span>destination-hostname<span class="s35">—</span><span class="s18">Specifies the destination IP address or hostname.</span></p></li><li style="padding-left: 24pt;padding-right: 2pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s20" style="display: inline;">destination-port<span class="s35">—</span><span class="s18">Specifies the destination port number in the range from 1 to 65535.</span></p></li></ul><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></td></tr></table><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_350.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_351.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 55pt;text-indent: 0pt;text-align: left;"><a name="a271">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 55pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 16pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-ip-sla)# <b>udp-jitter 172.29.139.134 5000</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><ul id="l86"><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>source-ip </b>{<i>ip-address </i>| <i>hostname</i>}<span class="s35">—</span>Specifies the source IP address or hostname. When a source IP address or hostname is not</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: justify;"><p class="s18" style="display: inline;">(Optional) <b>source-port </b><i>port-number</i><span class="s35">—</span>Specifies the source port number in the range from 1 to 65535. When a port number is not specified, IP SLA chooses an available port.</p></li><li style="padding-left: 24pt;padding-right: 4pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>control</b><span class="s35">—</span>Enables or disables sending of IP SLA control messages to the IP SLA responder. By default, IP SLA control messages are sent to the destination device to establish a connection with the IP SLA responder.</p></li><li style="padding-left: 24pt;padding-right: 5pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>num-packets </b><i>number-of-packets</i><span class="s35">—</span>Enters the number of packets to be generated. The range is 1 to 6000; the default is 10.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>interval </b><i>inter-packet-interval</i><span class="s35">—</span>Enters the interval between sending packets in milliseconds. The range is 1 to 6000; the default value is 20 ms.</p></li></ul><p class="s18" style="padding-left: 24pt;text-indent: 0pt;text-align: left;">specified, IP SLA chooses the IP address nearest to the destination.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">frequency <i>seconds</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-ip-sla-jitter)#</p><p class="s28" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">frequency 45</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Sets the rate at which a specified IP SLA operation repeats. The range is from 1 to 604800 seconds; the default is 60 seconds.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">exit</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-ip-sla-jitter)# <b>exit</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 9pt;text-indent: 0pt;text-align: left;">Exits UDP jitter configuration mode, and returns to global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">ip sla schedule <i>operation-number </i><span class="s18">[</span>life</p><p class="s18" style="padding-left: 2pt;padding-right: 9pt;text-indent: 0pt;text-align: left;">{<b>forever </b>| <i>seconds</i>}] [<b>start-time </b>{<i>hh:mm </i>[:<i>ss</i>] [<i>month day </i>| <i>day month</i>] | <b>pending </b>| <b>now </b>| <b>after </b><i>hh:mm:ss</i>] [<b>ageout </b><i>seconds</i>] [<b>recurring</b>]</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 12pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>ip sla schedule 10 start-time now life forever</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Configures the scheduling parameters for an individual IP SLA operation.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l87"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s20" style="display: inline;">operation-number<span class="s35">—</span><span class="s18">Enter the RTR entry number.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: justify;"><p class="s18" style="display: inline;">(Optional) <b>life</b><span class="s35">—</span>Sets the operation to run indefinitely (<b>forever</b>) or for a specific number of <i>seconds</i>. The range is from 0 to 2147483647. The default is 3600 seconds (1 hour).</p></li><li style="padding-left: 24pt;padding-right: 15pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>start-time</b><span class="s35">—</span>Enters the time for the operation to begin collecting information:</p></li></ul><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 24pt;text-indent: 0pt;text-align: justify;">To start at a specific time, enter the hour, minute, second (in 24-hour notation), and day of the month. If no month is entered, the default is the current month.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 24pt;padding-right: 1pt;text-indent: 0pt;text-align: justify;">Enter <b>pending </b>to select no information collection until a start time is selected.</p><p class="s18" style="padding-top: 4pt;padding-left: 24pt;padding-right: 95pt;text-indent: 0pt;text-align: justify;">Enter <b>now </b>to start the operation immediately.</p></td></tr></table><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_352.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 55pt;text-indent: 0pt;text-align: left;"><a name="a272">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 55pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-left: 24pt;text-indent: 0pt;text-align: left;">Enter <b>after </b><i>hh:mm:ss </i>to show that the operation should start after the entered time has elapsed.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><ul id="l88"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>ageout </b><i>seconds</i><span class="s35">—</span>Enter the number of seconds to keep the operation in memory when it is not actively collecting information. The range is 0 to 2073600 seconds, the default is 0 seconds (never ages out).</p></li><li style="padding-left: 24pt;padding-right: 5pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>recurring</b><span class="s35">—</span>Set the operation to automatically run every day.</p></li></ul><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 8</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 9</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 10</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_353.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a273">Configuring a UDP Jitter IP SLA Operation</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to configure a UDP jitter IP SLA operation:</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>ip sla 10</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-ip-sla)# <b>udp-jitter 172.29.139.134 5000</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-ip-sla-jitter)# <b>frequency 30</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-ip-sla-jitter)# <b>exit</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>ip sla schedule 5 start-time now life forever</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>end</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>show ip sla configuration 10</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">IP SLAs, Infrastructure Engine-II.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Entry number: 10 Owner:</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Tag:</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Type of operation to perform: udp-jitter</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Target address/Source address: 1.1.1.1/0.0.0.0</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Target port/Source port: 2/0</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Request size (ARR data portion): 32</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Operation timeout (milliseconds): 5000</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packet Interval (milliseconds)/Number of packets: 20/10</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Type Of Service parameters: 0x0</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_354.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Verify data: No Vrf Name:</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Control Packets: enabled Schedule:</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;text-align: left;">Operation frequency (seconds): 30</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Next Scheduled Start Time: Pending trigger</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Group Scheduled : FALSE</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Randomly Scheduled : FALSE</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Life (seconds): 3600</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Entry Ageout (seconds): never</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Recurring (Starting Everyday): FALSE</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Status of entry (SNMP RowStatus): notInService</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Threshold (milliseconds): 5000</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Distribution Statistics:</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Number of statistic hours kept: 2</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Number of statistic distribution buckets kept: 1</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Statistic distribution interval (milliseconds): 20</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Enhanced History:</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a274">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark273" class="a" name="bookmark249">UDP Jitte</a>r,  on page 101<a name="bookmark286">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark287">Analyzing IP Service Levels by Using the ICMP Echo Operation</a><a name="bookmark288">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to configure an ICMP echo operation on the source device:</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a275">Before You Begin</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This operation does not require the IP SLA responder to be enabled.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a276">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l89"><li style="padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a277">enable</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">ip sla <i>operation-number</i></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>icmp-echo </b>{<i>destination-ip-address </i>| <i>destination-hostname</i>} [<b>source-ip </b>{<i>ip-address </i>| <i>hostname</i>} |</p><p class="s2" style="padding-left: 114pt;text-indent: 0pt;text-align: left;">source-interface <i>interface-id</i><span class="p">]</span></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">frequency <i>seconds</i></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a278">exit</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>ip sla schedule </b><i>operation-number </i>[<b>life </b>{<b>forever </b>| <i>seconds</i>}] [<b>start-time </b>{<i>hh:mm </i>[<i>:ss</i>] [<i>month day </i>| <i>day month</i>] | <b>pending </b>| <b>now </b>| <b>after </b><i>hh:mm:ss</i>] [<b>ageout </b><i>seconds</i>] [<b>recurring</b>]</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a279">end</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="55" alt="image" src="Image_355.png"/></span></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">Step 1</p><p class="s2" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">Command or Action</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">enable</p><p class="s2" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_356.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_357.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 60pt;text-indent: 0pt;text-align: left;"><a name="a280">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 60pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"/></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">ip sla <i>operation-number</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>ip sla 10</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Creates an IP SLA operation and enters IP SLA configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>icmp-echo </b>{<i>destination-ip-address </i>|</p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;"><i>destination-hostname</i>} [<b>source-ip </b>{<i>ip-address</i></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">| <i>hostname</i>} | <b>source-interface </b><i>interface-id</i>]</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-ip-sla)# <b>icmp-echo 172.29.139.134</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Configures the IP SLA operation as an ICMP Echo operation and enters ICMP echo configuration mode.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">frequency <i>seconds</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 7pt;text-indent: -4pt;line-height: 9pt;text-align: left;">Switch(config-ip-sla-echo)# <b>frequency 30</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 5pt;text-indent: 0pt;text-align: left;">(Optional) Sets the rate at which a specified IP SLA operation repeats. The range is from 1 to 604800 seconds; the default is 60 seconds.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">exit</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-ip-sla-echo)# <b>exit</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Exits UDP echo configuration mode, and returns to global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">ip sla schedule <i>operation-number </i><span class="s18">[</span>life</p><p class="s18" style="padding-left: 2pt;padding-right: 2pt;text-indent: 0pt;text-align: left;">{<b>forever </b>| <i>seconds</i>}] [<b>start-time </b>{<i>hh:mm </i>[<i>:ss</i>] [<i>month day </i>| <i>day month</i>] | <b>pending </b>| <b>now </b>| <b>after </b><i>hh:mm:ss</i>] [<b>ageout </b><i>seconds</i>] [<b>recurring</b>]</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Configures the scheduling parameters for an individual IP SLA operation.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></td></tr></table><ul id="l90"><li style="padding-left: 24pt;padding-right: 20pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s20" style="display: inline;">destination-ip-address <span class="s18">| </span>destination-hostname<span class="s35">—</span><span class="s18">Specifies the destination IP address or hostname.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>source-ip </b>{<i>ip-address </i>| <i>hostname</i>}<span class="s35">—</span>Specifies the source IP address or hostname. When a source IP address or hostname is not specified, IP SLA chooses the IP address nearest to the destination.</p></li><li style="padding-left: 24pt;padding-right: 12pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>source-interface </b><i>interface-id</i><span class="s35">—</span>Specifies the source interface for the operation.</p></li></ul><ul id="l91"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s20" style="display: inline;">operation-number<span class="s35">—</span><span class="s18">Enter the RTR entry number.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>life</b><span class="s35">—</span>Sets the operation to run indefinitely (<b>forever</b>) or for a specific number of <i>seconds</i>. The range is from 0 to 2147483647. The default is 3600 seconds (1 hour)</p></li></ul><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_358.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 60pt;text-indent: 0pt;text-align: left;"><a name="a281">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 60pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 23pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>ip sla schedule 5 start-time now life forever</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 24pt;text-indent: 0pt;text-align: justify;">To start at a specific time, enter the hour, minute, second (in 24-hour notation), and day of the month. If no month is entered, the default is the current month.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 24pt;text-indent: 0pt;text-align: justify;">Enter <b>pending </b>to select no information collection until a start time is selected.</p><p class="s18" style="padding-top: 4pt;padding-left: 24pt;padding-right: 83pt;text-indent: 0pt;text-align: justify;">Enter <b>now </b>to start the operation immediately.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 24pt;text-indent: 0pt;text-align: justify;">Enter <b>after </b><i>hh:mm:ss </i>to indicate that the operation should start after the entered time has elapsed.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 8</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 9</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 10</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 52pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><ul id="l92"><li style="padding-left: 24pt;padding-right: 7pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>start-time</b><span class="s35">—</span>Enter the time for the operation to begin collecting information:</p></li><li style="padding-left: 24pt;padding-right: 1pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>ageout </b><i>seconds</i><span class="s35">—</span>Enter the number of seconds to keep the operation in memory when it is not actively collecting information. The range is 0 to 2073600 seconds; the default is 0 seconds (never ages out).</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>recurring</b><span class="s35">—</span>Sets the operation to automatically run every day.</p></li></ul><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_359.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a282">Configuring an ICMP Echo IP SLA Operation</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to configure an ICMP echo IP SLA operation:</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>ip sla 12</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-ip-sla)# <b>icmp-echo 172.29.139.134</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-ip-sla-echo)# <b>frequency 30</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-ip-sla-echo)# <b>exit</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>ip sla schedule 5 start-time now life forever</b></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_360.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>show ip sla configuration 22</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">IP SLAs, Infrastructure Engine-II.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Entry number: 12 Owner:</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Tag:</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Type of operation to perform: echo</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Target address: 2.2.2.2</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Source address: 0.0.0.0</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Request size (ARR data portion): 28</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Operation timeout (milliseconds): 5000</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Type Of Service parameters: 0x0</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Verify data: No</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Vrf Name:</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Schedule:</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Operation frequency (seconds): 60</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Next Scheduled Start Time: Pending trigger</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Group Scheduled : FALSE</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Randomly Scheduled : FALSE</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Life (seconds): 3600</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Entry Ageout (seconds): never</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Recurring (Starting Everyday): FALSE</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Status of entry (SNMP RowStatus): notInService</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Threshold (milliseconds): 5000</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Distribution Statistics:</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Number of statistic hours kept: 2</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Number of statistic distribution buckets kept: 1</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Statistic distribution interval (milliseconds): 20</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">History Statistics:</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Number of history Lives kept: 0</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Number of history Buckets kept: 15</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">History Filter Type: None</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Enhanced History:</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark250">Related Topics</a><a name="bookmark289">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark271" class="a">IP SLA Operation Threshold Monitorin</a>g, on page 100</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 4pt;text-indent: 0pt;text-align: center;"><a name="bookmark290">Monitoring IP SLA Operations</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The following table describes the commands used to display IP SLA operation configurations and results:</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="572" height="12" alt="image" src="Image_361.png"/></span></p><p class="s14" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Table 12: Monitoring IP SLA Operations</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:98.809pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show ip sla application</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Displays global information about Cisco IOS IP SLAs.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show ip sla authentication</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Displays IP SLA authentication information.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;"><b>show ip sla configuration </b>[<i>entry-number</i>]</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 8pt;text-indent: 0pt;text-align: left;">Displays configuration values including all defaults for all IP SLA operations or a specific operation.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show ip sla enhanced-history <span class="s18">{</span>collection-statistics <span class="s18">|</span></p><p class="s18" style="padding-left: 3pt;text-indent: 0pt;text-align: left;"><b>distribution statistics</b>} [<i>entry-number</i>]</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 22pt;text-indent: 0pt;text-align: left;">Displays enhanced history statistics for collected history buckets or distribution statistics for all IP SLA operations or a specific operation.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_362.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:99.409pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;"><b>show ip sla ethernet-monitor configuration </b>[<i>entry-number</i>]</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Displays IP SLA automatic Ethernet configuration.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;"><b>show ip sla group schedule </b>[<i>schedule-entry-number</i>]</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 41pt;text-indent: 0pt;text-align: left;">Displays IP SLA group scheduling configuration and details.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;"><b>show ip sla history </b>[<i>entry-number </i>| <b>full </b>| <b>tabular</b>]</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Displays history collected for all IP SLA operations.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 28pt;text-indent: 0pt;text-align: justify;"><b>show ip sla mpls-lsp-monitor </b>{<b>collection-statistics </b>| <b>configuration </b>| <b>ldp operational-state </b>| <b>scan-queue </b>| <b>summary </b>[<i>entry-number</i>] | <b>neighbors</b>}</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Displays MPLS label switched path (LSP) Health Monitor operations.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;"><b>show ip sla reaction-configuration </b>[<i>entry-number</i>]</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: justify;">Displays the configured proactive threshold monitoring settings for all IP SLA operations or a specific operation.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;"><b>show ip sla reaction-trigger </b>[<i>entry-number</i>]</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Displays the reaction trigger information for all IP SLA operations or a specific operation.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show ip sla responder</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Displays information about the IP SLA responder.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;"><b>show ip sla statistics </b>[<i>entry-number </i>| <b>aggregated </b>| <b>details</b>]</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 10pt;text-indent: 0pt;text-align: left;">Displays current or aggregated operational status and statistics.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="575" height="12" alt="image" src="Image_363.png"/></span></p><h3 style="padding-top: 2pt;text-indent: 0pt;text-align: center;"><a name="bookmark251">Monitoring IP SLA Operation Examples</a><a name="bookmark291">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">The following example shows all IP SLAs by application:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">Switch# <b>show ip sla application</b></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;text-align: left;">IP Service Level Agreements</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">Version: Round Trip Time MIB 2.2.0, Infrastructure Engine-III</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">Supported Operation Types:</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">icmpEcho, path-echo, path-jitter, udpEcho, tcpConnect, http</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">dns, udpJitter, dhcp, ftp, udpApp, wspApp</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">Supported Features:</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">IPSLAs Event Publisher</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">IP SLAs low memory water mark: 33299323 Estimated system max number of entries: 24389</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Estimated number of configurable operations: 24389 Number of Entries configured : 0</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">Number of active Entries : 0 Number of pending Entries : 0 Number of inactive Entries   : 0</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">Time of last change in whole IP SLAs: *13:04:37.668 UTC Wed Dec 19 2012</p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: justify;">The following example shows all IP SLA distribution statistics:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">Switch# <b>show ip sla enhanced-history distribution-statistics</b></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_364.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Point by point Enhanced History Entry   = Entry Number</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Int     = Aggregation Interval BucI    = Bucket Index</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">StartT  = Aggregation Start Time Pth     = Path index</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Hop     = Hop in path index Comps   = Operations completed</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">OvrTh   = Operations completed over thresholds SumCmp  = Sum of RTT (milliseconds)</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">SumCmp2L = Sum of RTT squared low 32 bits (milliseconds) SumCmp2H = Sum of RTT squared high 32 bits (milliseconds) TMax    = RTT maximum (milliseconds)</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">TMin    = RTT minimum (milliseconds)</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><a name="bookmark252">Entry Int BucI StartT    Pth Hop Comps OvrTh SumCmp    SumCmp2L  SumCmp2H  T Max   TMin</a><a name="bookmark292">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a283">Additional References</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="28" alt="image" src="Image_365.png"/></span></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a284">Related Documents</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: left;">Related Topic</p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: left;">Document Title</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:98.809pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Cisco Medianet Metadata Guide</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/c/en/us/td/docs/ios-xml/ios/mdata/configuration/15-sy/mdata-15sy-book/metadata-framework.pdf" class="s36" target="_blank">http://www.cisco.com/c/en/us/td/docs/ios-xml/ios/mdata/configuration/15-sy/mdata-15sy-book/metadata-framework.pdf</a></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Cisco Media Services Proxy Configuration Guide</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/c/en/us/td/docs/ios-xml/ios/msp/configuration/15-mt/msp-15-mt-book.pdf" class="s36" target="_blank">http://www.cisco.com/c/en/us/td/docs/ios-xml/ios/msp/configuration/15-mt/msp-15-mt-book.pdf</a></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 11pt;text-indent: 0pt;text-align: left;">Cisco Mediatrace and Cisco Performance Monitor Configuration Guide</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/c/en/us/td/docs/ios-xml/ios/media_monitoring/configuration/15-mt/mm-15-mt-book/mm-mediatrace.html" class="s36" target="_blank">http://www.cisco.com/c/en/us/td/docs/ios-xml/ios/media_monitoring/configuration/15-mt/mm-15-mt-book/mm-mediatrace.html</a></p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Error Message Decoder</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 101pt;text-indent: 0pt;text-align: center;">Description</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">To help you research and resolve system error messages in this release, use the Error Message Decoder tool.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="92" alt="image" src="Image_366.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="60" alt="image" src="Image_367.png"/></span></p><p class="s2" style="padding-left: 98pt;text-indent: 0pt;text-align: center;"><a name="a285">Standards and RFCs</a></p><p class="s2" style="padding-top: 3pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">Link</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 107%;text-align: left;"><a href="https://www.cisco.com/cgi-bin/Support/Errordecoder/index.cgi" class="a" target="_blank">https://www.cisco.com/cgi-bin/Support/Errordecoder/ index.cgi</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: left;"><a name="a286">Standard/RFC</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">None</p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: left;"><a name="a287">Title</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">-</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_368.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a288">MIBs</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: center;">MIB</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">All supported MIBs for this release.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="115" alt="image" src="Image_369.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="234" alt="image" src="Image_370.png"/></span></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a289">Technical Assistance</a></p><p class="s2" style="padding-top: 3pt;padding-left: 70pt;text-indent: 0pt;text-align: justify;">MIBs Link</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 70pt;text-indent: 0pt;text-align: justify;">To locate and download MIBs for selected platforms, Cisco IOS releases, and feature sets, use Cisco MIB Locator found at the following URL:</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 70pt;text-indent: 0pt;text-align: justify;"><a href="http://www.cisco.com/go/mibs" class="a" target="_blank">http://www.cisco.com/go/mibs</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;"><a name="a290">Description</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">The Cisco Support website provides extensive online resources, including documentation and tools for troubleshooting and resolving technical issues with Cisco products and technologies.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">To receive security and technical information about your products, you can subscribe to various services, such as the Product Alert Tool (accessed from Field Notices), the Cisco Technical Services Newsletter, and Really Simple Syndication (RSS) Feeds.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">Access to most tools on the Cisco Support website requires a Cisco.com user ID and password.</p><p class="s2" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a291">Link</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/support" class="a" target="_blank">http://www.cisco.com/support</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="60" alt="image" src="Image_371.png"/></span></p><h3 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark253">Feature History and Information for Service Level Agreements</a><a name="bookmark293">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: center;"><a name="a292">Release</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">Cisco IOS XE 3.2SECisco IOS XE 3.2SE</p><p class="s2" style="padding-top: 3pt;padding-left: 101pt;text-indent: 0pt;text-align: center;"><a name="a293">Modification</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">This feature was introduced.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_372.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="576" height="144" alt="image" src="Image_373.jpg"/></span></p><p class="s10" style="padding-left: 315pt;text-indent: 0pt;line-height: 54pt;text-align: left;"><a name="bookmark294">C H A P T E R   </a><span class="h1">7</span><a name="bookmark314">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h2 style="padding-top: 1pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Configuring Local Policies</h2><p style="padding-top: 2pt;padding-left: 96pt;text-indent: 0pt;text-align: left;"><span><img width="584" height="6" alt="image" src="Image_374.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><ul id="l93"><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark315" class="a">Finding Feature Information, page 119</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark316" class="a">Restrictions for Configuring Local Policies, page 119</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark317" class="a">Information About Configuring Local Policies, page 120</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark318" class="a">How to Configure Local Policies, page 121</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark331" class="a">Monitoring Local Policies, page 131</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark332" class="a">Examples: Local Policies Configuration, page 132</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark333" class="a">Additional References for Configuring Local Policies, page 133</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark334" class="a" name="bookmark295">Feature History for Performing Local Policies Configuration, page 134</a><a name="bookmark315">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a294">Finding Feature Information</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Your software release may not support all the features documented in this module. For the latest caveats and feature information, see Bug Search Tool and the release notes for your platform and software release. To find information about the features documented in this module, and to see a list of the releases in which each feature is supported, see the feature information table at the end of this module.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/go/cfn" class="s4" target="_blank" name="bookmark296">Use Cisco Feature Navigator to find information about platform support and Cisco software image support. To access Cisco Feature Navigator, go to </a><a href="http://www.cisco.com/go/cfn" class="a" target="_blank">http://www.cisco.com/go/cf</a>n<span style=" color: #000;">. An account on Cisco.com is not required.</span><a name="bookmark316">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a295">Restrictions for Configuring Local Policies</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The policy map attributes supported on the switch are QoS, VLAN, session timeout, and ACL.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a296">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark322" class="a">Creating a Parameter Map (CLI</a><a href="#bookmark323" class="a">),  on page 124 Creating a Class Map (CLI</a>),  on page 125</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><a href="#bookmark324" class="a">Creating a Policy Map (CLI</a>),  on page 126</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark325" class="a">Applying a Local Policy for a Device on a WLAN (CLI</a>), on page 127</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_375.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-top: 3pt;padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark321" class="a">Creating an Interface Template (CLI</a><a href="#bookmark317" class="a">),  on page 123 Information About Configuring Local Policie</a>s, on page 120</p><p class="s9" style="padding-top: 3pt;padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark327" class="a">Creating a Service Template (GUI</a><a href="#bookmark328" class="a">),  on page 128 Creating a Policy Map (GUI</a>),  on page 129</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark330" class="a">Applying Local Policies to WLAN (GUI</a><a href="#bookmark317" class="a">), on page 130 Information About Configuring Local Policie</a>s, on page 120</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h3 style="text-indent: 0pt;text-align: center;"><a name="bookmark297">Information About Configuring Local Policies</a><a name="bookmark317">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Local policies can profile devices based on HTTP and DHCP to identify the end devices on the network. Users can configure device-based policies and enforce the policies per user or per device policy on the network.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Local policies allow profiling of mobile devices and basic onboarding of the profiled devices to a specific VLAN. They also assign ACL and QoS or configure session timeouts.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You can configure local policies as two separate components:</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><ul id="l94"><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Defining policy attributes as service templates specific to clients joining the network and applying policy match criteria.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Applying match criteria to the policy.</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The following policy match attributes are used for configuring local policies:</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Device<span class="s31">—</span>Defines the type of device. Windows-based computer, Smart phone, Apple devices such as iPad and iPhone.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Username<span class="s31">—</span>Defines the username of the user.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">User role<span class="s31">—</span>Defines the user type or the user group the user belongs to, such as a student or employee.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">MAC<span class="s31">—</span>Defines the mac-address of the end point.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">MAC OUI<span class="s31">—</span>Defines the mac-address OUI.</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Once the switch has a match corresponding to these parameters per end point, the policy can be added. Policy enforcement allows basic device on-boarding of mobile devices based on the following session attributes:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">VLAN</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">QoS</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">ACL</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Session timeout</p></li></ul></li></ul></li></ol><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You can configure these policies and enforce end points with specified policies. The wireless clients are profiled based on MAC OUI, DHCP, and HTTP user agent (valid Internet is required for successful HTTP profiling)MAC OUI and DHCP. The switch uses these attributes and predefined classification profiles to identify devices.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a297">Replacing Default Profile Text File</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">If a new device is not classified, contact the Cisco support team with the device MAC address. The Cisco support team will provide a new <b>dc_default_profile.txt </b>file with the MAC address included in the file. You</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_376.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">need to replace the <b>dc_default_profile.txt </b>file with the earlier file. Follow these steps to change the</p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a298">dc_default_profile.txt </a><span class="p">file:</span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><ol id="l95"><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Stop device classifier by entering this command: switch<b>(config)# no device classifier</b></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Copy the file by entering this command:</p><p style="padding-left: 113pt;text-indent: 0pt;text-align: left;">switch<b># device classifier profile location </b><i>filepath</i></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Start the device classifier by entering this command: switch<b>(config)# device classifier</b></p></li></ol><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a299">Disabling session monitor on trunk ports</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">On uplink trunk ports, you should not create any session monitoring. By default, session monitoring is enabled. You should disable session monitoring.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><ol id="l96"><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Enter into global configuration mode by entering this command: switch<b># configure terminal</b></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Enter into interface configuration mode by entering this command: switch<b>(config)# interface </b><i>interface-id</i></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Disable session monitoring by entering this command: switch<b>(config-if)# no access-session monitor</b></p></li></ol><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a300">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark322" class="a">Creating a Parameter Map (CLI</a><a href="#bookmark323" class="a">),  on page 124 Creating a Class Map (CLI</a>),  on page 125</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><a href="#bookmark324" class="a">Creating a Policy Map (CLI</a>),  on page 126</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark325" class="a">Applying a Local Policy for a Device on a WLAN (CLI</a><a href="#bookmark321" class="a">), on page 127 Creating an Interface Template (CLI</a>),  on page 123</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><a href="#bookmark316" class="a">Restrictions for Configuring Local Policie</a>s, on page 119</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark331" class="a">Monitoring Local Policie</a>s,  on page 131</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark332" class="a">Examples: Local Policies Configuratio</a><a href="#bookmark327" class="a">n,  on page 132 Creating a Service Template (GUI</a>),  on page 128</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><a href="#bookmark328" class="a">Creating a Policy Map (GUI</a>),  on page 129</p><p class="s9" style="padding-top: 2pt;padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark330" class="a" name="bookmark298">Applying Local Policies to WLAN (GUI</a><a href="#bookmark316" class="a">), on page 130 Restrictions for Configuring Local Policie</a>s, on page 119<a name="bookmark318">&zwnj;</a></p><p class="s9" style="padding-top: 3pt;padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark331" class="a">Monitoring Local Policie</a>s,  on page 131</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark332" class="a" name="bookmark299">Examples: Local Policies Configuratio</a>n,  on page 132<a name="bookmark319">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a301">How to Configure Local Policies</a></h3><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a302">Configuring Local Policies (CLI)</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">To configure local policies, complete these procedures:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_377.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ol id="l97"><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Create a service template.</p></li><li style="padding-top: 2pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Create an interface template.</p></li><li style="padding-top: 2pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Create a parameter map.</p></li><li style="padding-top: 2pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Create a policy map.</p></li><li style="padding-top: 2pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Apply a local policy on a WLAN.</p></li></ol><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s29" style="padding-left: 31pt;text-indent: 0pt;text-align: left;"><a name="bookmark300">Creating a Service Template (CLI)</a><a name="bookmark320">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_378.png"/></span></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a303">DETAILED STEPS</a></p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 78pt;text-indent: 0pt;text-align: left;"><a name="a304">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 78pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">service-template <i>service-template-name</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 84pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>service-template cisco-phone-template </b>Switch(config-service-template)#</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters service template configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">access-group <i>acl_list</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 22pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-service-template)# <b>access-group foo-acl</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the access list to be applied.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">vlan <i>vlan_id</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-service-template)# <b>vlan 100</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Specifies VLAN ID. You can specify a value from 1 to 4094.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">absolute-timer <i>seconds</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-service-template)# <b>absolute-timer 20</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Specifies session timeout value for service template. You can specify a value from 1 to 65535.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">service-policy qos <span class="s18">{</span>input <span class="s18">| </span>output<span class="s18">}</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 12pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-service-template)# <b>service-policy qos input foo-qos</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Configures QoS policies for the client.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_379.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 78pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 78pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.209pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode. Alternatively, you can also press <b>Ctrl-Z </b>to exit global configuration mode.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_380.png"/></span></p><p class="s29" style="padding-top: 3pt;padding-left: 30pt;text-indent: 0pt;text-align: left;"><a name="bookmark301">Creating an Interface Template (CLI)</a><a name="bookmark321">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_381.png"/></span></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 72pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 72pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">template <i>interface-template-name</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>template cisco-phone-template</b></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-template)#</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters interface template configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">switchport mode access</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 19pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-template)# <b>switchport mode access</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 5pt;text-indent: 0pt;text-align: left;">Sets the interface as a nontrunking nontagged single-VLAN Ethernet interface. An access port can carry traffic in one VLAN only. By default, an access port carries traffic for VLAN1.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">switchport voice vlan <i>vlan_id</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 14pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-template)# <b>switchport voice vlan 20</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 13pt;text-indent: 0pt;text-align: left;">Specifies to forward all voice traffic through the specified VLAN. You can specify a value from 1 to 4094.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode. Alternatively, you can also press <b>Ctrl-Z </b>to exit global configuration mode.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Related Topics</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark317" class="a">Information About Configuring Local Policie</a><a href="#bookmark316" class="a">s, on page 120 Restrictions for Configuring Local Policie</a>s, on page 119</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_382.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-top: 3pt;padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark331" class="a">Monitoring Local Policie</a>s,  on page 131</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark332" class="a">Examples: Local Policies Configuratio</a>n,  on page 132</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s29" style="padding-left: 31pt;text-indent: 0pt;text-align: left;"><a name="bookmark302">Creating a Parameter Map (CLI)</a><a name="bookmark322">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 98pt;text-indent: 0pt;text-align: center;">Parameter map is preferred to use than class map.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_383.png"/></span></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a305">DETAILED STEPS</a></p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 71pt;text-indent: 0pt;text-align: left;"><a name="a306">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 71pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">parameter-map type subscriber attribute-to-service</p><p class="s20" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">parameter-map-name</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 61pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>parameter-map type subscriber attribute-to-service Aironet-Policy-para</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the parameter map type and name.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><i>map-index </i>map <span class="s18">{ </span>device-type <span class="s18">| </span>mac-address <span class="s18">| </span>oui <span class="s18">| </span>user-role <span class="s18">|</span></p><p class="s19" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">username<span class="s18">} {</span>eq <span class="s18">| </span>not-eq <span class="s18">| </span>regex <i>filter-name </i><span class="s18">}</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 7pt;padding-right: 2pt;text-indent: -4pt;line-height: 9pt;text-align: left;">Switch(config-parameter-map-filter)# <b>10 map device-type eq &quot;WindowsXP-Workstation&quot;</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 24pt;text-indent: 0pt;text-align: left;">Specifies parameter map attribute filter criteria.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">service-template <i>service-template-name</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-parameter-map-filter-submode)# <b>service-template cisco-phone-template </b>Switch(config-parameter-map-filter-submode)#</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters service template configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">interface-template <i>interface-template-name</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-parameter-map-filter-submode)# <b>interface-template cisco-phone-template </b>Switch(config-parameter-map-filter-submode)#</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters service template configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 10pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode. Alternatively, you can also press <b>Ctrl-Z </b>to exit global configuration mode.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_384.png"/></span></p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Related Topics</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark317" class="a">Information About Configuring Local Policie</a><a href="#bookmark316" class="a">s, on page 120 Restrictions for Configuring Local Policie</a><a href="#bookmark331" class="a">s, on page 119 Monitoring Local Policie</a>s,  on page 131</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark332" class="a">Examples: Local Policies Configuratio</a>n,  on page 132</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s29" style="padding-left: 30pt;text-indent: 0pt;text-align: left;"><a name="bookmark303">Creating a Class Map (CLI)</a><a name="bookmark323">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_385.png"/></span></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a307">DETAILED STEPS</a></p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 74pt;text-indent: 0pt;text-align: left;"><a name="a308">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 74pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">class-map type control subscriber <i>class-map-name </i><span class="s18">{ </span>match-all</p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">| <b>match-any </b>| <b>match-first </b>}</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 23pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>class-map type control subscriber CLASS_AC_1 match-all</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the class map type and name.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">match <span class="s18">{</span>device-type <span class="s18">| </span>mac-address <span class="s18">| </span>oui <span class="s18">| </span>username <span class="s18">| </span>userrole<span class="s18">}</span></p><p class="s20" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">filter-type-name</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 52pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-class-map)# <b>match device-type Cisco-IP-Phone-7961</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies class map attribute filter criteria.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode. Alternatively, you can also press <b>Ctrl-Z </b>to exit global configuration mode.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Related Topics</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark317" class="a">Information About Configuring Local Policie</a><a href="#bookmark316" class="a">s, on page 120 Restrictions for Configuring Local Policie</a><a href="#bookmark331" class="a">s, on page 119 Monitoring Local Policie</a>s,  on page 131</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark332" class="a">Examples: Local Policies Configuratio</a>n,  on page 132</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_386.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s29" style="padding-top: 3pt;padding-left: 31pt;text-indent: 0pt;text-align: left;"><a name="bookmark304">Creating a Policy Map (CLI)</a><a name="bookmark324">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_387.png"/></span></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a309">DETAILED STEPS</a></p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 65pt;text-indent: 0pt;text-align: left;"><a name="a310">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 65pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 10pt;text-indent: 0pt;text-align: left;">Enters global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">policy-map type control subscriber <i>policy-map-name</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 39pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>policy-map type control subscriber Aironet-Policy</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 10pt;text-indent: 0pt;text-align: left;">Specifies the policy map type.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">event identity-update <span class="s18">{</span>match-all <span class="s18">| </span>match-first<span class="s18">}</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 7pt;padding-right: 2pt;text-indent: -4pt;line-height: 9pt;text-align: left;">Switch(config-policy-map)# <b>event identity-update match-all</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 10pt;text-indent: 0pt;text-align: left;">Specifies match criteria to the policy map.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><i>class_number </i><b>class </b>{<i>class_map_name </i>| <b>always </b>} {<b>do-all</b></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">| <b>do-until-failure </b>| <b>do-until-success</b>}</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 7pt;padding-right: 2pt;text-indent: -4pt;line-height: 9pt;text-align: left;">Switch(config-class-control-policymap)# <b>1 class local_policy1_class do-until-success</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Configures the local profiling policy class map number and specifies how to perform the action. The class map configuration mode includes the following command options:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l98"><li style="padding-left: 24pt;padding-right: 10pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">always<span class="s35">—</span><span class="s18">Executes without doing any matching but return success.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">do-all<span class="s35">—</span><span class="s18">Executes all the actions.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">do-until-failure<span class="s35">—</span><span class="s18">Execute all the actions until any match failure is encountered. This is the default value.</span></p></li><li style="padding-left: 24pt;padding-right: 10pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">do-until-success<span class="s35">—</span><span class="s18">Execute all the actions until any match success happens.</span></p></li></ul><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s20" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">action-index <b>map attribute-to-service table</b></p><p class="s20" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">parameter-map-name</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-policy-map)# <b>10 map</b></p><p class="s28" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">attribute-to-service table Aironet-Policy-para</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 10pt;text-indent: 0pt;text-align: left;">Specifies parameter map table to be used.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 6pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode. Alternatively, you can also press <b>Ctrl-Z </b>to exit global configuration mode.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_388.png"/></span></p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a311">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark317" class="a">Information About Configuring Local Policie</a><a href="#bookmark316" class="a">s, on page 120 Restrictions for Configuring Local Policie</a><a href="#bookmark331" class="a">s, on page 119 Monitoring Local Policie</a>s,  on page 131</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark332" class="a">Examples: Local Policies Configuratio</a>n,  on page 132</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s29" style="padding-left: 30pt;text-indent: 0pt;text-align: left;"><a name="bookmark305">Applying a Local Policy for a Device on a WLAN (CLI)</a><a name="bookmark325">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a312">Before You Begin</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">If the service policy contains any device type-based rules in the parameter map, ensure that the device classifier is already enabled.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_389.png"/></span></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a313">DETAILED STEPS</a></p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 81pt;text-indent: 0pt;text-align: left;"><a name="a314">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 81pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">wlan <i>wlan-name</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>wlan wlan1</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters WLAN configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">service-policy type control subscriber <i>policymapname</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;padding-right: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-wlan)# <b>service-policy type control subscriber Aironet-Policy</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Applies local policy to WLAN.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">profiling local http (optional)</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-wlan)# <b>profiling local http</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 11pt;text-indent: 0pt;text-align: left;">Enables only profiling of devices based on HTTP protocol (optional).</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">profiling radius http (optional)</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-wlan)# <b>profiling radius http</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables profiling of devices on ISE (optional).</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">no shutdown</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-wlan)# <b>no shutdown</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies not to shut down the WLAN.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_390.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 82pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 82pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.809pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode. Alternatively, you can also press <b>Ctrl-Z </b>to exit global configuration mode.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_391.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Related Topics</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark317" class="a">Information About Configuring Local Policie</a><a href="#bookmark316" class="a">s, on page 120 Restrictions for Configuring Local Policie</a><a href="#bookmark331" class="a">s, on page 119 Monitoring Local Policie</a>s,  on page 131</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark332" class="a" name="bookmark306">Examples: Local Policies Configuratio</a>n,  on page 132<a name="bookmark326">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a315">Configuring Local Policies (GUI)</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">To configure local policies, complete these procedures:</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><ol id="l99"><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Create a service template.</p></li><li style="padding-top: 2pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><a name="bookmark307">Create a policy map.</a><a name="bookmark327">&zwnj;</a></p></li><li style="padding-top: 2pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Apply a local policy that you have created to a WLAN.</p></li></ol><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s29" style="padding-left: 31pt;text-indent: 0pt;text-align: left;"><a name="a316">Creating a Service Template (GUI)</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 54pt;text-indent: 0pt;text-align: left;"><span><img width="637" height="4" alt="image" src="Image_392.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">Step 1         <span class="p">Choose </span>Configuration <span class="p">&gt; </span>Security <span class="p">&gt; </span>Local Policies <span class="p">&gt; </span>Service Template <span class="p">to open the </span>Service Template <span class="p">page.</span></p><p class="s2" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Step 2         <span class="p">Create a new template as follows:</span></p><ol id="l100"><li style="padding-top: 3pt;padding-left: 70pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Click <b>New </b>to open the <b>Service Template &gt; New </b>page.</p></li><li style="padding-top: 2pt;padding-left: 70pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">In the Service Template name text box, enter the new service template name.</p></li><li style="padding-top: 2pt;padding-left: 70pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">In the VLAN ID text box, enter the VLAN identifier that has to be associated with the policy. The value ranges from 1 to 4094.</p></li><li style="padding-top: 1pt;padding-left: 70pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">In the Session timeout text box, enter the maximum amount of time, in seconds, after which a client is forced to reauthenticate. The value ranges from 1 to 65535 seconds.</p></li><li style="padding-top: 1pt;padding-left: 70pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">From the Access control list drop-down list, choose the access control list to be mapped to the policy.</p></li><li style="padding-top: 2pt;padding-left: 70pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">From the Ingress QoS drop-down list, choose the ingress QoS policy to be applied.</p></li><li style="padding-top: 2pt;padding-left: 70pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">From the Egress QoS drop-down list, choose the egress QoS policy to be applied.</p></li><li style="padding-top: 2pt;padding-left: 70pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Click <b>Apply </b>to save the configuration.</p></li></ol><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">Step 3         <span class="p">Edit a service template as follows:</span></p><ol id="l101"><li style="padding-top: 3pt;padding-left: 70pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">From the <b>Service Template </b>page, click the service template to open the <b>Service Template &gt; Edit </b>page.</p></li><li style="padding-top: 2pt;padding-left: 70pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">In the VLAN ID text box, enter the VLAN identifier that has to be associated with the policy. The value ranges from 1 to 4094.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_393.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p></li><li style="padding-top: 3pt;padding-left: 69pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">In the Session timeout text box, enter the maximum amount of time, in seconds, after which a client is forced to reauthenticate. The value ranges from 1 to 65535 seconds.</p></li><li style="padding-top: 1pt;padding-left: 69pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">From the Access control list drop-down list, choose the access control list to be mapped to the policy.</p></li><li style="padding-top: 2pt;padding-left: 69pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">From the Ingress QoS drop-down list, choose the ingress QoS policy to be applied.</p></li><li style="padding-top: 2pt;padding-left: 69pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">From the Egress QoS drop-down list, choose the egress QoS policy to be applied.</p></li><li style="padding-top: 2pt;padding-left: 69pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Click <b>Apply </b>to save the configuration.</p></li></ol><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="text-indent: 0pt;text-align: center;">Step 4         <span class="p">Remove a service template as follows:</span></p><ol id="l102"><li style="padding-top: 3pt;padding-left: 69pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">From the <b>Service Template </b>page, select the service template.</p></li><li style="padding-top: 2pt;padding-left: 69pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Click <b>Remove</b>.</p></li><li style="padding-top: 2pt;padding-left: 69pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Click <b>Apply </b>to save the configuration.</p></li></ol><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 54pt;text-indent: 0pt;text-align: left;"><span><img width="638" height="4" alt="image" src="Image_394.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a317">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark317" class="a">Information About Configuring Local Policie</a><a href="#bookmark316" class="a">s, on page 120 Restrictions for Configuring Local Policie</a><a href="#bookmark331" class="a">s, on page 119 Monitoring Local Policie</a>s,  on page 131</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark332" class="a" name="bookmark308">Examples: Local Policies Configuratio</a>n,  on page 132<a name="bookmark328">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s29" style="text-indent: 0pt;text-align: center;"><a name="bookmark329">Creating a Policy Map (GUI)</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 54pt;text-indent: 0pt;text-align: left;"><span><img width="638" height="4" alt="image" src="Image_395.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Step 1         <span class="p">Choose </span>Configuration <span class="p">&gt; </span>Security <span class="p">&gt; </span>Local Policies <span class="p">&gt; </span>Policy Map <span class="p">to open the </span>Policy Map <span class="p">page.</span></p><p class="s2" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Step 2         <span class="p">Create a new policy map as follows:</span></p><ol id="l103"><li style="padding-top: 3pt;padding-left: 69pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Click <b>New </b>to open the <b>Policy Map &gt; New </b>page.</p></li><li style="padding-top: 2pt;padding-left: 69pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">In the Policy Map name text box, enter the new policy map name.</p></li><li style="padding-top: 2pt;padding-left: 69pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Click <b>Add </b>to open the Match Criteria area.</p></li><li style="padding-top: 2pt;padding-left: 69pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">From the Device Type drop-down list, choose the device type. The match criteria for the device type can be eq, not-eq, or regex with respect to the device type you are choosing.</p></li><li style="padding-top: 1pt;padding-left: 69pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">From the User Role drop-down list, select the match criteria as eq, not-eq, or regex and enter the user type or user group of the user, for example, student, teacher, and so on.</p></li><li style="padding-top: 1pt;padding-left: 69pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">From the Service Template drop-down list, choose the service template to be mapped to the policy.</p></li><li style="padding-top: 2pt;padding-left: 69pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Click <b>Add</b>. The match criteria is added to the Match Criteria Lists.</p></li><li style="padding-top: 2pt;padding-left: 69pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">In the Match Criteria Lists area, click <b>Add </b>to add the match criteria to the policy.</p></li><li style="padding-top: 2pt;padding-left: 69pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Click <b>Apply </b>to save the configuration.</p></li></ol><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Step 3         <span class="p">Edit a policy map as follows:</span></p><ol id="l104"><li style="padding-top: 3pt;padding-left: 69pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">In the <b>Policy Map </b>page, select the policy map that you want to edit, and click <b>Edit </b>to open the <b>Policy Map &gt; Edit</b></p><p style="padding-left: 69pt;text-indent: 0pt;text-align: left;">page.</p></li><li style="padding-top: 2pt;padding-left: 69pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">In the Match Criteria area, choose the device type from the Device Type drop-down list. The match criteria for the device type can be eq, not-eq, or regex with respect to the device type you are choosing.</p></li><li style="padding-top: 1pt;padding-left: 69pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">In the Match Criteria area, choose the user role from the User Role drop-down list. Select the match criteria as eq, not-eq, or regex and enter the user type or user group of the user</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_396.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p></li><li style="padding-top: 3pt;padding-left: 70pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">From the Service Template drop-down list, choose the service template to be mapped to the policy.</p></li><li style="padding-top: 2pt;padding-left: 70pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Click <b>Ok </b>to save the configuration or <b>Cancel </b>to discard the configuration.</p></li><li style="padding-top: 2pt;padding-left: 70pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Click <b>Add </b>to add more match criteria based on device type, user role, and service template to the policy.</p></li><li style="padding-top: 2pt;padding-left: 70pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">In the Match Criteria Lists area, select the match criteria and click <b>Move to </b>to move the match criteria with respect to a value entered in the row text box.</p></li><li style="padding-top: 1pt;padding-left: 70pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Select the match criteria and click <b>Move up </b>to move the match criteria up in the list.</p></li><li style="padding-top: 2pt;padding-left: 70pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Select the match criteria and click <b>Move down </b>to move the match criteria down in the list.</p></li><li style="padding-top: 2pt;padding-left: 70pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Select the match criteria and click <b>Remove </b>to remove the match criteria from the policy map list.</p></li><li style="padding-top: 2pt;padding-left: 70pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Click <b>Apply </b>to save the configuration.</p></li></ol><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="text-indent: 0pt;text-align: center;">Step 4         <span class="p">Remove a policy map as follows:</span></p><ol id="l105"><li style="padding-top: 3pt;padding-left: 70pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">From the <b>Policy Map </b>page, select the policy map.</p></li><li style="padding-top: 2pt;padding-left: 70pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Click <b>Remove</b>.</p></li><li style="padding-top: 2pt;padding-left: 70pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Click <b>Apply </b>to save the configuration.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 54pt;text-indent: 0pt;text-align: left;"><span><img width="637" height="4" alt="image" src="Image_397.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a318">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark317" class="a" name="bookmark309">Information About Configuring Local Policie</a><a href="#bookmark316" class="a">s, on page 120 Restrictions for Configuring Local Policie</a><a href="#bookmark331" class="a">s, on page 119 Monitoring Local Policie</a>s,  on page 131<a name="bookmark330">&zwnj;</a></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark332" class="a">Examples: Local Policies Configuratio</a>n,  on page 132</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s29" style="text-indent: 0pt;text-align: center;"><a name="a319">Applying Local Policies to WLAN (GUI)</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 54pt;text-indent: 0pt;text-align: left;"><span><img width="637" height="4" alt="image" src="Image_398.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">Step 1         <span class="p">Choose </span>Configuration <span class="p">&gt; </span>Wireless <span class="p">&gt; </span>WLAN <span class="p">to open the </span>WLANs <span class="p">page.</span></p><p class="s2" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Step 2         <span class="p">Click the corresponding WLAN profile. The </span>WLANs &gt; Edit <span class="p">page is displayed.</span></p><p class="s2" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Step 3         <span class="p">Click the </span>Policy-Mapping <span class="p">tab.</span></p><p class="s2" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Step 4         <span class="p">Check the </span>Device Classification <span class="p">check box to enable classification based on device type.</span></p><p class="s2" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Step 5         <span class="p">From the Local Subscriber Policy drop-down list, choose the policy that has to be applied for the WLAN.</span></p><p class="s2" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Step 6         <span class="p">Select </span>Local HTTP Profiling <span class="p">to enable profiling on devices based on HTTP (optional).</span></p><p class="s2" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Step 7         <span class="p">Select </span>Radius HTTP Profiling <span class="p">to enable profiling on devices based on RADIUS (optional).</span></p><p class="s2" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Step 8         <span class="p">Click </span>Apply <span class="p">to save the configuration.</span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 54pt;text-indent: 0pt;text-align: left;"><span><img width="637" height="4" alt="image" src="Image_399.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a320">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark317" class="a">Information About Configuring Local Policie</a><a href="#bookmark316" class="a">s, on page 120 Restrictions for Configuring Local Policie</a><a href="#bookmark331" class="a">s, on page 119 Monitoring Local Policie</a>s,  on page 131</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark332" class="a">Examples: Local Policies Configuratio</a>n,  on page 132</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_400.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark310">Monitoring Local Policies</a><a name="bookmark331">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The following commands can be used to monitor local policies configured on the switch.</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s14" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Table 13: Monitoring Local Policies Command</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:98.809pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Command</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Purpose</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show access-session</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Displays the summary of access session with authorization status, method and domain for each client or MAC address displayed.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show access-session cache</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Displays the latest classification for the client.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show device classifier attached detail</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 5pt;text-indent: 0pt;text-align: left;">Displays the latest classification for the client based on parameters such as Mac, DHCP, or HTTP.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show access-session mac <i>mac-address </i>details</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Displays the policy mapped, service template used, and attributes for the client.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show access-session mac <i>mac-address </i>policy</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Displays the policy mapped, service template used, and attributes for the client.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 3pt;padding-right: 6pt;text-indent: 0pt;text-align: left;">In addition, you can view the <b>Resultant Policy </b>that displays the following information:</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr></table><ul id="l106"><li style="padding-left: 25pt;padding-right: 3pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">The final attributes applied to the session when the session has locally configured attributes.</p></li><li style="padding-left: 25pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">Attributes applied from the server.</p></li></ul><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a321">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark322" class="a">Creating a Parameter Map (CLI</a><a href="#bookmark323" class="a">),  on page 124 Creating a Class Map (CLI</a>),  on page 125</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><a href="#bookmark324" class="a">Creating a Policy Map (CLI</a>),  on page 126</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark325" class="a">Applying a Local Policy for a Device on a WLAN (CLI</a><a href="#bookmark321" class="a">), on page 127 Creating an Interface Template (CLI</a>),  on page 123</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><a href="#bookmark317" class="a">Information About Configuring Local Policie</a>s, on page 120</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark327" class="a">Creating a Service Template (GUI</a><a href="#bookmark328" class="a">),  on page 128 Creating a Policy Map (GUI</a>),  on page 129</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark330" class="a">Applying Local Policies to WLAN (GUI</a><a href="#bookmark317" class="a">), on page 130 Information About Configuring Local Policie</a>s, on page 120</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_401.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h3 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark311">Examples: Local Policies Configuration</a><a name="bookmark332">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to create service template:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>service-template test3</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-service-template)# <b>access-group josephacl</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-service-template)# <b>vlan 137</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-service-template)# <b>absolute-timer 500</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-service-template)# <b>service-policy qos input qosingress</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-service-template)# <b>end</b></p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to create parameter map:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>parameter-map type subscriber attribute-to-service apple-tsim-param</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-parameter-map)# <b>1 map device-type eq &quot;Apple-Device&quot;</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-parameter-map)# <b>1 service-template test1</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-parameter-map)# <b>2 map device-type eq &quot;Apple-Ipad&quot;</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-parameter-map)# <b>1 service-template test2</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-parameter-map)# <b>3 map device-type eq &quot;Android&quot;</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-parameter-map)# <b>1 service-template test3</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-parameter-map)# <b>end</b></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 65pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_402.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_403.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">At the end of each configuration command line, enter CTRL Z to execute the command and proceed to the next line.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_404.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">This example shows how to create interface template:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>configure terminal </b>Switch(config)#<b>template cisco-phone-template </b>Switch(config-template)#<b>switchport mode access </b>Switch(config-template)#<b>switchport voice vlan 20 </b>Switch(config-template)# <b>end</b></p><p style="padding-top: 5pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">This example shows how to create parameter map:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)#<b>parameter-map type subscriber attribute-to-service param-wired</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-parameter-map-filter)#<b>10 map device-type regex Cisco-IP-Phone</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-parameter-map-filter-submode)#<b>10 interface-template cisco-phone-template</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-parameter-map)# <b>end</b></p><p style="padding-top: 4pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">This example shows how to create policy map:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>policy-map type control subscriber apple-tsim </b>Switch(config-policy-map)# <b>event identity-update match-all </b>Switch(config-policy-map)# <b>1 class always do-until-failure</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Switch(config-policy-map)# <b>1 map attribute-to-service table apple-tsim-param</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-policy-map)# <b>end</b></p><p style="padding-top: 4pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">This example shows how to apply policy to a device on a WLAN:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>wlan wlan1</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-wlan)# <b>client vlan VLAN0054</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-wlan)# <b>profiling local http</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-wlan)# <b>service-policy type control subscriber apple-tsim</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-wlan)# <b>no shutdown</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>end</b></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 11pt;text-indent: 0pt;text-align: left;"><a name="a322">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 27pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark322" class="a">Creating a Parameter Map (CLI</a><a href="#bookmark323" class="a">),  on page 124 Creating a Class Map (CLI</a>),  on page 125</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_405.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-top: 3pt;padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark324" class="a">Creating a Policy Map (CLI</a>),  on page 126</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark325" class="a">Applying a Local Policy for a Device on a WLAN (CLI</a><a href="#bookmark321" class="a">), on page 127 Creating an Interface Template (CLI</a>),  on page 123</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><a href="#bookmark317" class="a">Information About Configuring Local Policie</a>s, on page 120</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark327" class="a">Creating a Service Template (GUI</a><a href="#bookmark328" class="a">),  on page 128 Creating a Policy Map (GUI</a>),  on page 129</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark330" class="a">Applying Local Policies to WLAN (GUI</a><a href="#bookmark317" class="a">), on page 130 Information About Configuring Local Policie</a>s, on page 120</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark312">Additional References for Configuring Local Policies</a><a name="bookmark333">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a323">Related Documents</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: left;">Related Topic</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">Security commands</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="76" alt="image" src="Image_406.png"/></span></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a324">Standards and RFCs</a></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Document Title</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s23" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Security Command Reference Guide, Cisco IOS XE Release 3SE (Cisco WLC 5700 Series)</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: left;"><a name="a325">Standard/RFC</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">None</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="61" alt="image" src="Image_407.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="115" alt="image" src="Image_408.png"/></span></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a326">MIBs</a></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Title</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">—</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 101pt;text-indent: 0pt;text-align: center;"><a name="a327">MIB</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">All supported MIBs for this release.</p><p class="s2" style="padding-top: 3pt;padding-left: 70pt;text-indent: 0pt;text-align: justify;"><a name="a328">MIBs Link</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 70pt;text-indent: 0pt;text-align: justify;">To locate and download MIBs for selected platforms, Cisco IOS releases, and feature sets, use Cisco MIB Locator found at the following URL:</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 70pt;text-indent: 0pt;text-align: justify;"><a href="http://www.cisco.com/go/mibs" class="a" target="_blank">http://www.cisco.com/go/mibs</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_409.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="234" alt="image" src="Image_410.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a329">Technical Assistance</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;">Description</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">The Cisco Support website provides extensive online resources, including documentation and tools for troubleshooting and resolving technical issues with Cisco products and technologies.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">To receive security and technical information about your products, you can subscribe to various services, such as the Product Alert Tool (accessed from Field Notices), the Cisco Technical Services Newsletter, and Really Simple Syndication (RSS) Feeds.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">Access to most tools on the Cisco Support website requires a Cisco.com user ID and password.</p><p class="s2" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a330">Link</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/support" class="a" target="_blank">http://www.cisco.com/support</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="60" alt="image" src="Image_411.png"/></span></p><h3 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark313">Feature History for Performing Local Policies Configuration</a><a name="bookmark334">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;"><a name="a331">Release</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">Cisco IOS XE 3E</p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;"><a name="a332">Feature Information</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">This feature was introduced.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_412.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="576" height="144" alt="image" src="Image_413.jpg"/></span></p><p class="s10" style="padding-left: 315pt;text-indent: 0pt;line-height: 54pt;text-align: left;"><a name="bookmark335">C H A P T E R   </a><span class="h1">8</span><a name="bookmark376">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h2 style="padding-top: 1pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Configuring SPAN and RSPAN</h2><p style="padding-top: 2pt;padding-left: 96pt;text-indent: 0pt;text-align: left;"><span><img width="584" height="6" alt="image" src="Image_414.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><ul id="l107"><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark377" class="a">Finding Feature Information, page 135</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark378" class="a">Prerequisites for SPAN and RSPAN, page 135</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark379" class="a">Restrictions for SPAN and RSPAN, page 136</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark382" class="a">Information About SPAN and RSPAN, page 137</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark425" class="a">How to Configure SPAN and RSPAN, page 149</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark444" class="a">Monitoring SPAN and RSPAN Operations, page 172</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark445" class="a">SPAN and RSPAN Configuration Examples, page 173</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark448" class="a">Additional References, page 175</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark449" class="a" name="bookmark336">Feature History and Information for SPAN and RSPAN, page 176</a><a name="bookmark377">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a333">Finding Feature Information</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Your software release may not support all the features documented in this module. For the latest caveats and feature information, see Bug Search Tool and the release notes for your platform and software release. To find information about the features documented in this module, and to see a list of the releases in which each feature is supported, see the feature information table at the end of this module.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/go/cfn" class="s4" target="_blank" name="bookmark337">Use Cisco Feature Navigator to find information about platform support and Cisco software image support. To access Cisco Feature Navigator, go to </a><a href="http://www.cisco.com/go/cfn" class="a" target="_blank">http://www.cisco.com/go/cf</a>n<span style=" color: #000;">. An account on Cisco.com is not required.</span><a name="bookmark378">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a334">Prerequisites for SPAN and RSPAN</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a335">SPAN</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l108"><li style="padding-left: 121pt;text-indent: -6pt;text-align: justify;"><p style="display: inline;">You can limit SPAN traffic to specific VLANs by using the <b>filter vlan </b>keyword. If a trunk port is being monitored, only traffic on the VLANs specified with this keyword is monitored. By default, all VLANs are monitored on a trunk port.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_415.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a336">RSPAN</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">We recommend that you configure an RSPAN VLAN before you configure an RSPAN source or a destination session.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h3 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark338">Restrictions for SPAN and RSPAN</a><a name="bookmark379">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a337">SPAN</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark380">The restrictions for SPAN are as follows:</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: justify;"><p style="display: inline;">On each switch, you can configure 66 sessions. A maximum of 7 source sessions can be configured and the remaining sessions can be configured as RSPAN destinations sessions. A source session is either a local SPAN session or an RSPAN source session.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">For SPAN sources, you can monitor traffic for a single port or VLAN or a series or range of ports or VLANs for each session. You cannot mix source ports and source VLANs within a single SPAN session.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">The destination port cannot be a source port; a source port cannot be a destination port.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">You cannot have two SPAN sessions using the same destination port.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">When you configure a switch port as a SPAN destination port, it is no longer a normal switch port; only monitored traffic passes through the SPAN destination port.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: justify;"><p style="display: inline;"><a name="bookmark381">Entering SPAN configuration commands does not remove previously configured SPAN parameters. You must enter the </a><b>no monitor session </b>{<i>session_number </i>| <b>all </b>| <b>local </b>| <b>remote</b>} global configuration command to delete configured SPAN parameters.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 94%;text-align: justify;"><p style="display: inline;">For local SPAN, outgoing packets through the SPAN destination port carry the original encapsulation headers<span class="s31">—</span>untagged, ISL, or IEEE 802.1Q<span class="s31">—</span>if the <b>encapsulation replicate </b>keywords are specified. If the keywords are not specified, the packets are sent in native form.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">You can configure a disabled port to be a source or destination port, but the SPAN function does not start until the destination port and at least one source port or source VLAN are enabled.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 99pt;text-indent: 16pt;line-height: 186%;text-align: left;"><p style="display: inline;">You cannot mix source VLANs and filter VLANs within a single SPAN session. Traffic monitoring in a SPAN session has the following restrictions:</p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 10pt;text-align: left;"><p style="display: inline;">Sources can be ports or VLANs, but you cannot mix source ports and source VLANs in the same session.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Wireshark does not capture egress packets when egress span is active.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">You can run both a local SPAN and an RSPAN source session in the same switch or switch stack. The switch or switch stack supports a total of 66 source and RSPAN destination sessions.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">You can configure two separate SPAN or RSPAN source sessions with separate or overlapping sets of SPAN source ports and VLANs. Both switched and routed ports can be configured as SPAN sources and destinations.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">You can have multiple destination ports in a SPAN session, but no more than 64 destination ports per switch stack.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_416.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-top: 2pt;padding-left: 121pt;text-indent: -6pt;text-align: justify;"><p style="display: inline;">SPAN sessions do not interfere with the normal operation of the switch. However, an oversubscribed SPAN destination, for example, a 10-Mb/s port monitoring a 100-Mb/s port, can result in dropped or lost packets.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">When SPAN or RSPAN is enabled, each packet being monitored is sent twice, once as normal traffic and once as a monitored packet. Monitoring a large number of ports or VLANs could potentially generate large amounts of network traffic.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">You can configure SPAN sessions on disabled ports; however, a SPAN session does not become active unless you enable the destination port and at least one source port or VLAN for that session.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">The switch does not support a combination of local SPAN and RSPAN in a single session.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 137pt;text-indent: 0pt;text-align: left;">◦<span class="p">An RSPAN source session cannot have a local destination port.</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 137pt;text-indent: 0pt;text-align: left;">◦<span class="p">An RSPAN destination session cannot have a local source port.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 143pt;text-indent: -6pt;line-height: 12pt;text-align: left;">◦<span class="p">An RSPAN destination session and an RSPAN source session that are using the same RSPAN VLAN cannot run on the same switch or switch stack.</span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a338">RSPAN</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The restrictions for RSPAN are as follows:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">RSPAN does not support BPDU packet monitoring or other Layer 2 switch protocols.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: justify;"><p style="display: inline;">The RSPAN VLAN is configured only on trunk ports and not on access ports. To avoid unwanted traffic in RSPAN VLANs, make sure that the VLAN remote-span feature is supported in all the participating switches.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">RSPAN VLANs are included as sources for port-based RSPAN sessions when source trunk ports have active RSPAN VLANs. RSPAN VLANs can also be sources in SPAN sessions. However, since the switch does not monitor spanned traffic, it does not support egress spanning of packets on any RSPAN VLAN identified as the destination of an RSPAN source session on the switch.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;"><a name="bookmark339">If you enable VTP and VTP pruning, RSPAN traffic is pruned in the trunks to prevent the unwanted flooding of RSPAN traffic across the network for VLAN IDs that are lower than 1005.</a><a name="bookmark382">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">To use RSPAN, the switch must be running the LAN Base image.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark340">Information About SPAN and RSPAN</a><a name="bookmark383">&zwnj;</a><a name="bookmark384">&zwnj;</a><a name="bookmark385">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a339">SPAN and RSPAN</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You can analyze network traffic passing through ports or VLANs by using SPAN or RSPAN to send a copy of the traffic to another port on the switch or on another switch that has been connected to a network analyzer or other monitoring or security device. SPAN copies (or mirrors) traffic received or sent (or both) on source ports or source VLANs to a destination port for analysis. SPAN does not affect the switching of network traffic on the source ports or VLANs. You must dedicate the destination port for SPAN use. Except for traffic that is required for the SPAN or RSPAN session, destination ports do not receive or forward traffic.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Only traffic that enters or leaves source ports or traffic that enters or leaves source VLANs can be monitored by using SPAN; traffic routed to a source VLAN cannot be monitored. For example, if incoming traffic is</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_417.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark386">being monitored, traffic that gets routed from another VLAN to the source VLAN cannot be monitored; however, traffic that is received on the source VLAN and routed to another VLAN can be monitored.</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">You can use the SPAN or RSPAN destination port to inject traffic from a network security device. For example, if you connect a Cisco Intrusion Detection System (IDS) sensor appliance to a destination port, the IDS device can send TCP reset packets to close down the TCP session of a suspected attacker.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s29" style="padding-top: 3pt;padding-left: 31pt;text-indent: 0pt;text-align: left;"><a name="bookmark341">Local SPAN</a><a name="bookmark387">&zwnj;</a><a name="bookmark388">&zwnj;</a><a name="bookmark389">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Local SPAN supports a SPAN session entirely within one switch; all source ports or source VLANs and destination ports are in the same switch or switch stack. Local SPAN copies traffic from one or more source ports in any VLAN or from one or more VLANs to a destination port for analysis.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 1pt;text-indent: 0pt;text-align: left;">All traffic on port 5 (the source port) is mirrored to port 10 (the destination port). A network analyzer on port 10 receives all network traffic from port 5 without being physically attached to port 5.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s14" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Figure 7: Example of Local SPAN Configuration on a Single Device</p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p style="padding-left: 1pt;text-indent: 0pt;text-align: left;"><span><img width="319" height="219" alt="image" src="Image_418.jpg"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 1pt;text-indent: 0pt;text-align: left;"><a name="bookmark390">This is an example of a local SPAN in a switch stack, where the source and destination ports reside on different stack members.</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_419.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s14" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Figure 8: Example of Local SPAN Configuration on a Device Stack</p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><span><img width="410" height="319" alt="image" src="Image_420.jpg"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a340">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark426" class="a">Creating a Local SPAN Sessio</a>n,  on page 149</p><p class="s9" style="padding-top: 2pt;padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark428" class="a" name="bookmark342">Creating a Local SPAN Session and Configuring Incoming Traffi</a><a href="#bookmark446" class="a">c, on page 152 Example: Configuring Local SPA</a>N,  on page 173<a name="bookmark391">&zwnj;</a><a name="bookmark392">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s29" style="padding-left: 30pt;text-indent: 0pt;text-align: left;"><a name="a341">Remote SPAN</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">RSPAN supports source ports, source VLANs, and destination ports on different switches (or different switch stacks), enabling remote monitoring of multiple switches across your network.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The figure below shows source ports on Switch A and Switch B. The traffic for each RSPAN session is carried over a user-specified RSPAN VLAN that is dedicated for that RSPAN session in all participating switches. The RSPAN traffic from the source ports or VLANs is copied into the RSPAN VLAN and forwarded over trunk ports carrying the RSPAN VLAN to a destination session monitoring the RSPAN VLAN. Each RSPAN</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_421.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">source switch must have either ports or VLANs as RSPAN sources. The destination is always a physical port, as shown on Switch C in the figure.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s14" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Figure 9: Example of RSPAN Configuration</p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><span><img width="386" height="416" alt="image" src="Image_422.jpg"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a342">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark435" class="a" name="bookmark343">Creating an RSPAN Source Sessio</a><a href="#bookmark438" class="a">n,  on page 158 Creating an RSPAN Destination Sessio</a>n,  on page 162<a name="bookmark393">&zwnj;</a></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark439" class="a">Creating an RSPAN Destination Session and Configuring Incoming Traffi</a><a href="#bookmark447" class="a">c, on page 164 Examples: Creating an RSPAN VLA</a>N,  on page 174</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s29" style="text-indent: 0pt;text-align: center;"><a name="a343">SPAN and RSPAN Concepts and Terminology</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;"><a href="#bookmark394" class="a">SPAN Sessions</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;"><a href="#bookmark396" class="a">Monitored Traffic</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;"><a href="#bookmark400" class="a">Source Ports</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;"><a href="#bookmark402" class="a">Source VLANs</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;"><a href="#bookmark404" class="a">VLAN Filtering</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;"><a href="#bookmark406" class="a">Destination Port</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;"><a href="#bookmark408" class="a">RSPAN VLAN</a></p></li></ul></li></ul></li></ol><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_423.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 30pt;text-indent: 0pt;text-align: left;"><a name="bookmark344">SPAN Sessions</a><a name="bookmark394">&zwnj;</a><a name="bookmark395">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 1pt;text-indent: 0pt;text-align: left;">SPAN sessions (local or remote) allow you to monitor traffic on one or more ports, or one or more VLANs, and send the monitored traffic to one or more destination ports.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 1pt;text-indent: 0pt;text-align: left;">A local SPAN session is an association of a destination port with source ports or source VLANs, all on a single network device. Local SPAN does not have separate source and destination sessions. Local SPAN sessions gather a set of ingress and egress packets specified by the user and form them into a stream of SPAN data, which is directed to the destination port.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 1pt;text-indent: 0pt;text-align: left;">RSPAN consists of at least one RSPAN source session, an RSPAN VLAN, and at least one RSPAN destination session. You separately configure RSPAN source sessions and RSPAN destination sessions on different network devices. To configure an RSPAN source session on a device, you associate a set of source ports or source VLANs with an RSPAN VLAN. The output of this session is the stream of SPAN packets that are sent to the RSPAN VLAN. To configure an RSPAN destination session on another device, you associate the destination port with the RSPAN VLAN. The destination session collects all RSPAN VLAN traffic and sends it out the RSPAN destination port.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 1pt;text-indent: 0pt;text-align: left;">An RSPAN source session is very similar to a local SPAN session, except for where the packet stream is directed. In an RSPAN source session, SPAN packets are relabeled with the RSPAN VLAN ID and directed over normal trunk ports to the destination switch.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 1pt;text-indent: 0pt;text-align: justify;">An RSPAN destination session takes all packets received on the RSPAN VLAN, strips off the VLAN tagging, and presents them on the destination port. The session presents a copy of all RSPAN VLAN packets (except Layer 2 control packets) to the user for analysis.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 1pt;text-indent: 0pt;text-align: left;">A single RSPAN session with multiple source and destination ports can be in the same session but more than one source session with the source being the same remote vlan is not allowed.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Traffic monitoring in a SPAN session has these restrictions:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l109"><li style="padding-left: 23pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Sources can be ports or VLANs, but you cannot mix source ports and source VLANs in the same session.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 23pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">You can run both a local SPAN and an RSPAN source session in the same switch or switch stack. The switch or switch stack supports a total of 66 source and RSPAN destination sessions.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 23pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">You can configure two separate SPAN or RSPAN source sessions with separate or overlapping sets of SPAN source ports and VLANs. Both switched and routed ports can be configured as SPAN sources and destinations.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 23pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">You can have multiple destination ports in a SPAN session, but no more than 64 destination ports per switch stack.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 23pt;text-indent: -6pt;text-align: justify;"><p style="display: inline;">SPAN sessions do not interfere with the normal operation of the switch. However, an oversubscribed SPAN destination, for example, a 10-Mb/s port monitoring a 100-Mb/s port, can result in dropped or lost packets.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 23pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">When SPAN or RSPAN is enabled, each packet being monitored is sent twice, once as normal traffic and once as a monitored packet. Therefore monitoring a large number of ports or VLANs could potentially generate large amounts of network traffic.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 23pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">You can configure SPAN sessions on disabled ports; however, a SPAN session does not become active unless you enable the destination port and at least one source port or VLAN for that session.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 23pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">The switch does not support a combination of local SPAN and RSPAN in a single session.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 39pt;text-indent: 0pt;text-align: left;">◦<span class="p">An RSPAN source session cannot have a local destination port.</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 39pt;text-indent: 0pt;text-align: left;">◦<span class="p">An RSPAN destination session cannot have a local source port.</span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_424.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s31" style="padding-top: 4pt;padding-left: 143pt;text-indent: -6pt;line-height: 12pt;text-align: left;">◦<span class="p">An RSPAN destination session and an RSPAN source session that are using the same RSPAN VLAN cannot run on the same switch or switch stack.</span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a344">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark426" class="a">Creating a Local SPAN Sessio</a>n,  on page 149</p><p class="s9" style="padding-top: 2pt;padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark428" class="a">Creating a Local SPAN Session and Configuring Incoming Traffi</a><a href="#bookmark446" class="a">c, on page 152 Example: Configuring Local SPA</a>N,  on page 173</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 31pt;text-indent: 0pt;text-align: left;"><a name="bookmark345">Monitored Traffic</a><a name="bookmark396">&zwnj;</a><a name="bookmark397">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark398">SPAN sessions can monitor these traffic types:</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l110"><li style="padding-left: 121pt;text-indent: -6pt;text-align: justify;"><p style="display: inline;">Receive (Rx) SPAN<span class="s31">—</span>Receive (or ingress) SPAN monitors as much as possible all of the packets received by the source interface or VLAN before any modification or processing is performed by the switch. A copy of each packet received by the source is sent to the destination port for that SPAN session.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 121pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Packets that are modified because of routing or Quality of Service (QoS)<span class="s31">—</span>for example, modified Differentiated Services Code Point (DSCP)<span class="s31">—</span>are copied before modification.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 121pt;text-indent: 0pt;text-align: left;"><a name="bookmark399">Features that can cause a packet to be dropped during receive processing have no effect on ingress SPAN; the destination port receives a copy of the packet even if the actual incoming packet is dropped. These features include IP standard and extended input Access Control Lists (ACLs), ingress QoS policing, VLAN ACLs, and egress QoS policing.</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Transmit (Tx) SPAN<span class="s31">—</span>Transmit (or egress) SPAN monitors as much as possible all of the packets sent by the source interface after all modification and processing is performed by the switch. A copy of each packet sent by the source is sent to the destination port for that SPAN session. The copy is provided after the packet is modified.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 121pt;text-indent: 0pt;text-align: left;">Packets that are modified because of routing (for example, with modified time-to-live (TTL), MAC address, or QoS values) are duplicated (with the modifications) at the destination port.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 121pt;text-indent: 0pt;text-align: left;">Features that can cause a packet to be dropped during transmit processing also affect the duplicated copy for SPAN. These features include IP standard and extended output ACLs and egress QoS policing.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Both<span class="s31">—</span>In a SPAN session, you can also monitor a port or VLAN for both received and sent packets. This is the default.</p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The default configuration for local SPAN session ports is to send all packets untagged. However, when you enter the encapsulation replicate keywords while configuring a destination port, these changes occur:</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Packets are sent on the destination port with the same encapsulation (untagged or IEEE 802.1Q) that they had on the source port.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Packets of all types, including BPDU and Layer 2 protocol packets, are monitored.</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Therefore, a local SPAN session with encapsulation replicate enabled can have a mixture of untagged and IEEE 802.1Q tagged packets appear on the destination port.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch congestion can cause packets to be dropped at ingress source ports, egress source ports, or SPAN destination ports. In general, these characteristics are independent of one another. For example:</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">A packet might be forwarded normally but dropped from monitoring due to an oversubscribed SPAN destination port.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_425.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-top: 4pt;padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">An ingress packet might be dropped from normal forwarding, but still appear on the SPAN destination port.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">An egress packet dropped because of switch congestion is also dropped from egress SPAN.</p></li></ul></li></ul><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">In some SPAN configurations, multiple copies of the same source packet are sent to the SPAN destination port. For example, a bidirectional (both Rx and Tx) SPAN session is configured for the Rx monitor on port A and Tx monitor on port B. If a packet enters the switch through port A and is switched to port B, both incoming and outgoing packets are sent to the destination port. Both packets are the same unless a Layer 3 rewrite occurs, in which case the packets are different because of the packet modification.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 30pt;text-indent: 0pt;text-align: left;"><a name="bookmark346">Source Ports</a><a name="bookmark400">&zwnj;</a><a name="bookmark401">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">A source port (also called a monitored port) is a switched or routed port that you monitor for network traffic analysis. In a local SPAN session or RSPAN source session, you can monitor source ports or VLANs for traffic in one or both directions. The switch supports any number of source ports (up to the maximum number of available ports on the switch) and any number of source VLANs (up to the maximum number of VLANs supported). However, the switch supports a maximum of two sessions (local or RSPAN) with source ports or VLANs. You cannot mix ports and VLANs in a single session.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">A source port has these characteristics:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l111"><li style="padding-left: 33pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">It can be monitored in multiple SPAN sessions.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 33pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Each source port can be configured with a direction (ingress, egress, or both) to monitor.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 33pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">It can be any port type (for example, EtherChannel, Gigabit Ethernet, and so forth).</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 33pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">For EtherChannel sources, you can monitor traffic for the entire EtherChannel or individually on a physical port as it participates in the port channel.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 33pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">It can be an access port, trunk port, routed port, or voice VLAN port.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 33pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">It cannot be a destination port.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 33pt;text-indent: -6pt;text-align: left;"><p style="display: inline;"><a name="bookmark347">Source ports can be in the same or different VLANs.</a><a name="bookmark402">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 33pt;text-indent: -6pt;text-align: left;"><p style="display: inline;"><a name="bookmark403">You can monitor multiple source ports in a single session.</a></p></li></ul><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 30pt;text-indent: 0pt;text-align: left;"><a name="a345">Source VLANs</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">VLAN-based SPAN (VSPAN) is the monitoring of the network traffic in one or more VLANs. The SPAN</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 147%;text-align: left;">or RSPAN source interface in VSPAN is a VLAN ID, and traffic is monitored on all the ports for that VLAN. VSPAN has these characteristics:</p><ul id="l112"><li style="padding-top: 2pt;padding-left: 27pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">All active ports in the source VLAN are included as source ports and can be monitored in either or both directions.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 27pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">On a given port, only traffic on the monitored VLAN is sent to the destination port.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 27pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">If a destination port belongs to a source VLAN, it is excluded from the source list and is not monitored.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 27pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">If ports are added to or removed from the source VLANs, the traffic on the source VLAN received by those ports is added to or removed from the sources being monitored.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 27pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">You cannot use filter VLANs in the same session with VLAN sources.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_426.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l113"><li style="padding-top: 2pt;padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">You can monitor only Ethernet VLANs.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 31pt;text-indent: 0pt;text-align: left;"><a name="bookmark348">VLAN Filtering</a><a name="bookmark404">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 4pt;text-indent: 0pt;text-align: left;">When you monitor a trunk port as a source port, by default, all VLANs active on the trunk are monitored. You can limit SPAN traffic monitoring on trunk source ports to specific VLANs by using VLAN filtering.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li></ul></li><li style="padding-left: 26pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">VLAN filtering applies only to trunk ports or to voice VLAN ports.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 26pt;text-indent: -6pt;text-align: left;"><p style="display: inline;"><a name="bookmark405">VLAN filtering applies only to port-based sessions and is not allowed in sessions with VLAN sources.</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 26pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">When a VLAN filter list is specified, only those VLANs in the list are monitored on trunk ports or on voice VLAN access ports.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 26pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">SPAN traffic coming from other port types is not affected by VLAN filtering; that is, all VLANs are allowed on other ports.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 26pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;"><a name="bookmark349">VLAN filtering affects only traffic forwarded to the destination SPAN port and does not affect the switching of normal traffic.</a><a name="bookmark406">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 31pt;text-indent: 0pt;text-align: left;"><a name="bookmark407">Destination Port</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">Each local SPAN session or RSPAN destination session must have a destination port (also called a monitoring port) that receives a copy of traffic from the source ports or VLANs and sends the SPAN packets to the user, usually a network analyzer.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">A destination port has these characteristics:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l114"><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">For a local SPAN session, the destination port must reside on the same switch or switch stack as the source port. For an RSPAN session, it is located on the switch containing the RSPAN destination session. There is no destination port on a switch or switch stack running only an RSPAN source session.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">When a port is configured as a SPAN destination port, the configuration overwrites the original port configuration. When the SPAN destination configuration is removed, the port reverts to its previous configuration. If a configuration change is made to the port while it is acting as a SPAN destination port, the change does not take effect until the SPAN destination configuration had been removed.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 121pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_427.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="463" height="1" alt="image" src="Image_428.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">When QoS is configured on the SPAN destination port, QoS takes effect immediately.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 156pt;text-indent: 0pt;text-align: left;"><span><img width="463" height="1" alt="image" src="Image_429.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-top: 4pt;padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">If the port was in an EtherChannel group, it is removed from the group while it is a destination port. If it was a routed port, it is no longer a routed port.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">It can be any Ethernet physical port.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">It cannot be a secure port.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">It cannot be a source port.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">It can be an EtherChannel group (<b>ON </b>mode only).</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">It cannot be a VLAN.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">It can participate in only one SPAN session at a time (a destination port in one SPAN session cannot be a destination port for a second SPAN session).</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_430.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-top: 4pt;padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">When it is active, incoming traffic is disabled. The port does not transmit any traffic except that required for the SPAN session. Incoming traffic is never learned or forwarded on a destination port.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">If ingress traffic forwarding is enabled for a network security device, the destination port forwards traffic at Layer 2.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">It does not participate in any of the Layer 2 protocols (STP, VTP, CDP, DTP, PagP).</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">A destination port that belongs to a source VLAN of any SPAN session is excluded from the source list and is not monitored.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">The maximum number of destination ports in a switch or switch stack is 64.</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Local SPAN and RSPAN destination ports function differently with VLAN tagging and encapsulation:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">For local SPAN, if the <b>encapsulation replicate </b>keywords are specified for the destination port, these packets appear with the original encapsulation (untagged, ISL, or IEEE 802.1Q). If these keywords are not specified, packets appear in the untagged format. Therefore, the output of a local SPAN session with <b>encapsulation replicate </b>enabled can contain a mixture of untagged, ISL, or IEEE 802.1Q-tagged packets.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;"><a name="bookmark350">For RSPAN, the original VLAN ID is lost because it is overwritten by the RSPAN VLAN identification. Therefore, all packets appear on the destination port as untagged.</a><a name="bookmark408">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 30pt;text-indent: 0pt;text-align: left;"><a name="bookmark409">RSPAN VLAN</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">The RSPAN VLAN carries SPAN traffic between RSPAN source and destination sessions. RSPAN VLAN has these special characteristics:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l115"><li style="padding-left: 32pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">All traffic in the RSPAN VLAN is always flooded.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 32pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">No MAC address learning occurs on the RSPAN VLAN.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 32pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">RSPAN VLAN traffic only flows on trunk ports.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 32pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">RSPAN VLANs must be configured in VLAN configuration mode by using the <b>remote-span </b>VLAN configuration mode command.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 32pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">STP can run on RSPAN VLAN trunks but not on SPAN destination ports.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 32pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">An RSPAN VLAN cannot be a private-VLAN primary or secondary VLAN.</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">For VLANs 1 to 1005 that are visible to VLAN Trunking Protocol (VTP), the VLAN ID and its associated RSPAN characteristic are propagated by VTP. If you assign an RSPAN VLAN ID in the extended VLAN range (1006 to 4094), you must manually configure all intermediate switches.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">It is normal to have multiple RSPAN VLANs in a network at the same time with each RSPAN VLAN defining a network-wide RSPAN session. That is, multiple RSPAN source sessions anywhere in the network can contribute packets to the RSPAN session. It is also possible to have multiple RSPAN destination sessions throughout the network, monitoring the same RSPAN VLAN and presenting traffic to the user. The RSPAN VLAN ID separates the sessions.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 9pt;text-indent: 0pt;text-align: left;"><a name="a346">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 25pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark435" class="a">Creating an RSPAN Source Sessio</a><a href="#bookmark438" class="a">n,  on page 158 Creating an RSPAN Destination Sessio</a>n,  on page 162</p><p class="s9" style="padding-left: 25pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark439" class="a">Creating an RSPAN Destination Session and Configuring Incoming Traffi</a><a href="#bookmark447" class="a">c, on page 164 Examples: Creating an RSPAN VLA</a>N,  on page 174</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_431.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s29" style="padding-top: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark351">SPAN and RSPAN Interaction with Other Features</a><a name="bookmark410">&zwnj;</a><a name="bookmark411">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 41pt;text-indent: 0pt;text-align: center;">SPAN interacts with these features:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l116"><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Routing<span class="s31">—</span>SPAN does not monitor routed traffic. VSPAN only monitors traffic that enters or exits the switch, not traffic that is routed between VLANs. For example, if a VLAN is being Rx-monitored and the switch routes traffic from another VLAN to the monitored VLAN, that traffic is not monitored and not received on the SPAN destination port.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">STP<span class="s31">—</span>A destination port does not participate in STP while its SPAN or RSPAN session is active. The destination port can participate in STP after the SPAN or RSPAN session is disabled. On a source port, SPAN does not affect the STP status. STP can be active on trunk ports carrying an RSPAN VLAN.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">CDP<span class="s31">—</span>A SPAN destination port does not participate in CDP while the SPAN session is active. After the SPAN session is disabled, the port again participates in CDP.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">VTP<span class="s31">—</span>You can use VTP to prune an RSPAN VLAN between switches.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">VLAN and trunking<span class="s31">—</span>You can modify VLAN membership or trunk settings for source or destination ports at any time. However, changes in VLAN membership or trunk settings for a destination port do not take effect until you remove the SPAN destination configuration. Changes in VLAN membership or trunk settings for a source port immediately take effect, and the respective SPAN sessions automatically adjust accordingly.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">EtherChannel<span class="s31">—</span>You can configure an EtherChannel group as a source port or a SPAN destination port. When a group is configured as a SPAN source, the entire group is monitored.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 121pt;text-indent: 0pt;text-align: left;">If a physical port is added to a monitored EtherChannel group, the new port is added to the SPAN source port list. If a port is removed from a monitored EtherChannel group, it is automatically removed from the source port list.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 121pt;text-indent: 0pt;text-align: left;">A physical port that belongs to an EtherChannel group can be configured as a SPAN source port and still be a part of the EtherChannel. In this case, data from the physical port is monitored as it participates in the EtherChannel. However, if a physical port that belongs to an EtherChannel group is configured as a SPAN destination, it is removed from the group. After the port is removed from the SPAN session, it rejoins the EtherChannel group. Ports removed from an EtherChannel group remain members of the group, but they are in the inactive or suspended state.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 121pt;text-indent: 0pt;text-align: left;">If a physical port that belongs to an EtherChannel group is a destination port and the EtherChannel group is a source, the port is removed from the EtherChannel group and from the list of monitored ports.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Multicast traffic can be monitored. For egress and ingress port monitoring, only a single unedited packet is sent to the SPAN destination port. It does not reflect the number of times the multicast packet is sent.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">A private-VLAN port cannot be a SPAN destination port.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">A secure port cannot be a SPAN destination port.</p><p style="padding-top: 4pt;padding-left: 121pt;text-indent: 0pt;text-align: justify;">For SPAN sessions, do not enable port security on ports with monitored egress when ingress forwarding is enabled on the destination port. For RSPAN source sessions, do not enable port security on any ports with monitored egress.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">An IEEE 802.1x port can be a SPAN source port. You can enable IEEE 802.1x on a port that is a SPAN destination port; however, IEEE 802.1x is disabled until the port is removed as a SPAN destination.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 121pt;text-indent: 0pt;text-align: justify;">For SPAN sessions, do not enable IEEE 802.1x on ports with monitored egress when ingress forwarding is enabled on the destination port. For RSPAN source sessions, do not enable IEEE 802.1x on any ports that are egress monitored.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_432.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s29" style="padding-top: 3pt;text-indent: 0pt;text-align: center;"><a name="bookmark352">SPAN and RSPAN and Device Stacks</a><a name="bookmark412">&zwnj;</a><a name="bookmark413">&zwnj;</a><a name="bookmark414">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Because the stack of switches represents one logical switch, local SPAN source ports and destination ports can be in different switches in the stack. Therefore, the addition or deletion of switches in the stack can affect a local SPAN session, as well as an RSPAN source or destination session. An active session can become inactive when a switch is removed from the stack or an inactive session can become active when a switch is added to the stack.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark353">Flow-Based SPAN</a><a name="bookmark415">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You can control the type of network traffic to be monitored in SPAN or RSPAN sessions by using flow-based SPAN (FSPAN) or flow-based RSPAN (FRSPAN), which apply access control lists (ACLs) to the monitored traffic on the source ports. The FSPAN ACLs can be configured to filter IPv4, IPv6, and non-IP monitored traffic.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You apply an ACL to a SPAN session through the interface. It is applied to all the traffic that is monitored on all interfaces in the SPAN session.The packets that are permitted by this ACL are copied to the SPAN destination port. No other packets are copied to the SPAN destination port.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The original traffic continues to be forwarded, and any port, VLAN, and router ACLs attached are applied. The FSPAN ACL does not have any effect on the forwarding decisions. Similarly, the port, VLAN, and router ACLs do not have any effect on the traffic monitoring. If a security input ACL denies a packet and it is not forwarded, the packet is still copied to the SPAN destination ports if the FSPAN ACL permits it. But if the security output ACL denies a packet and it is not sent, it is not copied to the SPAN destination ports. However, if the security output ACL permits the packet to go out, it is only copied to the SPAN destination ports if the FSPAN ACL permits it. This is also true for an RSPAN session.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You can attach three types of FSPAN ACLs to the SPAN session:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">IPv4 FSPAN ACL<span class="s31">— </span>Filters only IPv4 packets.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">IPv6 FSPAN ACL<span class="s31">— </span>Filters only IPv6 packets.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">MAC FSPAN ACL<span class="s31">— </span>Filters only non-IP packets.</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">If a VLAN-based FSPAN session configured on a stack cannot fit in the hardware memory on one or more switches, it is treated as unloaded on those switches, and traffic meant for the FSPAN ACL and sourcing on that switch is not copied to the SPAN destination ports. The FSPAN ACL continues to be correctly applied, and traffic is copied to the SPAN destination ports on the switches where the FSPAN ACL fits in the hardware memory.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">When an empty FSPAN ACL is attached, some hardware functions copy all traffic to the SPAN destination ports for that ACL. If sufficient hardware resources are not available, even an empty FSPAN ACL can be unloaded.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">IPv4 and MAC FSPAN ACLs are supported on all feature sets. IPv6 FSPAN ACLs are supported only in the advanced IP Services feature set.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a347">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark441" class="a">Configuring an FSPAN Sessio</a><a href="#bookmark443" class="a">n,  on page 167 Configuring an FRSPAN Sessio</a>n, on page 169</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_433.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark354">Default SPAN and RSPAN Configuration</a><a name="bookmark416">&zwnj;</a><a name="bookmark417">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 13pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="28" alt="image" src="Image_434.png"/></span></p><p class="s14" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Table 14: Default SPAN and RSPAN Configuration</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: right;"><a name="a348">Feature</a></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;">Default Setting</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:99.409pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">SPAN state (SPAN and RSPAN)</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Disabled.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Source port traffic to monitor</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Both received and sent traffic (<b>both</b>).</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Encapsulation type (destination port)</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Native form (untagged packets).</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Ingress forwarding (destination port)</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Disabled.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">VLAN filtering</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 9pt;text-indent: 0pt;text-align: left;">On a trunk interface used as a source port, all VLANs are monitored.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">RSPAN VLANs</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">None configured.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark355">Configuration  Guidelines</a><a name="bookmark356">&zwnj;</a><a name="bookmark418">&zwnj;</a><a name="bookmark419">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s29" style="padding-left: 31pt;text-indent: 0pt;text-align: left;"><a name="bookmark420">SPAN Configuration Guidelines</a><a name="bookmark421">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p class="s2" style="display: inline;"><span class="p">To remove a source or destination port or VLAN from the SPAN session, use the </span>no monitor session <i>session_number </i>source <span class="p">{</span>interface <i>interface-id </i><span class="p">| </span>vlan <i>vlan-id</i><span class="p">} global configuration command or the </span>no monitor session <i>session_number </i>destination interface <i>interface-id </i><span class="p">global configuration command. For destination interfaces, the </span>encapsulation <span class="p">options are ignored with the </span>no <span class="p">form of the command.</span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s2" style="display: inline;"><span class="p">To monitor all VLANs on the trunk port, use the </span>no monitor session <i>session_number </i>filter <span class="p">global configuration command.</span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a349">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark426" class="a" name="bookmark357">Creating a Local SPAN Sessio</a>n,  on page 149<a name="bookmark422">&zwnj;</a></p><p class="s9" style="padding-top: 2pt;padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark428" class="a" name="bookmark423">Creating a Local SPAN Session and Configuring Incoming Traffi</a><a href="#bookmark446" class="a">c, on page 152 Example: Configuring Local SPA</a>N,  on page 173</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s29" style="padding-left: 31pt;text-indent: 0pt;text-align: left;">RSPAN Configuration Guidelines</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">All the SPAN configuration guidelines apply to RSPAN.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">As RSPAN VLANs have special properties, you should reserve a few VLANs across your network for use as RSPAN VLANs; do not assign access ports to these VLANs.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">You can apply an output ACL to RSPAN traffic to selectively filter or monitor specific packets. Specify these ACLs on the RSPAN VLAN in the RSPAN source switches.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_435.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-top: 4pt;padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">For RSPAN configuration, you can distribute the source ports and the destination ports across multiple switches in your network.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Access ports (including voice VLAN ports) on the RSPAN VLAN are put in the inactive state.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">You can configure any VLAN as an RSPAN VLAN as long as these conditions are met:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 137pt;text-indent: 0pt;text-align: left;">◦<span class="p">The same RSPAN VLAN is used for an RSPAN session in all the switches.</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 137pt;text-indent: 0pt;text-align: left;">◦<span class="p">All participating switches support RSPAN.</span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a350">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark435" class="a">Creating an RSPAN Source Sessio</a><a href="#bookmark438" class="a">n,  on page 158 Creating an RSPAN Destination Sessio</a>n,  on page 162</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark439" class="a" name="bookmark358">Creating an RSPAN Destination Session and Configuring Incoming Traffi</a><a href="#bookmark447" class="a">c, on page 164 Examples: Creating an RSPAN VLA</a>N,  on page 174<a name="bookmark424">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s29" style="padding-left: 5pt;text-indent: 0pt;text-align: center;"><a name="a351">FSPAN and FRSPAN Configuration Guidelines</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">When at least one FSPAN ACL is attached, FSPAN is enabled.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">When you attach at least one FSPAN ACL that is not empty to a SPAN session, and you have not attached one or more of the other FSPAN ACLs (for instance, you have attached an IPv4 ACL that is not empty, and have not attached IPv6 and MAC ACLs), FSPAN blocks the traffic that would have been filtered by the unattached ACLs. Therefore, this traffic is not monitored.</p></li></ul></li></ul><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a352">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark441" class="a" name="bookmark359">Configuring an FSPAN Sessio</a><a href="#bookmark443" class="a">n,  on page 167 Configuring an FRSPAN Sessio</a>n, on page 169<a name="bookmark425">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark360">How to Configure SPAN and RSPAN</a><a name="bookmark426">&zwnj;</a><a name="bookmark427">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a353">Creating a Local SPAN Session</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to create a SPAN session and specify the source (monitored) ports or VLANs and the destination (monitoring) ports.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_436.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a354">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ol id="l117"><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a355">enable</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>no monitor session </b>{<i>session_number </i>| <b>all </b>| <b>local </b>| <b>remote</b>}</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">monitor session <i>session_number </i>source <span class="p">{</span>interface <i>interface-id | </i>vlan <i>vlan-id</i><span class="p">} [</span>, <span class="p">| </span>-<span class="p">] [</span>both <span class="p">| </span>rx <span class="p">| </span>tx<span class="p">]</span></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">monitor session <i>session_number </i>destination <span class="p">{</span>interface <i>interface-id </i><span class="p">[</span>, <span class="p">| </span>-<span class="p">] [</span>encapsulation replicate<span class="p">]}</span></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a356">end</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_437.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 54pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 54pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>no monitor session </b>{<i>session_number </i>| <b>all</b></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">| <b>local </b>| <b>remote</b>}</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 7pt;padding-right: 4pt;text-indent: -4pt;line-height: 9pt;text-align: left;">Switch(config)# <b>no monitor session all</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Removes any existing SPAN configuration for the session.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">monitor session <i>session_number </i>source</p><p class="s19" style="padding-left: 2pt;text-indent: 0pt;text-align: left;"><span class="s18">{</span>interface <i>interface-id | </i>vlan <i>vlan-id</i><span class="s18">} [</span>, <span class="s18">|</span></p><p class="s19" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">-<span class="s18">] [</span>both <span class="s18">| </span>rx <span class="s18">| </span>tx<span class="s18">]</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 9pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 1 source interface gigabitethernet1/0/1</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the SPAN session and the source port (monitored port).</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 24pt;padding-right: 5pt;text-indent: 0pt;text-align: left;">(<b>port-channel </b><i>port-channel-number</i>). Valid port-channel numbers are 1 to 48.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s30" style="padding-left: 59pt;text-indent: -35pt;text-align: justify;">Note <span class="s18">A single session can include multiple sources (ports or VLANs) defined in a series of commands, but you cannot combine source ports and source VLANs in one session.</span></p></td></tr></table><ul id="l118"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, the range is 1 to 66.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">all<span class="s35">—</span><span class="s18">Removes all SPAN sessions.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">local<span class="s35">—</span><span class="s18">Removes all local sessions.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">remote<span class="s35">—</span><span class="s18">Removes all remote SPAN sessions.</span></p></li></ul><ul id="l119"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, the range is 1 to 66.</p></li><li style="padding-left: 24pt;padding-right: 15pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For <i>interface-id</i>, specify the source port to monitor. Valid interfaces include physical interfaces and port-channel logical interfaces</p></li><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For <i>vlan-id</i>, specify the source VLAN to monitor. The range is 1 to 4094 (excluding the RSPAN VLAN).</p></li></ul><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_438.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_439.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 53pt;text-indent: 0pt;text-align: left;"><a name="a357">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 53pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 40pt;text-indent: 0pt;text-align: left;">◦<span class="s19">both</span>—<span class="s18">Monitors both received and sent traffic.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 40pt;text-indent: 0pt;text-align: left;">◦<span class="s19">rx</span>—<span class="s18">Monitors received traffic.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 40pt;text-indent: 0pt;text-align: left;">◦<span class="s19">tx</span>—<span class="s18">Monitors sent traffic.</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s19" style="padding-left: 81pt;text-indent: -35pt;text-align: left;"><span class="s30">Note       </span><span class="s18">You can use the </span>monitor session <i>session_number </i>source <span class="s18">command multiple times to configure multiple source ports.</span></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;padding-right: 4pt;text-indent: 0pt;text-align: left;">monitor session <i>session_number </i>destination <span class="s18">{</span>interface <i>interface-id </i><span class="s18">[</span>, <span class="s18">| </span>-<span class="s18">] [</span>encapsulation replicate<span class="s18">]}</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 1 destination interface gigabitethernet1/0/2 encapsulation</b></p><p class="s28" style="padding-left: 7pt;text-indent: 0pt;text-align: left;">replicate</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the SPAN session and the destination port (monitoring port).</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s30" style="padding-left: 37pt;text-indent: -35pt;text-align: left;">Note       <span class="s18">For local SPAN, you must use the same session number for the source and destination interfaces.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) <b>encapsulation replicate </b>specifies that the destination interface replicates the source interface encapsulation method. If not selected, the default is to send packets in native form (untagged).</p><p class="s19" style="padding-top: 4pt;padding-left: 37pt;text-indent: -35pt;text-align: left;"><span class="s30">Note       </span><span class="s18">You can use </span>monitor session <i>session_number </i>destination <span class="s18">command multiple times to configure multiple destination ports.</span></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr></table><ul id="l120"><li style="padding-left: 24pt;padding-right: 3pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) [<b>, </b>| <b>-</b>] Specifies a series or range of interfaces. Enter a space before and after the comma; enter a space before and after the hyphen.</p></li><li style="padding-left: 24pt;padding-right: 2pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>both </b>| <b>rx </b>| <b>tx</b><span class="s35">—</span>Specifies the direction of traffic to monitor. If you do not specify a traffic direction, the source interface sends both sent and received traffic.</p></li></ul><ul id="l121"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, specify the session number entered in step 4.</p></li><li style="padding-left: 24pt;padding-right: 2pt;text-indent: -6pt;text-align: justify;"><p class="s18" style="display: inline;">For <i>interface-id</i>, specify the destination port. The destination interface must be a physical port; it cannot be an EtherChannel, and it cannot be a VLAN.</p></li><li style="padding-left: 24pt;padding-right: 3pt;text-indent: -6pt;line-height: 12pt;text-align: justify;"><p class="s18" style="display: inline;">(Optional) [<b>, </b>| <b>-</b>] Specifies a series or range of interfaces. Enter a space before and after the comma; enter a space before and after the hyphen.</p></li></ul><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_440.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 54pt;text-indent: 0pt;text-align: left;"><a name="a358">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 54pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.809pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 8</p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 38pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_441.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Related Topics</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark387" class="a">Local SPA</a><a href="#bookmark394" class="a">N, on page 138 SPAN Session</a>s, on page 141</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark419" class="a" name="bookmark361">SPAN Configuration Guideline</a>s,  on page 148<a name="bookmark428">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark429">Creating a Local SPAN Session and Configuring Incoming Traffic</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to create a SPAN session, to specify the source ports or VLANs and the destination ports, and to enable incoming traffic on the destination port for a network security device (such as a Cisco IDS Sensor Appliance).</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a359">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l122"><li style="padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a360">enable</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>no monitor session </b>{<i>session_number </i>| <b>all </b>| <b>local </b>| <b>remote</b>}</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">monitor session <i>session_number </i>source <span class="p">{</span>interface <i>interface-id | </i>vlan <i>vlan-id</i><span class="p">} [</span>, <span class="p">| </span>-<span class="p">] [</span>both <span class="p">| </span>rx <span class="p">| </span>tx<span class="p">]</span></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">monitor session <i>session_number </i>destination <span class="p">{</span>interface <i>interface-id </i><span class="p">[</span>, <span class="p">| </span>-<span class="p">] [</span>encapsulation replicate]</p><p class="s2" style="padding-left: 114pt;text-indent: 0pt;text-align: left;"><span class="p">[</span>ingress <span class="p">{</span>dot1q vlan <i>vlan-id </i>| untagged vlan <i>vlan-id </i>| vlan <i>vlan-id</i><span class="p">}]}</span></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a361">end</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_442.png"/></span></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.809pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr></table><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_443.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_444.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 58pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 58pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>no monitor session </b>{<i>session_number </i>| <b>all </b>| <b>local</b></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">| <b>remote</b>}</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>no monitor session all</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Removes any existing SPAN configuration for the session.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">monitor session <i>session_number </i>source</p><p class="s19" style="padding-left: 2pt;text-indent: 0pt;text-align: left;"><span class="s18">{</span>interface <i>interface-id | </i>vlan <i>vlan-id</i><span class="s18">} [</span>, <span class="s18">| </span>-<span class="s18">] [</span>both</p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">| <b>rx </b>| <b>tx</b>]</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 source gigabitethernet1/0/1 rx</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the SPAN session and the source port (monitored port).</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">monitor session <i>session_number </i>destination</p><p class="s19" style="padding-left: 2pt;padding-right: 19pt;text-indent: 0pt;text-align: left;"><span class="s18">{</span>interface <i>interface-id </i><span class="s18">[</span>, <span class="s18">| </span>-<span class="s18">] [</span>encapsulation replicate] <span class="s18">[</span>ingress <span class="s18">{</span>dot1q vlan <i>vlan-id </i>| untagged vlan <i>vlan-id </i>| vlan <i>vlan-id</i><span class="s18">}]}</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 destination interface gigabitethernet1/0/2</b></p><p class="s28" style="padding-left: 2pt;padding-right: 15pt;text-indent: 4pt;line-height: 9pt;text-align: left;">encapsulation replicate ingress dot1q vlan 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 35pt;text-indent: 0pt;text-align: left;">Specifies the SPAN session, the destination port, the packet encapsulation, and the ingress VLAN and encapsulation.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 46pt;text-indent: -6pt;text-align: left;">◦<span class="s19">dot1q vlan </span><span class="s20">vlan-id</span>—<span class="s18">Accepts incoming packets with IEEE 802.1Q encapsulation with the specified VLAN as the default VLAN.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s19" style="padding-left: 46pt;text-indent: -6pt;text-align: left;"><span class="s35">◦</span>untagged vlan <i>vlan-id </i><span class="s18">or </span>vlan <i>vlan-id</i><span class="s35">—</span><span class="s18">Accepts incoming packets with untagged encapsulation type with the specified VLAN as the default VLAN.</span></p></td></tr></table><ul id="l123"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, the range is 1 to 66.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">all<span class="s35">—</span><span class="s18">Removes all SPAN sessions.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">local<span class="s35">—</span><span class="s18">Removes all local sessions.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">remote<span class="s35">—</span><span class="s18">Removes all remote SPAN sessions.</span></p></li></ul><ul id="l124"><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, specify the session number entered in Step 4.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>interface-id</i>, specify the destination port. The destination interface must be a physical port; it cannot be an EtherChannel, and it cannot be a VLAN.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) [<b>, </b>| <b>-</b>]<span class="s35">—</span>Specifies a series or range of interfaces. Enter a space before and after the comma or hyphen.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>encapsulation replicate </b>specifies that the destination interface replicates the source interface encapsulation method. If not selected, the default is to send packets in native form (untagged).</p></li><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s19" style="display: inline;">ingress <span class="s18">enables forwarding of incoming traffic on the destination port and to specify the encapsulation type:</span></p></li></ul><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_445.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;"><a name="a362">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 8</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_446.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Related Topics</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark387" class="a">Local SPA</a><a href="#bookmark394" class="a">N, on page 138 SPAN Session</a>s, on page 141</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark419" class="a" name="bookmark362">SPAN Configuration Guideline</a><a href="#bookmark446" class="a">s,  on page 148 Example: Configuring Local SPA</a>N,  on page 173<a name="bookmark430">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark431">Specifying VLANs to Filter</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to limit SPAN source traffic to specific VLANs.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a363">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l125"><li style="padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a364">enable</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>no monitor session </b>{<i>session_number </i>| <b>all </b>| <b>local </b>| <b>remote</b>}</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">monitor session <i>session_number </i>source interface <i>interface-id</i></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">monitor session <i>session_number </i>filter vlan <i>vlan-id </i><span class="p">[</span>, <span class="p">| </span>-<span class="p">]</span></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">monitor session <i>session_number </i>destination <span class="p">{</span>interface <i>interface-id </i><span class="p">[</span>, <span class="p">| </span>-<span class="p">] [</span>encapsulation replicate]<span class="p">}</span></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a365">end</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_447.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_448.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 60pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 60pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>no monitor session </b>{<i>session_number </i>| <b>all </b>| <b>local</b></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">| <b>remote</b>}</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>no monitor session all</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Removes any existing SPAN configuration for the session.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;padding-right: 27pt;text-indent: 0pt;text-align: left;">monitor session <i>session_number </i>source interface <i>interface-id</i></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 7pt;text-indent: -4pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 source interface gigabitethernet1/0/2 rx</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 8pt;text-indent: 0pt;text-align: left;">Specifies the characteristics of the source port (monitored port) and SPAN session.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">monitor session <i>session_number </i>filter vlan</p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;"><i>vlan-id </i>[<b>, </b>| <b>-</b>]</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 7pt;text-indent: -4pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 filter vlan 1 - 5 , 9</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Limits the SPAN source traffic to specific VLANs.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">monitor session <i>session_number </i>destination</p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">{<b>interface </b><i>interface-id </i>[<b>, </b>| <b>-</b>] [<b>encapsulation replicate]</b>}</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 32pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 destination interface gigabitethernet1/0/1</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the SPAN session and the destination port (monitoring port).</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr></table><ul id="l126"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, the range is 1 to 66.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">all<span class="s35">—</span><span class="s18">Removes all SPAN sessions.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">local<span class="s35">—</span><span class="s18">Removes all local sessions.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">remote<span class="s35">—</span><span class="s18">Removes all remote SPAN sessions.</span></p></li></ul><ul id="l127"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, the range is 1 to 66.</p></li><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For <i>interface-id</i>, specify the source port to monitor. The interface specified must already be configured as a trunk port.</p></li></ul><ul id="l128"><li style="padding-left: 24pt;padding-right: 1pt;text-indent: -6pt;line-height: 12pt;text-align: justify;"><p class="s18" style="display: inline;">For <i>session_number</i>, enter the session number specified in Step 4.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>vlan-id</i>, the range is 1 to 4094.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: justify;"><p class="s18" style="display: inline;">(Optional) Use a comma (<b>,</b>) to specify a series of VLANs, or use a hyphen (<b>-</b>) to specify a range of VLANs. Enter a space before and after the comma; enter a space before and after the hyphen.</p></li></ul><ul id="l129"><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, specify the session number entered in Step 4.</p></li><li style="padding-left: 24pt;padding-right: 1pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>interface-id</i>, specify the destination port. The destination interface must be a physical port; it cannot be an EtherChannel, and it cannot be a VLAN.</p></li></ul><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_449.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 61pt;text-indent: 0pt;text-align: left;"><a name="a366">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 61pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-left: 24pt;text-indent: 0pt;text-align: left;">the hyphen.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 8</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 9</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><ul id="l130"><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) [<b>, </b>| <b>-</b>] Specifies a series or range of interfaces. Enter a space before and after the comma; enter a space before and after</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>encapsulation replicate </b>specifies that the destination interface replicates the source interface encapsulation method. If not selected, the default is to send packets in native form (untagged).</p></li></ul><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_450.png"/></span></p><h4 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark363">Configuring a VLAN as an RSPAN VLAN</a><a name="bookmark432">&zwnj;</a><a name="bookmark433">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to create a new VLAN, then configure it to be the RSPAN VLAN for the RSPAN session.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a367">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l131"><li style="padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a368">enable</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">vlan <i>vlan-id</i></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a369">remote-span</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">end</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_451.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_452.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 79pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 79pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 26pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">vlan <i>vlan-id</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>vlan 100</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Enters a VLAN ID to create a VLAN, or enters the VLAN ID of an existing VLAN, and enters VLAN configuration mode. The range is 2 to 1001 and 1006 to 4094.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">The RSPAN VLAN cannot be VLAN 1 (the default VLAN) or VLAN IDs 1002 through 1005 (reserved for Token Ring and FDDI VLANs).</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">remote-span</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-vlan)# <b>remote-span</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Configures the VLAN as an RSPAN VLAN.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-vlan)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_453.png"/></span></p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark434">What to Do Next</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You must create the RSPAN VLAN in all switches that will participate in RSPAN. If the RSPAN VLAN-ID is in the normal range (lower than 1005) and VTP is enabled in the network, you can create the RSPAN VLAN in one switch, and VTP propagates it to the other switches in the VTP domain. For extended-range VLANs (greater than 1005), you must configure RSPAN VLAN on both source and destination switches and any intermediate switches.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Use VTP pruning to get an efficient flow of RSPAN traffic, or manually delete the RSPAN VLAN from all trunks that do not need to carry the RSPAN traffic.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">To remove the remote SPAN characteristic from a VLAN and convert it back to a normal VLAN, use the <b>no remote-span </b>VLAN configuration command.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark364"><span class="p">To remove a source port or VLAN from the SPAN session, use the </span></a>no monitor session <i>session_number </i>source <span class="p">{</span>interface <i>interface-id | </i>vlan <i>vlan-id</i><span class="p">} global configuration command. To remove the RSPAN VLAN from the session, use the </span>no monitor session <i>session_number </i>destination remote vlan <i>vlan-id</i><span class="p">.</span><a name="bookmark435">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a370">Creating an RSPAN Source Session</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to create and start an RSPAN source session and to specify the monitored source and the destination RSPAN VLAN.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a371">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l132"><li style="padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a372">enable</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>no monitor session </b>{<i>session_number </i>| <b>all </b>| <b>local </b>| <b>remote</b>}</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">monitor session <i>session_number </i>source <span class="p">{</span>interface <i>interface-id </i><span class="p">| </span>vlan <i>vlan-id</i><span class="p">} [</span>, <span class="p">| </span>-<span class="p">] [</span>both <span class="p">| </span>rx <span class="p">| </span>tx<span class="p">]</span></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">monitor session <i>session_number </i>destination remote vlan <i>vlan-id</i></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a373">end</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_454.png"/></span></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr></table><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_455.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_456.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>no monitor session </b>{<i>session_number </i>| <b>all </b>|</p><p class="s19" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">local <span class="s18">| </span>remote<span class="s18">}</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>no monitor session 1</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Removes any existing SPAN configuration for the session.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">monitor session <i>session_number </i>source</p><p class="s18" style="padding-left: 2pt;padding-right: 4pt;text-indent: 0pt;text-align: left;">{<b>interface </b><i>interface-id </i>| <b>vlan </b><i>vlan-id</i>} [<b>, </b>| <b>-</b>] [<b>both </b>| <b>rx </b>| <b>tx</b>]</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 1 source interface gigabitethernet1/0/1</b></p><p class="s28" style="padding-left: 7pt;text-indent: 0pt;text-align: left;">tx</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-right: 21pt;text-indent: 0pt;text-align: center;">Specifies the RSPAN session and the source port (monitored port).</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 46pt;text-indent: -6pt;text-align: left;"><span class="s35">◦</span>For <i>interface-id</i>, specifies the source port to monitor. Valid interfaces include physical interfaces and port-channel logical interfaces (<b>port-channel </b><i>port-channel-number</i>). Valid</p><p class="s18" style="padding-left: 46pt;text-indent: 0pt;text-align: left;">port-channel numbers are 1 to 48.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 46pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><span class="s35">◦</span>For <i>vlan-id</i>, specifies the source VLAN to monitor. The range is 1 to 4094 (excluding the RSPAN VLAN).</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 46pt;text-indent: 0pt;text-align: left;">A single session can include multiple sources (ports or VLANs), defined in a series of commands, but you cannot combine source ports and source VLANs in one session.</p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 40pt;text-indent: 0pt;text-align: left;">◦<span class="s19">both</span>—<span class="s18">Monitors both received and sent traffic.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 40pt;text-indent: 0pt;text-align: left;">◦<span class="s19">rx</span>—<span class="s18">Monitors received traffic.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 40pt;text-indent: 0pt;text-align: left;">◦<span class="s19">tx</span>—<span class="s18">Monitors sent traffic.</span></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;padding-right: 2pt;text-indent: 0pt;text-align: left;">monitor session <i>session_number </i>destination remote vlan <i>vlan-id</i></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 20pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 1 destination remote vlan 100</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 12pt;text-indent: 0pt;text-align: left;">Specifies the RSPAN session, the destination RSPAN VLAN, and the destination-port group.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></td></tr></table><ul id="l133"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, the range is 1 to 66.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">all<span class="s35">—</span><span class="s18">Removes all SPAN sessions.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">local<span class="s35">—</span><span class="s18">Removes all local sessions.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">remote<span class="s35">—</span><span class="s18">Removes all remote SPAN sessions.</span></p></li></ul><ul id="l134"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, the range is 1 to 66.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">Enter a source port or source VLAN for the RSPAN session:</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) [<b>, </b>| <b>-</b>]<span class="s35">—</span>Specifies a series or range of interfaces. Enter a space before and after the comma; enter a space before and after the hyphen.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>both </b>| <b>rx </b>| <b>tx</b><span class="s35">—</span>Specifies the direction of traffic to monitor. If you do not specify a traffic direction, the source interface sends both sent and received traffic.</p></li></ul><ul id="l135"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, enter the number defined in Step 4.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>vlan-id</i>, specify the source RSPAN VLAN to monitor.</p></li></ul><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_457.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;"><a name="a374">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 8</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 49pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_458.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Related Topics</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark391" class="a" name="bookmark365">Remote SPA</a><a href="#bookmark408" class="a">N, on page 139 RSPAN VLA</a>N,  on page 145<a name="bookmark436">&zwnj;</a></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark422" class="a">RSPAN Configuration Guideline</a>s, on page 148</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark437">Specifying VLANs to Filter</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to configure the RSPAN source session to limit RSPAN source traffic to specific VLANs.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a375">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l136"><li style="padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a376">enable</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>no monitor session </b>{<i>session_number </i>| <b>all </b>| <b>local </b>| <b>remote</b>}</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">monitor session <i>session_number </i>source interface <i>interface-id</i></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">monitor session <i>session_number </i>filter vlan <i>vlan-id </i><span class="p">[</span>, <span class="p">| </span>-<span class="p">]</span></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">monitor session <i>session_number </i>destination remote vlan <i>vlan-id</i></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a377">end</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_459.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_460.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 65pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 65pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>no monitor session </b>{<i>session_number </i>| <b>all </b>| <b>local</b></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">| <b>remote</b>}</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>no monitor session 2</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Removes any existing SPAN configuration for the session.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">monitor session <i>session_number </i>source interface</p><p class="s20" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">interface-id</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 source interface gigabitethernet1/0/2 rx</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the characteristics of the source port (monitored port) and SPAN session.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">monitor session <i>session_number </i>filter vlan</p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;"><i>vlan-id </i>[<b>, </b>| <b>-</b>]</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 filter vlan 1 - 5 , 9</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Limits the SPAN source traffic to specific VLANs.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;padding-right: 17pt;text-indent: 0pt;text-align: left;">monitor session <i>session_number </i>destination remote vlan <i>vlan-id</i></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 41pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 destination remote vlan 902</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 9pt;text-indent: 0pt;text-align: left;">Specifies the RSPAN session and the destination remote VLAN (RSPAN VLAN).</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></td></tr></table><ul id="l137"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, the range is 1 to 66.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">all<span class="s35">—</span><span class="s18">Removes all SPAN sessions.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">local<span class="s35">—</span><span class="s18">Removes all local sessions.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">remote<span class="s35">—</span><span class="s18">Removes all remote SPAN sessions.</span></p></li></ul><ul id="l138"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, the range is 1 to 66.</p></li><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For <i>interface-id</i>, specify the source port to monitor. The interface specified must already be configured as a trunk port.</p></li></ul><ul id="l139"><li style="padding-left: 24pt;padding-right: 8pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, enter the session number specified in step 4.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>vlan-id</i>, the range is 1 to 4094.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: justify;"><p class="s18" style="display: inline;">(Optional) <b>, </b>| <b>- </b>Use a comma (<b>,</b>) to specify a series of VLANs or use a hyphen (<b>-</b>) to specify a range of VLANs. Enter a space before and after the comma; enter a space before and after the hyphen.</p></li></ul><ul id="l140"><li style="padding-left: 24pt;padding-right: 8pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, enter the session number specified in Step 4.</p></li><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For <i>vlan-id</i>, specify the RSPAN VLAN to carry the monitored traffic to the destination port.</p></li></ul><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_461.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 65pt;text-indent: 0pt;text-align: left;"><a name="a378">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 65pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 8</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 9</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_462.png"/></span></p><h4 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark366">Creating an RSPAN Destination Session</a><a name="bookmark438">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You configure an RSPAN destination session on a different switch or switch stack; that is, not the switch or switch stack on which the source session was configured.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to define the RSPAN VLAN on that switch, to create an RSPAN destination session, and to specify the source RSPAN VLAN and the destination port.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a379">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l141"><li style="padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a380">enable</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">vlan <i>vlan-id</i></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a381">remote-span</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">exit</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>no monitor session </b>{<i>session_number </i>| <b>all </b>| <b>local </b>| <b>remote</b>}</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">monitor session <i>session_number </i>source remote vlan <i>vlan-id</i></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">monitor session <i>session_number </i>destination interface <i>interface-id</i></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a382">end</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_463.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_464.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 67pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 67pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">vlan <i>vlan-id</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>vlan 901</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the VLAN ID of the RSPAN VLAN created from the source switch, and enters VLAN configuration mode.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;padding-right: 1pt;text-indent: 0pt;text-align: left;">If both switches are participating in VTP and the RSPAN VLAN ID is from 2 to 1005, Steps 3 through 5 are not required because the RSPAN VLAN ID is propagated through the VTP network.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">remote-span</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-vlan)# <b>remote-span</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Identifies the VLAN as the RSPAN VLAN.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">exit</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-vlan)# <b>exit</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>no monitor session </b>{<i>session_number </i>| <b>all </b>|</p><p class="s19" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">local <span class="s18">| </span>remote<span class="s18">}</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>no monitor session 1</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Removes any existing SPAN configuration for the session.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;padding-right: 24pt;text-indent: 0pt;text-align: left;">monitor session <i>session_number </i>source remote vlan <i>vlan-id</i></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 7pt;padding-right: 2pt;text-indent: -4pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 1 source remote vlan 901</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the RSPAN session and the source RSPAN VLAN.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 8</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;padding-right: 5pt;text-indent: 0pt;text-align: left;">monitor session <i>session_number </i>destination interface <i>interface-id</i></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the RSPAN session and the destination interface.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr></table><ul id="l142"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, the range is 1 to 66.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">all<span class="s35">—</span><span class="s18">Removes all SPAN sessions.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">local<span class="s35">—</span><span class="s18">Removes all local sessions.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">remote<span class="s35">—</span><span class="s18">Removes all remote SPAN sessions.</span></p></li></ul><ul id="l143"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, the range is 1 to 66.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>vlan-id</i>, specify the source RSPAN VLAN to monitor.</p></li></ul><ul id="l144"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, enter the number defined in Step 7.</p></li></ul><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_465.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 68pt;text-indent: 0pt;text-align: left;"><a name="a383">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 68pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 29pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 1 destination interface gigabitethernet2/0/1</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-left: 24pt;text-indent: 0pt;text-align: left;">In an RSPAN destination session, you must use the same session number for the source RSPAN VLAN and the destination port.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 9</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 10</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 11</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 58pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><ul id="l145"><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: justify;"><p class="s18" style="display: inline;">For <i>interface-id</i>, specify the destination interface. The destination interface must be a physical interface.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: justify;"><p class="s18" style="display: inline;">Though visible in the command-line help string, <b>encapsulation replicate </b>is not supported for RSPAN. The original VLAN ID is overwritten by the RSPAN VLAN ID, and all packets appear on the destination port as untagged.</p></li></ul><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_466.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a384">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark391" class="a" name="bookmark367">Remote SPA</a><a href="#bookmark408" class="a">N, on page 139 RSPAN VLA</a>N,  on page 145<a name="bookmark439">&zwnj;</a></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark422" class="a" name="bookmark440">RSPAN Configuration Guideline</a>s, on page 148</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a385">Creating an RSPAN Destination Session and Configuring Incoming Traffic</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to create an RSPAN destination session, to specify the source RSPAN VLAN and the destination port, and to enable incoming traffic on the destination port for a network security device (such as a Cisco IDS Sensor Appliance).</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_467.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a386">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ol id="l146"><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a387">enable</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>no monitor session </b>{<i>session_number </i>| <b>all </b>| <b>local </b>| <b>remote</b>}</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">monitor session <i>session_number </i>source remote vlan <i>vlan-id</i></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">monitor session <i>session_number </i>destination <span class="p">{</span>interface <i>interface-id </i><span class="p">[</span>, <span class="p">| </span>-<span class="p">] [</span>ingress <span class="p">{</span>dot1q vlan <i>vlan-id</i></p><p class="s2" style="padding-left: 113pt;text-indent: 0pt;text-align: left;"><span class="p">| </span>untagged vlan <i>vlan-id </i>| vlan <i>vlan-id</i><span class="p">}]}</span></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a388">end</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_468.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters the global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>no monitor session </b>{<i>session_number </i>| <b>all </b>|</p><p class="s19" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">local <span class="s18">| </span>remote<span class="s18">}</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>no monitor session 2</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Removes any existing SPAN configuration for the session.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;padding-right: 18pt;text-indent: 0pt;text-align: left;">monitor session <i>session_number </i>source remote vlan <i>vlan-id</i></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 source remote vlan 901</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the RSPAN session and the source RSPAN VLAN.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">monitor session <i>session_number </i>destination</p><p class="s19" style="padding-left: 2pt;padding-right: 2pt;text-indent: 0pt;text-align: left;"><span class="s18">{</span>interface <i>interface-id </i><span class="s18">[</span>, <span class="s18">| </span>-<span class="s18">] [</span>ingress <span class="s18">{</span>dot1q vlan <i>vlan-id </i><span class="s18">| </span>untagged vlan <i>vlan-id </i>| vlan <i>vlan-id</i><span class="s18">}]}</span></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the SPAN session, the destination port, the packet encapsulation, and the incoming VLAN and encapsulation.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr></table><ul id="l147"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, the range is 1 to 66.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">all<span class="s35">—</span><span class="s18">Removes all SPAN sessions.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">local<span class="s35">—</span><span class="s18">Removes all local sessions.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">remote<span class="s35">—</span><span class="s18">Removes all remote SPAN sessions.</span></p></li></ul><ul id="l148"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, the range is 1 to 66.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>vlan-id</i>, specify the source RSPAN VLAN to monitor.</p></li></ul><ul id="l149"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, enter the number defined in Step 5.</p></li></ul><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_469.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 58pt;text-indent: 0pt;text-align: left;"><a name="a389">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 58pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 destination interface gigabitethernet1/0/2 ingress vlan 6</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-left: 24pt;padding-right: 8pt;text-indent: 0pt;text-align: left;">In an RSPAN destination session, you must use the same session number for the source RSPAN VLAN and the destination port.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 46pt;text-indent: -6pt;text-align: left;">◦<span class="s19">dot1q vlan </span><span class="s20">vlan-id</span>—<span class="s18">Forwards incoming packets with IEEE 802.1Q encapsulation with the specified VLAN as the default VLAN.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s19" style="padding-left: 46pt;padding-right: 3pt;text-indent: -6pt;text-align: justify;"><span class="s35">◦</span>untagged vlan <i>vlan-id </i><span class="s18">or </span>vlan <i>vlan-id</i><span class="s35">—</span><span class="s18">Forwards incoming packets with untagged encapsulation type with the specified VLAN as the default VLAN.</span></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 8</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 51pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><ul id="l150"><li style="padding-left: 24pt;padding-right: 5pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For <i>interface-id</i>, specify the destination interface. The destination interface must be a physical interface.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">Though visible in the command-line help string, <b>encapsulation replicate </b>is not supported for RSPAN. The original VLAN ID is overwritten by the RSPAN VLAN ID, and all packets appear on the destination port as untagged.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) [<b>, </b>| <b>-</b>] Specifies a series or range of interfaces. Enter a space before and after the comma; enter a space before and after the hyphen.</p></li><li style="padding-left: 24pt;padding-right: 12pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">Enter <b>ingress </b>with additional keywords to enable forwarding of incoming traffic on the destination port and to specify the encapsulation type:</p></li></ul><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_470.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a390">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark391" class="a">Remote SPA</a>N, on page 139</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_471.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-top: 3pt;padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark408" class="a">RSPAN VLA</a>N,  on page 145</p><p class="s9" style="padding-top: 2pt;padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark422" class="a">RSPAN Configuration Guideline</a><a href="#bookmark447" class="a">s, on page 148 Examples: Creating an RSPAN VLA</a>N,  on page 174</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark368">Configuring an FSPAN Session</a><a name="bookmark441">&zwnj;</a><a name="bookmark442">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to create a SPAN session, specify the source (monitored) ports or VLANs and the destination (monitoring) ports, and configure FSPAN for the session.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a391">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l151"><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a392">enable</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>no monitor session </b>{<i>session_number </i>| <b>all </b>| <b>local </b>| <b>remote</b>}</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">monitor session <i>session_number </i>source <span class="p">{</span>interface <i>interface-id </i><span class="p">| </span>vlan <i>vlan-id</i><span class="p">} [</span>, <span class="p">| </span>-<span class="p">] [</span>both <span class="p">| </span>rx <span class="p">| </span>tx<span class="p">]</span></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">monitor session <i>session_number </i>destination <span class="p">{</span>interface <i>interface-id </i><span class="p">[</span>, <span class="p">| </span>-<span class="p">] [</span>encapsulation replicate<span class="p">]}</span></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>monitor session </b><i>session_number </i><b>filter </b>{<b>ip </b>| <b>ipv6 </b>| <b>mac</b>} <b>access-group </b>{<i>access-list-number </i>| <i>name</i>}</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a393">end</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_472.png"/></span></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 52pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 52pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>no monitor session </b>{<i>session_number </i>| <b>all</b></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">| <b>local </b>| <b>remote</b>}</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>no monitor session 2</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Removes any existing SPAN configuration for the session.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr></table><ul id="l152"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, the range is 1 to 66.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">all<span class="s35">—</span><span class="s18">Removes all SPAN sessions.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">local<span class="s35">—</span><span class="s18">Removes all local sessions.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">remote<span class="s35">—</span><span class="s18">Removes all remote SPAN sessions.</span></p></li></ul><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_473.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_474.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 53pt;text-indent: 0pt;text-align: left;"><a name="a394">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 53pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">monitor session <i>session_number </i>source</p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">{<b>interface </b><i>interface-id </i>| <b>vlan </b><i>vlan-id</i>} [<b>, </b>|</p><p class="s19" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">-<span class="s18">] [</span>both <span class="s18">| </span>rx <span class="s18">| </span>tx<span class="s18">]</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 3pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 source interface gigabitethernet1/0/1</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the SPAN session and the source port (monitored port).</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 24pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">(<b>port-channel </b><i>port-channel-number</i>). Valid port-channel numbers are 1 to 48.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s30" style="padding-left: 59pt;text-indent: -35pt;text-align: justify;">Note <span class="s18">A single session can include multiple sources (ports or VLANs) defined in a series of commands, but you cannot combine source ports and source VLANs in one session.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 40pt;text-indent: 0pt;text-align: left;">◦<span class="s19">both</span>—<span class="s18">Monitors both sent and received traffic. This is the default.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 40pt;text-indent: 0pt;text-align: left;">◦<span class="s19">rx</span>—<span class="s18">Monitors received traffic.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 40pt;text-indent: 0pt;text-align: left;">◦<span class="s19">tx</span>—<span class="s18">Monitors sent traffic.</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s19" style="padding-left: 81pt;text-indent: -35pt;text-align: left;"><span class="s30">Note       </span><span class="s18">You can use the </span>monitor session <i>session_number </i>source <span class="s18">command multiple times to configure multiple source ports.</span></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;padding-right: 7pt;text-indent: 0pt;text-align: left;">monitor session <i>session_number </i>destination <span class="s18">{</span>interface <i>interface-id </i><span class="s18">[</span>, <span class="s18">| </span>-<span class="s18">] [</span>encapsulation replicate<span class="s18">]}</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 destination interface gigabitethernet1/0/2 encapsulation replicate</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the SPAN session and the destination port (monitoring port).</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 46pt;padding-right: 7pt;text-indent: -6pt;text-align: left;"><span class="s35">◦</span>For <i>interface-id</i>, specify the destination port. The destination interface must be a physical port; it cannot be an EtherChannel, and it cannot be a VLAN.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 46pt;padding-right: 4pt;text-indent: -6pt;text-align: justify;"><span class="s35">◦</span>(Optional) [<b>, </b>| <b>-</b>] Specifies a series or range of interfaces. Enter a space before and after the comma; enter a space before and after the hyphen.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 46pt;padding-right: 2pt;text-indent: -6pt;text-align: left;"><span class="s35">◦</span>(Optional) <b>encapsulation replicate </b>specifies that the destination interface replicates the source interface encapsulation method. If not selected, the default is to send packets in native form (untagged).</p></td></tr></table><ul id="l153"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, the range is 1 to 66.</p></li><li style="padding-left: 24pt;padding-right: 7pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For <i>interface-id</i>, specifies the source port to monitor. Valid interfaces include physical interfaces and port-channel logical interfaces</p></li><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For <i>vlan-id</i>, specify the source VLAN to monitor. The range is 1 to 4094 (excluding the RSPAN VLAN).</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) [<b>, </b>| <b>-</b>]<span class="s35">—</span>Specifies a series or range of interfaces. Enter a space before and after the comma; enter a space before and after the hyphen.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) [<b>both </b>| <b>rx </b>| <b>tx</b>]<span class="s35">—</span>Specifies the direction of traffic to monitor. If you do not specify a traffic direction, the SPAN monitors both sent and received traffic.</p></li></ul><ul id="l154"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, specify the session number entered in Step 4.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <b>destination</b>, specify the following parameters:</p></li></ul><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_475.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 52pt;text-indent: 0pt;text-align: left;"><a name="a395">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 52pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s30" style="padding-left: 37pt;text-indent: -35pt;text-align: left;">Note       <span class="s18">For local SPAN, you must use the same session number for the source and destination interfaces.</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s19" style="padding-left: 37pt;text-indent: 0pt;text-align: left;"><span class="s18">You can use </span>monitor session <i>session_number </i>destination <span class="s18">command multiple times to configure multiple destination ports.</span></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">monitor session <i>session_number </i>filter <span class="s18">{</span>ip</p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">| <b>ipv6 </b>| <b>mac</b>} <b>access-group</b></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">{<i>access-list-number </i>| <i>name</i>}</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 3pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 filter ipv6 access-group 4</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 9pt;text-indent: 0pt;text-align: left;">Specifies the SPAN session, the types of packets to filter, and the ACLs to use in an FSPAN session.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 8</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 9</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 41pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><ul id="l155"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, specify the session number entered in  Step 4.</p></li><li style="padding-left: 24pt;padding-right: 4pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For <i>access-list-number</i>, specify the ACL number that you want to use to filter traffic.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>name</i>, specify the ACL name that you want to use to filter traffic.</p></li></ul><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_476.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark369">Related Topics</a><a name="bookmark443">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark415" class="a">Flow-Based SPA</a>N,  on page 147</p><p class="s9" style="padding-top: 2pt;padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark424" class="a">FSPAN and FRSPAN Configuration Guideline</a>s, on page 149</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a396">Configuring an FRSPAN Session</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to start an RSPAN source session, specify the monitored source and the destination RSPAN VLAN, and configure FRSPAN for the session.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_477.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a397">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ol id="l156"><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a398">enable</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">configure terminal</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>no monitor session </b>{<i>session_number </i>| <b>all </b>| <b>local </b>| <b>remote</b>}</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">monitor session <i>session_number </i>source <span class="p">{</span>interface <i>interface-id </i><span class="p">| </span>vlan <i>vlan-id</i><span class="p">} [</span>, <span class="p">| </span>-<span class="p">] [</span>both <span class="p">| </span>rx <span class="p">| </span>tx<span class="p">]</span></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">monitor session <i>session_number </i>destination remote vlan <i>vlan-id</i></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">vlan <i>vlan-id</i></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a399">remote-span</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">exit</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>monitor session </b><i>session_number </i><b>filter </b>{<b>ip </b>| <b>ipv6 </b>| <b>mac</b>} <b>access-group </b>{<i>access-list-number </i>| <i>name</i>}</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a400">end</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_478.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 62pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 62pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">configure terminal</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>configure terminal</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enters global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>no monitor session </b>{<i>session_number </i>| <b>all </b>|</p><p class="s19" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">local <span class="s18">| </span>remote<span class="s18">}</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>no monitor session 2</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Removes any existing SPAN configuration for the session.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">monitor session <i>session_number </i>source</p><p class="s18" style="padding-left: 2pt;padding-right: 6pt;text-indent: 0pt;text-align: left;">{<b>interface </b><i>interface-id </i>| <b>vlan </b><i>vlan-id</i>} [<b>, </b>| <b>-</b>] [<b>both </b>| <b>rx </b>| <b>tx</b>]</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 3pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 source interface gigabitethernet1/0/1</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the SPAN session and the source port (monitored port).</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></td></tr></table><ul id="l157"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, the range is 1 to 66.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">all<span class="s35">—</span><span class="s18">Removes all SPAN sessions.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">local<span class="s35">—</span><span class="s18">Removes all local sessions.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">remote<span class="s35">—</span><span class="s18">Removes all remote SPAN sessions.</span></p></li></ul><ul id="l158"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, the range is 1 to 66.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>interface-id</i>, specifies the source port to monitor. Valid interfaces include physical interfaces and port-channel logical interfaces (<b>port-channel </b><i>port-channel-number</i>). Valid port-channel numbers are 1 to 48.</p></li></ul><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_479.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_480.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 62pt;text-indent: 0pt;text-align: left;"><a name="a401">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 62pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s30" style="padding-left: 59pt;text-indent: -35pt;text-align: left;">Note       <span class="s18">A single session can include multiple sources (ports or VLANs) defined in a series of commands, but you cannot combine source ports and source VLANs in one session.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s19" style="padding-left: 59pt;text-indent: -35pt;text-align: left;"><span class="s30">Note       </span><span class="s18">You can use the </span>monitor session <i>session_number </i>source <span class="s18">command multiple times to configure multiple source ports.</span></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;padding-right: 2pt;text-indent: 0pt;text-align: left;">monitor session <i>session_number </i>destination remote vlan <i>vlan-id</i></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 destination remote vlan 5</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-right: 22pt;text-indent: 0pt;text-align: center;">Specifies the RSPAN session and the destination RSPAN VLAN.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">vlan <i>vlan-id</i></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>vlan 10</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 7pt;text-indent: 0pt;text-align: left;">Enters the VLAN configuration mode. For <i>vlan-id</i>, specify the source RSPAN VLAN to monitor.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">remote-span</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-vlan)# <b>remote-span</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 5pt;text-indent: 0pt;text-align: left;">Specifies that the VLAN you specified in Step 5 is part of the RSPAN VLAN.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 8</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">exit</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config-vlan)# <b>exit</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to global configuration mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 9</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">monitor session <i>session_number </i>filter <span class="s18">{</span>ip <span class="s18">|</span></p><p class="s19" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">ipv6 <span class="s18">| </span>mac<span class="s18">} </span>access-group</p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">{<i>access-list-number </i>| <i>name</i>}</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Specifies the RSPAN session, the types of packets to filter, and the ACLs to use in an FRSPAN session.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></td></tr></table><ul id="l159"><li style="padding-left: 24pt;padding-right: 5pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For <i>vlan-id</i>, specify the source VLAN to monitor. The range is 1 to 4094 (excluding the RSPAN VLAN).</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) [<b>, </b>| <b>-</b>]<span class="s35">—</span>Specifies a series or range of interfaces. Enter a space before and after the comma; enter a space before and after the hyphen.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) [<b>both </b>| <b>rx </b>| <b>tx</b>]<span class="s35">—</span>Specifies the direction of traffic to monitor. If you do not specify a traffic direction, the SPAN monitors both sent and received traffic.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">both<span class="s35">—</span><span class="s18">Monitors both sent and received traffic. This is the default.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">rx<span class="s35">—</span><span class="s18">Monitors received traffic.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">tx<span class="s35">—</span><span class="s18">Monitors sent traffic.</span></p></li></ul><ul id="l160"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, enter the number defined in Step 4.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">For <i>vlan-id</i>, specify the destination RSPAN VLAN to monitor.</p></li></ul><ul id="l161"><li style="padding-left: 24pt;padding-right: 4pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For <i>session_number</i>, specify the session number entered in  Step 4.</p></li></ul><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_481.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 62pt;text-indent: 0pt;text-align: left;"><a name="a402">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 62pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 filter ip access-group 7</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 10</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 11</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 12</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 51pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><ul id="l162"><li style="padding-left: 24pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For <i>access-list-number</i>, specify the ACL number that you want to use to filter traffic.</p></li><li style="padding-left: 24pt;padding-right: 14pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s18" style="display: inline;">For <i>name</i>, specify the ACL name that you want to use to filter traffic.</p></li></ul><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_482.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a403">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark415" class="a" name="bookmark370">Flow-Based SPA</a>N,  on page 147<a name="bookmark444">&zwnj;</a></p><p class="s9" style="padding-top: 2pt;padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark424" class="a">FSPAN and FRSPAN Configuration Guideline</a>s, on page 149</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="text-indent: 0pt;text-align: center;"><a name="a404">Monitoring SPAN and RSPAN Operations</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The following table describes the command used to display SPAN and RSPAN operations configuration and results to monitor operations:</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="76" alt="image" src="Image_483.png"/></span></p><p class="s14" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Table 15: Monitoring SPAN and RSPAN Operations</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;"><a name="a405">Command</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">show monitor</p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: center;">Purpose</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">Displays the current SPAN, RSPAN, FSPAN, or FRSPAN configuration.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_484.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: center;"><a name="bookmark371">SPAN and RSPAN Configuration Examples</a><a name="bookmark445">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark372">Example: Configuring Local SPAN</a><a name="bookmark446">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to set up SPAN session 1 for monitoring source port traffic to a destination port. First, any existing SPAN configuration for session 1 is deleted, and then bidirectional traffic is mirrored from source Gigabit Ethernet port 1 to destination Gigabit Ethernet port 2, retaining the encapsulation method.</p><p style="text-indent: 0pt;line-height: 13pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>configure terminal</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>no monitor session 1</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 1 source interface gigabitethernet1/0/1</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 1 destination interface gigabitethernet1/0/2</b></p><p class="s22" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">encapsulation replicate</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>end</b></p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to remove port 1 as a SPAN source for SPAN session 1:</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>configure terminal</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>no monitor session 1 source interface gigabitethernet1/0/1</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>end</b></p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to disable received traffic monitoring on port 1, which was configured for bidirectional monitoring:</p><p style="text-indent: 0pt;line-height: 13pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>configure terminal</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>no monitor session 1 source interface gigabitethernet1/0/1 rx</b></p><p style="padding-left: 99pt;text-indent: 0pt;line-height: 17pt;text-align: left;">The monitoring of traffic received on port 1 is disabled, but traffic sent from this port continues to be monitored. This example shows how to remove any existing configuration on SPAN session 2, configure SPAN session</p><p style="padding-left: 99pt;text-indent: 0pt;line-height: 11pt;text-align: left;">2 to monitor received traffic on all ports belonging to VLANs 1 through 3, and send it to destination Gigabit</p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Ethernet port 2. The configuration is then modified to also monitor all traffic on all ports belonging to VLAN 10.</p><p style="text-indent: 0pt;line-height: 13pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>configure terminal</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>no monitor session 2</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 source vlan 1 - 3 rx</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 destination interface gigabitethernet1/0/2</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 source vlan 10</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>end</b></p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to remove any existing configuration on SPAN session 2, configure SPAN session 2 to monitor received traffic on Gigabit Ethernet source port 1, and send it to destination Gigabit Ethernet port 2 with the same egress encapsulation type as the source port, and to enable ingress forwarding with IEEE 802.1Q encapsulation and VLAN 6 as the default ingress VLAN:</p><p style="text-indent: 0pt;line-height: 13pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>configure terminal</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>no monitor session 2</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 source gigabitethernet1/0/1 rx</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 destination interface gigabitethernet1/0/2 encapsulation</b></p><p class="s22" style="padding-left: 103pt;text-indent: 0pt;line-height: 9pt;text-align: left;">replicate ingress dot1q vlan 6</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>end</b></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_485.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to remove any existing configuration on SPAN session 2, configure SPAN session 2 to monitor traffic received on Gigabit Ethernet trunk port 2, and send traffic for only VLANs 1 through 5 and VLAN 9 to destination Gigabit Ethernet port 1:</p><p style="text-indent: 0pt;line-height: 13pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>configure terminal</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>no monitor session 2</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 source interface gigabitethernet1/0/2 rx</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 filter vlan 1 - 5 , 9</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 destination interface gigabitethernet1/0/1</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>end</b></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a406">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark428" class="a">Creating a Local SPAN Session and Configuring Incoming Traffi</a><a href="#bookmark387" class="a">c, on page 152 Local SPA</a>N, on page 138</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark394" class="a">SPAN Session</a>s, on page 141</p><p class="s9" style="padding-top: 2pt;padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark419" class="a" name="bookmark373">SPAN Configuration Guideline</a>s,  on page 148<a name="bookmark447">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: center;"><a name="a407">Examples: Creating an RSPAN VLAN</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to create the RSPAN VLAN 901:</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>configure terminal</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>vlan 901</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-vlan)# <b>remote span</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config-vlan)# <b>end</b></p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to remove any existing RSPAN configuration for session 1, configure RSPAN session 1 to monitor multiple source interfaces, and configure the destination as RSPAN VLAN 901:</p><p style="text-indent: 0pt;line-height: 13pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>configure terminal</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>no monitor session 1</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 1 source interface gigabitethernet1/0/1 tx</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 1 source interface gigabitethernet1/0/2 rx</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 1 source interface port-channel 2</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 1 destination remote vlan 901</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>end</b></p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to remove any existing configuration on RSPAN session 2, configure RSPAN session 2 to monitor traffic received on trunk port 2, and send traffic for only VLANs 1 through 5 and 9 to destination RSPAN VLAN 902:</p><p style="text-indent: 0pt;line-height: 13pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>configure terminal</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>no monitor session 2</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 source interface gigabitethernet1/0/2 rx</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 filter vlan 1 - 5 , 9</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 destination remote vlan 902</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>end</b></p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to configure VLAN 901 as the source remote VLAN and port 1 as the destination interface:</p><p style="text-indent: 0pt;line-height: 13pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>configure terminal</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 1 source remote vlan 901</b></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_486.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>monitor session 1 destination interface gigabitethernet2/0/1</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>end</b></p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to configure VLAN 901 as the source remote VLAN in RSPAN session 2, to configure Gigabit Ethernet source port 2 as the destination interface, and to enable forwarding of incoming traffic on the interface with VLAN 6 as the default receiving VLAN:</p><p style="text-indent: 0pt;line-height: 13pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>configure terminal</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 source remote vlan 901</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>monitor session 2 destination interface gigabitethernet1/0/2 ingress vlan 6</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch(config)# <b>end</b></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a408">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 121%;text-align: left;"><a href="#bookmark439" class="a">Creating an RSPAN Destination Session and Configuring Incoming Traffi</a><a href="#bookmark391" class="a">c, on page 164 Remote SPA</a>N, on page 139</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark408" class="a">RSPAN VLA</a>N,  on page 145</p><p class="s9" style="padding-top: 2pt;padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark422" class="a" name="bookmark374">RSPAN Configuration Guideline</a>s, on page 148<a name="bookmark448">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a409">Additional References</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a410">Related Documents</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: left;">Related Topic</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">System Commands</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="76" alt="image" src="Image_487.png"/></span></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a411">Error Message Decoder</a></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Document Title</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s23" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Network Management Command Reference, Cisco IOS XE Release 3E</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 101pt;text-indent: 0pt;text-align: center;"><a name="a412">Description</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">To help you research and resolve system error messages in this release, use the Error Message Decoder tool.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="92" alt="image" src="Image_488.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="60" alt="image" src="Image_489.png"/></span></p><p class="s2" style="padding-left: 98pt;text-indent: 0pt;text-align: center;"><a name="a413">Standards and RFCs</a></p><p class="s2" style="padding-top: 3pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">Link</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 107%;text-align: left;"><a href="https://www.cisco.com/cgi-bin/Support/Errordecoder/index.cgi" class="a" target="_blank">https://www.cisco.com/cgi-bin/Support/Errordecoder/ index.cgi</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: left;"><a name="a414">Standard/RFC</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">None</p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: left;"><a name="a415">Title</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">-</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_490.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a416">MIBs</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: center;">MIB</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">All supported MIBs for this release.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="115" alt="image" src="Image_491.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="234" alt="image" src="Image_492.png"/></span></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a417">Technical Assistance</a></p><p class="s2" style="padding-top: 3pt;padding-left: 70pt;text-indent: 0pt;text-align: justify;">MIBs Link</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 70pt;text-indent: 0pt;text-align: justify;">To locate and download MIBs for selected platforms, Cisco IOS releases, and feature sets, use Cisco MIB Locator found at the following URL:</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 70pt;text-indent: 0pt;text-align: justify;"><a href="http://www.cisco.com/go/mibs" class="a" target="_blank">http://www.cisco.com/go/mibs</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;"><a name="a418">Description</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">The Cisco Support website provides extensive online resources, including documentation and tools for troubleshooting and resolving technical issues with Cisco products and technologies.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">To receive security and technical information about your products, you can subscribe to various services, such as the Product Alert Tool (accessed from Field Notices), the Cisco Technical Services Newsletter, and Really Simple Syndication (RSS) Feeds.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">Access to most tools on the Cisco Support website requires a Cisco.com user ID and password.</p><p class="s2" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a419">Link</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/support" class="a" target="_blank">http://www.cisco.com/support</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="28" alt="image" src="Image_493.png"/></span></p><h3 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark375">Feature History and Information for SPAN and RSPAN</a><a name="bookmark449">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: right;"><a name="a420">Release</a></p><p class="s2" style="padding-top: 3pt;padding-left: 101pt;text-indent: 0pt;text-align: center;">Modification</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:99.409pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Cisco IOS XE 3.2SECisco IOS XE 3.2SE</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Switch Port Analyzer (SPAN): Allows monitoring of switch traffic on a port or VLAN using a sniffer/analyzer or RMON probe.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">This feature was introduced.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Cisco IOS XE 3.2SECisco IOS XE 3.2SE</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Flow-based Switch Port Analyzer (SPAN): Provides a method to capture only required data between end hosts by using specified filters. The filters are defined in terms of access lists that limit IPv4, IPv6 or IPv4 + IPv6, or non-IP traffic (MAC) between specified source and destination addresses.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">This feature was introduced.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_494.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="28" alt="image" src="Image_495.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Release</p><p class="s2" style="padding-top: 3pt;padding-left: 101pt;text-indent: 0pt;text-align: center;">Modification</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:98.809pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Cisco IOS XE 3.2SECisco IOS XE 3.2SE</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">SPAN destination port support on EtherChannels: Provides the ability to configure a SPAN destination port on an EtherChannel.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">This feature was introduced.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Cisco IOS XE 3.2SECisco IOS XE 3.2SE</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Switch Port Analyzer (SPAN) - distributed egress SPAN: Provides distributed egress SPAN functionality onto line cards in conjunction with ingress SPAN already been distributed to line cards. By distributing egress SPAN functionalities onto line cards, the performance of the system is improved.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">This feature was introduced.</p></td></tr></table><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_496.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_497.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="576" height="144" alt="image" src="Image_498.jpg"/></span></p><p class="s10" style="padding-left: 315pt;text-indent: 0pt;line-height: 54pt;text-align: left;"><a name="bookmark450">C H A P T E R   </a><span class="h1">9</span><a name="bookmark487">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h2 style="padding-top: 1pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Configuring Wireshark</h2><p style="padding-top: 2pt;padding-left: 96pt;text-indent: 0pt;text-align: left;"><span><img width="584" height="6" alt="image" src="Image_499.png"/></span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><ul id="l163"><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark488" class="a">Finding Feature Information, page 179</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark489" class="a">Prerequisites for Wireshark, page 179</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark490" class="a">Restrictions for Wireshark, page 180</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark491" class="a">Information About Wireshark, page 181</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark505" class="a">How to Configure Wireshark, page 191</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark512" class="a">Monitoring Wireshark, page 206</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark513" class="a">Configuration Examples for Wireshark, page 206</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark522" class="a">Additional References, page 221</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 117pt;text-indent: -10pt;text-align: left;"><p style="display: inline;"><a href="#bookmark523" class="a" name="bookmark451">Feature History and Information for WireShark, page 222</a><a name="bookmark488">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a421">Finding Feature Information</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Your software release may not support all the features documented in this module. For the latest caveats and feature information, see Bug Search Tool and the release notes for your platform and software release. To find information about the features documented in this module, and to see a list of the releases in which each feature is supported, see the feature information table at the end of this module.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/go/cfn" class="s4" target="_blank" name="bookmark452">Use Cisco Feature Navigator to find information about platform support and Cisco software image support. To access Cisco Feature Navigator, go to </a><a href="http://www.cisco.com/go/cfn" class="a" target="_blank">http://www.cisco.com/go/cf</a>n<span style=" color: #000;">. An account on Cisco.com is not required.</span><a name="bookmark489">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a422">Prerequisites for Wireshark</a></h3><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><ul id="l164"><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Wireshark is supported on Supervisor Engine 7-E, Supervisor Engine 7L-E, Catalyst 3850, Catalyst 3650, Wireless LAN Controller 5700 Series, Catalyst 4500X-16, and Catalyst 4500X-32.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">IP Base image or IP Services image is required for Embedded Wireshark.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_500.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h3 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark453">Restrictions for Wireshark</a><a name="bookmark490">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Starting in Cisco IOS Release XE 3.3.0(SE), global packet capture on Wireshark is not supported.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Capture filters are not supported.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: justify;"><p style="display: inline;">The CLI for configuring Wireshark requires that the feature be executed only from EXEC mode. Actions that usually occur in configuration submode (such as defining capture points), are handled at the EXEC mode instead. All key commands are not NVGEN<span class="s31">’</span>d and are not synchronized to the standby supervisor in NSF and SSO scenarios.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Packets captured in the output direction of an interface might not reflect the changes made by switch rewrite (includes TTL, VLAN tag, CoS, checksum, MAC addresses, DSCP, precedent, UP, etc.).</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Limiting circular file storage by file size is not supported.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Embedded Wireshark is not supported on switches running LAN Base image.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a423">Wireless Packet Capture</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">The only form of wireless capture is a CAPWAP tunnel capture.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">When capturing CAPWAP tunnels, no other interface types can be used as attachment points on the same capture point.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Capturing multiple CAPWAP tunnels is supported.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Core filters are not applied and should be omitted when capturing a CAPWAP tunnel.</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">To capture a CAPWAP data tunnel, each CAPWAP tunnel is mapped to a physical port and an appropriate ACL will be applied to filter the traffic.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">To capture a CAPWAP non-data tunnel, the switch is set to capture traffic on all ports and apply an appropriate ACL to filter the traffic.</p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">To capture a CAPWAP tunnel, no matter what kind, the controller will be told to capture the traffic on all physical ports and apply an appropriate ACL to filter the traffic.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a424">Configuration Limitations</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Multiple capture points can be defined, but only one can be active at a time. You need to stop one before you can start the other.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Neither VRFs, management ports, nor private VLANs can be used as attachment points.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Only one ACL of each type (IPv4, IPv6, MAC) is allowed in a Wireshark class map. There can be a maximum of three ACLs in a class map: one for IPv4, one for IPv6, and the other for MAC.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Wireshark cannot capture packets on a destination SPAN port.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: justify;"><p style="display: inline;">Wireshark will stop capturing when one of the attachment points (interfaces) attached to a capture point stops working. For example, if the device that is associated with an attachment point is unplugged from the switch. To resume capturing, the capture must be restarted manually.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">CPU-injected packets are considered control plane packets. Therefore, these types of packets will not be captured on an interface egress capture.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_501.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-top: 4pt;padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">MAC ACL is only used for non-IP packets such as ARP. It will not be supported on a Layer 3 port or SVI.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">IPv6-based ACLs are not supported in VACL.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Layer 2 and Layer 3 EtherChannels are not supported.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">ACL logging and Wireshark are incompatible. Once Wireshark is activated, it takes priority. All traffic, including that being captured by ACL logging on any ports, will be redirected to Wireshark. We recommended that you deactivate ACL logging before starting Wireshark. Otherwise, Wireshark traffic will be contaminated by ACL logging traffic.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Wireshark does not capture packets dropped by floodblock.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;"><a name="bookmark454">If you capture both PACL and RACL on the same port, only one copy is sent to the CPU. If you capture a DTLS-encrypted CAPWAP interface, two copies are sent to Wireshark, one encrypted and the other decrypted. The same behavior will occur if we capture a Layer 2 interface carrying DTLS-encrypted CAPWAP traffic. The core filter is based on the outer CAPWAP header.</a><a name="bookmark491">&zwnj;</a></p></li></ul></li></ul><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h3 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark455">Information About Wireshark</a><a name="bookmark492">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a425">Wireshark  Overview</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Wireshark is a packet analyzer program, formerly known as Ethereal, that supports multiple protocols and presents information in a text-based user interface.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The ability to capture and analyze traffic provides data on network activity. Prior to Cisco IOS Release XE 3.3.0(SE), only two features addressed this need: SPAN and debug platform packet. Both have limitations. SPAN is ideal for capturing packets, but can only deliver them by forwarding them to some specified local or remote destination; it provides no local display or analysis support. The <b>debug platform packet </b>command is specific to the Catalyst 4500 series and only works on packets that come from the software process-forwarding path. Also, the <b>debug platform packet </b>command has limited local display capabilities and no analysis support.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">So the need exists for a traffic capture and analysis mechanism that is applicable to both hardware and software forwarded traffic and that provides strong packet capture, display, and analysis support, preferably using a well known interface.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark456">Wireshark dumps packets to a file using a well known format called .pcap, and is applied or enabled on individual interfaces. You specify an interface in EXEC mode along with the filter and other parameters. The Wireshark application is applied only when you enter a </a><b>start </b>command, and is removed only when Wireshark stops capturing packets either automatically or manually.<a name="bookmark493">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a426">Capture Points</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">A capture point is the central policy definition of the Wireshark feature. The capture point describes all of the characteristics associated with a given instance of Wireshark: which packets to capture, where to capture them from, what to do with the captured packets, and when to stop. Capture points can be modified after creation, and do not become active until explicitly activated with a <b>start </b>command. This process is termed activating the capture point or starting the capture point. Capture points are identified by name and can also be manually or automatically deactivated or stopped.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_502.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Multiple capture points can be defined, but only one can be active at a time. You need to stop one before you can start the other.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a427">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark506" class="a">Defining a Capture Poin</a>t, on page 191</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark507" class="a">Adding or Modifying Capture Point Parameter</a><a href="#bookmark508" class="a">s, on page 196 Deleting Capture Point Parameter</a>s,  on page 199</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark509" class="a">Deleting a Capture Poin</a>t, on page 201</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark510" class="a">Activating and Deactivating a Capture Poin</a><a href="#bookmark511" class="a">t, on page 202 Clearing the Capture Point Buffe</a>r,  on page 204</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark516" class="a">Example: Simple Capture and Displa</a><a href="#bookmark517" class="a">y,  on page 210 Example: Simple Capture and Stor</a><a href="#bookmark518" class="a">e,  on page 211 Example: Using Buffer Captur</a><a href="#bookmark519" class="a">e,  on page 213 Example: Capture Session</a>s,  on page 217</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark520" class="a">Example: Capture and Store in Lock-step Mod</a>e,  on page 218</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark521" class="a" name="bookmark457">Example: Simple Capture and Store of Packets in Egress Directio</a>n, on page 219<a name="bookmark494">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a428">Attachment  Points</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">An attachment point is a point in the logical packet process path associated with a capture point. An attachment point is an attribute of the capture point. Packets that impact an attachment point are tested against capture point filters; packets that match are copied and sent to the associated Wireshark instance of the capture point. A specific capture point can be associated with multiple attachment points, with limits on mixing attachment points of different types. Some restrictions apply when you specify attachment points of different types. Attachment points are directional (input or output or both) with the exception of the Layer 2 VLAN attachment point, which is always bidirectional.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a429">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark506" class="a">Defining a Capture Poin</a>t, on page 191</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark507" class="a">Adding or Modifying Capture Point Parameter</a><a href="#bookmark508" class="a">s, on page 196 Deleting Capture Point Parameter</a>s,  on page 199</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark509" class="a">Deleting a Capture Poin</a>t, on page 201</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark510" class="a">Activating and Deactivating a Capture Poin</a><a href="#bookmark511" class="a">t, on page 202 Clearing the Capture Point Buffe</a>r,  on page 204</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark516" class="a">Example: Simple Capture and Displa</a><a href="#bookmark517" class="a">y,  on page 210 Example: Simple Capture and Stor</a><a href="#bookmark518" class="a">e,  on page 211 Example: Using Buffer Captur</a><a href="#bookmark519" class="a">e,  on page 213 Example: Capture Session</a>s,  on page 217</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark520" class="a">Example: Capture and Store in Lock-step Mod</a>e,  on page 218</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark521" class="a">Example: Simple Capture and Store of Packets in Egress Directio</a>n, on page 219</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_503.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark458">Filters</a><a name="bookmark495">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_504.png"/></span></p><p class="s14" style="padding-top: 3pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">Note</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Filters are attributes of a capture point that identify and limit the subset of traffic traveling through the attachment point of a capture point, which is copied and passed to Wireshark. To be displayed by Wireshark, a packet must pass through an attachment point, as well as all of the filters associated with the capture point.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">A capture point has the following types of filters:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li></ul></li><li style="padding-left: 27pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Core system filter<span class="s31">—</span>The core system filter is applied by hardware, and its match criteria is limited by hardware. This filter determines whether hardware-forwarded traffic is copied to software for Wireshark purposes.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 27pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Display filter<span class="s31">—</span>The display filter is applied by Wireshark. Packets that fail the display filter are not displayed.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a430">Core System Filter</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">You can specify core system filter match criteria by using the class map or ACL, or explicitly by using the CLI.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_505.png"/></span></p><p style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">When specifying CAPWAP as an attachment point, the core system filter is not used.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_506.png"/></span></p><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">In some installations, you need to obtain authorization to modify the switch configuration, which can lead to extended delays if the approval process is lengthy. This can limit the ability of network administrators to monitor and analyze traffic. To address this situation, Wireshark supports explicit specification of core system filter match criteria from the EXEC mode CLI. The disadvantage is that the match criteria that you can specify is a limited subset of what class map supports, such as MAC, IP source and destination addresses, ether-type, IP protocol, and TCP/UDP source and destination ports.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">If you prefer to use configuration mode, you can define ACLs or have class maps refer capture points to them. Explicit and ACL-based match criteria are used internally to construct class maps and policy maps.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Note The ACL and class map configuration are part of the system and not aspects of the Wireshark feature.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a431">Display Filter</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">With the display filter, you can direct Wireshark to further narrow the set of packets to display when decoding and displaying from a .pcap file.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark459">Related Topics</a><a name="bookmark496">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 21pt;text-indent: 0pt;text-align: left;"><a href="#bookmark522" class="a">Additional Reference</a>s,  on page 221</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a432">Actions</a></h4><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Wireshark can be invoked on live traffic or on a previously existing .pcap file. When invoked on live traffic, it can perform four types of actions on packets that pass its display filters:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 27pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Captures to buffer in memory to decode and analyze and store</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 27pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Stores to a .pcap file</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_507.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l165"><li style="padding-top: 2pt;padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Decodes and displays</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Stores and displays</p></li></ul></li></ul><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">When invoked on a .pcap file only, only the decode and display action is applicable.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark460">Storage of Captured Packets to Buffer in Memory</a><a name="bookmark497">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Packets can be stored in the capture buffer in memory for subsequent decode, analysis, or storage to a .pcap file.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The capture buffer can be in linear or circular mode. In linear mode, new packets are discarded when the buffer is full. In circular mode, if the buffer is full, the oldest packets are discarded to accommodate the new packets. Although the buffer can also be cleared when needed, this mode is mainly used for debugging network traffic.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 65pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="24" alt="image" src="Image_508.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_509.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;"><a name="bookmark461">If you have more than one capture that is storing packets in a buffer, clear the buffer before starting a new capture to avoid memory loss.</a><a name="bookmark498">&zwnj;</a></p><p style="padding-top: 4pt;padding-left: 100pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_510.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a433">Storage of Captured Packets to a .pcap File</a></h4><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 65pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_511.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 65pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_512.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_513.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">When WireShark is used on switches in a stack, packet captures can be stored only on flash or USB flash devices connected to the active switch.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;">For example, if flash1 is connected to the active switch, and flash2 is connected to the secondary switch, only flash1 can be used to store packet captures.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;">Attempts to store packet captures on devices other than flash or USB flash devices connected to the active switch will probably result in errors.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_514.png"/></span></p><p style="padding-top: 2pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">Wireshark can store captured packets to a .pcap file. The capture file can be located on the following storage devices:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l166"><li style="padding-left: 33pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Switch on-board flash storage (flash:)</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 33pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">USB drive (usbflash0:)</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_515.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">Attempts to store packet captures on unsupported devices or devices not connected to the active switch will probably result in errors.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_516.png"/></span></p><p style="padding-top: 2pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">When configuring a Wireshark capture point, you can associate a filename. When the capture point is activated, Wireshark creates a file with the specified name and writes packets to it. If the file already exists when the file is associated or the capture point is activated, Wireshark queries you as to whether the file can be overwritten. Only one capture point may be associated with a given filename.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_517.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">If the destination of the Wireshark writing process is full, Wireshark fails with partial data in the file. You must ensure that there is sufficient space in the file system before you start the capture session. With Cisco IOS Release IOS XE 3.3.0(SE), the file system full status is not detected for some storage devices.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You can reduce the required storage space by retaining only a segment, instead of the entire packet. Typically, you do not require details beyond the first 64 or 128 bytes. The default behavior is to store the entire packet.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">To avoid possible packet drops when processing and writing to the file system, Wireshark can optionally use a memory buffer to temporarily hold packets as they arrive. Memory buffer size can be specified when the capture point is associated with a .pcap file.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark462">Packet Decoding and Display</a><a name="bookmark499">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Wireshark can decode and display packets to the console. This functionality is possible for capture points applied to live traffic and for capture points applied to a previously existing .pcap file.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 64pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="24" alt="image" src="Image_518.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_519.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">Decoding and displaying packets may be CPU intensive.</p><p style="padding-top: 4pt;padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_520.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Wireshark can decode and display packet details for a wide variety of packet formats. The details are displayed by entering the <b>monitor capture name start </b>command with one of the following keyword options, which place you into a display and decode mode:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 33pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">brief<span class="s31">—</span>Displays one line per packet (the default).</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 33pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">detailed<span class="s31">—</span>Decodes and displays all the fields of all the packets whose protocols are supported. Detailed modes require more CPU than the other two modes.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 33pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">(hexadecimal) dump<span class="s31">—</span>Displays one line per packet as a hexadecimal dump of the packet data and the printable characters of each packet.</p></li></ul><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">When you enter the <b>capture </b>command with the decode and display option, the Wireshark output is returned to Cisco IOS and displayed on the console unchanged.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 11pt;text-indent: 0pt;text-align: left;"><a name="a434">Live Traffic Display</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Wireshark receives copies of packets from the core system. Wireshark applies its display filters to discard uninteresting packets, and then decodes and displays the remaining packets.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><ol id="l167"><li style="padding-left: 18pt;text-indent: -7pt;text-align: left;"><p class="s2" style="display: inline;"><a name="bookmark463">cap File Display</a><a name="bookmark500">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Wireshark can decode and display packets from a previously stored .pcap file and direct the display filter to selectively displayed packets.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a435">Packet Storage and Display</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Functionally, this mode is a combination of the previous two modes. Wireshark stores packets in the specified</p><ol id="l168"><li style="padding-left: 106pt;text-indent: -7pt;text-align: left;"><p style="display: inline;">cap file and decodes and displays them to the console. Only the core filters are applicable here.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_521.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark464">Wireshark Capture Point Activation and Deactivation</a><a name="bookmark501">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">After a Wireshark capture point has been defined with its attachment points, filters, actions, and other options, it must be activated. Until the capture point is activated, it does not actually capture packets.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">Before a capture point is activated, some functional checks are performed. A capture point cannot be activated if it has neither a core system filter nor attachment points defined. Attempting to activate a capture point that does not meet these requirements generates an error.*</p><p style="padding-top: 2pt;padding-left: 65pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_522.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_523.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">*When performing a wireless capture with a CAPWAP tunneling interface, the core system filter is not required and cannot be used.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_524.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: justify;">The display filters are specified as needed.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: justify;">After Wireshark capture points are activated, they can be deactivated in multiple ways. A capture point that is storing only packets to a .pcap file can be halted manually or configured with time or packet limits, after which the capture point halts automatically.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: justify;"><a name="bookmark465">When a Wireshark capture point is activated, a fixed rate policer is applied automatically in the hardware so that the CPU is not flooded with Wireshark-directed packets. The disadvantage of the rate policer is that you cannot capture contiguous packets beyond the established rate even if more resources are available.</a><a name="bookmark502">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a436">Wireshark  Features</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This section describes how Wireshark features function in the switch environment:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ul id="l169"><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">If port security and Wireshark are applied on an ingress capture, a packet that is dropped by port security will still be captured by Wireshark. If port security is applied on an ingress capture, and Wireshark is applied on an egress capture, a packet that is dropped by port security will not be captured by Wireshark.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Packets dropped by Dynamic ARP Inspection (DAI) are not captured by Wireshark.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">If a port that is in STP blocked state is used as an attachment point and the core filter is matched, Wireshark will capture the packets that come into the port, even though the packets will be dropped by the switch.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Classification-based security features<span class="s31">—</span>Packets that are dropped by input classification-based security features (such as ACLs and IPSG) are not caught by Wireshark capture points that are connected to attachment points at the same layer. In contrast, packets that are dropped by output classification-based security features are caught by Wireshark capture points that are connected to attachment points at the same layer. The logical model is that the Wireshark attachment point occurs after the security feature lookup on the input side, and symmetrically before the security feature lookup on the output side.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 121pt;text-indent: 0pt;text-align: left;">On ingress, a packet goes through a Layer 2 port, a VLAN, and a Layer 3 port/SVI. On egress, the packet goes through a Layer 3 port/SVI, a VLAN, and a Layer 2 port. If the attachment point is before the point where the packet is dropped, Wireshark will capture the packet. Otherwise, Wireshark will not capture the packet. For example, Wireshark capture policies connected to Layer 2 attachment points in the input direction capture packets dropped by Layer 3 classification-based security features. Symmetrically, Wireshark capture policies attached to Layer 3 attachment points in the output direction capture packets dropped by Layer 2 classification-based security features.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_525.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-top: 2pt;padding-left: 121pt;text-indent: -6pt;text-align: justify;"><p style="display: inline;">Routed ports and switch virtual interfaces (SVIs)<span class="s31">—</span>Wireshark cannot capture the output of an SVI because the packets that go out of an SVI&#39;s output are generated by CPU. To capture these packets, include the control plane as an attachment point.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">VLANs<span class="s31">—</span>When a VLAN is used as a Wireshark attachment point, packets are captured in the input direction only.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Redirection features<span class="s31">—</span>In the input direction, features traffic redirected by Layer 3 (such as PBR and WCCP) are logically later than Layer 3 Wireshark attachment points. Wireshark captures these packets even though they might later be redirected out another Layer 3 interface. Symmetrically, output features redirected by Layer 3 (such as egress WCCP) are logically prior to Layer 3 Wireshark attachment points, and Wireshark will not capture them.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">SPAN<span class="s31">—</span>Wireshark cannot capture packets on interface configured as a SPAN source or destination.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">You can capture packets from a maximum of 1000 VLANs at a time, if no ACLs are applied. If ACLs are applied, the hardware will have less space for Wireshark to use. As a result, the maximum number of VLANs than can be used for packet capture at a time will be lower. Using more than 1000 VLANs tunnels at a time or extensive ACLs might have unpredictable results. For example, mobility may go down.</p><p style="padding-top: 2pt;padding-left: 120pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_526.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="463" height="1" alt="image" src="Image_527.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">Capturing an excessive number of attachment points at the same time is strongly discouraged because it may cause excessive CPU utilization and unpredictable hardware behavior.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 155pt;text-indent: 0pt;text-align: left;"><span><img width="463" height="1" alt="image" src="Image_528.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a437">Wireless Packet Capture in Wireshark</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: justify;"><p style="display: inline;">Wireless traffic is encapsulated inside CAPWAP packets. However, capturing only a particular wireless client&#39;s traffic inside a CAPWAP tunnel is not supported when using the CAPWAP tunnel as an attachment point. To capture only a particular wireless client&#39;s traffic, use the client VLAN as an attachment point and formulate the core filter accordingly.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Limited decoding of inner wireless traffic is supported. Decoding of inner wireless packets inside encrypted CAPWAP tunnels is not supported.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">No other interface type can be used with the CAPWAP tunneling interface on the same capture point. A CAPWAP tunneling interface and a Level 2 port cannot be attachment points on the same capture point.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">You cannot specify a core filter when capturing packets for Wireshark via the CAPWAP tunnel. However, you can use the Wireshark display filters for filtering wireless client traffic against a specific wireless client.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">You can capture packets from a maximum of 135 CAPWAP tunnels at a time if no ACLs are applied. If ACLs are applied, the hardware memory will have less space for Wireshark to use. As a result, the maximum number of CAPWAP tunnels than can be used for packet capture at a time will be lower. Using more than 135 CAPWAP tunnels at a time or unsing extensive ACLs might have unpredictable results. For example, mobility may go down.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_529.png"/></span></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p style="padding-left: 121pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_530.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="463" height="1" alt="image" src="Image_531.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">Capturing an excessive number of attachment points at the same time is strongly discouraged because it may cause excessive CPU utilization and unpredictable hardware behavior.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 156pt;text-indent: 0pt;text-align: left;"><span><img width="463" height="1" alt="image" src="Image_532.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark466">Guidelines for Wireshark</a><a name="bookmark503">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">During Wireshark packet capture, hardware forwarding happens concurrently.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Before starting a Wireshark capture process, ensure that CPU usage is moderate and that sufficient memory (at least 200 MB) is available.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">If you plan to store packets to a storage file, ensure that sufficient space is available before beginning a Wireshark capture process.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">The CPU usage during Wireshark capture depends on how many packets match the specified conditions and on the intended actions for the matched packets (store, decode and display, or both).</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Where possible, keep the capture to the minimum (limit by packets, duration) to avoid high CPU usage and other undesirable conditions.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Because packet forwarding typically occurs in hardware, packets are not copied to the CPU for software processing. For Wireshark packet capture, packets are copied and delivered to the CPU, which causes an increase in CPU usage.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 121pt;text-indent: 0pt;text-align: left;">To avoid high CPU usage, do the following:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 137pt;text-indent: 0pt;text-align: left;">◦<span class="p">Attach only relevant ports.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 143pt;text-indent: -6pt;line-height: 12pt;text-align: left;">◦<span class="p">Use a class map, and secondarily, an access list to express match conditions. If neither is viable, use an explicit, in-line filter.</span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 143pt;text-indent: -6pt;line-height: 12pt;text-align: left;">◦<span class="p">Adhere closely to the filter rules. Restrict the traffic type (such as, IPv4 only) with a restrictive, rather than relaxed ACL, which elicits unwanted traffic.</span></p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Always limit packet capture to either a shorter duration or a smaller packet number. The parameters of the capture command enable you to specify the following:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 137pt;text-indent: 0pt;text-align: left;">◦<span class="p">Capture duration</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 137pt;text-indent: 0pt;text-align: left;">◦<span class="p">Number of packets captured</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 137pt;text-indent: 0pt;text-align: left;">◦<span class="p">File size</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 137pt;text-indent: 0pt;text-align: left;">◦<span class="p">Packet segment size</span></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Run a capture session without limits if you know that very little traffic matches the core filter.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">You might experience high CPU (or memory) usage if:</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 143pt;text-indent: -6pt;line-height: 12pt;text-align: left;">◦<span class="p">You leave a capture session enabled and unattended for a long period of time, resulting in unanticipated bursts of traffic.</span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 143pt;text-indent: -6pt;line-height: 12pt;text-align: left;">◦<span class="p">You launch a capture session with ring files or capture buffer and leave it unattended for a long time, resulting in performance or system health issues.</span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_533.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-top: 4pt;padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">During a capture session, watch for high CPU usage and memory consumption due to Wireshark that may impact switch performance or health. If these situations arise, stop the Wireshark session immediately.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">Avoid decoding and displaying packets from a .pcap file for a large file. Instead, transfer the .pcap file to a PC and run Wireshark on the PC.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">You can define up to eight Wireshark instances. An active <b>show </b>command that decodes and displays packets from a .pcap file or capture buffer counts as one instance. However, only one of the instances can be active.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Whenever an ACL that is associated with a running capture is modified, you must restart the capture for the ACL modifications to take effect. If you do not restart the capture, it will continue to use the original ACL as if it had not been modified.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">To avoid packet loss, consider the following:</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 143pt;text-indent: -6pt;line-height: 12pt;text-align: left;">◦<span class="p">Use store-only (when you do not specify the display option) while capturing live packets rather than decode and display, which is an CPU-intensive operation (especially in detailed mode).</span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 143pt;text-indent: -6pt;line-height: 12pt;text-align: left;">◦<span class="p">If you have more than one capture that is storing packets in a buffer, clear the buffer before starting a new capture to avoid memory loss.</span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 143pt;text-indent: -6pt;line-height: 12pt;text-align: left;">◦<span class="p">If you use the default buffer size and see that you are losing packets, you can increase the buffer size to avoid losing packets.</span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 143pt;text-indent: -6pt;line-height: 12pt;text-align: left;">◦<span class="p">Writing to flash disk is a CPU-intensive operation, so if the capture rate is insufficient, you may want to use a buffer capture.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s31" style="padding-left: 143pt;text-indent: -6pt;text-align: left;">◦<span class="p">The Wireshark capture session operates normally in streaming mode where packets are both captured and processed. However, when you specify a buffer size of at least 32 MB, the session automatically turns on lock-step mode in which a Wireshark capture session is split into two phases: capture and process. In the capture phase, the packets are stored in the temporary buffer. The duration parameter in lock-step mode serves as capture duration rather than session duration. When the buffer is full or the capture duration or packet limit has been attained, a session transitions to the process phase, wherein it stops accepting packets and starts processing packets in the buffer. You can also stop the capture manually. You will see a message in the output when the capture stops. With this second approach (lock-step mode), a higher capture throughput can be achieved.</span></p><p style="padding-top: 2pt;padding-left: 143pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_534.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="463" height="1" alt="image" src="Image_535.png"/></span></p><p class="s23" style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;"><span class="p">If you are capturing packets to a buffer, there is no file storage defined. Hence, you must export your capture from the buffer to a static storage file. Use the </span><b>monitor capture </b>capture-name <b>export </b>file-location <span class="p">: </span>file-name <span class="p">command.</span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 178pt;text-indent: 0pt;text-align: left;"><span><img width="463" height="1" alt="image" src="Image_536.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s31" style="padding-top: 2pt;padding-left: 143pt;text-indent: -6pt;text-align: left;">◦<span class="p">The streaming capture mode supports approximately 1000 pps; lock-step mode supports approximately 2 Mbps (measured with 256-byte packets). When the matching traffic rate exceeds this number, you may experience packet loss.</span></p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">If you want to decode and display live packets in the console window, ensure that the Wireshark session is bounded by a short capture duration.</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p style="padding-left: 64pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_537.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_538.png"/></span></p><p class="s2" style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">Warning<span class="p">: A Wireshark session with either a longer duration limit or no capture duration (using a terminal with no auto-more support using the </span>term len 0 <span class="p">command) may make the console or terminal unusable.</span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_539.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_540.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-top: 4pt;padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">When using Wireshark to capture live traffic that leads to high CPU, usage, consider applying a QoS policy temporarily to limit the actual traffic until the capture process concludes.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 134%;text-align: left;"><p style="display: inline;">All Wireshark-related commands are in EXEC mode; no configuration commands exist for Wireshark. If you need to use access list or class-map in the Wireshark CLI, you must define an access list and class</p><p style="padding-left: 121pt;text-indent: 0pt;line-height: 8pt;text-align: left;">map with configuration commands.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">No specific order applies when defining a capture point; you can define capture point parameters in any order, provided that CLI allows this. The Wireshark CLI allows as many parameters as possible on a single line. This limits the number of commands required to define a capture point.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">All parameters except attachment points take a single value. Generally, you can replace the value with a new one by reentering the command. After user confirmation, the system accepts the new value and overrides the older one. A <b>no </b>form of the command is unnecessary to provide a new value, but it is necessary to remove a parameter.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;">Wireshark allows you to specify one or more attachment points. To add more than one attachment point, reenter the command with the new attachment point. To remove an attachment point, use the <b>no </b>form of the command. You can specify an interface range as an attachment point. For example, enter <b>monitor capture mycap interface GigabitEthernet1/0/1 in </b>where interface GigabitEthernet1/0/1 is an attachment point.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 121pt;text-indent: 0pt;text-align: left;">If you also need to attach interface GigabitEthernet1/0/2, specify it in another line as follows:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 121pt;text-indent: 0pt;text-align: left;"><a name="a438">monitor capture mycap interface GigabitEthernet1/0/2 in</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">You can modify any of the parameters of a capture point while a session is active, but you must restart the session for the modifications to take effect.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;text-align: justify;"><p style="display: inline;">The action you want to perform determines which parameters are mandatory. The Wireshark CLI allows you to specify or modify any parameter prior to entering the <b>start </b>command. When you enter the <b>start </b>command, Wireshark will start only after determining that all mandatory parameters have been provided.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">If the capture file already exists, it provides a warning and receives confirmation before proceeding. This prevents you from mistakenly overwriting a file.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 121pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p style="display: inline;">The core filter can be an explicit filter, access list, or class map. Specifying a newer filter of these types replaces the existing one.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 121pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_541.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="463" height="1" alt="image" src="Image_542.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">A core filter is required except when using a CAPWAP tunnel interface as a capture point attachment point.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 156pt;text-indent: 0pt;text-align: left;"><span><img width="463" height="1" alt="image" src="Image_543.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p></li><li style="padding-top: 2pt;padding-left: 121pt;text-indent: -6pt;text-align: left;"><p style="display: inline;"><a name="bookmark467">You can terminate a Wireshark session with an explicit </a><b>stop </b>command or by entering <b>q </b>in automore mode. The session could terminate itself automatically when a stop condition such as duration or packet capture limit is met.<a name="bookmark504">&zwnj;</a></p></li></ul></li></ol></li></ol><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a439">Default Wireshark Configuration</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="54" alt="image" src="Image_544.png"/></span></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The table below shows the default Wireshark configuration.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: right;"><a name="a440">Feature</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: right;">Duration</p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;"><a name="a441">Default Setting</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">No limit</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_545.png"/></span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;line-height: 167%;text-align: left;">Feature <span class="p">Packets Packet-length File size</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="156" alt="image" src="Image_546.png"/></span></p><p style="padding-left: 102pt;text-indent: 0pt;line-height: 167%;text-align: left;">Ring file storage Buffer storage mode</p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: left;"><a name="a442">Default Setting</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">No limit</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;line-height: 167%;text-align: left;">No limit (full packet) No limit</p><p style="padding-left: 102pt;text-indent: 0pt;line-height: 167%;text-align: left;">No Linear</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark468">How to Configure Wireshark</a><a name="bookmark505">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">To configure Wireshark, perform these basic steps.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><ol id="l170"><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Define a capture point.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">(Optional) Add or modify the capture point&#39;s parameters.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Activate or deactivate a capture point.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p></li><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Delete the capture point when you are no longer using it.</p></li></ol><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a443">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark506" class="a">Defining a Capture Poin</a>t, on page 191</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark507" class="a">Adding or Modifying Capture Point Parameter</a><a href="#bookmark508" class="a">s, on page 196 Deleting Capture Point Parameter</a>s,  on page 199</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark509" class="a">Deleting a Capture Poin</a>t, on page 201</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark510" class="a">Activating and Deactivating a Capture Poin</a><a href="#bookmark511" class="a">t, on page 202 Clearing the Capture Point Buffe</a>r,  on page 204</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark516" class="a" name="bookmark469">Example: Simple Capture and Displa</a><a href="#bookmark517" class="a">y,  on page 210 Example: Simple Capture and Stor</a><a href="#bookmark518" class="a">e,  on page 211 Example: Using Buffer Captur</a><a href="#bookmark519" class="a">e,  on page 213 Example: Capture Session</a>s,  on page 217<a name="bookmark506">&zwnj;</a></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark520" class="a">Example: Capture and Store in Lock-step Mod</a>e,  on page 218</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark521" class="a">Example: Simple Capture and Store of Packets in Egress Directio</a>n, on page 219</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Defining a Capture Point</h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The example in this procedure defines a very simple capture point. If you choose, you can define a capture point and all of its parameters with one instance of the <b>monitor capture </b>command.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_547.png"/></span></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p style="padding-left: 65pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_548.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_549.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">You must define an attachment point, direction of capture, and core filter to have a functional capture point.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;">An exception to needing to define a core filter is when you are defining a wireless capture point using a CAPWAP tunneling interface. In this case, you do not define your core filter. It cannot be used.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_550.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Follow these steps to define a capture point.</p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a444">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ol id="l171"><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a445">enable</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show capwap summary</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>monitor capture </b>{<i>capture-name</i>}{<b>interface </b><i>interface-type interface-id </i>| <b>control-plane</b>}{<b>in </b>| <b>out </b>| <b>both</b>}</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>monitor capture </b>{<i>capture-name</i>}[<b>match </b>{<b>any </b>| <b>ipv4 any any </b>| <b>ipv6</b>} <b>any any</b>}]</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>show monitor capture </b>{<i>capture-name</i>}[ <b>parameter</b>]</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a446">show running-config</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_551.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 51pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 51pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show capwap summary</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show capwap summary</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 6pt;text-indent: 0pt;text-align: left;">Displays the CAPWAP tunnels available as attachment points for a wireless capture.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s30" style="padding-left: 37pt;text-indent: -35pt;text-align: left;">Note       <span class="s18">Use this command only if you are using a CAPWAP tunnel as an attachment point to perform a wireless capture. See the CAPWAP example in the examples section.</span></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">monitor capture</p><p class="s18" style="padding-left: 2pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">{<i>capture-name</i>}{<b>interface </b><i>interface-type interface-id </i>| <b>control-plane</b>}{<b>in </b>| <b>out </b>| <b>both</b>}</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap interface GigabitEthernet1/0/1 in</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Defines the capture point, specifies the attachment point with which the capture point is associated, and specifies the direction of the capture.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">The keywords have these meanings:</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><ul id="l172"><li style="padding-left: 24pt;padding-right: 11pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s20" style="display: inline;">capture-name<span class="s35">—</span><span class="s18">Specifies the name of the capture point to be defined (mycap is used in the example).</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: justify;"><p class="s18" style="display: inline;">(Optional) <b>interface </b><i>interface-type interface-id</i><span class="s35">—</span>Specifies the attachment point with which the capture point is associated (GigabitEthernet1/0/1 is used in the example).</p></li></ul><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_552.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_553.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;text-align: left;"><a name="a447">Command or Action</a></p><p class="s2" style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s30" style="padding-left: 59pt;text-indent: -35pt;text-align: left;">Note       <span class="s18">Optionally, you can define multiple attachment points and all of the parameters for this capture point with this one command instance. These parameters are discussed in the instructions for modifying capture point parameters. Range support is also available both for adding and removing attachment points.</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 24pt;text-indent: 0pt;text-align: left;">Use one of the following for <i>interface-type</i>:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 46pt;padding-right: 53pt;text-indent: -6pt;text-align: left;">◦<span class="s19">GigabitEthernet</span>—<span class="s18">Specifies the attachment point as GigabitEthernet.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 40pt;text-indent: 0pt;text-align: left;">◦<span class="s19">vlan</span>—<span class="s18">Specifies the attachment point as a VLAN.</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s30" style="padding-left: 81pt;text-indent: -35pt;text-align: left;">Note       <span class="s18">Only ingress capture (in) is allowed when using this interface as an attachment point.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 40pt;text-indent: 0pt;text-align: left;">◦<span class="s19">capwap</span>—<span class="s18">Specifies the attachment point as a CAPWAP tunnel.</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s30" style="padding-left: 81pt;padding-right: 6pt;text-indent: -35pt;text-align: left;">Note       <span class="s18">When using this interface as an attachment point, a core filter cannot be used.</span></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><ul id="l173"><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s18" style="display: inline;">(Optional) <b>control-plane</b><span class="s35">—</span>Specifies the control plane as an attachment point.</p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">in <span class="s18">| </span>out <span class="s18">| </span>both<span class="s35">—</span><span class="s18">Specifies the direction of capture.</span></p></li></ul><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>monitor capture </b>{<i>capture-name</i>}[<b>match</b></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">{<b>any </b>| <b>ipv4 any any </b>| <b>ipv6</b>} <b>any any</b>}]</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap interface GigabitEthernet1/0/1 in match any</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Defines the core system filter.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s30" style="padding-left: 37pt;text-indent: -35pt;text-align: left;">Note       <span class="s18">When using the CAPWAP tunneling interface as an attachment point, do not perform this step because a core filter cannot be used.</span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">The keywords have these meanings:</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><ul id="l174"><li style="padding-left: 24pt;padding-right: 11pt;text-indent: -6pt;line-height: 12pt;text-align: left;"><p class="s20" style="display: inline;">capture-name<span class="s35">—</span><span class="s18">Specifies the name of the capture point to be defined (mycap is used in the example).</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">match<span class="s35">—</span><span class="s18">Specifies a filter. The first filter defined is the core filter.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">ipv4<span class="s35">—</span><span class="s18">Specifies an IP version 4 filter.</span></p></li><li style="padding-left: 24pt;text-indent: -6pt;text-align: left;"><p class="s19" style="display: inline;">ipv6<span class="s35">—</span><span class="s18">Specifies an IP version 6 filter.</span></p></li></ul><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s30" style="padding-left: 59pt;text-indent: -35pt;text-align: left;">Note       <span class="s18">A capture point cannot be activated if it has neither a core system filter nor attachment points defined. Attempting to activate a capture point that does not meet these requirements generates an error.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>show monitor capture </b>{<i>capture-name</i>}[</p><p class="s19" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">parameter<span class="s18">]</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;padding-right: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>show monitor capture mycap parameter</b></p><p class="s21" style="padding-left: 16pt;text-indent: 0pt;text-align: left;">monitor capture mycap interface</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Displays the capture point parameters that you defined in Step 2 and confirms that you defined a capture point.</p></td></tr></table><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_554.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 51pt;text-indent: 0pt;text-align: left;"><a name="a448">Command or Action</a></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 50pt;text-indent: 0pt;text-align: left;">GigabitEthernet1/0/1 in</p><p class="s24" style="padding-left: 64pt;text-indent: 0pt;line-height: 9pt;text-align: left;">monitor capture mycap match any</p><p class="s2" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;"><a name="a449">Purpose</a></p><p style="text-indent: 0pt;line-height: 2pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;padding-right: 39pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="57" alt="image" src="Image_555.png"/></span></p><p style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">To define a capture point with a CAPWAP attachment point:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>show capwap summary</b></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">CAPWAP Tunnels General Statistics:</p><p class="s24" style="padding-left: 109pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Number of Capwap Data Tunnels      = 1</p><p class="s24" style="padding-left: 109pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Number of Capwap Mobility Tunnels  = 0</p><p class="s24" style="padding-left: 109pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Number of Capwap Multicast Tunnels = 0</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Name  APName                          Type PhyPortIf Mode     McastIf</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">------ -------------------------------- ---- --------- --------- -------</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Ca0   AP442b.03a9.6715                data Gi3/0/6  unicast  -</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Name  SrcIP          SrcPort DestIP         DstPort DtlsEn MTU  Xact</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">------ --------------- ------- --------------- ------- ------ ----- ----</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Ca0   10.10.14.32    5247   10.10.14.2     38514  No    1449 0</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap interface capwap 0 both</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap file location flash:mycap.pcap</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap file buffer-size 1</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap start</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 17pt;text-align: left;">*Aug 20 11:02:21.983: %BUFCAP-6-ENABLE: Capture Point mycap enabled.on Switch# <b>show monitor capture mycap parameter</b></p><p class="s24" style="padding-left: 114pt;text-indent: 0pt;line-height: 93%;text-align: left;">monitor capture mycap interface capwap 0 in monitor capture mycap interface capwap 0 out</p><p class="s24" style="padding-left: 99pt;text-indent: 14pt;line-height: 93%;text-align: left;">monitor capture mycap file location flash:mycap.pcap buffer-size 1 Switch#</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>show monitor capture mycap</b></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 109pt;text-indent: -9pt;line-height: 9pt;text-align: left;">Status Information for Capture mycap Target Type:</p><p class="s24" style="padding-left: 118pt;text-indent: -9pt;line-height: 9pt;text-align: left;">Interface: CAPWAP, Ingress:</p><p class="s24" style="padding-left: 104pt;text-indent: 0pt;text-align: left;">0</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Egress:</p><p class="s24" style="padding-left: 104pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0</p><p class="s24" style="padding-left: 114pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Status : Active</p><p class="s24" style="padding-left: 109pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Filter Details:</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Capture all packets</p><p class="s24" style="padding-left: 109pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Buffer Details:</p><p class="s24" style="padding-left: 114pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Buffer Type: LINEAR (default)</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_556.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-top: 4pt;padding-left: 108pt;text-indent: 0pt;text-align: left;">File Details:</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Associated file name: flash:mycap.pcap</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Size of buffer(in MB): 1</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Limit Details:</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Number of Packets to capture: 0 (no limit)</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packet Capture duration: 0 (no limit)</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packet Size to capture: 0 (no limit)</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packets per second: 0 (no limit)</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packet sampling rate: 0 (no sampling)</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch#</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>show monitor capture file flash:mycap.pcap</b></p><p class="s24" style="padding-left: 103pt;text-indent: 3pt;line-height: 93%;text-align: left;">1  0.000000 00:00:00:00:00:00 -&gt; 3c:ce:73:39:c6:60 IEEE 802.11 Probe Request, SN=0, FN=0, Flags=........</p><p class="s24" style="padding-left: 103pt;text-indent: 3pt;line-height: 93%;text-align: left;">2  0.499974 00:00:00:00:00:00 -&gt; 3c:ce:73:39:c6:60 IEEE 802.11 Probe Request, SN=0, FN=0, Flags=........</p><p class="s24" style="padding-left: 103pt;text-indent: 3pt;line-height: 93%;text-align: left;">3  2.000000 00:00:00:00:00:00 -&gt; 3c:ce:73:39:c6:60 IEEE 802.11 Probe Request, SN=0, FN=0, Flags=........</p><p class="s24" style="padding-left: 103pt;text-indent: 3pt;line-height: 93%;text-align: left;">4  2.499974 00:00:00:00:00:00 -&gt; 3c:ce:73:39:c6:60 IEEE 802.11 Probe Request, SN=0, FN=0, Flags=........</p><p class="s24" style="padding-left: 103pt;text-indent: 3pt;line-height: 93%;text-align: left;">5  3.000000 00:00:00:00:00:00 -&gt; 3c:ce:73:39:c6:60 IEEE 802.11 Probe Request, SN=0, FN=0, Flags=........</p><p class="s24" style="padding-left: 103pt;text-indent: 3pt;line-height: 93%;text-align: left;">6  4.000000 00:00:00:00:00:00 -&gt; 3c:ce:73:39:c6:60 IEEE 802.11 Probe Request, SN=0, FN=0, Flags=........</p><p class="s24" style="padding-left: 103pt;text-indent: 3pt;line-height: 93%;text-align: left;">7  4.499974 00:00:00:00:00:00 -&gt; 3c:ce:73:39:c6:60 IEEE 802.11 Probe Request, SN=0, FN=0, Flags=........</p><p class="s24" style="padding-left: 103pt;text-indent: 3pt;line-height: 93%;text-align: left;">8  5.000000 00:00:00:00:00:00 -&gt; 3c:ce:73:39:c6:60 IEEE 802.11 Probe Request, SN=0, FN=0, Flags=........</p><p class="s24" style="padding-left: 103pt;text-indent: 3pt;line-height: 93%;text-align: left;">9  5.499974 00:00:00:00:00:00 -&gt; 3c:ce:73:39:c6:60 IEEE 802.11 Probe Request, SN=0, FN=0, Flags=........</p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;line-height: 93%;text-align: left;">10  6.000000 00:00:00:00:00:00 -&gt; 3c:ce:73:39:c6:60 IEEE 802.11 Probe Request, SN=0, FN=0, Flags=........</p><table style="border-collapse:collapse;width:330pt" cellspacing="0"><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">12</p></td><td><p class="s21" style="padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">9.225986</p></td><td><p class="s21" style="padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.10.14.2 -&gt; 10.10.14.32</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">DTLSv1.0</p></td><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Application</p></td><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Data</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">13</p></td><td><p class="s21" style="padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">9.225986</p></td><td><p class="s21" style="padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.10.14.2 -&gt; 10.10.14.32</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">DTLSv1.0</p></td><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Application</p></td><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Data</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">14</p></td><td><p class="s21" style="padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">9.225986</p></td><td><p class="s21" style="padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.10.14.2 -&gt; 10.10.14.32</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">DTLSv1.0</p></td><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Application</p></td><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Data</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">15</p></td><td><p class="s21" style="padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">9.231998</p></td><td><p class="s21" style="padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.10.14.2 -&gt; 10.10.14.32</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">DTLSv1.0</p></td><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Application</p></td><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Data</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">16</p></td><td><p class="s21" style="padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">9.231998</p></td><td><p class="s21" style="padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.10.14.2 -&gt; 10.10.14.32</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">DTLSv1.0</p></td><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Application</p></td><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Data</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">17</p></td><td><p class="s21" style="padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">9.231998</p></td><td><p class="s21" style="padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.10.14.2 -&gt; 10.10.14.32</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">DTLSv1.0</p></td><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Application</p></td><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Data</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">18</p></td><td><p class="s21" style="padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">9.236987</p></td><td><p class="s21" style="padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.10.14.2 -&gt; 10.10.14.32</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">DTLSv1.0</p></td><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Application</p></td><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Data</p></td></tr></table><p class="s24" style="padding-left: 103pt;text-indent: 0pt;line-height: 93%;text-align: left;">11  8.000000 00:00:00:00:00:00 -&gt; 3c:ce:73:39:c6:60 IEEE 802.11 Probe Request, SN=0, FN=0, Flags=........</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s24" style="padding-top: 4pt;padding-left: 103pt;text-indent: 0pt;line-height: 9pt;text-align: left;">19 10.000000 00:00:00:00:00:00 -&gt; 3c:ce:73:39:c6:60 IEEE 802.11 Probe Request, SN=0, FN=0, Flags=........</p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;line-height: 9pt;text-align: left;">20 10.499974 00:00:00:00:00:00 -&gt; 3c:ce:73:39:c6:60 IEEE 802.11 Probe Request, SN=0, FN=0, Flags=........</p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;line-height: 9pt;text-align: left;">21 12.000000 00:00:00:00:00:00 -&gt; 3c:ce:73:39:c6:60 IEEE 802.11 Probe Request, SN=0, FN=0, Flags=........</p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">22 12.239993  10.10.14.2 -&gt; 10.10.14.32 DTLSv1.0 Application Data</p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;line-height: 9pt;text-align: left;">23 12.244997  10.10.14.2 -&gt; 10.10.14.32 DTLSv1.0 Application Data</p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;line-height: 9pt;text-align: left;">24 12.244997  10.10.14.2 -&gt; 10.10.14.32 DTLSv1.0 Application Data</p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;line-height: 9pt;text-align: left;">25 12.250994  10.10.14.2 -&gt; 10.10.14.32 DTLSv1.0 Application Data</p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;line-height: 9pt;text-align: left;">26 12.256990  10.10.14.2 -&gt; 10.10.14.32 DTLSv1.0 Application Data</p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;line-height: 9pt;text-align: left;">27 12.262987  10.10.14.2 -&gt; 10.10.14.32 DTLSv1.0 Application Data</p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;line-height: 9pt;text-align: left;">28 12.499974 00:00:00:00:00:00 -&gt; 3c:ce:73:39:c6:60 IEEE 802.11 Probe Request, SN=0, FN=0,</p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Flags=........</p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;line-height: 9pt;text-align: left;">29 12.802012  10.10.14.3 -&gt; 10.10.14.255 NBNS Name query NB WPAD.&lt;00&gt;</p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;line-height: 9pt;text-align: left;">30 13.000000 00:00:00:00:00:00 -&gt; 3c:ce:73:39:c6:60 IEEE 802.11 Probe Request, SN=0, FN=0,</p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Flags=........</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a450">What to Do Next</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You can add additional attachment points, modify the parameters of your capture point, then activate it, or if you want to use your capture point just as it is, you can now activate it.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 64pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="24" alt="image" src="Image_557.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_558.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">You cannot change a capture point&#39;s parameters using the methods presented in this topic.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_559.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_560.png"/></span></p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: justify;"><a name="a451">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark505" class="a">How to Configure Wireshar</a><a href="#bookmark493" class="a">k,  on page 191 Capture Point</a>s,  on page 181</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark494" class="a">Attachment Point</a>s, on page 182</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark516" class="a">Example: Simple Capture and Displa</a><a href="#bookmark517" class="a">y,  on page 210 Example: Simple Capture and Stor</a><a href="#bookmark518" class="a">e,  on page 211 Example: Using Buffer Captur</a><a href="#bookmark519" class="a">e,  on page 213 Example: Capture Session</a>s,  on page 217</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark520" class="a">Example: Capture and Store in Lock-step Mod</a>e,  on page 218</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark521" class="a" name="bookmark470">Example: Simple Capture and Store of Packets in Egress Directio</a>n, on page 219<a name="bookmark507">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a452">Adding or Modifying Capture Point Parameters</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">Although listed in sequence, the steps to specify values for the parameters can be executed in any order. You can also specify them in one, two, or several lines. Except for attachment points, which can be multiple, you can replace any value with a more recent value by redefining the same option.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">Follow these steps to modify a capture point&#39;s parameters.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 99pt;text-indent: 0pt;text-align: justify;"><a name="a453">Before You Begin</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: justify;">A capture point must be defined before you can use these instructions.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a454">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l175"><li style="padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p class="s2" style="display: inline;"><a name="a455">enable</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p style="display: inline;"><b>monitor capture </b>{<i>capture-name</i>} <b>match </b>{<b>any </b>| <b>mac </b><i>mac-match-string </i>| <b>ipv4 </b>{<b>any </b>| <b>host </b>| <b>protocol</b>}{<b>any</b></p><p style="padding-left: 114pt;text-indent: 0pt;text-align: left;">| <b>host</b>} | <b>ipv6 </b>{<b>any </b>| <b>host </b>| <b>protocol</b>}{<b>any </b>| <b>host</b>}}</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p style="display: inline;"><b>monitor capture </b>{<i>capture-name</i>} <b>limit </b>{[<b>duration </b><i>seconds</i>][<b>packet-length </b><i>size</i>][<b>packets </b><i>num</i>]}</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p style="display: inline;"><b>monitor capture </b>{<i>capture-name</i>} <b>file </b>{<b>location </b><i>filename</i>}</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p style="display: inline;"><b>monitor capture </b>{<i>capture-name</i>} <b>file </b>{<b>buffer-size </b><i>size</i>}</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p style="display: inline;"><b>show monitor capture </b>{<i>capture-name</i>}[ <b>parameter</b>]</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p class="s2" style="display: inline;"><a name="a456">end</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: justify;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_561.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_562.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 65pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 65pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>monitor capture </b>{<i>capture-name</i>} <b>match </b>{<b>any </b>| <b>mac</b></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;"><i>mac-match-string </i>| <b>ipv4 </b>{<b>any </b>| <b>host </b>| <b>protocol</b>}{<b>any </b>| <b>host</b>} |</p><p class="s19" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">ipv6 <span class="s18">{</span>any <span class="s18">| </span>host <span class="s18">| </span>protocol<span class="s18">}{</span>any <span class="s18">| </span>host<span class="s18">}}</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap match ipv4 any any</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Defines the core system filter (<b>ipv4 any any</b>), defined either explicitly, through ACL or through a class map.</p><p class="s30" style="padding-top: 4pt;padding-left: 37pt;text-indent: -35pt;text-align: left;">Note       <span class="s18">If you are defining a wireless capture point using a CAPWAP tunneling interface, this command will have no effect, so it should not be used.</span></p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>monitor capture </b>{<i>capture-name</i>} <b>limit </b>{[<b>duration</b></p><p class="s20" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">seconds<span class="s18">][</span><b>packet-length </b>size<span class="s18">][</span><b>packets </b>num<span class="s18">]}</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;padding-right: 24pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap limit duration 60 packet-len 400</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 1pt;text-indent: 0pt;text-align: left;">Specifies the session limit in seconds (60), packets captured, or the packet segment length to be retained by Wireshark (400).</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>monitor capture </b>{<i>capture-name</i>} <b>file </b>{<b>location </b><i>filename</i>}</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;padding-right: 44pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap file location flash:mycap.pcap</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 12pt;text-indent: 0pt;text-align: left;">Specifies the file association, if the capture point intends to capture packets rather than only display them.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>monitor capture </b>{<i>capture-name</i>} <b>file </b>{<b>buffer-size </b><i>size</i>}</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap file buffer-size 100</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 22pt;text-indent: 0pt;text-align: left;">Specifies the size of the memory buffer used by Wireshark to handle traffic bursts.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>show monitor capture </b>{<i>capture-name</i>}[ <b>parameter</b>]</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture mycap parameter</b></p><p class="s21" style="padding-left: 2pt;padding-right: 87pt;text-indent: 14pt;line-height: 93%;text-align: left;">monitor capture mycap interface GigabitEthernet1/0/1 in</p><p class="s21" style="padding-left: 16pt;text-indent: 0pt;line-height: 9pt;text-align: left;">monitor capture mycap match ipv4 any any</p><p class="s21" style="padding-left: 14pt;text-indent: 0pt;line-height: 9pt;text-align: left;">monitor capture mycap limit duration 60 packet-len</p><p class="s21" style="padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">400</p><p class="s21" style="padding-left: 16pt;text-indent: 0pt;line-height: 9pt;text-align: left;">monitor capture point mycap file location</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">bootdisk:mycap.pcap</p><p class="s21" style="padding-left: 16pt;text-indent: 0pt;line-height: 9pt;text-align: left;">monitor capture mycap file buffer-size 100</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Displays the capture point parameters that you defined previously.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_563.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 66pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 66pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 8</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 9</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_564.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Examples</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Modifying  Parameters</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Associating or Disassociating a Capture File</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture point mycap file location flash:mycap.pcap</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>no monitor capture mycap file</b></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><a name="a457">Specifying a Memory Buffer Size for Packet Burst Handling</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap buffer size 100</b></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><a name="a458">Defining an Explicit Core System Filter to Match Both IPv4 and IPv6</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap match any</b></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a459">What to Do Next</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">if your capture point contains all of the parameters you want, activate it.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a460">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark505" class="a">How to Configure Wireshar</a><a href="#bookmark493" class="a">k,  on page 191 Capture Point</a>s,  on page 181</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark494" class="a">Attachment Point</a>s, on page 182</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark516" class="a">Example: Simple Capture and Displa</a><a href="#bookmark517" class="a">y,  on page 210 Example: Simple Capture and Stor</a><a href="#bookmark518" class="a">e,  on page 211 Example: Using Buffer Captur</a><a href="#bookmark519" class="a">e,  on page 213 Example: Capture Session</a>s,  on page 217</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark520" class="a">Example: Capture and Store in Lock-step Mod</a>e,  on page 218</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark521" class="a">Example: Simple Capture and Store of Packets in Egress Directio</a>n, on page 219</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_565.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark471">Deleting Capture Point Parameters</a><a name="bookmark508">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Although listed in sequence, the steps to delete parameters can be executed in any order. You can also delete them in one, two, or several lines. Except for attachment points, which can be multiple, you can delete any parameter.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to delete a capture point&#39;s parameters.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a461">Before You Begin</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">A capture point parameter must be defined before you can use these instructions to delete it.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a462">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l176"><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a463">enable</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>no monitor capture </b>{<i>capture-name</i>} <b>match</b></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>no monitor capture </b>{<i>capture-name</i>} <b>limit </b>[<b>duration</b>][<b>packet-length</b>][<b>packets</b>]</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>no monitor capture </b>{<i>capture-name</i>} <b>file </b>[<b>location</b>] [<b>buffer-size</b>]</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>show monitor capture </b>{<i>capture-name</i>}[ <b>parameter</b>]</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a464">end</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_566.png"/></span></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 66pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 66pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>no monitor capture </b>{<i>capture-name</i>} <b>match</b></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>no monitor capture mycap match</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Deletes all filters defined on capture point (mycap).</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>no monitor capture </b>{<i>capture-name</i>} <b>limit</b></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">[<b>duration</b>][<b>packet-length</b>][<b>packets</b>]</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 7pt;padding-right: 2pt;text-indent: -4pt;line-height: 9pt;text-align: left;">Switch# <b>no monitor capture mycap limit duration packet-len</b></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>no monitor capture mycap limit</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Deletes the session time limit and the packet segment length to be retained by Wireshark. It leaves other specified limits in place.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Deletes all limits on Wireshark.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 14pt;text-indent: 0pt;text-align: left;"><b>no monitor capture </b>{<i>capture-name</i>} <b>file </b>[<b>location</b>] [<b>buffer-size</b>]</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Deletes the file association. The capture point will no longer capture packets. It will only display them.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_567.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 67pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 67pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>no monitor capture mycap file</b></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>no monitor capture mycap file location</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: justify;">Deletes the file location association. The file location will no longer be associated with the capture point. However, other defined fille association will be unaffected by this action.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>show monitor capture </b>{<i>capture-name</i>}[ <b>parameter</b>]</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture mycap parameter</b></p><p class="s21" style="padding-left: 2pt;padding-right: 59pt;text-indent: 14pt;line-height: 93%;text-align: left;">monitor capture mycap interface GigabitEthernet1/0/1 in</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Displays the capture point parameters that remain defined after your parameter deletion operations. This command can be run at any point in the procedure to see what parameters are associated with a capture point.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 7</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 8</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_568.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">What to Do Next</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">If your capture point contains all of the parameters you want, activate it.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a465">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark505" class="a">How to Configure Wireshar</a><a href="#bookmark493" class="a">k,  on page 191 Capture Point</a>s,  on page 181</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark494" class="a">Attachment Point</a>s, on page 182</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark516" class="a">Example: Simple Capture and Displa</a><a href="#bookmark517" class="a">y,  on page 210 Example: Simple Capture and Stor</a><a href="#bookmark518" class="a">e,  on page 211 Example: Using Buffer Captur</a><a href="#bookmark519" class="a">e,  on page 213 Example: Capture Session</a>s,  on page 217</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark520" class="a">Example: Capture and Store in Lock-step Mod</a>e,  on page 218</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark521" class="a">Example: Simple Capture and Store of Packets in Egress Directio</a>n, on page 219</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_569.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark472">Deleting a Capture Point</a><a name="bookmark509">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to delete a capture point.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a466">Before You Begin</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">A capture point must be defined before you can use these instructions to delete it.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a467">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><ol id="l177"><li style="padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a468">enable</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>no monitor capture </b>{<i>capture-name</i>}</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>show monitor capture </b>{<i>capture-name</i>}[ <b>parameter</b>]</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a469">end</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_570.png"/></span></p><p class="s26" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 81pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 81pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>no monitor capture </b>{<i>capture-name</i>}</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>no monitor capture mycap</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Deletes the specified capture point (mycap).</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>show monitor capture </b>{<i>capture-name</i>}[ <b>parameter</b>]</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture mycap parameter</b></p><p class="s21" style="padding-left: 16pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Capture mycap does not exist</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 20pt;text-indent: 0pt;text-align: justify;">Displays a message indicating that the specified capture point does not exist because it has been deleted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr></table><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_571.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 81pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 81pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.809pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_572.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">What to Do Next</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You can define a new capture point with the same name as the one you deleted. These instructions are usually performed when one wants to start over with defining a capture point.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a470">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark505" class="a">How to Configure Wireshar</a><a href="#bookmark493" class="a">k,  on page 191 Capture Point</a>s,  on page 181</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark494" class="a">Attachment Point</a>s, on page 182</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark516" class="a">Example: Simple Capture and Displa</a><a href="#bookmark517" class="a">y,  on page 210 Example: Simple Capture and Stor</a><a href="#bookmark518" class="a">e,  on page 211 Example: Using Buffer Captur</a><a href="#bookmark519" class="a">e,  on page 213 Example: Capture Session</a>s,  on page 217</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark520" class="a" name="bookmark473">Example: Capture and Store in Lock-step Mod</a>e,  on page 218<a name="bookmark510">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark521" class="a">Example: Simple Capture and Store of Packets in Egress Directio</a>n, on page 219</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a471">Activating and Deactivating a Capture Point</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to activate or deactivate a capture point.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s26" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a472">Before You Begin</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">A capture point cannot be activated unless an attachment point and a core system filter have been defined and the associated filename (if any) does not already exist. A capture point with no associated filename can only be activated to display. If no capture or display filters are specified, all of the packets captured by the core system filter are displayed. The default display mode is brief.</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 65pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="24" alt="image" src="Image_573.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_574.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">When using a CAPWAP tunneling interface as an attachment point, core filters are not used, so there is no requirement to define them in this case.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="padding-left: 100pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_575.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_576.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a473">SUMMARY STEPS</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ol id="l178"><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a474">enable</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>monitor capture </b>{<i>capture-name</i>} <b>start</b>[<b>display </b>[<b>display-filter </b><i>filter-string</i>]][<b>brief </b>| <b>detailed </b>| <b>dump</b>]</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>monitor capture </b>{<i>capture-name</i>} <b>stop</b></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a475">end</a></p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 113pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_577.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 80pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 80pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 27pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>monitor capture </b>{<i>capture-name</i>} <b>start</b>[<b>display </b>[<b>display-filter</b></p><p class="s18" style="padding-left: 2pt;text-indent: 0pt;text-align: left;"><i>filter-string</i>]][<b>brief </b>| <b>detailed </b>| <b>dump</b>]</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;padding-right: 39pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap start display display-filter &quot;stp&quot;</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Activates a capture point and filters the display, so only packets containing &quot;stp&quot; are displayed.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>monitor capture </b>{<i>capture-name</i>} <b>stop</b></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture name stop</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Deactivates a capture point.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 6</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_578.png"/></span></p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Related Topics</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark505" class="a">How to Configure Wireshar</a><a href="#bookmark493" class="a">k,  on page 191 Capture Point</a>s,  on page 181</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark494" class="a">Attachment Point</a>s, on page 182</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark516" class="a">Example: Simple Capture and Displa</a><a href="#bookmark517" class="a">y,  on page 210 Example: Simple Capture and Stor</a><a href="#bookmark518" class="a">e,  on page 211 Example: Using Buffer Captur</a><a href="#bookmark519" class="a">e,  on page 213 Example: Capture Session</a>s,  on page 217</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark520" class="a">Example: Capture and Store in Lock-step Mod</a>e,  on page 218</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark521" class="a" name="bookmark474">Example: Simple Capture and Store of Packets in Egress Directio</a>n, on page 219<a name="bookmark511">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a476">Clearing the Capture Point Buffer</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Follow these steps to clear the buffer contents or save them to an external file for storage.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 65pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_579.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s26" style="text-indent: 0pt;text-align: right;"><a name="a477">SUMMARY STEPS</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_580.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="557" height="1" alt="image" src="Image_581.png"/></span></p><p style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">If you have more than one capture that is storing packets in a buffer, clear the buffer before starting a new capture to avoid memory loss.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><ol id="l179"><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a478">enable</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p style="display: inline;"><b>monitor capture </b>{<i>capture-name</i>} [<b>clear </b>| <b>export </b><i>filename</i>]</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;"><a name="a479">end</a></p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">show running-config</p></li><li style="padding-top: 3pt;padding-left: 114pt;text-indent: -14pt;text-align: left;"><p class="s2" style="display: inline;">copy running-config startup-config</p></li></ol><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_582.png"/></span></p><p class="s26" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">DETAILED STEPS</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 85pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 85pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.667pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 1</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">enable</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch&gt; <b>enable</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Enables privileged EXEC mode. Enter your password if prompted.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 2</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><b>monitor capture </b>{<i>capture-name</i>} [<b>clear </b>| <b>export </b><i>filename</i>]</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap clear</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 5pt;text-indent: 0pt;text-align: left;">Clears capture buffer contents or stores the packets to a file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_583.png"/></span></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 84pt;text-indent: 0pt;text-align: left;">Command or Action</p><p class="s2" style="padding-top: 3pt;padding-left: 84pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:525pt;margin-left:5.067pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 3</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">end</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch(config)# <b>end</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Returns to privileged EXEC mode.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 4</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">show running-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>show running-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Verifies your entries.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">Step 5</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">copy running-config startup-config</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s27" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Example:</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Switch# <b>copy running-config startup-config</b></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 2pt;padding-right: 10pt;text-indent: 0pt;text-align: left;">(Optional) Saves your entries in the configuration file.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="27" alt="image" src="Image_584.png"/></span></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Examples: Capture Point Buffer Handling</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Exporting Capture to a File</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap export flash:mycap.pcap</b></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Storage configured as File for this capture</p><p class="s2" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a480">Clearing Capture Point Buffer</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap clear</b></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">Capture configured with file options</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a481">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark505" class="a">How to Configure Wireshar</a><a href="#bookmark493" class="a">k,  on page 191 Capture Point</a>s,  on page 181</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark494" class="a">Attachment Point</a>s, on page 182</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark516" class="a">Example: Simple Capture and Displa</a><a href="#bookmark517" class="a">y,  on page 210 Example: Simple Capture and Stor</a><a href="#bookmark518" class="a">e,  on page 211 Example: Using Buffer Captur</a><a href="#bookmark519" class="a">e,  on page 213 Example: Capture Session</a>s,  on page 217</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark520" class="a">Example: Capture and Store in Lock-step Mod</a>e,  on page 218</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark521" class="a">Example: Simple Capture and Store of Packets in Egress Directio</a>n, on page 219</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_585.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h3 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark475">Monitoring Wireshark</a><a name="bookmark512">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="28" alt="image" src="Image_586.png"/></span></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">The commands in this table are used to monitor Wireshark.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;text-indent: 0pt;text-align: right;"><a name="a482">Command</a></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;">Purpose</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:432pt;margin-left:99.409pt" cellspacing="0"><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;"><b>show monitor capture </b>[<i>capture-name </i>]</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 3pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: justify;">Displays the capture point state so that you can see what capture points are defined, what their attributes are, and whether they are active. When capture point name is specified, it displays specific capture point&#39;s details.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show monitor capture <span class="s18">[</span><i>capture-name</i></p><p class="s19" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">parameter<span class="s18">]</span></p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">Displays the capture point parameters.</p></td></tr><tr><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s19" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">show capwap summary</p></td><td style="border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s18" style="padding-top: 2pt;padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Displays all the CAPWAP tunnels on the switch. Use this command to determine which CAPWAP tunnels are available to use for a wireless capture.</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h3 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark476">Configuration Examples for Wireshark</a><a name="bookmark477">&zwnj;</a><a name="bookmark513">&zwnj;</a><a name="bookmark514">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;">Example: Displaying a Brief Output from a .pcap File</h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You can display the output from a .pcap file by entering:</p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture file flash:mycap.pcap</b></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">1  0.000000  10.1.1.140 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">2  1.000000  10.1.1.141 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">3  2.000000  10.1.1.142 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">4  3.000000  10.1.1.143 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">5  4.000000  10.1.1.144 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">6  5.000000  10.1.1.145 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">7  6.000000  10.1.1.146 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">8  7.000000  10.1.1.147 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">9  8.000000  10.1.1.148 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 104pt;text-indent: 0pt;text-align: left;">10  9.000000  10.1.1.149 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 104pt;text-indent: 0pt;text-align: left;">11 10.000000  10.1.1.150 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 104pt;text-indent: 0pt;text-align: left;">12 11.000000  10.1.1.151 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 104pt;text-indent: 0pt;text-align: left;">13 12.000000  10.1.1.152 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 104pt;text-indent: 0pt;text-align: left;">14 13.000000  10.1.1.153 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 104pt;text-indent: 0pt;text-align: left;">15 14.000000  10.1.1.154 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_587.png"/></span></p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s24" style="padding-top: 4pt;padding-left: 103pt;text-indent: 0pt;text-align: left;">16 15.000000  10.1.1.155 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">17 16.000000  10.1.1.156 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">18 17.000000  10.1.1.157 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">19 18.000000  10.1.1.158 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">20 19.000000  10.1.1.159 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">21 20.000000  10.1.1.160 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">22 21.000000  10.1.1.161 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">23 22.000000  10.1.1.162 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">24 23.000000  10.1.1.163 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">25 24.000000  10.1.1.164 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">26 25.000000  10.1.1.165 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">27 26.000000  10.1.1.166 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">28 27.000000  10.1.1.167 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">29 28.000000  10.1.1.168 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">30 29.000000  10.1.1.169 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">31 30.000000  10.1.1.170 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">32 31.000000  10.1.1.171 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">33 32.000000  10.1.1.172 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">34 33.000000  10.1.1.173 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">35 34.000000  10.1.1.174 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">36 35.000000  10.1.1.175 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">37 36.000000  10.1.1.176 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">38 37.000000  10.1.1.177 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">39 38.000000  10.1.1.178 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">40 39.000000  10.1.1.179 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">41 40.000000  10.1.1.180 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">42 41.000000  10.1.1.181 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">43 42.000000  10.1.1.182 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">44 43.000000  10.1.1.183 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">45 44.000000  10.1.1.184 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">46 45.000000  10.1.1.185 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">47 46.000000  10.1.1.186 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">48 47.000000  10.1.1.187 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">49 48.000000  10.1.1.188 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">50 49.000000  10.1.1.189 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;text-align: left;">51 50.000000  10.1.1.190 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_588.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:431pt;margin-left:102.16pt" cellspacing="0"><tr><td><p class="s21" style="padding-top: 4pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">52</p></td><td><p class="s21" style="padding-top: 4pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">51.000000</p></td><td><p class="s21" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">10.1.1.191 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-top: 4pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-top: 4pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">53</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">52.000000</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">10.1.1.192 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">54</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">53.000000</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">10.1.1.193 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">55</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">54.000000</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">10.1.1.194 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">56</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">55.000000</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">10.1.1.195 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">57</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">56.000000</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">10.1.1.196 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">58</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">57.000000</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">10.1.1.197 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><a name="bookmark478">59</a><a name="bookmark515">&zwnj;</a></p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">58.000000</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">10.1.1.198 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-top: 3pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">Destination port: 20002</p></td></tr></table><p style="text-indent: 0pt;line-height: 13pt;text-align: left;"><br/></p><h4 style="padding-top: 2pt;text-indent: 0pt;text-align: center;">Example: Displaying Detailed Output from a .pcap File</h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">You can display the detailed .pcap file output by entering:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture file flash:mycap.pcap detailed</b></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Frame 1: 256 bytes on wire (2048 bits), 256 bytes captured (2048 bits)</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Arrival Time: Mar 21, 2012 14:35:09.111993000 PDT</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Epoch Time: 1332365709.111993000 seconds</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">[Time delta from previous captured frame: 0.000000000 seconds]</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">[Time delta from previous displayed frame: 0.000000000 seconds]</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">[Time since reference or first frame: 0.000000000 seconds]</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Frame Number: 1</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Frame Length: 256 bytes (2048 bits)</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Capture Length: 256 bytes (2048 bits)</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">[Frame is marked: False]</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">[Frame is ignored: False]</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">[Protocols in frame: eth:ip:udp:data]</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Ethernet II, Src: 00:00:00:00:03:01 (00:00:00:00:03:01), Dst: 54:75:d0:3a:85:3f</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">(54:75:d0:3a:85:3f)</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Destination: 54:75:d0:3a:85:3f (54:75:d0:3a:85:3f)</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Address: 54:75:d0:3a:85:3f (54:75:d0:3a:85:3f)</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">.... ...0 .... .... .... .... = IG bit: Individual address (unicast)</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">.... ..0. .... .... .... .... = LG bit: Globally unique address (factory default)</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Source: 00:00:00:00:03:01 (00:00:00:00:03:01)</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Address: 00:00:00:00:03:01 (00:00:00:00:03:01)</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">.... ...0 .... .... .... .... = IG bit: Individual address (unicast)</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">.... ..0. .... .... .... .... = LG bit: Globally unique address (factory default)</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Type: IP (0x0800)</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Frame check sequence: 0x03b07f42 [incorrect, should be 0x08fcee78]</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Internet Protocol, Src: 10.1.1.140 (10.1.1.140), Dst: 20.1.1.2 (20.1.1.2)</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Version: 4</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Header length: 20 bytes</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Differentiated Services Field: 0x00 (DSCP 0x00: Default; ECN: 0x00)</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0000 00.. = Differentiated Services Codepoint: Default (0x00)</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">.... ..0. = ECN-Capable Transport (ECT): 0</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">.... ...0 = ECN-CE: 0</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Total Length: 238</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Identification: 0x0000 (0)</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Flags: 0x00</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0... .... = Reserved bit: Not set</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">.0.. .... = Don&#39;t fragment: Not set</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">..0. .... = More fragments: Not set</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Fragment offset: 0</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Time to live: 64</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Protocol: UDP (17)</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Header checksum: 0x5970 [correct]</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">[Good: True]</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">[Bad: False]</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Source: 10.1.1.140 (10.1.1.140)</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Destination: 20.1.1.2 (20.1.1.2)</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">User Datagram Protocol, Src Port: 20001 (20001), Dst Port: 20002 (20002)</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Source port: 20001 (20001)</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Destination port: 20002 (20002)</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_589.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-top: 4pt;padding-left: 118pt;text-indent: 0pt;text-align: left;">Length: 218</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Checksum: 0x6e2b [validation disabled]</p><p class="s24" style="padding-left: 137pt;text-indent: 0pt;line-height: 9pt;text-align: left;">[Good Checksum: False]</p><p class="s24" style="padding-left: 137pt;text-indent: 0pt;line-height: 9pt;text-align: left;">[Bad Checksum: False]</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Data (210 bytes)</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">0000 00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0010 10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0020 20 21 22 23 24 25 26 27 28 29 2a 2b 2c 2d 2e 2f   !&quot;#$%&amp;&#39;()*+,-./</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0030 30 31 32 33 34 35 36 37 38 39 3a 3b 3c 3d 3e 3f  0123456789:;&lt;=&gt;?</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0040 40 41 42 43 44 45 46 47 48 49 4a 4b 4c 4d 4e 4f  @ABCDEFGHIJKLMNO</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0050 50 51 52 53 54 55 56 57 58 59 5a 5b 5c 5d 5e 5f  PQRSTUVWXYZ[\]^_</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0060 60 61 62 63 64 65 66 67 68 69 6a 6b 6c 6d 6e 6f  `abcdefghijklmno</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0070 70 71 72 73 74 75 76 77 78 79 7a 7b 7c 7d 7e 7f  pqrstuvwxyz{|}~.</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0080 80 81 82 83 84 85 86 87 88 89 8a 8b 8c 8d 8e 8f  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0090 90 91 92 93 94 95 96 97 98 99 9a 9b 9c 9d 9e 9f  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00a0 a0 a1 a2 a3 a4 a5 a6 a7 a8 a9 aa ab ac ad ae af  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00b0 b0 b1 b2 b3 b4 b5 b6 b7 b8 b9 ba bb bc bd be bf  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00c0 c0 c1 c2 c3 c4 c5 c6 c7 c8 c9 ca cb cc cd ce cf  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00d0 d0 d1                                            ..</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Data: 000102030405060708090a0b0c0d0e0f1011121314151617...</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">[Length: 210]</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Frame 2: 256 bytes on wire (2048 bits), 256 bytes captured (2048 bits)</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Arrival Time: Mar 21, 2012 14:35:10.111993000 PDT</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Example: Displaying a Hexadecimal Dump Output from a .pcap File</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">You can display the hexadecimal dump output by entering:</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# show monitor capture file bootflash:mycap.pcap dump</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">1  0.000000  10.1.1.140 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">0000 54 75 d0 3a 85 3f 00 00 00 00 03 01 08 00 45 00  Tu.:.?........E.</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0010 00 ee 00 00 00 00 40 11 59 70 0a 01 01 8c 14 01  ......@.Yp......</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0020 01 02 4e 21 4e 22 00 da 6e 2b 00 01 02 03 04 05  ..N!N&quot;..n+......</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0030 06 07 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0040 16 17 18 19 1a 1b 1c 1d 1e 1f 20 21 22 23 24 25  .......... !&quot;#$%</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0050 26 27 28 29 2a 2b 2c 2d 2e 2f 30 31 32 33 34 35  &amp;&#39;()*+,-./012345</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0060 36 37 38 39 3a 3b 3c 3d 3e 3f 40 41 42 43 44 45  6789:;&lt;=&gt;?@ABCDE</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0070 46 47 48 49 4a 4b 4c 4d 4e 4f 50 51 52 53 54 55  FGHIJKLMNOPQRSTU</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0080 56 57 58 59 5a 5b 5c 5d 5e 5f 60 61 62 63 64 65  VWXYZ[\]^_`abcde</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0090 66 67 68 69 6a 6b 6c 6d 6e 6f 70 71 72 73 74 75  fghijklmnopqrstu</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00a0 76 77 78 79 7a 7b 7c 7d 7e 7f 80 81 82 83 84 85  vwxyz{|}~.......</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00b0 86 87 88 89 8a 8b 8c 8d 8e 8f 90 91 92 93 94 95  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00c0 96 97 98 99 9a 9b 9c 9d 9e 9f a0 a1 a2 a3 a4 a5  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00d0 a6 a7 a8 a9 aa ab ac ad ae af b0 b1 b2 b3 b4 b5  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00e0 b6 b7 b8 b9 ba bb bc bd be bf c0 c1 c2 c3 c4 c5  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00f0 c6 c7 c8 c9 ca cb cc cd ce cf d0 d1 03 b0 7f 42  ...............B</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">2  1.000000  10.1.1.141 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">0000 54 75 d0 3a 85 3f 00 00 00 00 03 01 08 00 45 00  Tu.:.?........E.</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0010 00 ee 00 00 00 00 40 11 59 6f 0a 01 01 8d 14 01  ......@.Yo......</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0020 01 02 4e 21 4e 22 00 da 6e 2a 00 01 02 03 04 05  ..N!N&quot;..n*......</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0030 06 07 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0040 16 17 18 19 1a 1b 1c 1d 1e 1f 20 21 22 23 24 25  .......... !&quot;#$%</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0050 26 27 28 29 2a 2b 2c 2d 2e 2f 30 31 32 33 34 35  &amp;&#39;()*+,-./012345</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0060 36 37 38 39 3a 3b 3c 3d 3e 3f 40 41 42 43 44 45  6789:;&lt;=&gt;?@ABCDE</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0070 46 47 48 49 4a 4b 4c 4d 4e 4f 50 51 52 53 54 55  FGHIJKLMNOPQRSTU</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0080 56 57 58 59 5a 5b 5c 5d 5e 5f 60 61 62 63 64 65  VWXYZ[\]^_`abcde</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0090 66 67 68 69 6a 6b 6c 6d 6e 6f 70 71 72 73 74 75  fghijklmnopqrstu</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00a0 76 77 78 79 7a 7b 7c 7d 7e 7f 80 81 82 83 84 85  vwxyz{|}~.......</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00b0 86 87 88 89 8a 8b 8c 8d 8e 8f 90 91 92 93 94 95  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00c0 96 97 98 99 9a 9b 9c 9d 9e 9f a0 a1 a2 a3 a4 a5  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00d0 a6 a7 a8 a9 aa ab ac ad ae af b0 b1 b2 b3 b4 b5  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00e0 b6 b7 b8 b9 ba bb bc bd be bf c0 c1 c2 c3 c4 c5  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00f0 c6 c7 c8 c9 ca cb cc cd ce cf d0 d1 95 2c c3 3f  .............,.?</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">3  2.000000  10.1.1.142 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">0000 54 75 d0 3a 85 3f 00 00 00 00 03 01 08 00 45 00  Tu.:.?........E.</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0010 00 ee 00 00 00 00 40 11 59 6e 0a 01 01 8e 14 01  ......@.Yn......</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0020 01 02 4e 21 4e 22 00 da 6e 29 00 01 02 03 04 05  ..N!N&quot;..n)......</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0030 06 07 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0040 16 17 18 19 1a 1b 1c 1d 1e 1f 20 21 22 23 24 25  .......... !&quot;#$%</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_590.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">0050 26 27 28 29 2a 2b 2c 2d 2e 2f 30 31 32 33 34 35  &amp;&#39;()*+,-./012345</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0060 36 37 38 39 3a 3b 3c 3d 3e 3f 40 41 42 43 44 45  6789:;&lt;=&gt;?@ABCDE</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0070 46 47 48 49 4a 4b 4c 4d 4e 4f 50 51 52 53 54 55  FGHIJKLMNOPQRSTU</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0080 56 57 58 59 5a 5b 5c 5d 5e 5f 60 61 62 63 64 65  VWXYZ[\]^_`abcde</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0090 66 67 68 69 6a 6b 6c 6d 6e 6f 70 71 72 73 74 75  fghijklmnopqrstu</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00a0 76 77 78 79 7a 7b 7c 7d 7e 7f 80 81 82 83 84 85  vwxyz{|}~.......</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00b0 86 87 88 89 8a 8b 8c 8d 8e 8f 90 91 92 93 94 95  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00c0 96 97 98 99 9a 9b 9c 9d 9e 9f a0 a1 a2 a3 a4 a5  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00d0 a6 a7 a8 a9 aa ab ac ad ae af b0 b1 b2 b3 b4 b5  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00e0 b6 b7 b8 b9 ba bb bc bd be bf c0 c1 c2 c3 c4 c5  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00f0 c6 c7 c8 c9 ca cb cc cd ce cf d0 d1 6c f8 dc 14  ............l...</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">4  3.000000  10.1.1.143 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">0000 54 75 d0 3a 85 3f 00 00 00 00 03 01 08 00 45 00  Tu.:.?........E.</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0010 00 ee 00 00 00 00 40 11 59 6d 0a 01 01 8f 14 01  ......@.Ym......</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0020 01 02 4e 21 4e 22 00 da 6e 28 00 01 02 03 04 05  ..N!N&quot;..n(......</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0030 06 07 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0040 16 17 18 19 1a 1b 1c 1d 1e 1f 20 21 22 23 24 25  .......... !&quot;#$%</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0050 26 27 28 29 2a 2b 2c 2d 2e 2f 30 31 32 33 34 35  &amp;&#39;()*+,-./012345</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Example: Displaying Packets from a .pcap File with a Display Filter</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">You can display the .pcap file packets output by entering:</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# show monitor capture file bootflash:mycap.pcap display-filter &quot;ip.src == 10.1.1.140&quot;</p><p class="s24" style="padding-left: 104pt;text-indent: 0pt;line-height: 9pt;text-align: left;">dump</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">1  0.000000  10.1.1.140 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">0000 54 75 d0 3a 85 3f 00 00 00 00 03 01 08 00 45 00  Tu.:.?........E.</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0010 00 ee 00 00 00 00 40 11 59 70 0a 01 01 8c 14 01  ......@.Yp......</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0020 01 02 4e 21 4e 22 00 da 6e 2b 00 01 02 03 04 05  ..N!N&quot;..n+......</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0030 06 07 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0040 16 17 18 19 1a 1b 1c 1d 1e 1f 20 21 22 23 24 25  .......... !&quot;#$%</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0050 26 27 28 29 2a 2b 2c 2d 2e 2f 30 31 32 33 34 35  &amp;&#39;()*+,-./012345</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0060 36 37 38 39 3a 3b 3c 3d 3e 3f 40 41 42 43 44 45  6789:;&lt;=&gt;?@ABCDE</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0070 46 47 48 49 4a 4b 4c 4d 4e 4f 50 51 52 53 54 55  FGHIJKLMNOPQRSTU</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0080 56 57 58 59 5a 5b 5c 5d 5e 5f 60 61 62 63 64 65  VWXYZ[\]^_`abcde</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0090 66 67 68 69 6a 6b 6c 6d 6e 6f 70 71 72 73 74 75  fghijklmnopqrstu</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00a0 76 77 78 79 7a 7b 7c 7d 7e 7f 80 81 82 83 84 85  vwxyz{|}~.......</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00b0 86 87 88 89 8a 8b 8c 8d 8e 8f 90 91 92 93 94 95  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00c0 96 97 98 99 9a 9b 9c 9d 9e 9f a0 a1 a2 a3 a4 a5  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><a name="bookmark479">00d0 a6 a7 a8 a9 aa ab ac ad ae af b0 b1 b2 b3 b4 b5  ................</a><a name="bookmark516">&zwnj;</a></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00e0 b6 b7 b8 b9 ba bb bc bd be bf c0 c1 c2 c3 c4 c5  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00f0 c6 c7 c8 c9 ca cb cc cd ce cf d0 d1 03 b0 7f 42  ...............B</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a483">Example: Simple Capture and Display</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to monitor traffic in the Layer 3 interface Gigabit Ethernet 1/0/1:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 1<span class="p">: Define a capture point to match on the relevant traffic by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap interface GigabitEthernet1/0/1 in</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap match ipv4 any any</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap limit duration 60 packets 100</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap buffer size 100</b></p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">To avoid high CPU utilization, a low packet count and duration as limits has been set.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 2<span class="p">: Confirm that the capture point has been correctly defined by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture mycap parameter</b></p><p class="s24" style="padding-left: 114pt;text-indent: 0pt;line-height: 93%;text-align: left;">monitor capture mycap interface GigabitEthernet1/0/1 in monitor capture mycap match ipv4 any any</p><p class="s24" style="padding-left: 114pt;text-indent: 0pt;line-height: 9pt;text-align: left;">monitor capture mycap buffer size 100</p><p class="s24" style="padding-left: 114pt;text-indent: 0pt;line-height: 9pt;text-align: left;">monitor capture mycap limit packets 100 duration 60</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture mycap</b></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 109pt;text-indent: -9pt;line-height: 9pt;text-align: left;">Status Information for Capture mycap Target Type:</p><p class="s24" style="padding-left: 114pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Interface: GigabitEthernet1/0/1, Direction: in Status : Inactive</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_591.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-top: 4pt;padding-left: 113pt;text-indent: -4pt;line-height: 9pt;text-align: left;">Filter Details: IPv4</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Source IP: any Destination IP: any</p><p class="s24" style="padding-left: 108pt;text-indent: 4pt;line-height: 9pt;text-align: left;">Protocol: any Buffer Details:</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Buffer Type: LINEAR (default) Buffer Size (in MB): 100</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">File Details:</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">File not associated</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Limit Details:</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Number of Packets to capture: 100</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packet Capture duration: 60</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packet Size to capture: 0 (no limit)</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packets per second: 0 (no limit)</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packet sampling rate: 0 (no sampling)</p><p class="s2" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 3<span class="p">: Start the capture process and display the results.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap start display</b></p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0.000000   10.1.1.30 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">1.000000   10.1.1.31 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">2.000000   10.1.1.32 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">3.000000   10.1.1.33 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">4.000000   10.1.1.34 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">5.000000   10.1.1.35 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">6.000000   10.1.1.36 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">7.000000   10.1.1.37 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">8.000000   10.1.1.38 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">9.000000   10.1.1.39 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s2" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 4<span class="p">: Delete the capture point by entering:</span></p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>no monitor capture mycap</b></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a484">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark506" class="a">Defining a Capture Poin</a>t, on page 191</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark507" class="a">Adding or Modifying Capture Point Parameter</a><a href="#bookmark508" class="a">s, on page 196 Deleting Capture Point Parameter</a>s,  on page 199</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark509" class="a">Deleting a Capture Poin</a>t, on page 201</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark510" class="a">Activating and Deactivating a Capture Poin</a><a href="#bookmark511" class="a">t, on page 202 Clearing the Capture Point Buffe</a>r,  on page 204</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark505" class="a" name="bookmark480">How to Configure Wireshar</a><a href="#bookmark493" class="a">k,  on page 191 Capture Point</a>s,  on page 181<a name="bookmark517">&zwnj;</a></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark494" class="a">Attachment Point</a>s, on page 182</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="text-indent: 0pt;text-align: center;"><a name="a485">Example: Simple Capture and Store</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to capture packets to a filter:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 1<span class="p">: Define a capture point to match on the relevant traffic and associate it to a file by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap interface GigabitEthernet1/0/1 in</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap match ipv4 any any</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap limit duration 60 packets 100</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap file location flash:mycap.pcap</b></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_592.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 2<span class="p">: Confirm that the capture point has been correctly defined by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture mycap parameter</b></p><p class="s24" style="padding-left: 114pt;text-indent: 0pt;line-height: 93%;text-align: left;">monitor capture mycap interface GigabitEthernet1/0/1 in monitor capture mycap match ipv4 any any</p><p class="s24" style="padding-left: 114pt;text-indent: 0pt;line-height: 93%;text-align: left;">monitor capture mycap file location flash:mycap.pcap monitor capture mycap limit packets 100 duration 60</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture mycap</b></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 109pt;text-indent: -9pt;line-height: 9pt;text-align: left;">Status Information for Capture mycap Target Type:</p><p class="s24" style="padding-left: 114pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Interface: GigabitEthernet1/0/1, Direction: in Status : Inactive</p><p class="s24" style="padding-left: 114pt;text-indent: -4pt;line-height: 9pt;text-align: left;">Filter Details: IPv4</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Source IP: any Destination IP: any</p><p class="s24" style="padding-left: 109pt;text-indent: 4pt;line-height: 9pt;text-align: left;">Protocol: any Buffer Details:</p><p class="s24" style="padding-left: 109pt;text-indent: 4pt;line-height: 9pt;text-align: left;">Buffer Type: LINEAR (default) File Details:</p><p class="s24" style="padding-left: 109pt;text-indent: 4pt;line-height: 9pt;text-align: left;">Associated file name: flash:mycap.pcap Limit Details:</p><p class="s24" style="padding-left: 114pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Number of Packets to capture: 100 Packet Capture duration: 60</p><p class="s24" style="padding-left: 114pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packet Size to capture: 0 (no limit) Packets per second: 0 (no limit) Packet sampling rate: 0 (no sampling)</p><p class="s2" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 3<span class="p">: Launch packet capture by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap start</b></p><p class="s2" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 4<span class="p">: After sufficient time has passed, stop the capture by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap stop</b></p><p style="padding-top: 1pt;padding-left: 65pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="24" alt="image" src="Image_593.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_594.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">Alternatively, you could allow the capture operation stop automatically after the time has elapsed or the packet count has been met.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;">The mycap.pcap file now contains the captured packets.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_595.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Step 5<span class="p">: Display the packets by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture file flash:mycap.pcap</b></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;text-align: left;">0.000000   10.1.1.30 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;line-height: 9pt;text-align: left;">1.000000   10.1.1.31 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;line-height: 9pt;text-align: left;">2.000000   10.1.1.32 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;line-height: 9pt;text-align: left;">3.000000   10.1.1.33 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;line-height: 9pt;text-align: left;">4.000000   10.1.1.34 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;line-height: 9pt;text-align: left;">5.000000   10.1.1.35 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;line-height: 9pt;text-align: left;">6.000000   10.1.1.36 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;line-height: 9pt;text-align: left;">7.000000   10.1.1.37 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;line-height: 9pt;text-align: left;">8.000000   10.1.1.38 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;line-height: 9pt;text-align: left;">9.000000   10.1.1.39 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s2" style="padding-top: 4pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">Step 6<span class="p">: Delete the capture point by entering:</span></p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Switch# <b>no monitor capture mycap</b></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 11pt;text-indent: 0pt;text-align: left;"><a name="a486">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 27pt;text-indent: 0pt;text-align: left;"><a href="#bookmark506" class="a">Defining a Capture Poin</a>t, on page 191</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 27pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark507" class="a">Adding or Modifying Capture Point Parameter</a><a href="#bookmark508" class="a">s, on page 196 Deleting Capture Point Parameter</a>s,  on page 199</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_596.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-top: 3pt;padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark509" class="a">Deleting a Capture Poin</a>t, on page 201</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark510" class="a">Activating and Deactivating a Capture Poin</a><a href="#bookmark511" class="a">t, on page 202 Clearing the Capture Point Buffe</a>r,  on page 204</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark505" class="a">How to Configure Wireshar</a><a href="#bookmark493" class="a">k,  on page 191 Capture Point</a>s,  on page 181</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark494" class="a">Attachment Point</a>s, on page 182</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark481">Example: Using Buffer Capture</a><a name="bookmark518">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to use buffer capture:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 1<span class="p">: Launch a capture session with the buffer capture option by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap interface GigabitEthernet1/0/1 in</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap match ipv4 any any</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap buffer circular size 1</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap start</b></p><p class="s2" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 2<span class="p">: Determine whether the capture is active by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture mycap</b></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 108pt;text-indent: -9pt;line-height: 9pt;text-align: left;">Status Information for Capture mycap Target Type:</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Interface: GigabitEthernet1/0/1, Direction: in Status : Active</p><p class="s24" style="padding-left: 113pt;text-indent: -4pt;line-height: 9pt;text-align: left;">Filter Details: IPv4</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Source IP: any Destination IP: any</p><p class="s24" style="padding-left: 108pt;text-indent: 4pt;line-height: 9pt;text-align: left;">Protocol: any Buffer Details:</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Buffer Type: CIRCULAR Buffer Size (in MB): 1</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">File Details:</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">File not associated</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Limit Details:</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Number of Packets to capture: 0 (no limit)</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packet Capture duration: 0 (no limit)</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packet Size to capture: 0 (no limit)</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packets per second: 0 (no limit)</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packet sampling rate: 0 (no sampling)</p><p class="s2" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 3<span class="p">: Display the packets in the buffer by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture mycap buffer brief</b></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">0.000000  10.1.1.215 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">1.000000  10.1.1.216 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">2.000000  10.1.1.217 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">3.000000  10.1.1.218 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">4.000000  10.1.1.219 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">5.000000  10.1.1.220 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">6.000000  10.1.1.221 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">7.000000  10.1.1.222 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">8.000000  10.1.1.223 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">9.000000  10.1.1.224 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.000000  10.1.1.225 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;line-height: 9pt;text-align: left;">11.000000  10.1.1.226 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;line-height: 9pt;text-align: left;">12.000000  10.1.1.227 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;line-height: 9pt;text-align: left;">13.000000  10.1.1.228 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;line-height: 9pt;text-align: left;">14.000000  10.1.1.229 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;line-height: 9pt;text-align: left;">15.000000  10.1.1.230 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;line-height: 9pt;text-align: left;">16.000000  10.1.1.231 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 103pt;text-indent: 0pt;line-height: 9pt;text-align: left;">17.000000  10.1.1.232 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_597.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:416pt;margin-left:102.4pt" cellspacing="0"><tr><td><p class="s21" style="padding-top: 4pt;padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">18.000000</p></td><td><p class="s21" style="padding-top: 4pt;padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.1.1.233 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-top: 4pt;padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-top: 4pt;padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">19.000000</p></td><td><p class="s21" style="padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.1.1.234 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">20.000000</p></td><td><p class="s21" style="padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.1.1.235 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">21.000000</p></td><td><p class="s21" style="padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.1.1.236 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Destination port: 20002</p></td></tr></table><p style="padding-left: 99pt;text-indent: 0pt;line-height: 11pt;text-align: left;">Notice that the packets have been buffered.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 4<span class="p">: Display the packets in other display modes.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture mycap buffer detailed</b></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Frame 1: 256 bytes on wire (2048 bits), 256 bytes captured (2048 bits)</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Arrival Time: Apr 15, 2012 15:50:02.398966000 PDT</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Epoch Time: 1334530202.398966000 seconds</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">[Time delta from previous captured frame: 0.000000000 seconds]</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">[Time delta from previous displayed frame: 0.000000000 seconds]</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">[Time since reference or first frame: 0.000000000 seconds]</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Frame Number: 1</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Frame Length: 256 bytes (2048 bits)</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Capture Length: 256 bytes (2048 bits)</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">[Frame is marked: False]</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">[Frame is ignored: False]</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">[Protocols in frame: eth:ip:udp:data]</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Ethernet II, Src: 00:00:00:00:03:01 (00:00:00:00:03:01), Dst: 54:75:d0:3a:85:3f</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">(54:75:d0:3a:85:3f)</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Destination: 54:75:d0:3a:85:3f (54:75:d0:3a:85:3f)</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Address: 54:75:d0:3a:85:3f (54:75:d0:3a:85:3f)</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">.... ...0 .... .... .... .... = IG bit: Individual address (unicast)</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">.... ..0. .... .... .... .... = LG bit: Globally unique address (factory default)</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Source: 00:00:00:00:03:01 (00:00:00:00:03:01)</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Address: 00:00:00:00:03:01 (00:00:00:00:03:01)</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">.... ...0 .... .... .... .... = IG bit: Individual address (unicast)</p><p class="s24" style="padding-left: 138pt;text-indent: 0pt;line-height: 9pt;text-align: left;">.... ..0. .... .... .... .... = LG bit: Globally unique address (factory default)</p><p class="s37" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">…</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>show monitor capture mycap buffer dump</b></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 109pt;text-indent: 0pt;text-align: left;">0.000000  10.1.1.215 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">0000 54 75 d0 3a 85 3f 00 00 00 00 03 01 08 00 45 00  Tu.:.?........E.</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0010 00 ee 00 00 00 00 40 11 59 25 0a 01 01 d7 14 01  ......@.Y%......</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0020 01 02 4e 21 4e 22 00 da 6d e0 00 01 02 03 04 05  ..N!N&quot;..m.......</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0030 06 07 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0040 16 17 18 19 1a 1b 1c 1d 1e 1f 20 21 22 23 24 25  .......... !&quot;#$%</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0050 26 27 28 29 2a 2b 2c 2d 2e 2f 30 31 32 33 34 35  &amp;&#39;()*+,-./012345</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0060 36 37 38 39 3a 3b 3c 3d 3e 3f 40 41 42 43 44 45  6789:;&lt;=&gt;?@ABCDE</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0070 46 47 48 49 4a 4b 4c 4d 4e 4f 50 51 52 53 54 55  FGHIJKLMNOPQRSTU</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0080 56 57 58 59 5a 5b 5c 5d 5e 5f 60 61 62 63 64 65  VWXYZ[\]^_`abcde</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0090 66 67 68 69 6a 6b 6c 6d 6e 6f 70 71 72 73 74 75  fghijklmnopqrstu</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00a0 76 77 78 79 7a 7b 7c 7d 7e 7f 80 81 82 83 84 85  vwxyz{|}~.......</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00b0 86 87 88 89 8a 8b 8c 8d 8e 8f 90 91 92 93 94 95  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00c0 96 97 98 99 9a 9b 9c 9d 9e 9f a0 a1 a2 a3 a4 a5  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00d0 a6 a7 a8 a9 aa ab ac ad ae af b0 b1 b2 b3 b4 b5  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00e0 b6 b7 b8 b9 ba bb bc bd be bf c0 c1 c2 c3 c4 c5  ................</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">00f0 c6 c7 c8 c9 ca cb cc cd ce cf d0 d1 03 3e d0 33  .............&gt;.3</p><p class="s2" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 5a<span class="p">: Clear the buffer by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap clear</b></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 5b<span class="p">: Wait for 10 seconds.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 5c<span class="p">: Stop the traffic by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap stop</b></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 6<span class="p">: Confirm that the same set of packets are displayed after this time gap by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture mycap buffer brief</b></p><p style="text-indent: 0pt;line-height: 4pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:412pt;margin-left:107.2pt" cellspacing="0"><tr><td><p class="s21" style="padding-top: 4pt;padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0.000000</p></td><td><p class="s21" style="padding-top: 4pt;padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.1.1.2 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-top: 4pt;padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">UDP Source port: 20001 Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">1.000000</p></td><td><p class="s21" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.1.1.3 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">UDP Source port: 20001 Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">2.000000</p></td><td><p class="s21" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.1.1.4 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">UDP Source port: 20001 Destination port: 20002</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_598.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:412pt;margin-left:106.6pt" cellspacing="0"><tr><td><p class="s21" style="padding-top: 4pt;padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">3.000000</p></td><td><p class="s21" style="padding-top: 4pt;padding-left: 14pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.1.1.5 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-top: 4pt;padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-top: 4pt;padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">4.000000</p></td><td><p class="s21" style="padding-left: 14pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.1.1.6 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">5.000000</p></td><td><p class="s21" style="padding-left: 14pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.1.1.7 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">6.000000</p></td><td><p class="s21" style="padding-left: 14pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.1.1.8 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">7.000000</p></td><td><p class="s21" style="padding-left: 14pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.1.1.9 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">8.000000</p></td><td><p class="s21" style="padding-left: 9pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.1.1.10 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">9.000000</p></td><td><p class="s21" style="padding-left: 9pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.1.1.11 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Destination port: 20002</p></td></tr></table><p class="s2" style="padding-left: 99pt;text-indent: 0pt;line-height: 11pt;text-align: left;">Step 7<span class="p">: Wait for 10 seconds, then confirm that the same set of packets are displayed after this time gap by</span></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">entering:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture mycap buffer brief</b></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;text-align: center;">0.000000    10.1.1.2 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: center;">1.000000    10.1.1.3 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: center;">2.000000    10.1.1.4 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: center;">3.000000    10.1.1.5 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: center;">4.000000    10.1.1.6 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: center;">5.000000    10.1.1.7 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: center;">6.000000    10.1.1.8 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: center;">7.000000    10.1.1.9 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: center;">8.000000   10.1.1.10 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: center;">9.000000   10.1.1.11 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s2" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 8<span class="p">: Repeat Step 7.</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 9<span class="p">: Clear the buffer by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap clear</b></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 10<span class="p">: Confirm that the buffer is now empty by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture mycap buffer brief</b></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 11<span class="p">: Wait about 10 seconds, then display the buffer contents by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture mycap buffer brief</b></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 12<span class="p">: Restart the traffic, wait for 10 seconds, then display the buffer contents by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap start</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">wait for 10 seconds...</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>show monitor capture mycap buffer brief</b></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;text-align: center;">0.000000    10.1.1.2 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: center;">1.000000    10.1.1.3 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: center;">2.000000    10.1.1.4 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: center;">3.000000    10.1.1.5 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: center;">4.000000    10.1.1.6 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: center;">5.000000    10.1.1.7 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: center;">6.000000    10.1.1.8 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: center;">7.000000    10.1.1.9 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: center;">8.000000   10.1.1.10 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: center;">9.000000   10.1.1.11 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s2" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 13<span class="p">: Store the buffer contents to the mycap1.pcap file in the internal flash: storage device by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap export flash:mycap1.pcap</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Exported Successfully</p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 14<span class="p">: Check that the file has been created and that it contains the packets by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>dir flash:mycap1.pcap</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Directory of flash:/mycap1.pcap</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">14758 -rw-      20152 Apr 15 2012 16:00:28 -07:00 mycap1.pcap</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">831541248 bytes total (831340544 bytes free)</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>show monitor capture file flash:mycap1.pcap brief</b></p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">1  0.000000    10.1.1.2 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_599.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-top: 4pt;padding-left: 108pt;text-indent: 0pt;text-align: left;">2  1.000000    10.1.1.3 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">3  2.000000    10.1.1.4 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">4  3.000000    10.1.1.5 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">5  4.000000    10.1.1.6 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">6  5.000000    10.1.1.7 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">7  6.000000    10.1.1.8 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">8  7.000000    10.1.1.9 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">9  8.000000   10.1.1.10 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 104pt;text-indent: 0pt;text-align: left;">10  9.000000   10.1.1.11 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 104pt;text-indent: 0pt;text-align: left;">11 10.000000   10.1.1.12 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 104pt;text-indent: 0pt;text-align: left;">12 11.000000   10.1.1.13 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 104pt;text-indent: 0pt;text-align: left;">13 12.000000   10.1.1.14 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 104pt;text-indent: 0pt;text-align: left;">14 13.000000   10.1.1.15 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 104pt;text-indent: 0pt;text-align: left;">15 14.000000   10.1.1.16 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 104pt;text-indent: 0pt;text-align: left;">16 15.000000   10.1.1.17 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s2" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 15<span class="p">: Stop the packet capture and display the buffer contents by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap stop</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>show monitor capture mycap buffer brief</b></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 109pt;text-indent: 0pt;text-align: left;">0.000000    10.1.1.2 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 109pt;text-indent: 0pt;line-height: 9pt;text-align: left;">1.000000    10.1.1.3 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 109pt;text-indent: 0pt;line-height: 9pt;text-align: left;">2.000000    10.1.1.4 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 109pt;text-indent: 0pt;line-height: 9pt;text-align: left;">3.000000    10.1.1.5 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 109pt;text-indent: 0pt;line-height: 9pt;text-align: left;">4.000000    10.1.1.6 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 109pt;text-indent: 0pt;line-height: 9pt;text-align: left;">5.000000    10.1.1.7 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 109pt;text-indent: 0pt;line-height: 9pt;text-align: left;">6.000000    10.1.1.8 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 109pt;text-indent: 0pt;line-height: 9pt;text-align: left;">7.000000    10.1.1.9 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 109pt;text-indent: 0pt;line-height: 9pt;text-align: left;">8.000000   10.1.1.10 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 109pt;text-indent: 0pt;line-height: 9pt;text-align: left;">9.000000   10.1.1.11 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 104pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.000000   10.1.1.12 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 104pt;text-indent: 0pt;line-height: 9pt;text-align: left;">11.000000   10.1.1.13 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s2" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 16<span class="p">: Clear the buffer and then try to display packets from the buffer by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap clear</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>show monitor capture mycap buffer brief</b></p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 17<span class="p">: Delete the capture point by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>no monitor capture mycap</b></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a487">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark506" class="a">Defining a Capture Poin</a>t, on page 191</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark507" class="a">Adding or Modifying Capture Point Parameter</a><a href="#bookmark508" class="a">s, on page 196 Deleting Capture Point Parameter</a>s,  on page 199</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark509" class="a">Deleting a Capture Poin</a>t, on page 201</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark510" class="a">Activating and Deactivating a Capture Poin</a><a href="#bookmark511" class="a">t, on page 202 Clearing the Capture Point Buffe</a>r,  on page 204</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_600.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-top: 3pt;padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark505" class="a">How to Configure Wireshar</a><a href="#bookmark493" class="a">k,  on page 191 Capture Point</a>s,  on page 181</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark494" class="a">Attachment Point</a>s, on page 182</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark482">Example: Capture Sessions</a><a name="bookmark519">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap start display display-filter &quot;stp&quot;</b></p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0.000000 20:37:06:cf:08:b6 -&gt; 01:80:c2:00:00:00 STP Conf. Root = 32768/100/20:37:06:ce:f0:80</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Cost = 0 Port = 0x8136</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: left;">2.000992 20:37:06:cf:08:b6 -&gt; 01:80:c2:00:00:00 STP Conf. Root = 32768/100/20:37:06:ce:f0:80</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Cost = 0 Port = 0x8136</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">2.981996 20:37:06:cf:08:b6 -&gt; 20:37:06:cf:08:b6 LOOP Reply</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: left;">4.000992 20:37:06:cf:08:b6 -&gt; 01:80:c2:00:00:00 STP Conf. Root = 32768/100/20:37:06:ce:f0:80</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Cost = 0 Port = 0x8136</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: left;">6.000000 20:37:06:cf:08:b6 -&gt; 01:80:c2:00:00:00 STP Conf. Root = 32768/100/20:37:06:ce:f0:80</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Cost = 0 Port = 0x8136</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: left;">7.998001 20:37:06:cf:08:b6 -&gt; 01:80:c2:00:00:00 STP Conf. Root = 32768/100/20:37:06:ce:f0:80</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Cost = 0 Port = 0x8136</p><p class="s24" style="padding-left: 107pt;text-indent: 0pt;line-height: 9pt;text-align: left;">9.998001 20:37:06:cf:08:b6 -&gt; 01:80:c2:00:00:00 STP Conf. Root = 32768/100/20:37:06:ce:f0:80</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Cost = 0 Port = 0x8136</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Capture test is not active Failed to Initiate Wireshark</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>show monitor capture mycap parameter</b></p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 93%;text-align: left;">monitor capture mycap control-plane both monitor capture mycap match any</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 93%;text-align: left;">monitor capture mycap file location flash:mycap1.1 buffer-size 90 monitor capture mycap limit duration 10</p><p class="s24" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap start display display-filter &quot;udp.port == 20002&quot;</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">A file by the same capture file name already exists, overwrite?[confirm] <b>[ENTER]</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">after a minute or so...</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Capture mycap is not active Failed to Initiate Wireshark</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">*Oct 13 15:00:44.649: %BUFCAP-6-ENABLE: Capture Point mycap enabled.</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">*Oct 13 15:00:46.657: %BUFCAP-6-DISABLE_ASYNC: Capture Point mycap disabled. Rea</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">son : Wireshark Session Ended</p><p class="s24" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap start display display-filter &quot;udp.port == 20002&quot; dump</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 93%;text-align: left;">A file by the same capture file name already exists, overwrite?[confirm] after a minute or so...</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Capture mycap is not active Failed to Initiate Wireshark</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">*Oct 13 15:00:44.649: %BUFCAP-6-ENABLE: Capture Point mycap enabled.</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">*Oct 13 15:00:46.657: %BUFCAP-6-DISABLE_ASYNC: Capture Point mycap disabled. Rea</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">son : Wireshark Session Ended</p><p class="s24" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>no monitor capture mycap file</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap start display display-filter &quot;udp.port == 20002&quot; dump</b></p><p class="s24" style="padding-left: 99pt;text-indent: 4pt;line-height: 93%;text-align: left;">Please associate capture file/buffer Unable to activate Capture.</p><p class="s24" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap start display display-filter &quot;udp.port == 20002&quot;</b></p><p class="s24" style="padding-left: 99pt;text-indent: 4pt;line-height: 93%;text-align: left;">Please associate capture file/buffer Unable to activate Capture.</p><p class="s24" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap start display detailed</b></p><p class="s24" style="padding-left: 99pt;text-indent: 4pt;line-height: 93%;text-align: left;">Please associate capture file/buffer Unable to activate Capture.</p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a488">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark506" class="a">Defining a Capture Poin</a>t, on page 191</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark507" class="a">Adding or Modifying Capture Point Parameter</a><a href="#bookmark508" class="a">s, on page 196 Deleting Capture Point Parameter</a>s,  on page 199</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark509" class="a">Deleting a Capture Poin</a>t, on page 201</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark510" class="a">Activating and Deactivating a Capture Poin</a><a href="#bookmark511" class="a">t, on page 202 Clearing the Capture Point Buffe</a>r,  on page 204</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_601.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-top: 3pt;padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark505" class="a">How to Configure Wireshar</a><a href="#bookmark493" class="a">k,  on page 191 Capture Point</a>s,  on page 181</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark494" class="a">Attachment Point</a>s, on page 182</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark483">Example: Capture and Store in Lock-step Mode</a><a name="bookmark520">&zwnj;</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This example captures live traffic and stores the packets in lock-step mode.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 65pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="24" alt="image" src="Image_602.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_603.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">The capture rate might be slow for the first 15 seconds. If possible and necessary, start the traffic 15 seconds after the capture session starts.</p><p style="padding-top: 4pt;padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_604.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Step 1<span class="p">: Define a capture point to match on the relevant traffic and associate it to a file by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap interface GigabitEthernet1/0/1 in</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap match ipv4 any any</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap limit duration 60 packets 100</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap file location flash:mycap.pcap buffer-size 64</b></p><p class="s2" style="padding-top: 4pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">Step 2<span class="p">: Confirm that the capture point has been correctly defined by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture mycap parameter</b></p><p class="s24" style="padding-left: 25pt;text-indent: 0pt;line-height: 9pt;text-align: left;">monitor capture mycap interface GigabitEthernet1/0/1 in</p><p class="s24" style="padding-left: 25pt;text-indent: 0pt;line-height: 9pt;text-align: left;">monitor capture mycap file location flash:mycap.pcap buffer-size 64</p><p class="s24" style="padding-left: 25pt;text-indent: 0pt;line-height: 9pt;text-align: left;">monitor capture mycap limit packets 100 duration 60</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture mycap</b></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 21pt;text-indent: -9pt;line-height: 9pt;text-align: left;">Status Information for Capture mycap Target Type:</p><p class="s24" style="padding-left: 25pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Interface: GigabitEthernet1/0/1, Direction: in Status : Inactive</p><p class="s24" style="padding-left: 25pt;text-indent: -4pt;line-height: 9pt;text-align: left;">Filter Details: Filter not attached</p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;text-align: left;">Buffer Details:</p><p class="s24" style="padding-left: 25pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Buffer Type: LINEAR (default)</p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;line-height: 9pt;text-align: left;">File Details:</p><p class="s24" style="padding-left: 25pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Associated file name: flash:mycap.pcap</p><p class="s24" style="padding-left: 25pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Size of buffer(in MB): 64</p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Limit Details:</p><p class="s24" style="padding-left: 25pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Number of Packets to capture: 100</p><p class="s24" style="padding-left: 25pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packet Capture duration: 60</p><p class="s24" style="padding-left: 25pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packet Size to capture: 0 (no limit)</p><p class="s24" style="padding-left: 25pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packets per second: 0 (no limit)</p><p class="s24" style="padding-left: 25pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packet sampling rate: 0 (no sampling)</p><p class="s2" style="padding-top: 4pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">Step 3<span class="p">: Launch packet capture by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap start</b></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 93%;text-align: left;">A file by the same capture file name already exists, overwrite?[confirm] Turning on lock-step mode</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Switch#</p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">*Oct 14 09:35:32.661: %BUFCAP-6-ENABLE: Capture Point mycap enabled.</p><p class="s2" style="padding-top: 4pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">Step 4<span class="p">: Display the packets by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture file flash:mycap.pcap</b></p><table style="border-collapse:collapse;width:412pt;margin-left:107.2pt" cellspacing="0"><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0.000000</p></td><td><p class="s21" style="padding-left: 9pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.1.1.30 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 8pt;text-align: left;">1.000000</p></td><td><p class="s21" style="padding-left: 9pt;text-indent: 0pt;line-height: 8pt;text-align: left;">10.1.1.31 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-left: 11pt;text-indent: 0pt;line-height: 8pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 8pt;text-align: left;">2.000000</p></td><td><p class="s21" style="padding-left: 9pt;text-indent: 0pt;line-height: 8pt;text-align: left;">10.1.1.32 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-left: 11pt;text-indent: 0pt;line-height: 8pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 8pt;text-align: left;">3.000000</p></td><td><p class="s21" style="padding-left: 9pt;text-indent: 0pt;line-height: 8pt;text-align: left;">10.1.1.33 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-left: 11pt;text-indent: 0pt;line-height: 8pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 8pt;text-align: left;">4.000000</p></td><td><p class="s21" style="padding-left: 9pt;text-indent: 0pt;line-height: 8pt;text-align: left;">10.1.1.34 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-left: 11pt;text-indent: 0pt;line-height: 8pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 8pt;text-align: left;">5.000000</p></td><td><p class="s21" style="padding-left: 9pt;text-indent: 0pt;line-height: 8pt;text-align: left;">10.1.1.35 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-left: 11pt;text-indent: 0pt;line-height: 8pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 8pt;text-align: left;">6.000000</p></td><td><p class="s21" style="padding-left: 9pt;text-indent: 0pt;line-height: 8pt;text-align: left;">10.1.1.36 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-left: 11pt;text-indent: 0pt;line-height: 8pt;text-align: left;">UDP Source port: 20001</p></td><td><p class="s21" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Destination port: 20002</p></td></tr></table><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_605.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><table style="border-collapse:collapse;width:412pt;margin-left:106.6pt" cellspacing="0"><tr><td><p class="s21" style="padding-top: 4pt;padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">7.000000</p></td><td><p class="s21" style="padding-top: 4pt;padding-left: 9pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.1.1.37 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-top: 4pt;padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">UDP Source port: 20001 Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">8.000000</p></td><td><p class="s21" style="padding-left: 9pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.1.1.38 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">UDP Source port: 20001 Destination port: 20002</p></td></tr><tr><td><p class="s21" style="padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;">9.000000</p></td><td><p class="s21" style="padding-left: 9pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10.1.1.39 -&gt; 20.1.1.2</p></td><td><p class="s21" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">UDP Source port: 20001 Destination port: 20002</p></td></tr></table><p class="s2" style="padding-left: 99pt;text-indent: 0pt;line-height: 11pt;text-align: left;">Step 5<span class="p">: Delete the capture point by entering:</span></p><p style="text-indent: 0pt;line-height: 14pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>no monitor capture mycap</b></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a489">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark506" class="a">Defining a Capture Poin</a>t, on page 191</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark507" class="a">Adding or Modifying Capture Point Parameter</a><a href="#bookmark508" class="a">s, on page 196 Deleting Capture Point Parameter</a>s,  on page 199</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark509" class="a">Deleting a Capture Poin</a>t, on page 201</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark510" class="a">Activating and Deactivating a Capture Poin</a><a href="#bookmark511" class="a">t, on page 202 Clearing the Capture Point Buffe</a>r,  on page 204</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark505" class="a">How to Configure Wireshar</a><a href="#bookmark493" class="a">k,  on page 191 Capture Point</a>s,  on page 181</p><p class="s9" style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><a href="#bookmark494" class="a" name="bookmark484">Attachment Point</a>s, on page 182<a name="bookmark521">&zwnj;</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a490">Example: Simple Capture and Store of Packets in Egress Direction</a></h4><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">This example shows how to capture packets to a filter:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 1<span class="p">: Define a capture point to match on the relevant traffic and associate it to a file by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap interface Gigabit 1/0/1 out match ipv4 any any</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap limit duration 60 packets 100</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Switch# <b>monitor capture mycap file location flash:mycap.pcap buffer-size 90</b></p><p class="s2" style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 2<span class="p">: Confirm that the capture point has been correctly defined by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture mycap parameter</b></p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 93%;text-align: left;">monitor capture mycap interface GigabitEthernet1/0/1 out monitor capture mycap match ipv4 any any</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 93%;text-align: left;">monitor capture mycap file location flash:mycap.pcap buffer-size 90 monitor capture mycap limit packets 100 duration 60</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture mycap</b></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 108pt;text-indent: -9pt;line-height: 9pt;text-align: left;">Status Information for Capture mycap Target Type:</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Interface: GigabitEthernet1/0/1, Direction: out Status : Inactive</p><p class="s24" style="padding-left: 113pt;text-indent: -4pt;line-height: 9pt;text-align: left;">Filter Details: IPv4</p><p class="s24" style="padding-left: 118pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Source IP: any Destination IP: any</p><p class="s24" style="padding-left: 108pt;text-indent: 4pt;line-height: 9pt;text-align: left;">Protocol: any Buffer Details:</p><p class="s24" style="padding-left: 108pt;text-indent: 4pt;line-height: 9pt;text-align: left;">Buffer Type: LINEAR (default) File Details:</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Associated file name: flash:mycap.pcap Size of buffer(in MB): 90</p><p class="s24" style="padding-left: 108pt;text-indent: 0pt;text-align: left;">Limit Details:</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Number of Packets to capture: 100</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packet Capture duration: 60</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packet Size to capture: 0 (no limit)</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packets per second: 0 (no limit)</p><p class="s24" style="padding-left: 113pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Packet sampling rate: 0 (no sampling)</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_606.png"/></span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Step 3<span class="p">: Launch packet capture by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch# <b>monitor capture mycap start</b></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 93%;text-align: left;">A file by the same capture file name already exists, overwrite?[confirm] Turning on lock-step mode</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">Switch#</p><p class="s24" style="padding-left: 99pt;text-indent: 0pt;line-height: 9pt;text-align: left;">*Oct 14 09:35:32.661: %BUFCAP-6-ENABLE: Capture Point mycap enabled.</p><p style="padding-top: 1pt;padding-left: 65pt;text-indent: 0pt;text-align: left;"><span><img width="27" height="25" alt="image" src="Image_607.png"/></span></p><p class="s14" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">Note</p><p style="text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_608.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">Allow the capture operation stop automatically after the time has elapsed or the packet count has been met. When you see the following message in the output, will know that the capture operation has stopped:</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 12pt;text-indent: 0pt;line-height: 9pt;text-align: left;">*Oct 14 09:36:34.632: %BUFCAP-6-DISABLE_ASYNC: Capture Point mycap disabled. Rea son : Wireshark Session Ended</p><p style="padding-left: 12pt;text-indent: 0pt;line-height: 11pt;text-align: left;">The mycap.pcap file now contains the captured packets.</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="1" alt="image" src="Image_609.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Step 4<span class="p">: Display the packets by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Switch# <b>show monitor capture file flash:mycap.pcap</b></p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0.000000   10.1.1.30 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;line-height: 9pt;text-align: left;">1.000000   10.1.1.31 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;line-height: 9pt;text-align: left;">2.000000   10.1.1.32 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;line-height: 9pt;text-align: left;">3.000000   10.1.1.33 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;line-height: 9pt;text-align: left;">4.000000   10.1.1.34 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;line-height: 9pt;text-align: left;">5.000000   10.1.1.35 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;line-height: 9pt;text-align: left;">6.000000   10.1.1.36 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;line-height: 9pt;text-align: left;">7.000000   10.1.1.37 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;line-height: 9pt;text-align: left;">8.000000   10.1.1.38 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s24" style="padding-left: 21pt;text-indent: 0pt;line-height: 9pt;text-align: left;">9.000000   10.1.1.39 -&gt; 20.1.1.2    UDP Source port: 20001 Destination port: 20002</p><p class="s2" style="padding-top: 4pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">Step 5<span class="p">: Delete the capture point by entering:</span></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">Switch# <b>no monitor capture mycap</b></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 11pt;text-indent: 0pt;text-align: left;"><a name="a491">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 27pt;text-indent: 0pt;text-align: left;"><a href="#bookmark506" class="a">Defining a Capture Poin</a>t, on page 191</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 27pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark507" class="a">Adding or Modifying Capture Point Parameter</a><a href="#bookmark508" class="a">s, on page 196 Deleting Capture Point Parameter</a>s,  on page 199</p><p class="s9" style="padding-left: 27pt;text-indent: 0pt;text-align: left;"><a href="#bookmark509" class="a">Deleting a Capture Poin</a>t, on page 201</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 27pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark510" class="a">Activating and Deactivating a Capture Poin</a><a href="#bookmark511" class="a">t, on page 202 Clearing the Capture Point Buffe</a>r,  on page 204</p><p class="s9" style="padding-left: 27pt;text-indent: 0pt;line-height: 147%;text-align: left;"><a href="#bookmark505" class="a">How to Configure Wireshar</a><a href="#bookmark493" class="a">k,  on page 191 Capture Point</a>s,  on page 181</p><p class="s9" style="padding-left: 27pt;text-indent: 0pt;text-align: left;"><a href="#bookmark494" class="a">Attachment Point</a>s, on page 182</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_610.png"/></span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark485">Additional References</a><a name="bookmark522">&zwnj;</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a492">Related Documents</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: left;">Related Topic</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">General Packet Filtering</p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="83" alt="image" src="Image_611.png"/></span></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a493">Error Message Decoder</a></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Document Title</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">For general packet filtering, refer to:</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a href="http://www.wireshark.org/docs/dfref/" class="a" target="_blank">Display Filter Reference</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 101pt;text-indent: 0pt;text-align: center;"><a name="a494">Description</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">To help you research and resolve system error messages in this release, use the Error Message Decoder tool.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="92" alt="image" src="Image_612.png"/></span></p><p class="s2" style="padding-left: 98pt;text-indent: 0pt;text-align: center;"><a name="a495">Standards and RFCs</a></p><p class="s2" style="padding-top: 3pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">Link</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 107%;text-align: left;"><a href="https://www.cisco.com/cgi-bin/Support/Errordecoder/index.cgi" class="a" target="_blank">https://www.cisco.com/cgi-bin/Support/Errordecoder/ index.cgi</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 102pt;text-indent: 0pt;text-align: left;"><a name="a496">Standard/RFC</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">None</p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="60" alt="image" src="Image_613.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="115" alt="image" src="Image_614.png"/></span></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a497">MIBs</a></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">Title</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;">-</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 101pt;text-indent: 0pt;text-align: center;"><a name="a498">MIB</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 102pt;text-indent: 0pt;text-align: left;">All supported MIBs for this release.</p><p class="s2" style="padding-top: 3pt;padding-left: 70pt;text-indent: 0pt;text-align: justify;"><a name="a499">MIBs Link</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 70pt;text-indent: 0pt;text-align: justify;">To locate and download MIBs for selected platforms, Cisco IOS releases, and feature sets, use Cisco MIB Locator found at the following URL:</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 70pt;text-indent: 0pt;text-align: justify;"><a href="http://www.cisco.com/go/mibs" class="a" target="_blank">http://www.cisco.com/go/mibs</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_615.png"/></span></p><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a500">Technical Assistance</a></p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;">Description</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">The Cisco Support website provides extensive online resources, including documentation and tools for troubleshooting and resolving technical issues with Cisco products and technologies.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">To receive security and technical information about your products, you can subscribe to various services, such as the Product Alert Tool (accessed from Field Notices), the Cisco Technical Services Newsletter, and Really Simple Syndication (RSS) Feeds.</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">Access to most tools on the Cisco Support website requires a Cisco.com user ID and password.</p><p style="text-indent: 0pt;line-height: 6pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="234" alt="image" src="Image_616.png"/></span></p><p class="s2" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="a501">Related Topics</a></p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 1pt;text-indent: 0pt;text-align: center;"><a href="#bookmark495" class="a" name="bookmark486">Filter</a>s,  on page 183<a name="bookmark523">&zwnj;</a></p><p class="s2" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a502">Link</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="http://www.cisco.com/support" class="a" target="_blank">http://www.cisco.com/support</a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="578" height="60" alt="image" src="Image_617.png"/></span></p><h3 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="a503">Feature History and Information for WireShark</a></h3><p style="text-indent: 0pt;line-height: 7pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 3pt;padding-left: 103pt;text-indent: 0pt;text-align: left;"><a name="a504">Release</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">Cisco IOS XE 3.3SE</p><p class="s2" style="padding-top: 3pt;padding-left: 101pt;text-indent: 0pt;text-align: center;"><a name="a505">Modification</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 103pt;text-indent: 0pt;text-align: left;">This feature was introduced.</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="687" height="26" alt="image" src="Image_618.png"/></span></p><p style="padding-top: 4pt;padding-left: 99pt;text-indent: 0pt;text-align: left;"><span><img width="576" height="144" alt="image" src="Image_619.jpg"/></span></p><p class="s10" style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><a name="bookmark524">I N D E X </a></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;"><br/></p><p class="s3" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">C</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark128" class="s4">Cisco Discovery Protocol (CDP) </a><a href="#bookmark128" class="s38">37</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark259" class="s4">Cisco IOS IP SLAs </a><a href="#bookmark259" class="s38">96</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark89" class="s4">Cisco Networking Services </a><a href="#bookmark89" class="s38">16</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark89" class="s4">CNS  </a><a href="#bookmark89" class="s38">16</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark80" class="s4">Configuration Engine </a><a href="#bookmark80" class="s38">14</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark80" class="s4">restrictions  </a><a href="#bookmark80" class="s38">14</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">D</p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark417" class="s4">default configuration </a><a href="#bookmark417" class="s38">148</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark417" class="s4">RSPAN  </a><a href="#bookmark417" class="s38">148</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark417" class="s4">SPAN  </a><a href="#bookmark417" class="s38">148</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark87" class="s4">defined   </a><a href="#bookmark128" class="s38">16, 37</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark85" class="s4">Event Service </a><a href="#bookmark85" class="s38">16</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark87" class="s4">NameSpace Mapper </a><a href="#bookmark87" class="s38">16</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark130" class="s4">device stack </a><a href="#bookmark130" class="s38">38</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a506">E</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark85" class="s4">Event Service </a><a href="#bookmark85" class="s38">16</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a507">I</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark287" class="s4">ICMP Echo operation </a><a href="#bookmark287" class="s38">112</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark287" class="s4">configuring  </a><a href="#bookmark287" class="s38">112</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark288" class="s4">IP SLAs </a><a href="#bookmark288" class="s38">112</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark381" class="s4">Inter-Switch Link </a><a href="#bookmark381" class="s38">136</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark381" class="s4">See ISL  </a><a href="#bookmark381" class="s38">136</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark386" class="s4">Intrusion Detection System </a><a href="#bookmark386" class="s38">138</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark386" class="s4">See IDS appliances </a><a href="#bookmark386" class="s38">138</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark266" class="s4">IP SLA  </a><a href="#bookmark272" class="s38">98, </a><a href="#bookmark279" class="s38">100, </a><a href="#bookmark281" class="s38">102, </a><a href="#bookmark290" class="s38">103, 115</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark279" class="s4">configuration guidelines </a><a href="#bookmark279" class="s38">102</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark290" class="s4">monitoring  </a><a href="#bookmark290" class="s38">115</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark266" class="s4">responder   </a><a href="#bookmark281" class="s38">98, 103</a></p><p style="text-indent: 0pt;text-align: center;"><a href="#bookmark266" class="s4">described  </a><a href="#bookmark266" class="s38">98</a></p><p style="text-indent: 0pt;text-align: center;"><a href="#bookmark281" class="s4">enabling  </a><a href="#bookmark281" class="s38">103</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">IP SLA <i>(continued)</i></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark272" class="s4">threshold monitoring </a><a href="#bookmark272" class="s38">100</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark260" class="s4">IP SLAs  </a><a href="#bookmark261" class="s38">96, </a><a href="#bookmark268" class="s38">97, </a><a href="#bookmark270" class="s38">99, </a><a href="#bookmark274" class="s38">100, </a><a href="#bookmark276" class="s38">101, </a><a href="#bookmark284" class="s38">102, </a><a href="#bookmark288" class="s38">108, 112</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark261" class="s4">benefits  </a><a href="#bookmark261" class="s38">97</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark276" class="s4">configuration  </a><a href="#bookmark276" class="s38">102</a></p><p class="s39" style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark288" class="s4">ICMP echo operation </a>112 <a href="#bookmark264" class="s4">measuring network performance </a>97 <a href="#bookmark270" class="s4">multi-operations scheduling </a><a href="#bookmark270" class="s38">100</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark268" class="s4">response time </a><a href="#bookmark268" class="s38">99</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark262" class="s4">SNMP support </a><a href="#bookmark262" class="s38">97</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark260" class="s4">supported metrics </a><a href="#bookmark260" class="s38">96</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark274" class="s4">UDP jitter operation </a><a href="#bookmark284" class="s38">101, 108</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a508">L</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark388" class="s4">local SPAN </a><a href="#bookmark388" class="s38">138</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a509">M</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark384" class="s4">mirroring traffic for analysis </a><a href="#bookmark384" class="s38">137</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark290" class="s4">monitoring   </a><a href="#bookmark389" class="s38">115, 138</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark290" class="s4">IP SLA operations </a><a href="#bookmark290" class="s38">115</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark389" class="s4">network traffic for analysis with probe </a><a href="#bookmark389" class="s38">138</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark270" class="s4">multi-operations scheduling, IP SLAs </a><a href="#bookmark270" class="s38">100</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a510">N</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark87" class="s4">NameSpace Mapper </a><a href="#bookmark87" class="s38">16</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark264" class="s4">network performance, measuring with IP SLAs </a><a href="#bookmark264" class="s38">97</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a511">P</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark329" class="s4">Policy Map </a><a href="#bookmark329" class="s38">129</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="701" height="27" alt="image" src="Image_620.png"/></span></p><p class="s15" style="padding-top: 3pt;padding-left: 168pt;text-indent: 0pt;text-align: left;">Network Management Configuration Guide, Cisco IOS XE Release 3.6E (Catalyst 3850 Switches)</p><p style="padding-top: 1pt;padding-left: 12pt;text-indent: 0pt;text-align: left;"><span class="s15">OL-32604-01                                                                                                                                                                                                                                                                            </span><span class="s16" style=" background-color: #000;">IN-1      </span></p><p class="s15" style="padding-top: 3pt;padding-left: 33pt;text-indent: 0pt;text-align: left;">Index</p><p style="text-indent: 0pt;line-height: 5pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="702" height="31" alt="image" src="Image_621.png"/></span></p><p class="s3" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a512">R</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark392" class="s4">remote SPAN </a><a href="#bookmark392" class="s38">139</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark266" class="s4">responder, IP SLA </a><a href="#bookmark281" class="s38">98, 103</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark266" class="s4">described  </a><a href="#bookmark266" class="s38">98</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark281" class="s4">enabling  </a><a href="#bookmark281" class="s38">103</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark268" class="s4">response time, measuring with IP SLAs </a><a href="#bookmark268" class="s38">99</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark80" class="s4">restrictions  </a><a href="#bookmark80" class="s38">14</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark80" class="s4">Configuration Engine </a><a href="#bookmark80" class="s38">14</a></p><p class="s39" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark380" class="s4">RSPAN  </a><a href="#bookmark385" class="s38">136, </a><a href="#bookmark390" class="s38">137, </a><a href="#bookmark392" class="s38">138, </a><a href="#bookmark395" class="s38">139, </a><a href="#bookmark398" class="s38">141, </a><a href="#bookmark401" class="s38">142, </a><a href="#bookmark407" class="s38">143, </a><a href="#bookmark409" class="s38">144, </a><a href="#bookmark411" class="s38">145, </a><a href="#bookmark413" class="s38">146, </a><a href="#bookmark423" class="s38">147, </a><a href="#bookmark433" class="s38">148, </a>156,</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: center;"><a href="#bookmark437" class="s38">158, </a><a href="#bookmark440" class="s38">160, 164</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark413" class="s4">and stack changes </a><a href="#bookmark413" class="s38">147</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark409" class="s4">characteristics  </a><a href="#bookmark409" class="s38">145</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark423" class="s4">configuration guidelines </a><a href="#bookmark423" class="s38">148</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark417" class="s4">default configuration </a><a href="#bookmark417" class="s38">148</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark407" class="s4">destination ports </a><a href="#bookmark407" class="s38">144</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark390" class="s4">in a device stack </a><a href="#bookmark390" class="s38">138</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark411" class="s4">interaction with other features </a><a href="#bookmark411" class="s38">146</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark401" class="s4">monitored ports </a><a href="#bookmark401" class="s38">143</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark407" class="s4">monitoring ports </a><a href="#bookmark407" class="s38">144</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark385" class="s4">overview  </a><a href="#bookmark385" class="s38">137</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark398" class="s4">received traffic </a><a href="#bookmark398" class="s38">142</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark380" class="s4">session limits </a><a href="#bookmark380" class="s38">136</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark395" class="s4">sessions  </a><a href="#bookmark433" class="s38">141, </a><a href="#bookmark434" class="s38">156, </a><a href="#bookmark437" class="s38">158, </a><a href="#bookmark440" class="s38">160, 164</a></p><p style="padding-left: 41pt;text-indent: 0pt;text-align: left;"><a href="#bookmark433" class="s4">creating   </a><a href="#bookmark434" class="s38">156, 158</a></p><p style="text-indent: 0pt;text-align: center;"><a href="#bookmark395" class="s4">defined  </a><a href="#bookmark395" class="s38">141</a></p><p style="padding-left: 41pt;text-indent: 0pt;text-align: left;"><a href="#bookmark437" class="s4">limiting source traffic to specific VLANs </a><a href="#bookmark437" class="s38">160</a></p><p style="padding-left: 41pt;text-indent: 0pt;text-align: left;"><a href="#bookmark433" class="s4">specifying monitored ports </a><a href="#bookmark434" class="s38">156, 158</a></p><p style="padding-left: 41pt;text-indent: 0pt;text-align: left;"><a href="#bookmark440" class="s4">with ingress traffic enabled </a><a href="#bookmark440" class="s38">164</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark401" class="s4">source ports </a><a href="#bookmark401" class="s38">143</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark399" class="s4">transmitted traffic </a><a href="#bookmark399" class="s38">142</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark403" class="s4">VLAN-based  </a><a href="#bookmark403" class="s38">143</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a513">S</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark89" class="s4">services  </a><a href="#bookmark89" class="s38">16</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark89" class="s4">networking  </a><a href="#bookmark89" class="s38">16</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark128" class="s4">Simple Network Management Protocol (SNMP) </a><a href="#bookmark128" class="s38">37</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark262" class="s4">SNMP  </a><a href="#bookmark262" class="s38">97</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark262" class="s4">and IP SLAs </a><a href="#bookmark262" class="s38">97</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark380" class="s4">SPAN  </a><a href="#bookmark385" class="s38">136, </a><a href="#bookmark395" class="s38">137, </a><a href="#bookmark399" class="s38">141, </a><a href="#bookmark401" class="s38">142, </a><a href="#bookmark407" class="s38">143, </a><a href="#bookmark411" class="s38">144, </a><a href="#bookmark413" class="s38">146, </a><a href="#bookmark420" class="s38">147, </a><a href="#bookmark427" class="s38">148, </a><a href="#bookmark429" class="s38">149, </a><a href="#bookmark431" class="s38">152, </a><a href="#bookmark442" class="s38">154, 167</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark413" class="s4">and stack changes </a><a href="#bookmark413" class="s38">147</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark420" class="s4">configuration guidelines </a><a href="#bookmark420" class="s38">148</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark417" class="s4">default configuration </a><a href="#bookmark417" class="s38">148</a></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">SPAN <i>(continued)</i></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark407" class="s4">destination ports </a><a href="#bookmark407" class="s38">144</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark411" class="s4">interaction with other features </a><a href="#bookmark411" class="s38">146</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark401" class="s4">monitored ports </a><a href="#bookmark401" class="s38">143</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark407" class="s4">monitoring ports </a><a href="#bookmark407" class="s38">144</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark385" class="s4">overview  </a><a href="#bookmark385" class="s38">137</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark398" class="s4">received traffic </a><a href="#bookmark398" class="s38">142</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark380" class="s4">session limits </a><a href="#bookmark380" class="s38">136</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark395" class="s4">sessions  </a><a href="#bookmark421" class="s38">141, </a><a href="#bookmark427" class="s38">148, </a><a href="#bookmark429" class="s38">149, </a><a href="#bookmark431" class="s38">152, </a><a href="#bookmark442" class="s38">154, 167</a></p><p style="padding-left: 41pt;text-indent: 0pt;text-align: left;"><a href="#bookmark427" class="s4">creating   </a><a href="#bookmark442" class="s38">149, 167</a></p><p style="text-indent: 0pt;text-align: center;"><a href="#bookmark395" class="s4">defined  </a><a href="#bookmark395" class="s38">141</a></p><p class="s39" style="padding-left: 41pt;text-indent: 0pt;text-align: left;"><a href="#bookmark431" class="s4">limiting source traffic to specific VLANs </a>154 <a href="#bookmark421" class="s4">removing destination (monitoring) ports </a>148 <a href="#bookmark427" class="s4">specifying monitored ports </a><a href="#bookmark442" class="s38">149, 167</a></p><p style="padding-left: 41pt;text-indent: 0pt;text-align: left;"><a href="#bookmark429" class="s4">with ingress traffic enabled </a><a href="#bookmark429" class="s38">152</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark401" class="s4">source ports </a><a href="#bookmark401" class="s38">143</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark399" class="s4">transmitted traffic </a><a href="#bookmark399" class="s38">142</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark403" class="s4">VLAN-based  </a><a href="#bookmark403" class="s38">143</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark397" class="s4">SPAN traffic </a><a href="#bookmark397" class="s38">142</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark414" class="s4">stack changes, effects on </a><a href="#bookmark414" class="s38">147</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark414" class="s4">SPAN and RSPAN </a><a href="#bookmark414" class="s38">147</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark128" class="s4">Subnetwork Access Protocol (SNAP) </a><a href="#bookmark128" class="s38">37</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a514">T</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark272" class="s4">threshold monitoring, IP SLA </a><a href="#bookmark272" class="s38">100</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a515">U</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark274" class="s4">UDP jitter operation, IP SLAs </a><a href="#bookmark284" class="s38">101, 108</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark285" class="s4">UDP jitter, configuring </a><a href="#bookmark285" class="s38">108</a></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;"><br/></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="a516">V</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark405" class="s4">VLAN filtering and SPAN </a><a href="#bookmark405" class="s38">144</a></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="#bookmark431" class="s4">VLANs   </a><a href="#bookmark437" class="s38">154, 160</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark437" class="s4">limiting source traffic with RSPAN </a><a href="#bookmark437" class="s38">160</a></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark431" class="s4">limiting source traffic with SPAN </a><a href="#bookmark431" class="s38">154</a></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="701" height="27" alt="image" src="Image_622.png"/></span></p><p class="s15" style="padding-top: 3pt;padding-left: 56pt;text-indent: 0pt;text-align: left;">Network Management Configuration Guide, Cisco IOS XE Release 3.6E (Catalyst 3850 Switches)</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><span class="s16" style=" background-color: #000;">      IN-2                                                                                                                                                                                                                                                                            </span><span class="s15">OL-32604-01</span></p></body></html>
