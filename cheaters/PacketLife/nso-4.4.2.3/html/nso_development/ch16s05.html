<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      
      <title>Nano services -  - NSO 4.4.2.3 Development</title>
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="index.html" title="NSO 4.4.2.3 Development" />
      <link rel="up" href="ch16.html" title="Experimental Feature - Nano services" />
      <link rel="prev" href="ch16s04.html" title="Behaviour tree" />
      <link rel="next" href="ch16s05s01.html" title="Nano service opaque" />
      <meta xmlns="" name="Section-title" content="Nano services" /><script xmlns="" type="text/javascript">
      //The id for tree cookie
      var treeCookieId = "treeview-14938";
      var language = "en";
      var w = new Object();
      //Localization
      txt_filesfound = 'Results';
      txt_enter_at_least_1_char = "You must enter at least one character.";
      txt_browser_not_supported = "JavaScript is disabled on your browser. Please enable JavaScript to enjoy all the features of this site.";
      txt_please_wait = "Please wait. Search in progress...";
      txt_results_for = "Results for: ";
    </script><link xmlns="" rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
      <link xmlns="" rel="stylesheet" type="text/css" href="common/css/positioning.css" />
      <link xmlns="" rel="stylesheet" type="text/css" href="common/jquery/theme-redmond/jquery-ui-1.8.2.custom.css" />
      <link xmlns="" rel="stylesheet" type="text/css" href="common/jquery/treeview/jquery.treeview.css" /><style xmlns="" type="text/css">
      
      #noscript{
      font-weight:bold;
      background-color: #55AA55;
      font-weight: bold;
      height: 25spx;
      z-index: 3000;
      top:0px;
      width:100%;
      position: relative;
      border-bottom: solid 5px black;
      text-align:center;
      color: white;
      }
      
      input {
      margin-bottom: 5px;
      margin-top: 2px;
      }
      .folder {
      display: block;
      height: 22px;
      padding-left: 20px;
      background: transparent url(common/jquery/treeview/images/folder.gif) 0 0px no-repeat;
      }
      span.contentsTab {
      padding-left: 20px;
      background: url(common/images/toc-icon.png) no-repeat 0 center;
      }
      span.searchTab {
      padding-left: 20px;
      background: url(common/images/search-icon.png) no-repeat 0 center;
      }
      
      /* Overide jquery treeview's defaults for ul. */
      .treeview ul {
      background-color: transparent;
      margin-top: 4px;
      }		
      #webhelp-currentid {
      /* background-color: #D8D8D8 !important; */
      background-color: #D8D8D8;
      }
      .treeview .hover { color: black; }
      .filetree li span a { text-decoration: none; font-size: 12px; color: #517291; }
      
      /* Override jquery-ui's default css customizations. These are supposed to take precedence over those.*/
      .ui-widget-content {
      border: 0px; 
      background: none; 
      color: none;     
      }
      .ui-widget-header {
      color: #e9e8e9;
      border-left: 1px solid #e5e5e5;
      border-right: 1px solid #e5e5e5;
      border-bottom: 1px solid #bbc4c5;
      border-top: 4px solid #e5e5e5;
      border: medium none;
      background: #F4F4F4; /* old browsers */
      background: -moz-linear-gradient(top, #F4F4F4 0%, #E6E4E5 100%); /* firefox */
      background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#F4F4F4), color-stop(100%,#E6E4E5)); /* webkit */    
      font-weight: none;
      }
      .ui-widget-header a { color: none; }
      .ui-state-default, .ui-widget-content .ui-state-default, .ui-widget-header .ui-state-default { 
      border: none; background: none; font-weight: none; color: none; }
      .ui-state-default a, .ui-state-default a:link, .ui-state-default a:visited { color: black; text-decoration: none; }
      .ui-state-hover, .ui-widget-content .ui-state-hover, .ui-widget-header .ui-state-hover, .ui-state-focus, .ui-widget-content .ui-state-focus, .ui-widget-header .ui-state-focus { border: none; background: none; font-weight: none; color: none; }
      
      .ui-state-active, .ui-widget-content .ui-state-active, .ui-widget-header .ui-state-active { border: none; background: none; font-weight: none; color: none; }
      .ui-state-active a, .ui-state-active a:link, .ui-state-active a:visited { 
      color: black; text-decoration: none; 	
      background: #C6C6C6; /* old browsers */
      background: -moz-linear-gradient(top, #C6C6C6 0%, #D8D8D8 100%); /* firefox */
      background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#C6C6C6), color-stop(100%,#D8D8D8)); /* webkit */
      -webkit-border-radius:15px; -moz-border-radius:10px;
      border: 1px solid #f1f1f1;
      }    
      .ui-corner-all { border-radius: 0 0 0 0; }
      
      .ui-tabs { padding: .2em;}
      .ui-tabs .ui-tabs-nav li { top: 0px; margin: -2px 0 1px; text-transform: uppercase; font-size: 10.5px;}
      .ui-tabs .ui-tabs-nav li a { padding: .25em 2em .25em 1em; margin: .5em; text-shadow: 0 1px 0 rgba(255,255,255,.5); }
      /**
      *	Basic Layout Theme
      * 
      *	This theme uses the default layout class-names for all classes
      *	Add any 'custom class-names', from options: paneClass, resizerClass, togglerClass
      */
      
      .ui-layout-pane { /* all 'panes' */ 
      background: #FFF; 
      border: 1px solid #BBB; 
      padding: 05x; 
      overflow: auto;
      } 
      
      .ui-layout-resizer { /* all 'resizer-bars' */ 
      background: #DDD; 
      top:100px
      } 
      
      .ui-layout-toggler { /* all 'toggler-buttons' */ 
      background: #AAA; 
      } 
      
    </style>
      <!--[if IE]>
	<link rel="stylesheet" type="text/css" href="../common/css/ie.css"/>
	<![endif]--><script xmlns="" type="text/javascript" src="common/browserDetect.js">
         <!----></script><script xmlns="" type="text/javascript" src="common/jquery/jquery-1.7.2.min.js">
         <!----></script><script xmlns="" type="text/javascript" src="common/jquery/jquery.ui.all.js">
         <!----></script><script xmlns="" type="text/javascript" src="common/jquery/jquery.cookie.js">
         <!----></script><script xmlns="" type="text/javascript" src="common/jquery/treeview/jquery.treeview.min.js">
         <!----></script><script xmlns="" type="text/javascript" src="common/jquery/layout/jquery.layout.js">
         <!----></script><style type="text/css">
      
      #header {
      /* background: url("../images/header-bg.png") scroll top left repeat-x #4d8c83; */
      background: transparent;
      }
      #leftnavigation {
      /* background-color: #ededed!important; */
      background-color: transparent;
      }
      #navheader {
      visibility: hidden;
      }
      #webhelp-currentid {
      /* background-color: #D8D8D8 !important; */
      background-color: #FFFFFF; /*but must be changed in main.js as well*/
      }
      .filetree span.file {
      /* background: url(images/file.gif) 0 0 no-repeat; */
      background: initial;
      }
      .filetree span.folder, .filetree span.file {
      padding: 1px 0 1px 7px;
      display: block;
      }

      /* borrowed from cisco: clientlib.css */
      .footer {
      margin: 28px 30px 0 15px;
      font-size: 80%;
      line-height: 120%;
      border-top: 1px solid #ccc;
      padding-top: 7px;
      color: #999;
      }
      .footer #footer-legal{display:inline;padding-bottom:18px}
      #framework-footer{margin:0;padding:0 0 15px 0;min-width:900px;width:100%}
      .footer a,.footer a:visited{color:#999}

      /* from ccimr.css */
      a:active  { color: #3366CC}
      a:hover   { color: #3366CC}
      a:link    { color: #3366CC}
      a:visited { color: #3366CC}

      #header img {
      float: left;
      margin-left: 20px;
      margin-top: 0px;
      }

      #header h1 {
      color: #336666;
      margin-top: 4px;
      }
      #content h1, #content h2 {
      color: #336666;
      }
      .title {
      color: #336666;
      }
      p, pre {
      margin-left: 0.1in;
      }
      p, ul, ol, li {
        font-size: 95%;
        font-family: Arial, Helvetica, sans-serif;
        margin-top: 1px;
      }
      body {
        font: 80.5% Arial, Helvetica, sans-serif;
      }
      ol {
      display: block;
      list-style-type: decimal;
      -webkit-margin-before: 1em;
      -webkit-margin-after: 1em;
      -webkit-margin-start: 0px;
      -webkit-margin-end: 0px;
      -webkit-padding-start: 40px;
      border: 1;
      }
    </style></head>
   <body>
      <noscript>
         <div id="noscript">JavaScript is disabled on your browser. Please enable JavaScript to enjoy all the features of this site.</div>
      </noscript>
      <div id="header"><a href="index.html"><img style="margin-right: 2px; width: 110; height: 73; padding-right: 25px; padding-top: 8px" align="right" src="common/images/logo.gif" alt="Cisco Systems, Inc." /></a><h1>NSO 4.4.2.3 Development<br />Experimental Feature - Nano services
         </h1>
         <div id="navheader">
            <!---->
            <table class="navLinks">
               <tr>
                  <td><a id="showHideButton" href="#" onclick="myLayout.toggle('west')" class="pointLeft" tabindex="5" title="Hide TOC tree">Sidebar
                                                    </a></td>
                  <td><a accesskey="p" class="navLinkPrevious" tabindex="5" href="ch16s04.html">Prev</a>
                                                             |
                                                             <a accesskey="u" class="navLinkUp" tabindex="5" href="ch16.html">Up</a>
                                                         |
                                                         <a accesskey="n" class="navLinkNext" tabindex="5" href="ch16s05s01.html">Next</a></td>
               </tr>
            </table>
         </div>
      </div>
      <div id="content">
         <div class="sect1">
            <div xmlns="" class="titlepage">
               <div>
                  <div>
                     <h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="d0e14355"></a>Nano services
                     </h2>
                  </div>
               </div>
            </div>
            <div class="toc">
               <dl class="toc">
                  <dt><span class="sect2"><a href="ch16s05s01.html">Nano service opaque</a></span></dt>
                  <dt><span class="sect2"><a href="ch16s05s02.html">Nano service callbacks</a></span></dt>
                  <dt><span class="sect2"><a href="ch16s05s03.html">Generic service callbacks</a></span></dt>
                  <dt><span class="sect2"><a href="ch16s05s04.html">Nano service pre/post modifications</a></span></dt>
               </dl>
            </div>
            <p>
                     A Nano service reuses the normal <code class="code">ncs:servicepoint</code>
                     YANG extension and the only difference in the service YANG
                     module is that it must use the <code class="code">ncs:nano-plan-data</code>
                     grouping.
                     This grouping is an refinement of the <code class="code">ncs:plan-data</code>
                     which cannot be used for Nano services.
                   
            </p>
            <p>
                     The following is an example of a Nano service YANG definition:
                     
            </p>
            <div class="informalexample"><pre class="programlisting"><strong xmlns="" class="hl-keyword">module</strong> myserv {
  <strong xmlns="" class="hl-keyword">namespace</strong> <strong xmlns="" class="hl-string"><em style="color:red">"http://com/tailf/examples/myserv"</em></strong>;
  <strong xmlns="" class="hl-keyword">prefix</strong> myserv;

  <strong xmlns="" class="hl-keyword">list</strong> myserv {

    <strong xmlns="" class="hl-keyword">key</strong> name;
    <strong xmlns="" class="hl-keyword">leaf</strong> name {
      tailf:info <strong xmlns="" class="hl-string"><em style="color:red">"Unique service id"</em></strong>;
      tailf:cli-allow-<strong xmlns="" class="hl-keyword">range</strong>;
      <strong xmlns="" class="hl-keyword">type</strong> string;
    }

    <strong xmlns="" class="hl-keyword">uses</strong> ncs:nano-plan-data;
    <strong xmlns="" class="hl-keyword">uses</strong> ncs:service-data;
    ncs:servicepoint myserv-servicepoint;

    <strong xmlns="" class="hl-keyword">leaf</strong>-<strong xmlns="" class="hl-keyword">list</strong> device {
      <strong xmlns="" class="hl-keyword">type</strong> leafref {
        <strong xmlns="" class="hl-keyword">path</strong> <strong xmlns="" class="hl-string"><em style="color:red">"/ncs:devices/ncs:device/ncs:name"</em></strong>;
      }
    }

    <strong xmlns="" class="hl-keyword">leaf</strong> dummy {
      <strong xmlns="" class="hl-keyword">type</strong> inet:ipv4-address;
    }
    <strong xmlns="" class="hl-keyword">leaf</strong> extended {
      <strong xmlns="" class="hl-keyword">type</strong> boolean;
      <strong xmlns="" class="hl-keyword">default</strong> false;
    }
    <strong xmlns="" class="hl-keyword">leaf</strong> fail-state {
      <strong xmlns="" class="hl-keyword">type</strong> string;
    }
  }

          .
          .
          .</pre></div>
            <p>
                     The Nano service is defined with a servicepoint just as an
                     ordinary service. However the Nano services uses the
                     <span class="emphasis"><em>ncs:nano-plan-data</em></span> YANG grouping.
                   
            </p>
            <p>
                     Next there needs to be a formal declaration of the plan and the
                     behavior tree for this Nano Service. This is done using YANG
                     extensions.
                     These declarations use YANG identities to denote plan-id,
                     component-type and plan-states. Using identities ensure
                     uniqueness and rules out syntactical errors like misspelling at
                     compile time.
                   
            </p>
            <p>
                     In our example we need a plan-id named <code class="code">myserv-plan</code>.
                     Also we use one specialized component type named
                     <code class="code">router</code>.
                     Finally we have three specialized states
                     <code class="code">syslog-initialized</code>,
                     <code class="code">ntp-initialized</code> and <code class="code">dns-initialized</code>.
                     We use the word <span class="emphasis"><em>specialized</em></span> here to
                     distinguish these component types and states from the standard
                     predefined component type <code class="code">ncs:self</code> or states
                     <code class="code">ncs:init</code> and <code class="code">ncs:ready</code>.
               
                     
            </p>
            <div class="informalexample"><pre class="programlisting">          .
          .
          .
  <strong xmlns="" class="hl-keyword">identity</strong> myserv-plan {
    <strong xmlns="" class="hl-keyword">base</strong> ncs:plan-id;
  }

  <strong xmlns="" class="hl-keyword">identity</strong> router {
    <strong xmlns="" class="hl-keyword">base</strong> ncs:plan-component-<strong xmlns="" class="hl-keyword">type</strong>;
  }

  <strong xmlns="" class="hl-keyword">identity</strong> syslog-initialized {
    <strong xmlns="" class="hl-keyword">base</strong> ncs:plan-state;
  }
  <strong xmlns="" class="hl-keyword">identity</strong> ntp-initialized {
    <strong xmlns="" class="hl-keyword">base</strong> ncs:plan-state;
  }
  <strong xmlns="" class="hl-keyword">identity</strong> dns-initialized {
    <strong xmlns="" class="hl-keyword">base</strong> ncs:plan-state;
  }
          .
          .
          .</pre></div>
            <p>
                   
            </p>
            <p>
                     The <code class="code">ncs:plan</code> declares the plan for a defined
                     plan-id.
                     It contains a list of <code class="code">ncs:component-type</code> which are
                     only allowed component types for an instance of this plan.
                     
            </p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <p>
                            Note that a Nano service instance has plan consisting of
                            <code class="code">components</code> where each component are based on a
                            component type. The <code class="code">ncs:plan</code> YANG declaration
                            does not state how many components of a certain type an
                            specific Nano service instance will have or even if all
                            declared component types will be used. It just spans all
                            possible component types available for a specific Nano service.
                          
               </p>
            </div>
            <p>
               
                     A Nano Service is expected to have a <code class="code">ncs:self</code>
                     component type, all other component types are optional.
                     Any component type, including <code class="code">ncs:self</code>, are expected
                     to have <code class="code">ncs:init</code> as its first state and
                     <code class="code">ncs:ready</code> as its last state.
                     Any component type, including <code class="code">ncs:self</code>, can have
                     any number of specific states in between <code class="code">ncs:init</code> and
                     <code class="code">ncs:ready</code>.
                   
            </p>
            <p>
                     In our example <code class="code">ncs:plan</code> declaration we have two
                     component types <code class="code">ncs:self</code> and
                     <code class="code">myserv:router</code>.
                     The <code class="code">ncs:self</code> is chosen to just contain the required
                     <code class="code">ncs:init</code> and <code class="code">ncs:ready</code> states.
                     On the other hand the <code class="code">myserv:router</code> component type
                     in addition defines the <code class="code">myserv:syslog-initialized</code>,
                     <code class="code">myserv:ntp-initialized</code>
                     and <code class="code">myserv:dns-initialized</code> states.
                     
            </p>
            <div class="informalexample"><pre class="programlisting">  ncs:plan myserv:myserv-plan {
    <strong xmlns="" class="hl-keyword">description</strong>
      <strong xmlns="" class="hl-string"><em style="color:red">"My first plan"</em></strong>;

    ncs:component-<strong xmlns="" class="hl-keyword">type</strong> <strong xmlns="" class="hl-string"><em style="color:red">"ncs:self"</em></strong> {
      ncs:state <strong xmlns="" class="hl-string"><em style="color:red">"ncs:init"</em></strong> {
        ncs:create {
          ncs:nano-callback;
        }
        ncs:delete {
          ncs:nano-callback;
        }
      }
      ncs:state <strong xmlns="" class="hl-string"><em style="color:red">"ncs:ready"</em></strong> {
        ncs:create {
          ncs:nano-callback;
        }
        ncs:delete {
          ncs:nano-callback;
        }
      }
    }

    ncs:component-<strong xmlns="" class="hl-keyword">type</strong> <strong xmlns="" class="hl-string"><em style="color:red">"myserv:router"</em></strong> {
      ncs:state <strong xmlns="" class="hl-string"><em style="color:red">"ncs:init"</em></strong>;
      ncs:state <strong xmlns="" class="hl-string"><em style="color:red">"myserv:syslog-initialized"</em></strong> {
        ncs:create {
          ncs:nano-callback;
          ncs:monitor
            <strong xmlns="" class="hl-string"><em style="color:red">"/myserv:myoper[name=$SERVICE/name]"</em></strong> {
            ncs:trigger-expr <strong xmlns="" class="hl-string"><em style="color:red">"syslog = 'true'"</em></strong>;
          }
        }
        ncs:delete {
          ncs:monitor
            <strong xmlns="" class="hl-string"><em style="color:red">"/myserv:myoper[name=$SERVICE_NAME]"</em></strong> {
            ncs:trigger-expr <strong xmlns="" class="hl-string"><em style="color:red">"syslog = 'false'"</em></strong>;
          }
        }
      }
      ncs:state <strong xmlns="" class="hl-string"><em style="color:red">"myserv:ntp-initialized"</em></strong> {
        ncs:create {
          ncs:nano-callback;
          ncs:monitor
            <strong xmlns="" class="hl-string"><em style="color:red">"/myserv:myoper[name=$SERVICE/name]"</em></strong> {
          ncs:trigger-expr <strong xmlns="" class="hl-string"><em style="color:red">"ntp = 'true'"</em></strong>;
          }
          ncs:post-action-node <strong xmlns="" class="hl-string"><em style="color:red">"/ncs:devices"</em></strong> {
            ncs:action-name <strong xmlns="" class="hl-string"><em style="color:red">"sync-from"</em></strong>;
            ncs:result-expr <strong xmlns="" class="hl-string"><em style="color:red">"count(result) = 0"</em></strong>;
          }
        }
        ncs:delete {
          ncs:nano-callback;
          ncs:monitor
            <strong xmlns="" class="hl-string"><em style="color:red">"/myserv:myoper[name=$SERVICE_NAME]"</em></strong> {
            ncs:trigger-expr <strong xmlns="" class="hl-string"><em style="color:red">"ntp = 'false'"</em></strong>;
          }
          ncs:post-action-node <strong xmlns="" class="hl-string"><em style="color:red">"/ncs:devices"</em></strong> {
            ncs:action-name <strong xmlns="" class="hl-string"><em style="color:red">"sync-from"</em></strong>;
            ncs:result-expr <strong xmlns="" class="hl-string"><em style="color:red">"count(result) = 0"</em></strong>;
          }
        }
      }

      ncs:state <strong xmlns="" class="hl-string"><em style="color:red">"myserv:dns-initialized"</em></strong> {
        ncs:create {
          ncs:nano-callback;
          ncs:monitor
            <strong xmlns="" class="hl-string"><em style="color:red">"/myserv:myoper[name=$SERVICE/name]"</em></strong> {
            ncs:trigger-expr <strong xmlns="" class="hl-string"><em style="color:red">"dns = 'true'"</em></strong>;
          }
        }
        ncs:delete {
          ncs:nano-callback;
          ncs:monitor
            <strong xmlns="" class="hl-string"><em style="color:red">"/myserv:myoper[name=$SERVICE_NAME]"</em></strong> {
            ncs:trigger-expr <strong xmlns="" class="hl-string"><em style="color:red">"dns = 'false'"</em></strong>;
          }
        }
      }
      ncs:state <strong xmlns="" class="hl-string"><em style="color:red">"ncs:ready"</em></strong>;
    }

    ncs:component-<strong xmlns="" class="hl-keyword">type</strong> <strong xmlns="" class="hl-string"><em style="color:red">"myserv:extended"</em></strong> {
      ncs:state <strong xmlns="" class="hl-string"><em style="color:red">"ncs:init"</em></strong>;
      ncs:state <strong xmlns="" class="hl-string"><em style="color:red">"myserv:interfaces-initialized"</em></strong> {
        ncs:create {
          ncs:nano-callback;
          ncs:monitor
            <strong xmlns="" class="hl-string"><em style="color:red">"/myserv:myoper[name=$SERVICE/name]"</em></strong> {
            ncs:trigger-expr <strong xmlns="" class="hl-string"><em style="color:red">"interfaces = 'true'"</em></strong>;
          }
        }
        ncs:delete {
          ncs:nano-callback;
          ncs:monitor
            <strong xmlns="" class="hl-string"><em style="color:red">"/myserv:myoper[name=$SERVICE_NAME]"</em></strong> {
            ncs:trigger-expr <strong xmlns="" class="hl-string"><em style="color:red">"interfaces = 'false'"</em></strong>;
          }
        }
      }
      ncs:state <strong xmlns="" class="hl-string"><em style="color:red">"ncs:ready"</em></strong>;
    }
  }
          .
          .
          .</pre></div>
            <p>
                     The <code class="code">ncs:create</code> and/or
                     the <code class="code">ncs:delete</code> declaration contains the specifics
                     for a create or delete (back-tracking) operation in this plan
                     state.
                     The <code class="code">ncs:nano-callback</code> implies that a Nano service
                     callback of this type is expected for the state.
                     The <code class="code">ncs:monitor</code> declarations specifies the
                     states create or delete pre-condition respectively.
                     The <code class="code">ncs:post-action-node</code> declaration is the post
                     action to be executed after successful completion of the state.
                   
            </p>
            <p>
                     Next the Nano service requires a behavior tree which actual
                     components will be instantiated under any circumstances. The
                     behavior tree is also declared using YANG extensions.
                   
            </p>
            <p>
                     The <code class="code">ncs:behavior-tree</code> declaration takes a
                     servicepoint as argument and exploits a <code class="code">ncs:plan</code> by
                     referring to its plan-id in the <code class="code">ncs:plan-ref</code>
                     mandatory declaration.
               
                     Our example behavior tree only consists of a
                     <code class="code">ncs:selector</code> control-flow node with two
                     <code class="code">ncs:component</code> leafs. This implies that all service
                     instances of this service type will have a static plan with two
                     components named "self" and "router".
                     
            </p>
            <div class="informalexample"><pre class="programlisting">          .
          .
          .
  ncs:behavior-tree myserv-servicepoint {
    description
      "My first behaviour tree YANG extension test";

    ncs:plan-ref "myserv:myserv-plan";

    ncs:selector {
      ncs:component "self" {
        ncs:component-type-ref "ncs:self";
      }
      ncs:component "router" {
        ncs:component-type-ref "myserv:router";
      }
    }
  }</pre></div>
            <p>
                   
            </p>
            <p>
                     From a user perspective a Nano service and an ordinary RFM
                     service with <code class="code">ncs:plan-data</code> is very similarly.
                     From a service developer perspective they are very different.
                     The Nano service has a defined behaviour tree that controls the
                     plan data definitions and no explicit writing of plan data are
                     allowed.
                     Also the Nano service require an number of callbacks to
                     be registered.
                   
            </p>
            <p>
                     The Nano service allows for registration of callbacks on any
                     plan state in the plan. Also in addition to the
                     <code class="code">create()</code> callback there is also a optional
                     <code class="code">delete()</code> callback that is invoked when the
                     corresponding plan component is in back-tracking mode.
                   
            </p>
            <p>
                     The <code class="code">create()</code> Nano service callback have the same
                     purpose and is very similar to the <code class="code">create()</code> callback of an
                     ordinary service. The main difference is that it will not only
                     set device configuration data but also has the possibility to
                     veto on the resulting status for the respective plan state.
                   
            </p>
            <p>
                     The <code class="code">delete()</code> callback is not allowed to write
                     configuration data since it is called under a removal phase of a
                     plan component. The reason for its existence is when it is
                     necessary to calculate and veto on the resulting status for a
                     back-tracking state.
                     Remember that the delete pre-condition is already satisfied and
                     the default resulting state will be not-reached. This implies that
                     registering a <code class="code">delete()</code> callback is seldom necessary
                     if a delete pre-condition has been defined for the corresponding
                     plan state.
                   
            </p>
            <p>
                     The Nano service needs a number of callback registrations, one
                     for each plan component state. Note, however that not all states
                     needs any callbacks at all. In many cases the state acts as an
                     checkpoint that some condition is satisfied. This is what the state
                     pre-conditions do. A components
                     <code class="code">ncs:ready</code> state is an good example of this.
                   
            </p>
            <p>
                     There is actually a complication with this flexible callback
                     registration. There must be a way for the NSO Service
                     Manager to know if all expected Nano Service callbacks has been
                     registered. For this reason all Nano Service plan component
                     states that requires callbacks are marked with this information.
                     When the plan is executed and the callback markings in the plan
                     mismatches with the actual registrations this results in an error.
                   
            </p>
            <p>
                     All callback registrations in NSO requires a
                     <span class="emphasis"><em>daemon</em></span> to be instantiated. Normally the
                     environment takes care of this, e.g the ncs-java-vm or the
                     ncs-python-vm.
                     For Nano services it is allowed to have many <span class="emphasis"><em>daemons</em></span>
                     where each <span class="emphasis"><em>daemon</em></span> is responsible for a
                     subset of the plan state callback registrations.
                     The neat thing here is that it becomes possible to mix
                     different callback types (Template/Python/Java) for different plan states.
                   
            </p>
            <p>
                     
            </p>
            <div class="mediaobject" align="center">
               <table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="567">
                  <tr>
                     <td align="center"><object type="image/svg+xml" data="nano/nano-service-impl.svg" width="567" align="middle"></object></td>
                  </tr>
               </table>
            </div>
            <p>
                   
            </p>
            <p>
                     A important use-case for the mixed callback feature is the case
                     where most of the callbacks are templates, and only some are
                     Java or Python. The reason for this is that Nano services when
                     applying a template tries to resolve the template parameters
                     using the Nano service opaque.
                     This is a unique functionality for Nano services that makes Java or
                     Python apply-template callbacks unnecessary. More on this below.
                   
            </p>
         </div><script type="text/javascript" src="common/main.js">
            <!----></script><script type="text/javascript" src="common/splitterInit.js">
            <!----></script><div class="footer" id="footer-legal">
            <div class="footer-legal framework-footer-cq">
               <div id="framework-footer">
                  <div id="footer-legal"><a href="http://www.cisco.com/web/siteassets/legal/terms_condition.html">Terms &amp; Conditions</a> |
                                 <a href="http://www.cisco.com/web/siteassets/legal/privacy.html">Privacy Statement</a> |
                                 <a href="http://www.cisco.com/web/siteassets/legal/privacy.html#cookies">Cookie Policy</a> |
                                 <a href="http://www.cisco.com/web/siteassets/legal/trademark.html">Trademarks</a></div>
               </div>
            </div>
         </div>
      </div>
      <div id="sidebar">
         <div id="leftnavigation" style="padding-top:3px;">
            <div id="tabs">
               <ul style="visibility: hidden;"></ul>
               <div id="treeDiv"><img src="common/images/loading.gif" alt="loading table of contents..." id="tocLoading" style="display:block;" /><div id="ulTreeDiv" style="display:none">
                     <ul id="tree" class="filetree">
                        <li><span class="file"><a href="ncs.ug.architecture.html" tabindex="1">NSO Architecture</a></span><ul>
                              <li><span class="file"><a href="ch01s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ch01s02.html" tabindex="1">Architecture Overview</a></span></li>
                              <li><span class="file"><a href="ch01s03.html" tabindex="1">The NSO Data Model</a></span></li>
                              <li><span class="file"><a href="ch01s04.html" tabindex="1">Process Architecture</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ug.javavm.html" tabindex="1">The NSO Java VM</a></span><ul>
                              <li><span class="file"><a href="ch02s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ch02s02.html" tabindex="1">The NED component type</a></span></li>
                              <li><span class="file"><a href="ch02s03.html" tabindex="1">The callback component type</a></span></li>
                              <li><span class="file"><a href="ch02s04.html" tabindex="1">The application component type</a></span></li>
                              <li><span class="file"><a href="ncs.ug.javavm.resman.html" tabindex="1">The Resource Manager</a></span></li>
                              <li><span class="file"><a href="ch02s06.html" tabindex="1">The Alarm centrals</a></span></li>
                              <li><span class="file"><a href="ch02s07.html" tabindex="1">Embedding the NSO Java VM</a></span></li>
                              <li><span class="file"><a href="ch02s08.html" tabindex="1">JMX interface</a></span></li>
                              <li><span class="file"><a href="ch02s09.html" tabindex="1">Logging</a></span><ul>
                                    <li><span class="file"><a href="ch02s09s01.html" tabindex="1">The NSO Java VM timeouts</a></span></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ncs.development.pythonvm.html" tabindex="1">The NSO Python VM</a></span><ul>
                              <li><span class="file"><a href="ch03s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ch03s02.html" tabindex="1">YANG model</a></span></li>
                              <li><span class="file"><a href="ncs.development.pythonvm.ucode.html" tabindex="1">Structure of the User provided code</a></span><ul>
                                    <li><span class="file"><a href="ncs.development.pythonvm.cthread.html" tabindex="1">The application component</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ncs.development.pythonvm.debug.html" tabindex="1">Debugging of Python packages</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ncs.development.embedded_erlang.html" tabindex="1">Embedded Erlang applications</a></span><ul>
                              <li><span class="file"><a href="ch04s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ch04s02.html" tabindex="1">Erlang API</a></span></li>
                              <li><span class="file"><a href="ch04s03.html" tabindex="1">Application configuration</a></span></li>
                              <li><span class="file"><a href="ch04s04.html" tabindex="1">Example</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ug.cdb.html" tabindex="1">CDB - The NSO Configuration Database</a></span><ul>
                              <li><span class="file"><a href="ch05s01.html" tabindex="1">Introduction</a></span><ul>
                                    <li><span class="file"><a href="ch05s01s01.html" tabindex="1">Key Features of CDB</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch05s02.html" tabindex="1">Addressing Data Using Keypaths</a></span></li>
                              <li><span class="file"><a href="ug.cdb.subscriptions.html" tabindex="1">Subscriptions</a></span></li>
                              <li><span class="file"><a href="ch05s04.html" tabindex="1">Sessions</a></span></li>
                              <li><span class="file"><a href="ug.cdb.init.html" tabindex="1">Loading Initial Data Into CDB</a></span></li>
                              <li><span class="file"><a href="ug.cdb.opdata.html" tabindex="1">Operational Data in CDB</a></span><ul>
                                    <li><span class="file"><a href="ch05s06s01.html" tabindex="1">Subscriptions</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch05s07.html" tabindex="1">Example</a></span><ul>
                                    <li><span class="file"><a href="ch05s07s01.html" tabindex="1">Operational Data</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ug.cdb.upgrade.html" tabindex="1">Automatic Schema Upgrades and Downgrades</a></span></li>
                              <li><span class="file"><a href="ch05s09.html" tabindex="1">Using Initialization Files for Upgrade</a></span></li>
                              <li><span class="file"><a href="ncs.cdb.upgrade.comp.html" tabindex="1">Writing an Upgrade Package Component</a></span></li>
                              <li><span class="file"><a href="ch05s11.html" tabindex="1">Automatic Service Upgrade from NCS 2.x to NCS 3.0</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ug.java_api_overview.html" tabindex="1">Java API Overview</a></span><ul>
                              <li><span class="file"><a href="ch06s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ug.ncs.api.maapi.html" tabindex="1">MAAPI</a></span></li>
                              <li><span class="file"><a href="ch06s03.html" tabindex="1">CDB API</a></span></li>
                              <li><span class="file"><a href="ug.java_api_overview.dp.html" tabindex="1">DP API</a></span><ul>
                                    <li><span class="file"><a href="ch06s04s01.html" tabindex="1">Transaction and Data Callbacks</a></span></li>
                                    <li><span class="file"><a href="ch06s04s02.html" tabindex="1">Service and Action Callbacks</a></span></li>
                                    <li><span class="file"><a href="ch06s04s03.html" tabindex="1">Validation Callbacks</a></span></li>
                                    <li><span class="file"><a href="ch06s04s04.html" tabindex="1">Transforms</a></span></li>
                                    <li><span class="file"><a href="ch06s04s05.html" tabindex="1">Hooks</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch06s05.html" tabindex="1">NED API</a></span></li>
                              <li><span class="file"><a href="ug.java_api_overview.navu.html" tabindex="1">NAVU API</a></span></li>
                              <li><span class="file"><a href="ch06s07.html" tabindex="1">ALARM API</a></span></li>
                              <li><span class="file"><a href="ug.java_api_overview.notif.html" tabindex="1">NOTIF API</a></span></li>
                              <li><span class="file"><a href="ch06s09.html" tabindex="1">HA API</a></span></li>
                              <li><span class="file"><a href="ch06s10.html" tabindex="1">Java API Conf Package</a></span></li>
                              <li><span class="file"><a href="ch06s11.html" tabindex="1">Namespace classes and the loaded schema</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ug.python_api_overview.html" tabindex="1">Python API Overview</a></span><ul>
                              <li><span class="file"><a href="ch07s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ch07s02.html" tabindex="1">Python API overview</a></span></li>
                              <li><span class="file"><a href="ch07s03.html" tabindex="1">Python scripting</a></span></li>
                              <li><span class="file"><a href="ch07s04.html" tabindex="1">High-level MAAPI API</a></span></li>
                              <li><span class="file"><a href="ch07s05.html" tabindex="1">Maagic API</a></span><ul>
                                    <li><span class="file"><a href="ch07s05s01.html" tabindex="1">Namespaces</a></span></li>
                                    <li><span class="file"><a href="ch07s05s02.html" tabindex="1">Reading data</a></span></li>
                                    <li><span class="file"><a href="ch07s05s03.html" tabindex="1">Writing data</a></span></li>
                                    <li><span class="file"><a href="ch07s05s04.html" tabindex="1">Deleting data</a></span></li>
                                    <li><span class="file"><a href="ch07s05s05.html" tabindex="1">Containers</a></span></li>
                                    <li><span class="file"><a href="ch07s05s06.html" tabindex="1">Presence containers</a></span></li>
                                    <li><span class="file"><a href="ch07s05s07.html" tabindex="1">Choices</a></span></li>
                                    <li><span class="file"><a href="ch07s05s08.html" tabindex="1">Lists and List elements</a></span></li>
                                    <li><span class="file"><a href="ch07s05s09.html" tabindex="1">Unions</a></span></li>
                                    <li><span class="file"><a href="ch07s05s10.html" tabindex="1">Enumeration</a></span></li>
                                    <li><span class="file"><a href="ch07s05s11.html" tabindex="1">Leafref</a></span></li>
                                    <li><span class="file"><a href="ch07s05s12.html" tabindex="1">Identityref</a></span></li>
                                    <li><span class="file"><a href="ch07s05s13.html" tabindex="1">Instance-identifier</a></span></li>
                                    <li><span class="file"><a href="ch07s05s14.html" tabindex="1">Leaf-list</a></span></li>
                                    <li><span class="file"><a href="ch07s05s15.html" tabindex="1">Binary</a></span></li>
                                    <li><span class="file"><a href="ch07s05s16.html" tabindex="1">Bits</a></span></li>
                                    <li><span class="file"><a href="ch07s05s17.html" tabindex="1">Empty leaf</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch07s06.html" tabindex="1">Maagic examples</a></span><ul>
                                    <li><span class="file"><a href="ch07s06s01.html" tabindex="1">Action requests</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch07s07.html" tabindex="1">PlanComponent</a></span></li>
                              <li><span class="file"><a href="ch07s08.html" tabindex="1">Python packages</a></span><ul>
                                    <li><span class="file"><a href="ch07s08s01.html" tabindex="1">Action handler</a></span></li>
                                    <li><span class="file"><a href="ch07s08s02.html" tabindex="1">Service handler</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch07s09.html" tabindex="1">Low-level APIs</a></span><ul>
                                    <li><span class="file"><a href="ch07s09s01.html" tabindex="1">Low-level MAAPI API</a></span></li>
                                    <li><span class="file"><a href="ch07s09s02.html" tabindex="1">Low-level CDB API</a></span></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ug.packages.html" tabindex="1">NSO Packages</a></span><ul>
                              <li><span class="file"><a href="ug.packages.overview.html" tabindex="1">Package Overview</a></span></li>
                              <li><span class="file"><a href="ch08s02.html" tabindex="1">An Example Package</a></span></li>
                              <li><span class="file"><a href="ch08s03.html" tabindex="1">Components</a></span></li>
                              <li><span class="file"><a href="ug.packages.creating.html" tabindex="1">Creating Packages </a></span><ul>
                                    <li><span class="file"><a href="ch08s04s01.html" tabindex="1">Creating a NETCONF NED Package</a></span></li>
                                    <li><span class="file"><a href="ch08s04s02.html" tabindex="1">Creating an SNMP NED Package</a></span></li>
                                    <li><span class="file"><a href="ch08s04s03.html" tabindex="1">Creating a CLI NED Package or a Generic NED Package</a></span></li>
                                    <li><span class="file"><a href="ch08s04s04.html" tabindex="1">Creating a Service Package or a Data Provider Package</a></span></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ug.package_dev.html" tabindex="1">Package Development</a></span><ul>
                              <li><span class="file"><a href="ch09s01.html" tabindex="1">Developing a Service Package</a></span></li>
                              <li><span class="file"><a href="ch09s02.html" tabindex="1">ncs-setup</a></span></li>
                              <li><span class="file"><a href="ch09s03.html" tabindex="1">The netsim Part of a NED Package</a></span></li>
                              <li><span class="file"><a href="ug.scripting_devel.html" tabindex="1">Plug-and-play scripting</a></span></li>
                              <li><span class="file"><a href="ch09s05.html" tabindex="1">Creating a Service Package</a></span></li>
                              <li><span class="file"><a href="ch09s06.html" tabindex="1">Java Service Implementation</a></span></li>
                              <li><span class="file"><a href="ch09s07.html" tabindex="1">Developing our First Service Application</a></span></li>
                              <li><span class="file"><a href="ch09s08.html" tabindex="1">Tracing Within the NSO Service Manager</a></span></li>
                              <li><span class="file"><a href="ch09s09.html" tabindex="1">Controlling error messages info level from Java</a></span></li>
                              <li><span class="file"><a href="ug.package_dev.loading.html" tabindex="1">Loading Packages</a></span></li>
                              <li><span class="file"><a href="ch09s11.html" tabindex="1">Debugging the Service and Using Eclipse IDE</a></span><ul>
                                    <li><span class="file"><a href="ch09s11s01.html" tabindex="1">Running the NSO Java VM Standalone</a></span></li>
                                    <li><span class="file"><a href="ch09s11s02.html" tabindex="1">Using Eclipse to Debug the Package Java Code</a></span></li>
                                    <li><span class="file"><a href="ch09s11s03.html" tabindex="1">Remote Connecting with Eclipse to the NSO Java VM</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch09s12.html" tabindex="1">Working with ncs-project</a></span><ul>
                                    <li><span class="file"><a href="ch09s12s01.html" tabindex="1">Create a new project</a></span></li>
                                    <li><span class="file"><a href="ch09s12s02.html" tabindex="1">Project setup</a></span></li>
                                    <li><span class="file"><a href="ch09s12s03.html" tabindex="1">Export</a></span></li>
                                    <li><span class="file"><a href="ch09s12s04.html" tabindex="1">NCS Project man pages</a></span></li>
                                    <li><span class="file"><a href="ch09s12s05.html" tabindex="1">NCS Project YANG model</a></span></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ncs.development.services.html" tabindex="1">Developing NSO Services</a></span><ul>
                              <li><span class="file"><a href="ch10s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ch10s02.html" tabindex="1">Definitions</a></span></li>
                              <li><span class="file"><a href="ch10s03.html" tabindex="1">The Fundamentals</a></span><ul>
                                    <li><span class="file"><a href="ch10s03s01.html" tabindex="1">Mapping</a></span></li>
                                    <li><span class="file"><a href="ch10s03s02.html" tabindex="1">
                                                     FASTMAP and Transactions
                                                   </a></span></li>
                                    <li><span class="file"><a href="ch10s03s03.html" tabindex="1">Auto-rendering from the Service Model</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch10s04.html" tabindex="1">Writing the Service Model</a></span></li>
                              <li><span class="file"><a href="ch10s05.html" tabindex="1">Finding the Mapping</a></span><ul>
                                    <li><span class="file"><a href="ch10s05s01.html" tabindex="1">
                                                     Mapping Iterations
                                                   </a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch10s06.html" tabindex="1">Strategies to Implement the Mapping</a></span></li>
                              <li><span class="file"><a href="ch10s07.html" tabindex="1">Creating an NSO Service Application</a></span></li>
                              <li><span class="file"><a href="ncs.development.services.mapping_template.html" tabindex="1">
                                           Mapping using Service Templates</a></span><ul>
                                    <li><span class="file"><a href="ch10s08s01.html" tabindex="1">Preparation</a></span></li>
                                    <li><span class="file"><a href="ch10s08s02.html" tabindex="1">Defining the Service Model</a></span></li>
                                    <li><span class="file"><a href="ch10s08s03.html" tabindex="1">Defining the Template</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ncs.development.services.mapping_java.html" tabindex="1">Mapping using Java</a></span><ul>
                                    <li><span class="file"><a href="ch10s09s01.html" tabindex="1">Overview</a></span></li>
                                    <li><span class="file"><a href="ch10s09s02.html" tabindex="1">Setting up the environment</a></span></li>
                                    <li><span class="file"><a href="ch10s09s03.html" tabindex="1">Creating a service package</a></span></li>
                                    <li><span class="file"><a href="ch10s09s04.html" tabindex="1">The Service Model</a></span></li>
                                    <li><span class="file"><a href="ch10s09s05.html" tabindex="1">Managing the NSO Java VM</a></span></li>
                                    <li><span class="file"><a href="ch10s09s06.html" tabindex="1">A first look at Java Development</a></span></li>
                                    <li><span class="file"><a href="ch10s09s07.html" tabindex="1">Using Eclipse</a></span></li>
                                    <li><span class="file"><a href="ch10s09s08.html" tabindex="1">Writing the service code</a></span><ul>
                                          <li><span class="file"><a href="ch10s09s08.html#d0e9155" tabindex="1">Fetching the service attributes</a></span></li>
                                          <li><span class="file"><a href="ch10s09s08.html#d0e9243" tabindex="1">Mapping service attributes to device configuration</a></span></li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch10s10.html" tabindex="1">Mapping using Java combined with Templates</a></span><ul>
                                    <li><span class="file"><a href="ch10s10s01.html" tabindex="1">Overview</a></span></li>
                                    <li><span class="file"><a href="ch10s10s02.html" tabindex="1">The VLAN Feature Template</a></span></li>
                                    <li><span class="file"><a href="ch10s10s03.html" tabindex="1">The VLAN Java Logic</a></span></li>
                                    <li><span class="file"><a href="ch10s10s04.html" tabindex="1">Steps to Build a Java and Template Solution</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch10s11.html" tabindex="1">Service Mapping: Putting Things Together</a></span><ul>
                                    <li><span class="file"><a href="ch10s11s01.html" tabindex="1">Auxiliary Service Data</a></span></li>
                                    <li><span class="file"><a href="ch10s11s02.html" tabindex="1">Topology</a></span></li>
                                    <li><span class="file"><a href="ch10s11s03.html" tabindex="1">Creating a Multi-Vendor Service</a></span><ul>
                                          <li><span class="file"><a href="ch10s11s03.html#d0e9646" tabindex="1">YANG Service Model Design</a></span></li>
                                       </ul>
                                    </li>
                                    <li><span class="file"><a href="ch10s11s04.html" tabindex="1">Defining the Mapping</a></span><ul>
                                          <li><span class="file"><a href="ch10s11s04.html#d0e9831" tabindex="1">The Java Code</a></span></li>
                                          <li><span class="file"><a href="ch10s11s04.html#d0e9861" tabindex="1">Configuration Templates</a></span></li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch10s12.html" tabindex="1">FASTMAP Description</a></span></li>
                              <li><span class="file"><a href="ncs.development.reactive_fastmap.html" tabindex="1">
                                           Reactive FASTMAP
                                         </a></span><ul>
                                    <li><span class="file"><a href="ncs.development.reactive_fastmap.plan.html" tabindex="1">Progress reporting using plan-data</a></span><ul>
                                          <li><span class="file"><a href="ncs.development.reactive_fastmap.plan.html#d0e10284" tabindex="1">Example: use of plan-data in the virtual-mpls-vpn</a></span></li>
                                       </ul>
                                    </li>
                                    <li><span class="file"><a href="ch10s13s02.html" tabindex="1">Performance Considerations</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch10s14.html" tabindex="1">Services that involve virtual devices, NFV</a></span><ul>
                                    <li><span class="file"><a href="ch10s14s01.html" tabindex="1">
                                                   Starting a virtual machine
                                                 </a></span></li>
                                    <li><span class="file"><a href="ch10s14s02.html" tabindex="1">
                                                   Stopping a virtual machine
                                                 </a></span></li>
                                    <li><span class="file"><a href="ch10s14s03.html" tabindex="1">
                                                   How to handle Licenses
                                                 </a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch10s15.html" tabindex="1">
                                           Advanced Mapping Techniques
                                         </a></span><ul>
                                    <li><span class="file"><a href="ch10s15s01.html" tabindex="1">
                                                   Create Methods
                                                 </a></span></li>
                                    <li><span class="file"><a href="ncs.development.services.opaque.html" tabindex="1">
                                                   Persistent FASTMAP Properties
                                                 </a></span></li>
                                    <li><span class="file"><a href="ncs.development.services.prepost.html" tabindex="1">
                                                   Pre and post hooks
                                                 </a></span></li>
                                    <li><span class="file"><a href="ncs.development.services.stacked_services.html" tabindex="1">Stacked Services and Shared Structures</a></span></li>
                                    <li><span class="file"><a href="ch10s15s05.html" tabindex="1">FASTMAP pre-lock create option</a></span></li>
                                    <li><span class="file"><a href="ch10s15s06.html" tabindex="1">
                                                   Service Caveats
                                                 </a></span><ul>
                                          <li><span class="file"><a href="ch10s15s06.html#d0e10914" tabindex="1">
                                                           Finding Caveats
                                                         </a></span></li>
                                          <li><span class="file"><a href="ch10s15s06.html#d0e10942" tabindex="1">delete</a></span></li>
                                          <li><span class="file"><a href="ch10s15s06.html#d0e10993" tabindex="1">leaf-list</a></span></li>
                                          <li><span class="file"><a href="ch10s15s06.html#d0e11008" tabindex="1">set</a></span></li>
                                          <li><span class="file"><a href="ch10s15s06.html#d0e11019" tabindex="1">create</a></span></li>
                                          <li><span class="file"><a href="ch10s15s06.html#d0e11030" tabindex="1">move</a></span></li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch10s16.html" tabindex="1">Service Discovery</a></span><ul>
                                    <li><span class="file"><a href="ch10s16s01.html" tabindex="1">Discovery basics</a></span></li>
                                    <li><span class="file"><a href="ch10s16s02.html" tabindex="1">Reconciliation caveats</a></span></li>
                                    <li><span class="file"><a href="ch10s16s03.html" tabindex="1">Reconciling in bulk</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ncs.development.services.partialsync.html" tabindex="1">Partial sync-from</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ncs.development.templates.html" tabindex="1">Templates</a></span><ul>
                              <li><span class="file"><a href="ncs.development.templates.intro.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ug.templates.dev.config.templates.html" tabindex="1">Config templates</a></span><ul>
                                    <li><span class="file"><a href="ncs.development.templates.dev.tmpl.html" tabindex="1">Create a Config-template from a Device-template</a></span></li>
                                    <li><span class="file"><a href="ch11s02s02.html" tabindex="1">Create a Config-template from a device configuration</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ncs.development.templates.basicPrinciples.html" tabindex="1">Basic principles</a></span><ul>
                                    <li><span class="file"><a href="ch11s03s01.html" tabindex="1">Values in a template</a></span></li>
                                    <li><span class="file"><a href="ncs.development.templates.contexts.html" tabindex="1">XPath Context in config-templates</a></span></li>
                                    <li><span class="file"><a href="ch11s03s03.html" tabindex="1">Conditional Statements</a></span></li>
                                    <li><span class="file"><a href="ch11s03s04.html" tabindex="1">Loop Statements</a></span></li>
                                    <li><span class="file"><a href="ch11s03s05.html" tabindex="1">Capabilities and Namespaces</a></span></li>
                                    <li><span class="file"><a href="ch11s03s06.html" tabindex="1">Template tag operations</a></span></li>
                                    <li><span class="file"><a href="ch11s03s07.html" tabindex="1">Operations on ordered-by user lists and leaf-lists</a></span></li>
                                    <li><span class="file"><a href="ch11s03s08.html" tabindex="1">Debugging templates</a></span><ul>
                                          <li><span class="file"><a href="ch11s03s08.html#d0e12199" tabindex="1">debug template output examples</a></span></li>
                                          <li><span class="file"><a href="ch11s03s08.html#d0e12288" tabindex="1">XPath help</a></span></li>
                                          <li><span class="file"><a href="ch11s03s08.html#d0e12315" tabindex="1">XPath trace log</a></span></li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ncs.development.templates.service.templates.html" tabindex="1">Service Templates</a></span></li>
                              <li><span class="file"><a href="ncs.development.templates.api.templates.html" tabindex="1">Templates applied from an API</a></span><ul>
                                    <li><span class="file"><a href="ch11s05s01.html" tabindex="1">Feature Template</a></span></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ug.ncs.alarmmgr_dev.html" tabindex="1">Developing Alarm Applications</a></span><ul>
                              <li><span class="file"><a href="ch12s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ch12s02.html" tabindex="1">Using the Alarms Sink</a></span></li>
                              <li><span class="file"><a href="ch12s03.html" tabindex="1">Using the Alarms Source</a></span></li>
                              <li><span class="file"><a href="ch12s04.html" tabindex="1">Extending the alarm manager,
                                                  adding user defined alarm types and fields</a></span></li>
                              <li><span class="file"><a href="ch12s05.html" tabindex="1">Mapping alarms to objects</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ncs.development.snmp_notif_recv.html" tabindex="1">SNMP Notification Receiver</a></span><ul>
                              <li><span class="file"><a href="ncs.development.snmp_notf_recv.introduction.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ch13s02.html" tabindex="1">Configuring NSO to Receive SNMP Notifications</a></span></li>
                              <li><span class="file"><a href="ch13s03.html" tabindex="1">Built-in Filters</a></span></li>
                              <li><span class="file"><a href="ch13s04.html" tabindex="1">Notification Handlers</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ch14.html" tabindex="1">The web server</a></span><ul>
                              <li><span class="file"><a href="ch14s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ch14s02.html" tabindex="1">Web server capabilities</a></span></li>
                              <li><span class="file"><a href="ch14s03.html" tabindex="1">CGI support</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ug.kicker.html" tabindex="1">Kicker </a></span><ul>
                              <li><span class="file"><a href="ch15s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ug.kicker.actions.html" tabindex="1">Kicker action invocation</a></span></li>
                              <li><span class="file"><a href="ug.kicker.data-concepts.html" tabindex="1">Data Kicker Concepts</a></span><ul>
                                    <li><span class="file"><a href="ch15s03s01.html" tabindex="1">Generalized Monitors</a></span></li>
                                    <li><span class="file"><a href="ch15s03s02.html" tabindex="1">Kicker Constraints/Filters</a></span></li>
                                    <li><span class="file"><a href="ug.data.kicker.named_xpath.html" tabindex="1">Variable Bindings</a></span></li>
                                    <li><span class="file"><a href="ug.kicker.simple_data_example.html" tabindex="1">A Simple Data Kicker Example</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ug.kicker.notif-concepts.html" tabindex="1">Notification Kicker Concepts</a></span><ul>
                                    <li><span class="file"><a href="ch15s04s01.html" tabindex="1">Notification selector expression</a></span></li>
                                    <li><span class="file"><a href="ug.notif.kicker.named_xpath.html" tabindex="1">Variable Bindings</a></span></li>
                                    <li><span class="file"><a href="ug.kicker.simple_notif_example.html" tabindex="1">A Simple Notification Kicker Example</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ug.kicker.rfm.html" tabindex="1">Reactive FastMap with Kicker</a></span><ul>
                                    <li><span class="file"><a href="ug.kicker.rfm.use_cases.html" tabindex="1">Use Cases</a></span></li>
                                    <li><span class="file"><a href="ug.kicker.rfm.example.html" tabindex="1">RFM Example</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ug.kicker.debugging.html" tabindex="1">Debugging kickers</a></span><ul>
                                    <li><span class="file"><a href="ug.kicker.debugging.pipe.html" tabindex="1">Kicker CLI Debug target</a></span></li>
                                    <li><span class="file"><a href="ug.kicker.debugging.unhide.html" tabindex="1">Unhide Kickers</a></span></li>
                                    <li><span class="file"><a href="ch15s06s03.html" tabindex="1">XPath log</a></span></li>
                                    <li><span class="file"><a href="ch15s06s04.html" tabindex="1">Devel Log</a></span></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ch16.html" tabindex="1">Experimental Feature - Nano services</a></span><ul>
                              <li><span class="file"><a href="ch16s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ch16s02.html" tabindex="1">Principles</a></span><ul>
                                    <li><span class="file"><a href="ch16s02s01.html" tabindex="1">Normal service</a></span></li>
                                    <li><span class="file"><a href="ch16s02s02.html" tabindex="1">Nano service</a></span></li>
                                    <li><span class="file"><a href="ch16s02s03.html" tabindex="1">Back-tracking</a></span><ul>
                                          <li><span class="file"><a href="ch16s02s03.html#d0e14085" tabindex="1">State pre-condition not satisfied</a></span></li>
                                          <li><span class="file"><a href="ch16s02s03.html#d0e14115" tabindex="1">Plan component is removed</a></span></li>
                                          <li><span class="file"><a href="ch16s02s03.html#d0e14142" tabindex="1">Service is deleted</a></span></li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch16s03.html" tabindex="1">Zombie services</a></span></li>
                              <li><span class="file"><a href="ch16s04.html" tabindex="1">Behaviour tree</a></span></li>
                              <li id="webhelp-currentid"><span class="file"><a href="ch16s05.html" tabindex="1">Nano services</a></span><ul>
                                    <li><span class="file"><a href="ch16s05s01.html" tabindex="1">Nano service opaque</a></span></li>
                                    <li><span class="file"><a href="ch16s05s02.html" tabindex="1">Nano service callbacks</a></span></li>
                                    <li><span class="file"><a href="ch16s05s03.html" tabindex="1">Generic service callbacks</a></span></li>
                                    <li><span class="file"><a href="ch16s05s04.html" tabindex="1">Nano service pre/post modifications</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch16s06.html" tabindex="1">Side effects</a></span></li>
                              <li><span class="file"><a href="ch16s07.html" tabindex="1">How it all comes together</a></span></li>
                           </ul>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>