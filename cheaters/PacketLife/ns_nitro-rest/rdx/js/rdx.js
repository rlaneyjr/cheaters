/*
 * jQuery JavaScript Library v1.5.2
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Thu Mar 31 15:28:23 2011 -0400
 */
(function(aR,aP){function af(b){return aL.isWindow(b)?b:b.nodeType===9?b.defaultView||b.parentWindow:!1}function al(e){if(!cn[e]){var d=aL("<"+e+">").appendTo("body"),f=d.css("display");d.remove();if(f==="none"||f===""){f="block"}cn[e]=f}return cn[e]}function an(e,d){var f={};aL.each(ao.concat.apply([],ao.slice(0,d)),function(){f[this]=e});return f}function c2(){try{return new aR.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}function cu(){try{return new aR.XMLHttpRequest}catch(a){}}function cw(){aL(aR).unload(function(){for(var b in cz){cz[b](0,1)}})}function cI(B,A){B.dataFilter&&(A=B.dataFilter(A,B.dataType));var z=B.dataTypes,y={},x,w,v=z.length,u,t=z[0],s,r,q,d,b;for(x=1;x<v;x++){if(x===1){for(w in B.converters){typeof w==="string"&&(y[w.toLowerCase()]=B.converters[w])}}s=t,t=z[x];if(t==="*"){t=s}else{if(s!=="*"&&s!==t){r=s+" "+t,q=y[r]||y["* "+t];if(!q){b=aP;for(d in y){u=d.split(" ");if(u[0]===s||u[0]==="*"){b=y[u[1]+" "+t];if(b){d=y[d],d===!0?q=b:b===!0&&(q=d);break}}}}!q&&!b&&aL.error("No conversion from "+r.replace(" "," to ")),q!==!0&&(A=q?q(A):b(d(A)))}}}return A}function cJ(t,s,r){var q=t.contents,p=t.dataTypes,o=t.responseFields,n,m,l,b;for(m in o){m in r&&(s[o[m]]=r[m])}while(p[0]==="*"){p.shift(),n===aP&&(n=t.mimeType||s.getResponseHeader("content-type"))}if(n){for(m in q){if(q[m]&&q[m].test(n)){p.unshift(m);break}}}if(p[0] in r){l=p[0]}else{for(m in r){if(!p[0]||t.converters[m+" "+p[0]]){l=m;break}b||(b=m)}l=l||b}if(l){l!==p[0]&&p.unshift(l);return r[l]}}function cK(g,d,k,j){if(aL.isArray(d)&&d.length){aL.each(d,function(a,c){k||aQ.test(g)?j(g,c):cK(g+"["+(typeof c==="object"||aL.isArray(c)?a:"")+"]",c,k,j)})}else{if(k||d==null||typeof d!=="object"){j(g,d)}else{if(aL.isArray(d)||aL.isEmptyObject(d)){j(g,"")}else{for(var h in d){cK(g+"["+h+"]",d[h],k,j)}}}}}function cL(v,u,t,s,r,q){r=r||u.dataTypes[0],q=q||{},q[r]=!0;var p=v[r],o=0,n=p?p.length:0,m=v===cR,b;for(;o<n&&(m||!b);o++){b=p[o](u,t,s),typeof b==="string"&&(!m||q[b]?b=aP:(u.dataTypes.unshift(b),b=cL(v,u,t,s,b,q)))}(m||!b)&&!q["*"]&&(b=cL(v,u,t,s,"*",q));return b}function cM(b){return function(a,p){typeof a!=="string"&&(p=a,a="*");if(aL.isFunction(p)){var o=a.toLowerCase().split(cX),n=0,m=o.length,l,k,d;for(;n<m;n++){l=o[n],d=/^\+/.test(l),d&&(l=l.substr(1)||"*"),k=b[l]=b[l]||[],k[d?"unshift":"push"](p)}}}}function aU(g,d,k){var j=d==="width"?a1:aZ,h=d==="width"?g.offsetWidth:g.offsetHeight;if(k==="border"){return h}aL.each(j,function(){k||(h-=parseFloat(aL.css(g,"padding"+this))||0),k==="margin"?h+=parseFloat(aL.css(g,"margin"+this))||0:h-=parseFloat(aL.css(g,"border"+this+"Width"))||0});return h}function b7(d,c){c.src?aL.ajax({url:c.src,async:!1,dataType:"script"}):aL.globalEval(c.text||c.textContent||c.innerHTML||""),c.parentNode&&c.parentNode.removeChild(c)}function b9(b){return"getElementsByTagName" in b?b.getElementsByTagName("*"):"querySelectorAll" in b?b.querySelectorAll("*"):[]}function ck(e,d){if(d.nodeType===1){var f=d.nodeName.toLowerCase();d.clearAttributes(),d.mergeAttributes(e);if(f==="object"){d.outerHTML=e.outerHTML}else{if(f!=="input"||e.type!=="checkbox"&&e.type!=="radio"){if(f==="option"){d.selected=e.defaultSelected}else{if(f==="input"||f==="textarea"){d.defaultValue=e.defaultValue}}}else{e.checked&&(d.defaultChecked=d.checked=e.checked),d.value!==e.value&&(d.value=e.value)}}d.removeAttribute(aL.expando)}}function aT(r,q){if(q.nodeType===1&&aL.hasData(r)){var p=aL.expando,o=aL.data(r),n=aL.data(q,o);if(o=o[p]){var m=o.events;n=n[p]=aL.extend({},o);if(m){delete n.handle,n.events={};for(var l in m){for(var k=0,d=m[l].length;k<d;k++){aL.event.add(q,l+(m[l][k].namespace?".":"")+m[l][k].namespace,m[l][k],m[l][k].data)}}}}}}function c1(d,c){return aL.nodeName(d,"table")?d.getElementsByTagName("tbody")[0]||d.appendChild(d.ownerDocument.createElement("tbody")):d}function b8(f,d,h){if(aL.isFunction(d)){return aL.grep(f,function(b,j){var c=!!d.call(b,j,b);return c===h})}if(d.nodeType){return aL.grep(f,function(b,c){return b===d===h})}if(typeof d==="string"){var g=aL.grep(f,function(b){return b.nodeType===1});if(cp.test(d)){return aL.filter(d,g,!h)}d=aL.filter(d,g)}return aL.grep(f,function(b,c){return aL.inArray(b,d)>=0===h})}function cj(b){return !b||!b.parentNode||b.parentNode.nodeType===11}function ct(d,c){return(d&&d!=="*"?d+".":"")+c.replace(aj,"`").replace(ah,"&")}function cv(J){var I,H,G,F,E,D,C,B,A,z,y,x,w,v=[],u=[],r=aL._data(this,"events");if(J.liveFired!==this&&r&&r.live&&!J.target.disabled&&(!J.button||J.type!=="click")){J.namespace&&(x=new RegExp("(^|\\.)"+J.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)")),J.liveFired=this;var d=r.live.slice(0);for(C=0;C<d.length;C++){E=d[C],E.origType.replace(am,"")===J.type?u.push(E.selector):d.splice(C--,1)}F=aL(J.target).closest(u,J.currentTarget);for(B=0,A=F.length;B<A;B++){y=F[B];for(C=0;C<d.length;C++){E=d[C];if(y.selector===E.selector&&(!x||x.test(E.namespace))&&!y.elem.disabled){D=y.elem,G=null;if(E.preType==="mouseenter"||E.preType==="mouseleave"){J.type=E.preType,G=aL(J.relatedTarget).closest(E.selector)[0]}(!G||G!==D)&&v.push({elem:D,handleObj:E,level:y.level})}}}for(B=0,A=v.length;B<A;B++){F=v[B];if(H&&F.level>H){break}J.currentTarget=F.elem,J.data=F.handleObj.data,J.handleObj=F.handleObj,w=F.handleObj.origHandler.apply(F.elem,arguments);if(w===!1||J.isPropagationStopped()){H=F.level,w===!1&&(I=!1);if(J.isImmediatePropagationStopped()){break}}}return I}}function cA(b,h,g){var d=aL.extend({},g[0]);d.type=b,d.originalEvent={},d.liveFired=aP,aL.event.handle.call(h,d),d.isDefaultPrevented()&&g[0].preventDefault()}function ab(){return !0}function ac(){return !1}function aB(d){for(var c in d){if(c!=="toJSON"){return !1}}return !0}function aD(b,h,g){if(g===aP&&b.nodeType===1){g=b.getAttribute("data-"+h);if(typeof g==="string"){try{g=g==="true"?!0:g==="false"?!1:g==="null"?null:aL.isNaN(g)?aF.test(g)?aL.parseJSON(g):g:parseFloat(g)}catch(d){}aL.data(b,h,g)}else{g=aP}}return g}var aN=aR.document,aL=function(){function J(){if(!bh.isReady){try{aN.documentElement.doScroll("left")}catch(d){setTimeout(J,1);return}bh.ready()}}var bh=function(e,d){return new bh.fn.init(e,d,be)},bg=aR.jQuery,bf=aR.$,be,bd=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/,bc=/\S/,bb=/^\s+/,ba=/\s+$/,Z=/\d/,Y=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,X=/^[\],:{}\s]*$/,W=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,V=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,T=/(?:^|:|,)(?:\s*\[)+/g,R=/(webkit)[ \/]([\w.]+)/,P=/(opera)(?:.*version)?[ \/]([\w.]+)/,N=/(msie) ([\w.]+)/,L=/(mozilla)(?:.*? rv:([\w.]+))?/,I=navigator.userAgent,H,c,b,a=Object.prototype.toString,U=Object.prototype.hasOwnProperty,S=Array.prototype.push,Q=Array.prototype.slice,O=String.prototype.trim,M=Array.prototype.indexOf,K={};bh.fn=bh.prototype={constructor:bh,init:function(d,p,o){var n,m,l,h;if(!d){return this}if(d.nodeType){this.context=this[0]=d,this.length=1;return this}if(d==="body"&&!p&&aN.body){this.context=aN,this[0]=aN.body,this.selector="body",this.length=1;return this}if(typeof d==="string"){n=bd.exec(d);if(!n||!n[1]&&p){return !p||p.jquery?(p||o).find(d):this.constructor(p).find(d)}if(n[1]){p=p instanceof bh?p[0]:p,h=p?p.ownerDocument||p:aN,l=Y.exec(d),l?bh.isPlainObject(p)?(d=[aN.createElement(l[1])],bh.fn.attr.call(d,p,!0)):d=[h.createElement(l[1])]:(l=bh.buildFragment([n[1]],[h]),d=(l.cacheable?bh.clone(l.fragment):l.fragment).childNodes);return bh.merge(this,d)}m=aN.getElementById(n[2]);if(m&&m.parentNode){if(m.id!==n[2]){return o.find(d)}this.length=1,this[0]=m}this.context=aN,this.selector=d;return this}if(bh.isFunction(d)){return o.ready(d)}d.selector!==aP&&(this.selector=d.selector,this.context=d.context);return bh.makeArray(d,this)},selector:"",jquery:"1.5.2",length:0,size:function(){return this.length},toArray:function(){return Q.call(this,0)},get:function(d){return d==null?this.toArray():d<0?this[this.length+d]:this[d]},pushStack:function(f,d,h){var g=this.constructor();bh.isArray(f)?S.apply(g,f):bh.merge(g,f),g.prevObject=this,g.context=this.context,d==="find"?g.selector=this.selector+(this.selector?" ":"")+h:d&&(g.selector=this.selector+"."+d+"("+h+")");return g},each:function(e,d){return bh.each(this,e,d)},ready:function(d){bh.bindReady(),c.done(d);return this},eq:function(d){return d===-1?this.slice(d):this.slice(d,+d+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Q.apply(this,arguments),"slice",Q.call(arguments).join(","))},map:function(d){return this.pushStack(bh.map(this,function(e,f){return d.call(e,f,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:S,sort:[].sort,splice:[].splice},bh.fn.init.prototype=bh.fn,bh.extend=bh.fn.extend=function(){var u,t,s,r,q,p,o=arguments[0]||{},n=1,m=arguments.length,d=!1;typeof o==="boolean"&&(d=o,o=arguments[1]||{},n=2),typeof o!=="object"&&!bh.isFunction(o)&&(o={}),m===n&&(o=this,--n);for(;n<m;n++){if((u=arguments[n])!=null){for(t in u){s=o[t],r=u[t];if(o===r){continue}d&&r&&(bh.isPlainObject(r)||(q=bh.isArray(r)))?(q?(q=!1,p=s&&bh.isArray(s)?s:[]):p=s&&bh.isPlainObject(s)?s:{},o[t]=bh.extend(d,p,r)):r!==aP&&(o[t]=r)}}}return o},bh.extend({noConflict:function(d){aR.$=bf,d&&(aR.jQuery=bg);return bh},isReady:!1,readyWait:1,ready:function(d){d===!0&&bh.readyWait--;if(!bh.readyWait||d!==!0&&!bh.isReady){if(!aN.body){return setTimeout(bh.ready,1)}bh.isReady=!0;if(d!==!0&&--bh.readyWait>0){return}c.resolveWith(aN,[bh]),bh.fn.trigger&&bh(aN).trigger("ready").unbind("ready")}},bindReady:function(){if(!c){c=bh._Deferred();if(aN.readyState==="complete"){return setTimeout(bh.ready,1)}if(aN.addEventListener){aN.addEventListener("DOMContentLoaded",b,!1),aR.addEventListener("load",bh.ready,!1)}else{if(aN.attachEvent){aN.attachEvent("onreadystatechange",b),aR.attachEvent("onload",bh.ready);var d=!1;try{d=aR.frameElement==null}catch(f){}aN.documentElement.doScroll&&d&&J()}}}},isFunction:function(d){return bh.type(d)==="function"},isArray:Array.isArray||function(d){return bh.type(d)==="array"},isWindow:function(d){return d&&typeof d==="object"&&"setInterval" in d},isNaN:function(d){return d==null||!Z.test(d)||isNaN(d)},type:function(d){return d==null?String(d):K[a.call(d)]||"object"},isPlainObject:function(d){if(!d||bh.type(d)!=="object"||d.nodeType||bh.isWindow(d)){return !1}if(d.constructor&&!U.call(d,"constructor")&&!U.call(d.constructor.prototype,"isPrototypeOf")){return !1}var e;for(e in d){}return e===aP||U.call(d,e)},isEmptyObject:function(e){for(var d in e){return !1}return !0},error:function(d){throw d},parseJSON:function(d){if(typeof d!=="string"||!d){return null}d=bh.trim(d);if(X.test(d.replace(W,"@").replace(V,"]").replace(T,""))){return aR.JSON&&aR.JSON.parse?aR.JSON.parse(d):(new Function("return "+d))()}bh.error("Invalid JSON: "+d)},parseXML:function(d,g,f){aR.DOMParser?(f=new DOMParser,g=f.parseFromString(d,"text/xml")):(g=new ActiveXObject("Microsoft.XMLDOM"),g.async="false",g.loadXML(d)),f=g.documentElement,(!f||!f.nodeName||f.nodeName==="parsererror")&&bh.error("Invalid XML: "+d);return g},noop:function(){},globalEval:function(f){if(f&&bc.test(f)){var d=aN.head||aN.getElementsByTagName("head")[0]||aN.documentElement,g=aN.createElement("script");bh.support.scriptEval()?g.appendChild(aN.createTextNode(f)):g.text=f,d.insertBefore(g,d.firstChild),d.removeChild(g)}},nodeName:function(e,d){return e.nodeName&&e.nodeName.toUpperCase()===d.toUpperCase()},each:function(d,q,p){var o,n=0,m=d.length,l=m===aP||bh.isFunction(d);if(p){if(l){for(o in d){if(q.apply(d[o],p)===!1){break}}}else{for(;n<m;){if(q.apply(d[n++],p)===!1){break}}}}else{if(l){for(o in d){if(q.call(d[o],o,d[o])===!1){break}}}else{for(var k=d[0];n<m&&q.call(k,n,k)!==!1;k=d[++n]){}}}return d},trim:O?function(d){return d==null?"":O.call(d)}:function(d){return d==null?"":(d+"").replace(bb,"").replace(ba,"")},makeArray:function(f,d){var h=d||[];if(f!=null){var g=bh.type(f);f.length==null||g==="string"||g==="function"||g==="regexp"||bh.isWindow(f)?S.call(h,f):bh.merge(h,f)}return h},inArray:function(f,e){if(e.indexOf){return e.indexOf(f)}for(var h=0,g=e.length;h<g;h++){if(e[h]===f){return h}}return -1},merge:function(g,l){var k=g.length,j=0;if(typeof l.length==="number"){for(var h=l.length;j<h;j++){g[k++]=l[j]}}else{while(l[j]!==aP){g[k++]=l[j++]}}g.length=k;return g},grep:function(j,h,o){var n=[],m;o=!!o;for(var l=0,k=j.length;l<k;l++){m=!!h(j[l],l),o!==m&&n.push(j[l])}return n},map:function(j,h,o){var n=[],m;for(var l=0,k=j.length;l<k;l++){m=h(j[l],l,o),m!=null&&(n[n.length]=m)}return n.concat.apply([],n)},guid:1,proxy:function(d,g,f){arguments.length===2&&(typeof g==="string"?(f=d,d=f[g],g=aP):g&&!bh.isFunction(g)&&(f=g,g=aP)),!g&&d&&(g=function(){return d.apply(f||this,arguments)}),d&&(g.guid=d.guid=d.guid||g.guid||bh.guid++);return g},access:function(s,r,q,p,o,n){var m=s.length;if(typeof r==="object"){for(var l in r){bh.access(s,l,r[l],p,o,q)}return s}if(q!==aP){p=!n&&p&&bh.isFunction(q);for(var d=0;d<m;d++){o(s[d],r,p?q.call(s[d],d,o(s[d],r)):q,n)}return s}return m?o(s[0],r):aP},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var d=R.exec(e)||P.exec(e)||N.exec(e)||e.indexOf("compatible")<0&&L.exec(e)||[];return{browser:d[1]||"",version:d[2]||"0"}},sub:function(){function f(e,h){return new f.fn.init(e,h)}bh.extend(!0,f,this),f.superclass=this,f.fn=f.prototype=this(),f.fn.constructor=f,f.subclass=this.subclass,f.fn.init=function d(e,h){h&&h instanceof bh&&!(h instanceof f)&&(h=f(h));return bh.fn.init.call(this,e,h,g)},f.fn.init.prototype=f.fn;var g=f(aN);return f},browser:{}}),bh.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,d){K["[object "+d+"]"]=d.toLowerCase()}),H=bh.uaMatch(I),H.browser&&(bh.browser[H.browser]=!0,bh.browser.version=H.version),bh.browser.webkit&&(bh.browser.safari=!0),M&&(bh.inArray=function(e,d){return M.call(d,e)}),bc.test(" ")&&(bb=/^[\s\xA0]+/,ba=/[\s\xA0]+$/),be=bh(aN),aN.addEventListener?b=function(){aN.removeEventListener("DOMContentLoaded",b,!1),bh.ready()}:aN.attachEvent&&(b=function(){aN.readyState==="complete"&&(aN.detachEvent("onreadystatechange",b),bh.ready())});return bh}(),aJ="then done fail isResolved isRejected promise".split(" "),aH=[].slice;aL.extend({_Deferred:function(){var g=[],d,k,j,h={done:function(){if(!j){var m=arguments,l,f,e,b,a;d&&(a=d,d=0);for(l=0,f=m.length;l<f;l++){e=m[l],b=aL.type(e),b==="array"?h.done.apply(h,e):b==="function"&&g.push(e)}a&&h.resolveWith(a[0],a[1])}return this},resolveWith:function(b,a){if(!j&&!d&&!k){a=a||[],k=1;try{while(g[0]){g.shift().apply(b,a)}}finally{d=[b,a],k=0}}return this},resolve:function(){h.resolveWith(this,arguments);return this},isResolved:function(){return k||d},cancel:function(){j=1,g=[];return this}};return h},Deferred:function(e){var d=aL._Deferred(),h=aL._Deferred(),g;aL.extend(d,{then:function(b,f){d.done(b).fail(f);return this},fail:h.done,rejectWith:h.resolveWith,reject:h.resolve,isRejected:h.isResolved,promise:function(b){if(b==null){if(g){return g}g=b={}}var f=aJ.length;while(f--){b[aJ[f]]=d[aJ[f]]}return b}}),d.done(h.cancel).fail(d.cancel),delete d.cancel,e&&e.call(d,d);return d},when:function(f){function j(b){return function(a){d[b]=arguments.length>1?aH.call(arguments,0):a,--l||k.resolveWith(k,aH.call(d,0))}}var d=arguments,n=0,m=d.length,l=m,k=m<=1&&f&&aL.isFunction(f.promise)?f:aL.Deferred();if(m>1){for(;n<m;n++){d[n]&&aL.isFunction(d[n].promise)?d[n].promise().then(j(n),k.reject):--l}l||k.resolveWith(k,d)}else{k!==f&&k.resolveWith(k,m?[f]:[])}return k.promise()}}),function(){aL.support={};var v=aN.createElement("div");v.style.display="none",v.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var u=v.getElementsByTagName("*"),t=v.getElementsByTagName("a")[0],s=aN.createElement("select"),r=s.appendChild(aN.createElement("option")),q=v.getElementsByTagName("input")[0];if(u&&u.length&&t){aL.support={leadingWhitespace:v.firstChild.nodeType===3,tbody:!v.getElementsByTagName("tbody").length,htmlSerialize:!!v.getElementsByTagName("link").length,style:/red/.test(t.getAttribute("style")),hrefNormalized:t.getAttribute("href")==="/a",opacity:/^0.55$/.test(t.style.opacity),cssFloat:!!t.style.cssFloat,checkOn:q.value==="on",optSelected:r.selected,deleteExpando:!0,optDisabled:!1,checkClone:!1,noCloneEvent:!0,noCloneChecked:!0,boxModel:null,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableHiddenOffsets:!0,reliableMarginRight:!0},q.checked=!0,aL.support.noCloneChecked=q.cloneNode(!0).checked,s.disabled=!0,aL.support.optDisabled=!r.disabled;var p=null;aL.support.scriptEval=function(){if(p===null){var h=aN.documentElement,l=aN.createElement("script"),k="script"+aL.now();try{l.appendChild(aN.createTextNode("window."+k+"=1;"))}catch(j){}h.insertBefore(l,h.firstChild),aR[k]?(p=!0,delete aR[k]):p=!1,h.removeChild(l)}return p};try{delete v.test}catch(o){aL.support.deleteExpando=!1}!v.addEventListener&&v.attachEvent&&v.fireEvent&&(v.attachEvent("onclick",function d(){aL.support.noCloneEvent=!1,v.detachEvent("onclick",d)}),v.cloneNode(!0).fireEvent("onclick")),v=aN.createElement("div"),v.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";var c=aN.createDocumentFragment();c.appendChild(v.firstChild),aL.support.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked,aL(function(){var g=aN.createElement("div"),f=aN.getElementsByTagName("body")[0];if(f){g.style.width=g.style.paddingLeft="1px",f.appendChild(g),aL.boxModel=aL.support.boxModel=g.offsetWidth===2,"zoom" in g.style&&(g.style.display="inline",g.style.zoom=1,aL.support.inlineBlockNeedsLayout=g.offsetWidth===2,g.style.display="",g.innerHTML="<div style='width:4px;'></div>",aL.support.shrinkWrapBlocks=g.offsetWidth!==2),g.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";var h=g.getElementsByTagName("td");aL.support.reliableHiddenOffsets=h[0].offsetHeight===0,h[0].style.display="",h[1].style.display="none",aL.support.reliableHiddenOffsets=aL.support.reliableHiddenOffsets&&h[0].offsetHeight===0,g.innerHTML="",aN.defaultView&&aN.defaultView.getComputedStyle&&(g.style.width="1px",g.style.marginRight="0",aL.support.reliableMarginRight=(parseInt(aN.defaultView.getComputedStyle(g,null).marginRight,10)||0)===0),f.removeChild(g).style.display="none",g=h=null}});var a=function(f){var e=aN.createElement("div");f="on"+f;if(!e.attachEvent){return !0}var g=f in e;g||(e.setAttribute(f,"return;"),g=typeof e[f]==="function");return g};aL.support.submitBubbles=a("submit"),aL.support.changeBubbles=a("change"),v=u=t=null}}();var aF=/^(?:\{.*\}|\[.*\])$/;aL.extend({cache:{},uuid:0,expando:"jQuery"+(aL.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(b){b=b.nodeType?aL.cache[b[aL.expando]]:b[aL.expando];return !!b&&!aB(b)},data:function(t,s,r,q){if(aL.acceptData(t)){var p=aL.expando,o=typeof s==="string",n,m=t.nodeType,d=m?aL.cache:t,b=m?t[aL.expando]:t[aL.expando]&&aL.expando;if((!b||q&&b&&!d[b][p])&&o&&r===aP){return}b||(m?t[aL.expando]=b=++aL.uuid:b=aL.expando),d[b]||(d[b]={},m||(d[b].toJSON=aL.noop));if(typeof s==="object"||typeof s==="function"){q?d[b][p]=aL.extend(d[b][p],s):d[b]=aL.extend(d[b],s)}n=d[b],q&&(n[p]||(n[p]={}),n=n[p]),r!==aP&&(n[s]=r);if(s==="events"&&!n[s]){return n[p]&&n[p].events}return o?n[s]:n}},removeData:function(s,r,q){if(aL.acceptData(s)){var p=aL.expando,o=s.nodeType,n=o?aL.cache:s,m=o?s[aL.expando]:aL.expando;if(!n[m]){return}if(r){var d=q?n[m][p]:n[m];if(d){delete d[r];if(!aB(d)){return}}}if(q){delete n[m][p];if(!aB(n[m])){return}}var a=n[m][p];aL.support.deleteExpando||n!=aR?delete n[m]:n[m]=null,a?(n[m]={},o||(n[m].toJSON=aL.noop),n[m][p]=a):o&&(aL.support.deleteExpando?delete s[aL.expando]:s.removeAttribute?s.removeAttribute(aL.expando):s[aL.expando]=null)}},_data:function(e,d,f){return aL.data(e,d,f,!0)},acceptData:function(d){if(d.nodeName){var c=aL.noData[d.nodeName.toLowerCase()];if(c){return c!==!0&&d.getAttribute("classid")===c}}return !0}}),aL.fn.extend({data:function(b,p){var o=null;if(typeof b==="undefined"){if(this.length){o=aL.data(this[0]);if(this[0].nodeType===1){var n=this[0].attributes,m;for(var l=0,h=n.length;l<h;l++){m=n[l].name,m.indexOf("data-")===0&&(m=m.substr(5),aD(this[0],m,o[m]))}}}return o}if(typeof b==="object"){return this.each(function(){aL.data(this,b)})}var d=b.split(".");d[1]=d[1]?"."+d[1]:"";if(p===aP){o=this.triggerHandler("getData"+d[1]+"!",[d[0]]),o===aP&&this.length&&(o=aL.data(this[0],b),o=aD(this[0],b,o));return o===aP&&d[1]?this.data(d[0]):o}return this.each(function(){var a=aL(this),c=[d[0],p];a.triggerHandler("setData"+d[1]+"!",c),aL.data(this,b,p),a.triggerHandler("changeData"+d[1]+"!",c)})},removeData:function(b){return this.each(function(){aL.removeData(this,b)})}}),aL.extend({queue:function(f,d,h){if(f){d=(d||"fx")+"queue";var g=aL._data(f,d);if(!h){return g||[]}!g||aL.isArray(h)?g=aL._data(f,d,aL.makeArray(h)):g.push(h);return g}},dequeue:function(f,d){d=d||"fx";var h=aL.queue(f,d),g=h.shift();g==="inprogress"&&(g=h.shift()),g&&(d==="fx"&&h.unshift("inprogress"),g.call(f,function(){aL.dequeue(f,d)})),h.length||aL.removeData(f,d+"queue",!0)}}),aL.fn.extend({queue:function(b,d){typeof b!=="string"&&(d=b,b="fx");if(d===aP){return aL.queue(this[0],b)}return this.each(function(a){var c=aL.queue(this,b,d);b==="fx"&&c[0]!=="inprogress"&&aL.dequeue(this,b)})},dequeue:function(b){return this.each(function(){aL.dequeue(this,b)})},delay:function(d,c){d=aL.fx?aL.fx.speeds[d]||d:d,c=c||"fx";return this.queue(c,function(){var a=this;setTimeout(function(){aL.dequeue(a,c)},d)})},clearQueue:function(b){return this.queue(b||"fx",[])}});var aA=/[\n\t\r]/g,az=/\s+/,ay=/\r/g,ax=/^(?:href|src|style)$/,aw=/^(?:button|input)$/i,au=/^(?:button|input|object|select|textarea)$/i,ar=/^a(?:rea)?$/i,ap=/^(?:radio|checkbox)$/i;aL.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"},aL.fn.extend({attr:function(d,c){return aL.access(this,d,c,!0,aL.attr)},removeAttr:function(d,c){return this.each(function(){aL.attr(this,d,""),this.nodeType===1&&this.removeAttribute(d)})},addClass:function(r){if(aL.isFunction(r)){return this.each(function(a){var e=aL(this);e.addClass(r.call(this,a,e.attr("class")))})}if(r&&typeof r==="string"){var q=(r||"").split(az);for(var p=0,o=this.length;p<o;p++){var n=this[p];if(n.nodeType===1){if(n.className){var m=" "+n.className+" ",l=n.className;for(var k=0,d=q.length;k<d;k++){m.indexOf(" "+q[k]+" ")<0&&(l+=" "+q[k])}n.className=aL.trim(l)}else{n.className=r}}}}return this},removeClass:function(d){if(aL.isFunction(d)){return this.each(function(a){var e=aL(this);e.removeClass(d.call(this,a,e.attr("class")))})}if(d&&typeof d==="string"||d===aP){var p=(d||"").split(az);for(var o=0,n=this.length;o<n;o++){var m=this[o];if(m.nodeType===1&&m.className){if(d){var k=(" "+m.className+" ").replace(aA," ");for(var j=0,b=p.length;j<b;j++){k=k.replace(" "+p[j]+" "," ")}m.className=aL.trim(k)}else{m.className=""}}}}return this},toggleClass:function(f,d){var h=typeof f,g=typeof d==="boolean";if(aL.isFunction(f)){return this.each(function(b){var a=aL(this);a.toggleClass(f.call(this,b,a.attr("class"),d),d)})}return this.each(function(){if(h==="string"){var k,e=0,c=aL(this),b=d,a=f.split(az);while(k=a[e++]){b=g?b:!c.hasClass(k),c[b?"addClass":"removeClass"](k)}}else{if(h==="undefined"||h==="boolean"){this.className&&aL._data(this,"__className__",this.className),this.className=this.className||f===!1?"":aL._data(this,"__className__")||""}}})},hasClass:function(f){var e=" "+f+" ";for(var h=0,g=this.length;h<g;h++){if((" "+this[h].className+" ").replace(aA," ").indexOf(e)>-1){return !0}}return !1},val:function(v){if(!arguments.length){var u=this[0];if(u){if(aL.nodeName(u,"option")){var t=u.attributes.value;return !t||t.specified?u.value:u.text}if(aL.nodeName(u,"select")){var s=u.selectedIndex,r=[],q=u.options,p=u.type==="select-one";if(s<0){return null}for(var o=p?s:0,l=p?s+1:q.length;o<l;o++){var d=q[o];if(d.selected&&(aL.support.optDisabled?!d.disabled:d.getAttribute("disabled")===null)&&(!d.parentNode.disabled||!aL.nodeName(d.parentNode,"optgroup"))){v=aL(d).val();if(p){return v}r.push(v)}}if(p&&!r.length&&q.length){return aL(q[s]).val()}return r}if(ap.test(u.type)&&!aL.support.checkOn){return u.getAttribute("value")===null?"on":u.value}return(u.value||"").replace(ay,"")}return aP}var b=aL.isFunction(v);return this.each(function(a){var j=aL(this),h=v;if(this.nodeType===1){b&&(h=v.call(this,a,j.val())),h==null?h="":typeof h==="number"?h+="":aL.isArray(h)&&(h=aL.map(h,function(c){return c==null?"":c+""}));if(aL.isArray(h)&&ap.test(this.type)){this.checked=aL.inArray(j.val(),h)>=0}else{if(aL.nodeName(this,"select")){var g=aL.makeArray(h);aL("option",this).each(function(){this.selected=aL.inArray(aL(this).val(),g)>=0}),g.length||(this.selectedIndex=-1)}else{this.value=h}}}})}}),aL.extend({attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(t,s,r,q){if(!t||t.nodeType===3||t.nodeType===8||t.nodeType===2){return aP}if(q&&s in aL.attrFn){return aL(t)[s](r)}var p=t.nodeType!==1||!aL.isXMLDoc(t),o=r!==aP;s=p&&aL.props[s]||s;if(t.nodeType===1){var n=ax.test(s);if(s==="selected"&&!aL.support.optSelected){var m=t.parentNode;m&&(m.selectedIndex,m.parentNode&&m.parentNode.selectedIndex)}if((s in t||t[s]!==aP)&&p&&!n){o&&(s==="type"&&aw.test(t.nodeName)&&t.parentNode&&aL.error("type property can't be changed"),r===null?t.nodeType===1&&t.removeAttribute(s):t[s]=r);if(aL.nodeName(t,"form")&&t.getAttributeNode(s)){return t.getAttributeNode(s).nodeValue}if(s==="tabIndex"){var d=t.getAttributeNode("tabIndex");return d&&d.specified?d.value:au.test(t.nodeName)||ar.test(t.nodeName)&&t.href?0:aP}return t[s]}if(!aL.support.style&&p&&s==="style"){o&&(t.style.cssText=""+r);return t.style.cssText}o&&t.setAttribute(s,""+r);if(!t.attributes[s]&&(t.hasAttribute&&!t.hasAttribute(s))){return aP}var b=!aL.support.hrefNormalized&&p&&n?t.getAttribute(s,2):t.getAttribute(s);return b===null?aP:b}o&&(t[s]=r);return t[s]}});var am=/\.(.*)$/,ak=/^(?:textarea|input|select)$/i,aj=/\./g,ah=/ /g,ae=/[^\w\s.|`]/g,ad=function(b){return b.replace(ae,"\\$&")};aL.event={add:function(D,C,B,A){if(D.nodeType!==3&&D.nodeType!==8){try{aL.isWindow(D)&&(D!==aR&&!D.frameElement)&&(D=aR)}catch(z){}if(B===!1){B=ac}else{if(!B){return}}var y,x;B.handler&&(y=B,B=y.handler),B.guid||(B.guid=aL.guid++);var w=aL._data(D);if(!w){return}var v=w.events,u=w.handle;v||(w.events=v={}),u||(w.handle=u=function(c){return typeof aL!=="undefined"&&aL.event.triggered!==c.type?aL.event.handle.apply(u.elem,arguments):aP}),u.elem=D,C=C.split(" ");var t,s=0,d;while(t=C[s++]){x=y?aL.extend({},y):{handler:B,data:A},t.indexOf(".")>-1?(d=t.split("."),t=d.shift(),x.namespace=d.slice(0).sort().join(".")):(d=[],x.namespace=""),x.type=t,x.guid||(x.guid=B.guid);var b=v[t],a=aL.event.special[t]||{};if(!b){b=v[t]=[];if(!a.setup||a.setup.call(D,A,d,u)===!1){D.addEventListener?D.addEventListener(t,u,!1):D.attachEvent&&D.attachEvent("on"+t,u)}}a.add&&(a.add.call(D,x),x.handler.guid||(x.handler.guid=B.guid)),b.push(x),aL.event.global[t]=!0}D=null}},global:{},remove:function(L,K,J,I){if(L.nodeType!==3&&L.nodeType!==8){J===!1&&(J=ac);var H,G,F,E,D=0,C,B,A,z,y,x,w,v=aL.hasData(L)&&aL._data(L),d=v&&v.events;if(!v||!d){return}K&&K.type&&(J=K.handler,K=K.type);if(!K||typeof K==="string"&&K.charAt(0)==="."){K=K||"";for(G in d){aL.event.remove(L,G+K)}return}K=K.split(" ");while(G=K[D++]){w=G,x=null,C=G.indexOf(".")<0,B=[],C||(B=G.split("."),G=B.shift(),A=new RegExp("(^|\\.)"+aL.map(B.slice(0).sort(),ad).join("\\.(?:.*\\.)?")+"(\\.|$)")),y=d[G];if(!y){continue}if(!J){for(E=0;E<y.length;E++){x=y[E];if(C||A.test(x.namespace)){aL.event.remove(L,w,x.handler,E),y.splice(E--,1)}}continue}z=aL.event.special[G]||{};for(E=I||0;E<y.length;E++){x=y[E];if(J.guid===x.guid){if(C||A.test(x.namespace)){I==null&&y.splice(E--,1),z.remove&&z.remove.call(L,x)}if(I!=null){break}}}if(y.length===0||I!=null&&y.length===1){(!z.teardown||z.teardown.call(L,B)===!1)&&aL.removeEvent(L,G,v.handle),H=null,delete d[G]}}if(aL.isEmptyObject(d)){var b=v.handle;b&&(b.elem=null),delete v.events,delete v.handle,aL.isEmptyObject(v)&&aL.removeData(L,aP,!0)}}},trigger:function(B,A,z){var y=B.type||B,x=arguments[3];if(!x){B=typeof B==="object"?B[aL.expando]?B:aL.extend(aL.Event(y),B):aL.Event(y),y.indexOf("!")>=0&&(B.type=y=y.slice(0,-1),B.exclusive=!0),z||(B.stopPropagation(),aL.event.global[y]&&aL.each(aL.cache,function(){var a=aL.expando,c=this[a];c&&c.events&&c.events[y]&&aL.event.trigger(B,A,c.handle.elem)}));if(!z||z.nodeType===3||z.nodeType===8){return aP}B.result=aP,B.target=z,A=aL.makeArray(A),A.unshift(B)}B.currentTarget=z;var w=aL._data(z,"handle");w&&w.apply(z,A);var v=z.parentNode||z.ownerDocument;try{z&&z.nodeName&&aL.noData[z.nodeName.toLowerCase()]||z["on"+y]&&z["on"+y].apply(z,A)===!1&&(B.result=!1,B.preventDefault())}catch(u){}if(!B.isPropagationStopped()&&v){aL.event.trigger(B,A,v,!0)}else{if(!B.isDefaultPrevented()){var t,s=B.target,r=y.replace(am,""),q=aL.nodeName(s,"a")&&r==="click",d=aL.event.special[r]||{};if((!d._default||d._default.call(z,B)===!1)&&!q&&!(s&&s.nodeName&&aL.noData[s.nodeName.toLowerCase()])){try{s[r]&&(t=s["on"+r],t&&(s["on"+r]=null),aL.event.triggered=B.type,s[r]())}catch(b){}t&&(s["on"+r]=t),aL.event.triggered=aP}}}},handle:function(x){var w,v,u,t,s,r=[],q=aL.makeArray(arguments);x=q[0]=aL.event.fix(x||aR.event),x.currentTarget=this,w=x.type.indexOf(".")<0&&!x.exclusive,w||(u=x.type.split("."),x.type=u.shift(),r=u.slice(0).sort(),t=new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.)?")+"(\\.|$)")),x.namespace=x.namespace||r.join("."),s=aL._data(this,"events"),v=(s||{})[x.type];if(s&&v){v=v.slice(0);for(var p=0,d=v.length;p<d;p++){var b=v[p];if(w||t.test(b.namespace)){x.handler=b.handler,x.data=b.data,x.handleObj=b;var a=b.handler.apply(this,q);a!==aP&&(x.result=a,a===!1&&(x.preventDefault(),x.stopPropagation()));if(x.isImmediatePropagationStopped()){break}}}}return x.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(b){if(b[aL.expando]){return b}var l=b;b=aL.Event(l);for(var k=this.props.length,j;k;){j=this.props[--k],b[j]=l[j]}b.target||(b.target=b.srcElement||aN),b.target.nodeType===3&&(b.target=b.target.parentNode),!b.relatedTarget&&b.fromElement&&(b.relatedTarget=b.fromElement===b.target?b.toElement:b.fromElement);if(b.pageX==null&&b.clientX!=null){var d=aN.documentElement,c=aN.body;b.pageX=b.clientX+(d&&d.scrollLeft||c&&c.scrollLeft||0)-(d&&d.clientLeft||c&&c.clientLeft||0),b.pageY=b.clientY+(d&&d.scrollTop||c&&c.scrollTop||0)-(d&&d.clientTop||c&&c.clientTop||0)}b.which==null&&(b.charCode!=null||b.keyCode!=null)&&(b.which=b.charCode!=null?b.charCode:b.keyCode),!b.metaKey&&b.ctrlKey&&(b.metaKey=b.ctrlKey),!b.which&&b.button!==aP&&(b.which=b.button&1?1:b.button&2?3:b.button&4?2:0);return b},guid:100000000,proxy:aL.proxy,special:{ready:{setup:aL.bindReady,teardown:aL.noop},live:{add:function(b){aL.event.add(this,ct(b.origType,b.selector),aL.extend({},b,{handler:cv,guid:b.handler.guid}))},remove:function(b){aL.event.remove(this,ct(b.origType,b.selector),b)}},beforeunload:{setup:function(e,d,f){aL.isWindow(this)&&(this.onbeforeunload=f)},teardown:function(d,c){this.onbeforeunload===c&&(this.onbeforeunload=null)}}}},aL.removeEvent=aN.removeEventListener?function(e,d,f){e.removeEventListener&&e.removeEventListener(d,f,!1)}:function(e,d,f){e.detachEvent&&e.detachEvent("on"+d,f)},aL.Event=function(b){if(!this.preventDefault){return new aL.Event(b)}b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||b.returnValue===!1||b.getPreventDefault&&b.getPreventDefault()?ab:ac):this.type=b,this.timeStamp=aL.now(),this[aL.expando]=!0},aL.Event.prototype={preventDefault:function(){this.isDefaultPrevented=ab;var b=this.originalEvent;b&&(b.preventDefault?b.preventDefault():b.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=ab;var b=this.originalEvent;b&&(b.stopPropagation&&b.stopPropagation(),b.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ab,this.stopPropagation()},isDefaultPrevented:ac,isPropagationStopped:ac,isImmediatePropagationStopped:ac};var aa=function(d){var c=d.relatedTarget;try{if(c&&c!==aN&&!c.parentNode){return}while(c&&c!==this){c=c.parentNode}c!==this&&(d.type=d.data,aL.event.handle.apply(this,arguments))}catch(f){}},cH=function(b){b.type=b.data,aL.event.handle.apply(this,arguments)};aL.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(d,c){aL.event.special[d]={setup:function(a){aL.event.add(this,c,a&&a.selector?cH:aa,d)},teardown:function(b){aL.event.remove(this,c,b&&b.selector?cH:aa)}}}),aL.support.submitBubbles||(aL.event.special.submit={setup:function(d,c){if(this.nodeName&&this.nodeName.toLowerCase()!=="form"){aL.event.add(this,"click.specialSubmit",function(f){var e=f.target,g=e.type;(g==="submit"||g==="image")&&aL(e).closest("form").length&&cA("submit",this,arguments)}),aL.event.add(this,"keypress.specialSubmit",function(f){var e=f.target,g=e.type;(g==="text"||g==="password")&&aL(e).closest("form").length&&f.keyCode===13&&cA("submit",this,arguments)})}else{return !1}},teardown:function(b){aL.event.remove(this,".specialSubmit")}});if(!aL.support.changeBubbles){var cG,cE=function(e){var d=e.type,f=e.value;d==="radio"||d==="checkbox"?f=e.checked:d==="select-multiple"?f=e.selectedIndex>-1?aL.map(e.options,function(b){return b.selected}).join("-"):"":e.nodeName.toLowerCase()==="select"&&(f=e.selectedIndex);return f},cC=function cC(b){var h=b.target,g,d;if(ak.test(h.nodeName)&&!h.readOnly){g=aL._data(h,"_change_data"),d=cE(h),(b.type!=="focusout"||h.type!=="radio")&&aL._data(h,"_change_data",d);if(g===aP||d===g){return}if(g!=null||d){b.type="change",b.liveFired=aP,aL.event.trigger(b,arguments[1],h)}}};aL.event.special.change={filters:{focusout:cC,beforedeactivate:cC,click:function(e){var d=e.target,f=d.type;(f==="radio"||f==="checkbox"||d.nodeName.toLowerCase()==="select")&&cC.call(this,e)},keydown:function(e){var d=e.target,f=d.type;(e.keyCode===13&&d.nodeName.toLowerCase()!=="textarea"||e.keyCode===32&&(f==="checkbox"||f==="radio")||f==="select-multiple")&&cC.call(this,e)},beforeactivate:function(d){var c=d.target;aL._data(c,"_change_data",cE(c))}},setup:function(e,d){if(this.type==="file"){return !1}for(var f in cG){aL.event.add(this,f+".specialChange",cG[f])}return ak.test(this.nodeName)},teardown:function(b){aL.event.remove(this,".specialChange");return ak.test(this.nodeName)}},cG=aL.event.special.change.filters,cG.focus=cG.beforeactivate}aN.addEventListener&&aL.each({focus:"focusin",blur:"focusout"},function(d,c){function g(b){var e=aL.event.fix(b);e.type=c,e.originalEvent={},aL.event.trigger(e,null,e.target),e.isDefaultPrevented()&&b.preventDefault()}var h=0;aL.event.special[c]={setup:function(){h++===0&&aN.addEventListener(d,g,!0)},teardown:function(){--h===0&&aN.removeEventListener(d,g,!0)}}}),aL.each(["bind","one"],function(b,d){aL.fn[d]=function(c,p,o){if(typeof c==="object"){for(var n in c){this[d](n,p,c[n],o)}return this}if(aL.isFunction(p)||p===!1){o=p,p=aP}var m=d==="one"?aL.proxy(o,function(e){aL(this).unbind(e,m);return o.apply(this,arguments)}):o;if(c==="unload"&&d!=="one"){this.one(c,p,o)}else{for(var l=0,k=this.length;l<k;l++){aL.event.add(this[l],c,m,p)}}return this}}),aL.fn.extend({unbind:function(g,d){if(typeof g!=="object"||g.preventDefault){for(var j=0,h=this.length;j<h;j++){aL.event.remove(this[j],g,d)}}else{for(var k in g){this.unbind(k,g[k])}}return this},delegate:function(f,e,h,g){return this.live(e,h,g,f)},undelegate:function(e,d,f){return arguments.length===0?this.unbind("live"):this.die(d,null,f,e)},trigger:function(d,c){return this.each(function(){aL.event.trigger(d,c,this)})},triggerHandler:function(e,d){if(this[0]){var f=aL.Event(e);f.preventDefault(),f.stopPropagation(),aL.event.trigger(f,d,this[0]);return f.result}},toggle:function(e){var d=arguments,f=1;while(f<d.length){aL.proxy(e,d[f++])}return this.click(aL.proxy(e,function(b){var a=(aL._data(this,"lastToggle"+e.guid)||0)%f;aL._data(this,"lastToggle"+e.guid,a+1),b.preventDefault();return d[a].apply(this,arguments)||!1}))},hover:function(d,c){return this.mouseenter(d).mouseleave(c||d)}});var cy={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};aL.each(["live","die"],function(b,d){aL.fn[d]=function(D,C,B,A){var z,y=0,x,w,v,u=A||this.selector,t=A?this:aL(this.context);if(typeof D==="object"&&!D.preventDefault){for(var s in D){t[d](s,C,D[s],u)}return this}aL.isFunction(C)&&(B=C,C=aP),D=(D||"").split(" ");while((z=D[y++])!=null){x=am.exec(z),w="",x&&(w=x[0],z=z.replace(am,""));if(z==="hover"){D.push("mouseenter"+w,"mouseleave"+w);continue}v=z,z==="focus"||z==="blur"?(D.push(cy[z]+w),z=z+w):z=(cy[z]||z)+w;if(d==="live"){for(var r=0,c=t.length;r<c;r++){aL.event.add(t[r],"live."+ct(z,u),{data:C,selector:u,handler:B,origType:z,origHandler:B,preType:v})}}else{t.unbind("live."+ct(z,u),B)}}return this}}),aL.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(d,c){aL.fn[c]=function(b,e){e==null&&(e=b,b=null);return arguments.length>0?this.bind(c,b,e):this.trigger(c)},aL.attrFn&&(aL.attrFn[c]=!0)}),function(){function c(t,s,r,q,p,o){for(var n=0,m=q.length;n<m;n++){var l=q[n];if(l){var k=!1;l=l[t];while(l){if(l.sizcache===r){k=q[l.sizset];break}if(l.nodeType===1){o||(l.sizcache=r,l.sizset=n);if(typeof s!=="string"){if(l===s){k=!0;break}}else{if(E.filter(s,[l]).length>0){k=l;break}}}l=l[t]}q[n]=k}}}function d(t,s,r,q,p,o){for(var n=0,m=q.length;n<m;n++){var l=q[n];if(l){var k=!1;l=l[t];while(l){if(l.sizcache===r){k=q[l.sizset];break}l.nodeType===1&&!o&&(l.sizcache=r,l.sizset=n);if(l.nodeName.toLowerCase()===s){k=l;break}l=l[t]}q[n]=k}}}var L=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,K=0,J=Object.prototype.toString,I=!1,H=!0,G=/\\/g,F=/\W/;[0,0].sort(function(){H=!1;return 0});var E=function(Q,O,N,M){N=N||[],O=O||aN;var v=O;if(O.nodeType!==1&&O.nodeType!==9){return[]}if(!Q||typeof Q!=="string"){return N}var p,m,l,k,f,a,V,U,T=!0,S=E.isXML(O),R=[],P=Q;do{L.exec(""),p=L.exec(P);if(p){P=p[3],R.push(p[1]);if(p[2]){k=p[3];break}}}while(p);if(R.length>1&&C.exec(Q)){if(R.length===2&&D.relative[R[0]]){m=b(R[0]+R[1],O)}else{m=D.relative[R[0]]?[O]:E(R.shift(),O);while(R.length){Q=R.shift(),D.relative[Q]&&(Q+=R.shift()),m=b(Q,m)}}}else{!M&&R.length>1&&O.nodeType===9&&!S&&D.match.ID.test(R[0])&&!D.match.ID.test(R[R.length-1])&&(f=E.find(R.shift(),O,S),O=f.expr?E.filter(f.expr,f.set)[0]:f.set[0]);if(O){f=M?{expr:R.pop(),set:z(M)}:E.find(R.pop(),R.length===1&&(R[0]==="~"||R[0]==="+")&&O.parentNode?O.parentNode:O,S),m=f.expr?E.filter(f.expr,f.set):f.set,R.length>0?l=z(m):T=!1;while(R.length){a=R.pop(),V=a,D.relative[a]?V=R.pop():a="",V==null&&(V=O),D.relative[a](l,V,S)}}else{l=R=[]}}l||(l=m),l||E.error(a||Q);if(J.call(l)==="[object Array]"){if(T){if(O&&O.nodeType===1){for(U=0;l[U]!=null;U++){l[U]&&(l[U]===!0||l[U].nodeType===1&&E.contains(O,l[U]))&&N.push(m[U])}}else{for(U=0;l[U]!=null;U++){l[U]&&l[U].nodeType===1&&N.push(m[U])}}}else{N.push.apply(N,l)}}else{z(l,N)}k&&(E(k,v,N,M),E.uniqueSort(N));return N};E.uniqueSort=function(f){if(x){I=H,f.sort(x);if(I){for(var e=1;e<f.length;e++){f[e]===f[e-1]&&f.splice(e--,1)}}}return f},E.matches=function(f,e){return E(f,null,null,e)},E.matchesSelector=function(f,e){return E(e,null,null,[f]).length>0},E.find=function(s,r,q){var p;if(!s){return[]}for(var o=0,n=D.order.length;o<n;o++){var m,l=D.order[o];if(m=D.leftMatch[l].exec(s)){var k=m[1];m.splice(1,1);if(k.substr(k.length-1)!=="\\"){m[1]=(m[1]||"").replace(G,""),p=D.find[l](m,r,q);if(p!=null){s=s.replace(D.match[l],"");break}}}}p||(p=typeof r.getElementsByTagName!=="undefined"?r.getElementsByTagName("*"):[]);return{set:p,expr:s}},E.filter=function(W,V,U,T){var S,R,Q=W,P=[],O=V,N=V&&V[0]&&E.isXML(V[0]);while(W&&V.length){for(var M in D.filter){if((S=D.leftMatch[M].exec(W))!=null&&S[2]){var v,u,l=D.filter[M],k=S[1];R=!1,S.splice(1,1);if(k.substr(k.length-1)==="\\"){continue}O===P&&(P=[]);if(D.preFilter[M]){S=D.preFilter[M](S,O,U,P,T,N);if(S){if(S===!0){continue}}else{R=v=!0}}if(S){for(var Y=0;(u=O[Y])!=null;Y++){if(u){v=l(u,S,Y,O);var X=T^!!v;U&&v!=null?X?R=!0:O[Y]=!1:X&&(P.push(u),R=!0)}}}if(v!==aP){U||(O=P),W=W.replace(D.match[M],"");if(!R){return[]}break}}}if(W===Q){if(R==null){E.error(W)}else{break}}Q=W}return O},E.error=function(e){throw"Syntax error, unrecognized expression: "+e};var D=E.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(k,j){var q=typeof j==="string",p=q&&!F.test(j),o=q&&!p;p&&(j=j.toLowerCase());for(var n=0,m=k.length,l;n<m;n++){if(l=k[n]){while((l=l.previousSibling)&&l.nodeType!==1){}k[n]=o||l&&l.nodeName.toLowerCase()===j?l||!1:l===j}}o&&E.filter(j,k,!0)},">":function(j,h){var o,n=typeof h==="string",m=0,l=j.length;if(n&&!F.test(h)){h=h.toLowerCase();for(;m<l;m++){o=j[m];if(o){var k=o.parentNode;j[m]=k.nodeName.toLowerCase()===h?k:!1}}}else{for(;m<l;m++){o=j[m],o&&(j[m]=n?o.parentNode:o.parentNode===h)}n&&E.filter(h,j,!0)}},"":function(h,e,m){var l,k=K++,j=c;typeof e==="string"&&!F.test(e)&&(e=e.toLowerCase(),l=e,j=d),j("parentNode",e,k,h,l,m)},"~":function(h,e,m){var l,k=K++,j=c;typeof e==="string"&&!F.test(e)&&(e=e.toLowerCase(),l=e,j=d),j("previousSibling",e,k,h,l,m)}},find:{ID:function(f,e,h){if(typeof e.getElementById!=="undefined"&&!h){var g=e.getElementById(f[1]);return g&&g.parentNode?[g]:[]}},NAME:function(h,g){if(typeof g.getElementsByName!=="undefined"){var m=[],l=g.getElementsByName(h[1]);for(var k=0,j=l.length;k<j;k++){l[k].getAttribute("name")===h[1]&&m.push(l[k])}return m.length===0?null:m}},TAG:function(f,e){if(typeof e.getElementsByTagName!=="undefined"){return e.getElementsByTagName(f[1])}}},preFilter:{CLASS:function(k,j,q,p,o,n){k=" "+k[1].replace(G,"")+" ";if(n){return k}for(var m=0,l;(l=j[m])!=null;m++){l&&(o^(l.className&&(" "+l.className+" ").replace(/[\t\n\r]/g," ").indexOf(k)>=0)?q||p.push(l):q&&(j[m]=!1))}return !1},ID:function(e){return e[1].replace(G,"")},TAG:function(f,e){return f[1].replace(G,"").toLowerCase()},CHILD:function(f){if(f[1]==="nth"){f[2]||E.error(f[0]),f[2]=f[2].replace(/^\+|\s*/g,"");var e=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(f[2]==="even"&&"2n"||f[2]==="odd"&&"2n+1"||!/\D/.test(f[2])&&"0n+"+f[2]||f[2]);f[2]=e[1]+(e[2]||1)-0,f[3]=e[3]-0}else{f[2]&&E.error(f[0])}f[0]=K++;return f},ATTR:function(j,h,o,n,m,l){var k=j[1]=j[1].replace(G,"");!l&&D.attrMap[k]&&(j[1]=D.attrMap[k]),j[4]=(j[4]||j[5]||"").replace(G,""),j[2]==="~="&&(j[4]=" "+j[4]+" ");return j},PSEUDO:function(a,m,l,k,j){if(a[1]==="not"){if((L.exec(a[3])||"").length>1||/^\w/.test(a[3])){a[3]=E(a[3],null,null,m)}else{var h=E.filter(a[3],m,l,!0^j);l||k.push.apply(k,h);return !1}}else{if(D.match.POS.test(a[0])||D.match.CHILD.test(a[0])){return !0}}return a},POS:function(e){e.unshift(!0);return e}},filters:{enabled:function(e){return e.disabled===!1&&e.type!=="hidden"},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){e.parentNode&&e.parentNode.selectedIndex;return e.selected===!0},parent:function(e){return !!e.firstChild},empty:function(e){return !e.firstChild},has:function(f,e,g){return !!E(g[3],f).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(f){var e=f.getAttribute("type"),g=f.type;return"text"===g&&(e===g||e===null)},radio:function(e){return"radio"===e.type},checkbox:function(e){return"checkbox"===e.type},file:function(e){return"file"===e.type},password:function(e){return"password"===e.type},submit:function(e){return"submit"===e.type},image:function(e){return"image"===e.type},reset:function(e){return"reset"===e.type},button:function(e){return"button"===e.type||e.nodeName.toLowerCase()==="button"},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)}},setFilters:{first:function(f,e){return e===0},last:function(f,e,h,g){return e===g.length-1},even:function(f,e){return e%2===0},odd:function(f,e){return e%2===1},lt:function(f,e,g){return e<g[3]-0},gt:function(f,e,g){return e>g[3]-0},nth:function(f,e,g){return g[3]-0===e},eq:function(f,e,g){return g[3]-0===e}},filter:{PSEUDO:function(r,q,p,o){var n=q[1],m=D.filters[n];if(m){return m(r,p,q,o)}if(n==="contains"){return(r.textContent||r.innerText||E.getText([r])||"").indexOf(q[3])>=0}if(n==="not"){var l=q[3];for(var k=0,j=l.length;k<j;k++){if(l[k]===r){return !1}}return !0}E.error(n)},CHILD:function(t,s){var r=s[1],q=t;switch(r){case"only":case"first":while(q=q.previousSibling){if(q.nodeType===1){return !1}}if(r==="first"){return !0}q=t;case"last":while(q=q.nextSibling){if(q.nodeType===1){return !1}}return !0;case"nth":var p=s[2],o=s[3];if(p===1&&o===0){return !0}var n=s[0],m=t.parentNode;if(m&&(m.sizcache!==n||!t.nodeIndex)){var l=0;for(q=m.firstChild;q;q=q.nextSibling){q.nodeType===1&&(q.nodeIndex=++l)}m.sizcache=n}var k=t.nodeIndex-o;return p===0?k===0:k%p===0&&k/p>=0}},ID:function(f,e){return f.nodeType===1&&f.getAttribute("id")===e},TAG:function(f,e){return e==="*"&&f.nodeType===1||f.nodeName.toLowerCase()===e},CLASS:function(f,e){return(" "+(f.className||f.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(j,h){var o=h[1],n=D.attrHandle[o]?D.attrHandle[o](j):j[o]!=null?j[o]:j.getAttribute(o),m=n+"",l=h[2],k=h[4];return n==null?l==="!=":l==="="?m===k:l==="*="?m.indexOf(k)>=0:l==="~="?(" "+m+" ").indexOf(k)>=0:k?l==="!="?m!==k:l==="^="?m.indexOf(k)===0:l==="$="?m.substr(m.length-k.length)===k:l==="|="?m===k||m.substr(0,k.length+1)===k+"-":!1:m&&n!==!1},POS:function(h,g,m,l){var k=g[2],j=D.setFilters[k];if(j){return j(h,m,g,l)}}}},C=D.match.POS,B=function(f,e){return"\\"+(e-0+1)};for(var A in D.match){D.match[A]=new RegExp(D.match[A].source+/(?![^\[]*\])(?![^\(]*\))/.source),D.leftMatch[A]=new RegExp(/(^(?:.|\r|\n)*?)/.source+D.match[A].source.replace(/\\(\d+)/g,B))}var z=function(f,e){f=Array.prototype.slice.call(f,0);if(e){e.push.apply(e,f);return e}return f};try{Array.prototype.slice.call(aN.documentElement.childNodes,0)[0].nodeType}catch(y){z=function(g,f){var k=0,j=f||[];if(J.call(g)==="[object Array]"){Array.prototype.push.apply(j,g)}else{if(typeof g.length==="number"){for(var h=g.length;k<h;k++){j.push(g[k])}}else{for(;g[k];k++){j.push(g[k])}}}return j}}var x,w;aN.documentElement.compareDocumentPosition?x=function(f,e){if(f===e){I=!0;return 0}if(!f.compareDocumentPosition||!e.compareDocumentPosition){return f.compareDocumentPosition?-1:1}return f.compareDocumentPosition(e)&4?-1:1}:(x=function(t,s){var r,q,p=[],o=[],n=t.parentNode,m=s.parentNode,l=n;if(t===s){I=!0;return 0}if(n===m){return w(t,s)}if(!n){return -1}if(!m){return 1}while(l){p.unshift(l),l=l.parentNode}l=m;while(l){o.unshift(l),l=l.parentNode}r=p.length,q=o.length;for(var g=0;g<r&&g<q;g++){if(p[g]!==o[g]){return w(p[g],o[g])}}return g===r?w(t,o[g],-1):w(p[g],s,1)},w=function(f,e,h){if(f===e){return h}var g=f.nextSibling;while(g){if(g===e){return -1}g=g.nextSibling}return 1}),E.getText=function(f){var e="",h;for(var g=0;f[g];g++){h=f[g],h.nodeType===3||h.nodeType===4?e+=h.nodeValue:h.nodeType!==8&&(e+=E.getText(h.childNodes))}return e},function(){var f=aN.createElement("div"),h="script"+(new Date).getTime(),g=aN.documentElement;f.innerHTML="<a name='"+h+"'/>",g.insertBefore(f,g.firstChild),aN.getElementById(h)&&(D.find.ID=function(j,m,l){if(typeof m.getElementById!=="undefined"&&!l){var k=m.getElementById(j[1]);return k?k.id===j[1]||typeof k.getAttributeNode!=="undefined"&&k.getAttributeNode("id").nodeValue===j[1]?[k]:aP:[]}},D.filter.ID=function(j,e){var k=typeof j.getAttributeNode!=="undefined"&&j.getAttributeNode("id");return j.nodeType===1&&k&&k.nodeValue===e}),g.removeChild(f),g=f=null}(),function(){var e=aN.createElement("div");e.appendChild(aN.createComment("")),e.getElementsByTagName("*").length>0&&(D.find.TAG=function(g,f){var k=f.getElementsByTagName(g[1]);if(g[1]==="*"){var j=[];for(var h=0;k[h];h++){k[h].nodeType===1&&j.push(k[h])}k=j}return k}),e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!=="undefined"&&e.firstChild.getAttribute("href")!=="#"&&(D.attrHandle.href=function(f){return f.getAttribute("href",2)}),e=null}(),aN.querySelectorAll&&function(){var g=E,f=aN.createElement("div"),j="__sizzle__";f.innerHTML="<p class='TEST'></p>";if(!f.querySelectorAll||f.querySelectorAll(".TEST").length!==0){E=function(Q,P,O,N){P=P||aN;if(!N&&!E.isXML(P)){var M=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(Q);if(M&&(P.nodeType===1||P.nodeType===9)){if(M[1]){return z(P.getElementsByTagName(Q),O)}if(M[2]&&D.find.CLASS&&P.getElementsByClassName){return z(P.getElementsByClassName(M[2]),O)}}if(P.nodeType===9){if(Q==="body"&&P.body){return z([P.body],O)}if(M&&M[3]){var v=P.getElementById(M[3]);if(!v||!v.parentNode){return z([],O)}if(v.id===M[3]){return z([v],O)}}try{return z(P.querySelectorAll(Q),O)}catch(u){}}else{if(P.nodeType===1&&P.nodeName.toLowerCase()!=="object"){var t=P,p=P.getAttribute("id"),l=p||j,k=P.parentNode,a=/^\s*[+~]/.test(Q);p?l=l.replace(/'/g,"\\$&"):P.setAttribute("id",l),a&&k&&(P=P.parentNode);try{if(!a||k){return z(P.querySelectorAll("[id='"+l+"'] "+Q),O)}}catch(R){}finally{p||t.removeAttribute("id")}}}}return g(Q,P,O,N)};for(var h in g){E[h]=g[h]}f=null}}(),function(){var h=aN.documentElement,g=h.matchesSelector||h.mozMatchesSelector||h.webkitMatchesSelector||h.msMatchesSelector;if(g){var l=!g.call(aN.createElement("div"),"div"),k=!1;try{g.call(aN.documentElement,"[test!='']:sizzle")}catch(j){k=!0}E.matchesSelector=function(e,o){o=o.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!E.isXML(e)){try{if(k||!D.match.PSEUDO.test(o)&&!/!=/.test(o)){var n=g.call(e,o);if(n||!l||e.document&&e.document.nodeType!==11){return n}}}catch(m){}}return E(o,null,null,[e]).length>0}}}(),function(){var e=aN.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(e.getElementsByClassName&&e.getElementsByClassName("e").length!==0){e.lastChild.className="e";if(e.getElementsByClassName("e").length===1){return}D.order.splice(1,0,"CLASS"),D.find.CLASS=function(g,f,h){if(typeof f.getElementsByClassName!=="undefined"&&!h){return f.getElementsByClassName(g[1])}},e=null}}(),aN.documentElement.contains?E.contains=function(f,e){return f!==e&&(f.contains?f.contains(e):!0)}:aN.documentElement.compareDocumentPosition?E.contains=function(f,e){return !!(f.compareDocumentPosition(e)&16)}:E.contains=function(){return !1},E.isXML=function(f){var e=(f?f.ownerDocument||f:0).documentElement;return e?e.nodeName!=="HTML":!1};var b=function(k,j){var q,p=[],o="",n=j.nodeType?[j]:j;while(q=D.match.PSEUDO.exec(k)){o+=q[0],k=k.replace(D.match.PSEUDO,"")}k=D.relative[k]?k+"*":k;for(var m=0,l=n.length;m<l;m++){E(k,n[m],p)}return E.filter(o,p)};aL.find=E,aL.expr=E.selectors,aL.expr[":"]=aL.expr.filters,aL.unique=E.uniqueSort,aL.text=E.getText,aL.isXMLDoc=E.isXML,aL.contains=E.contains}();var cs=/Until$/,cr=/^(?:parents|prevUntil|prevAll)/,cq=/,/,cp=/^.[^:#\[\.,]*$/,co=Array.prototype.slice,cm=aL.expr.match.POS,cl={children:!0,contents:!0,next:!0,prev:!0};aL.fn.extend({find:function(j){var d=this.pushStack("","find",j),o=0;for(var n=0,m=this.length;n<m;n++){o=d.length,aL.find(j,this[n],d);if(n>0){for(var l=o;l<d.length;l++){for(var k=0;k<o;k++){if(d[k]===d[l]){d.splice(l--,1);break}}}}}return d},has:function(d){var c=aL(d);return this.filter(function(){for(var b=0,e=c.length;b<e;b++){if(aL.contains(this,c[b])){return !0}}})},not:function(b){return this.pushStack(b8(this,b,!1),"not",b)},filter:function(b){return this.pushStack(b8(this,b,!0),"filter",b)},is:function(b){return !!b&&aL.filter(b,this).length>0},closest:function(v,u){var t=[],s,r,q=this[0];if(aL.isArray(v)){var p,o,n={},m=1;if(q&&v.length){for(s=0,r=v.length;s<r;s++){o=v[s],n[o]||(n[o]=aL.expr.match.POS.test(o)?aL(o,u||this.context):o)}while(q&&q.ownerDocument&&q!==u){for(o in n){p=n[o],(p.jquery?p.index(q)>-1:aL(q).is(p))&&t.push({selector:o,elem:q,level:m})}q=q.parentNode,m++}}return t}var d=cm.test(v)?aL(v,u||this.context):null;for(s=0,r=this.length;s<r;s++){q=this[s];while(q){if(d?d.index(q)>-1:aL.find.matchesSelector(q,v)){t.push(q);break}q=q.parentNode;if(!q||!q.ownerDocument||q===u){break}}}t=t.length>1?aL.unique(t):t;return this.pushStack(t,"closest",v)},index:function(b){if(!b||typeof b==="string"){return aL.inArray(this[0],b?aL(b):this.parent().children())}return aL.inArray(b.jquery?b[0]:b,this)},add:function(f,d){var h=typeof f==="string"?aL(f,d):aL.makeArray(f),g=aL.merge(this.get(),h);return this.pushStack(cj(h[0])||cj(g[0])?g:aL.unique(g))},andSelf:function(){return this.add(this.prevObject)}}),aL.each({parent:function(d){var c=d.parentNode;return c&&c.nodeType!==11?c:null},parents:function(b){return aL.dir(b,"parentNode")},parentsUntil:function(e,d,f){return aL.dir(e,"parentNode",f)},next:function(b){return aL.nth(b,2,"nextSibling")},prev:function(b){return aL.nth(b,2,"previousSibling")},nextAll:function(b){return aL.dir(b,"nextSibling")},prevAll:function(b){return aL.dir(b,"previousSibling")},nextUntil:function(e,d,f){return aL.dir(e,"nextSibling",f)},prevUntil:function(e,d,f){return aL.dir(e,"previousSibling",f)},siblings:function(b){return aL.sibling(b.parentNode.firstChild,b)},children:function(b){return aL.sibling(b.firstChild)},contents:function(b){return aL.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:aL.makeArray(b.childNodes)}},function(d,c){aL.fn[d]=function(j,h){var b=aL.map(this,c,j),a=co.call(arguments);cs.test(d)||(h=j),h&&typeof h==="string"&&(b=aL.filter(h,b)),b=this.length>1&&!cl[d]?aL.unique(b):b,(this.length>1||cq.test(h))&&cr.test(d)&&(b=b.reverse());return this.pushStack(b,d,a.join(","))}}),aL.extend({filter:function(e,d,f){f&&(e=":not("+e+")");return d.length===1?aL.find.matchesSelector(d[0],e)?[d[0]]:[]:aL.find.matches(e,d)},dir:function(b,k,j){var h=[],d=b[k];while(d&&d.nodeType!==9&&(j===aP||d.nodeType!==1||!aL(d).is(j))){d.nodeType===1&&h.push(d),d=d[k]}return h},nth:function(g,f,k,j){f=f||1;var h=0;for(;g;g=g[k]){if(g.nodeType===1&&++h===f){break}}return g},sibling:function(e,d){var f=[];for(;e;e=e.nextSibling){e.nodeType===1&&e!==d&&f.push(e)}return f}});var b6=/ jQuery\d+="(?:\d+|null)"/g,b4=/^\s+/,b2=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,b0=/<([\w:]+)/,a8=/<tbody/i,a6=/<|&#?\w+;/,a4=/<(?:script|object|embed|option|style)/i,a2=/checked\s*(?:[^=]|=\s*.checked.)/i,a0={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};a0.optgroup=a0.option,a0.tbody=a0.tfoot=a0.colgroup=a0.caption=a0.thead,a0.th=a0.td,aL.support.htmlSerialize||(a0._default=[1,"div<div>","</div>"]),aL.fn.extend({text:function(b){if(aL.isFunction(b)){return this.each(function(a){var d=aL(this);d.text(b.call(this,a,d.text()))})}if(typeof b!=="object"&&b!==aP){return this.empty().append((this[0]&&this[0].ownerDocument||aN).createTextNode(b))}return aL.text(this)},wrapAll:function(d){if(aL.isFunction(d)){return this.each(function(a){aL(this).wrapAll(d.call(this,a))})}if(this[0]){var c=aL(d,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&c.insertBefore(this[0]),c.map(function(){var b=this;while(b.firstChild&&b.firstChild.nodeType===1){b=b.firstChild}return b}).append(this)}return this},wrapInner:function(b){if(aL.isFunction(b)){return this.each(function(a){aL(this).wrapInner(b.call(this,a))})}return this.each(function(){var a=aL(this),d=a.contents();d.length?d.wrapAll(b):a.append(b)})},wrap:function(b){return this.each(function(){aL(this).wrapAll(b)})},unwrap:function(){return this.parent().each(function(){aL.nodeName(this,"body")||aL(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(b){this.nodeType===1&&this.appendChild(b)})},prepend:function(){return this.domManip(arguments,!0,function(b){this.nodeType===1&&this.insertBefore(b,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,!1,function(c){this.parentNode.insertBefore(c,this)})}if(arguments.length){var b=aL(arguments[0]);b.push.apply(b,this.toArray());return this.pushStack(b,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,!1,function(c){this.parentNode.insertBefore(c,this.nextSibling)})}if(arguments.length){var b=this.pushStack(this,"after",arguments);b.push.apply(b,aL(arguments[0]).toArray());return b}},remove:function(f,d){for(var h=0,g;(g=this[h])!=null;h++){if(!f||aL.filter(f,[g]).length){!d&&g.nodeType===1&&(aL.cleanData(g.getElementsByTagName("*")),aL.cleanData([g])),g.parentNode&&g.parentNode.removeChild(g)}}return this},empty:function(){for(var d=0,c;(c=this[d])!=null;d++){c.nodeType===1&&aL.cleanData(c.getElementsByTagName("*"));while(c.firstChild){c.removeChild(c.firstChild)}}return this},clone:function(d,c){d=d==null?!1:d,c=c==null?d:c;return this.map(function(){return aL.clone(this,d,c)})},html:function(b){if(b===aP){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(b6,""):null}if(typeof b!=="string"||a4.test(b)||!aL.support.leadingWhitespace&&b4.test(b)||a0[(b0.exec(b)||["",""])[1].toLowerCase()]){aL.isFunction(b)?this.each(function(a){var e=aL(this);e.html(b.call(this,a,e.html()))}):this.empty().append(b)}else{b=b.replace(b2,"<$1></$2>");try{for(var h=0,g=this.length;h<g;h++){this[h].nodeType===1&&(aL.cleanData(this[h].getElementsByTagName("*")),this[h].innerHTML=b)}}catch(d){this.empty().append(b)}}return this},replaceWith:function(b){if(this[0]&&this[0].parentNode){if(aL.isFunction(b)){return this.each(function(a){var f=aL(this),d=f.html();f.replaceWith(b.call(this,a,d))})}typeof b!=="string"&&(b=aL(b).detach());return this.each(function(){var a=this.nextSibling,d=this.parentNode;aL(this).remove(),a?aL(a).before(b):aL(d).append(b)})}return this.length?this.pushStack(aL(aL.isFunction(b)?b():b),"replaceWith",b):this},detach:function(b){return this.remove(b,!0)},domManip:function(x,w,v){var u,t,s,r,q=x[0],p=[];if(!aL.support.checkClone&&arguments.length===3&&typeof q==="string"&&a2.test(q)){return this.each(function(){aL(this).domManip(x,w,v,!0)})}if(aL.isFunction(q)){return this.each(function(c){var a=aL(this);x[0]=q.call(this,c,w?a.html():aP),a.domManip(x,w,v)})}if(this[0]){r=q&&q.parentNode,aL.support.parentNode&&r&&r.nodeType===11&&r.childNodes.length===this.length?u={fragment:r}:u=aL.buildFragment(x,this,p),s=u.fragment,s.childNodes.length===1?t=s=s.firstChild:t=s.firstChild;if(t){w=w&&aL.nodeName(t,"tr");for(var o=0,d=this.length,b=d-1;o<d;o++){v.call(w?c1(this[o],t):this[o],u.cacheable||d>1&&o<b?aL.clone(s,!0,!0):s)}}p.length&&aL.each(p,b7)}return this}}),aL.buildFragment=function(d,c,n){var m,l,k,j=c&&c[0]?c[0].ownerDocument||c[0]:aN;d.length===1&&typeof d[0]==="string"&&d[0].length<512&&j===aN&&d[0].charAt(0)==="<"&&!a4.test(d[0])&&(aL.support.checkClone||!a2.test(d[0]))&&(l=!0,k=aL.fragments[d[0]],k&&(k!==1&&(m=k))),m||(m=j.createDocumentFragment(),aL.clean(d,j,m,n)),l&&(aL.fragments[d[0]]=k?m:1);return{fragment:m,cacheable:l}},aL.fragments={},aL.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(d,c){aL.fn[d]=function(o){var n=[],m=aL(o),l=this.length===1&&this[0].parentNode;if(l&&l.nodeType===11&&l.childNodes.length===1&&m.length===1){m[c](this[0]);return this}for(var k=0,b=m.length;k<b;k++){var a=(k>0?this.clone(!0):this).get();aL(m[k])[c](a),n=n.concat(a)}return this.pushStack(n,d,m.selector)}}),aL.extend({clone:function(j,d,o){var n=j.cloneNode(!0),m,l,k;if((!aL.support.noCloneEvent||!aL.support.noCloneChecked)&&(j.nodeType===1||j.nodeType===11)&&!aL.isXMLDoc(j)){ck(j,n),m=b9(j),l=b9(n);for(k=0;m[k];++k){ck(m[k],l[k])}}if(d){aT(j,n);if(o){m=b9(j),l=b9(n);for(k=0;m[k];++k){aT(m[k],l[k])}}}return n},clean:function(B,A,z,y){A=A||aN,typeof A.createElement==="undefined"&&(A=A.ownerDocument||A[0]&&A[0].ownerDocument||aN);var x=[];for(var w=0,v;(v=B[w])!=null;w++){typeof v==="number"&&(v+="");if(!v){continue}if(typeof v!=="string"||a6.test(v)){if(typeof v==="string"){v=v.replace(b2,"<$1></$2>");var u=(b0.exec(v)||["",""])[1].toLowerCase(),t=a0[u]||a0._default,s=t[0],r=A.createElement("div");r.innerHTML=t[1]+v+t[2];while(s--){r=r.lastChild}if(!aL.support.tbody){var q=a8.test(v),d=u==="table"&&!q?r.firstChild&&r.firstChild.childNodes:t[1]==="<table>"&&!q?r.childNodes:[];for(var c=d.length-1;c>=0;--c){aL.nodeName(d[c],"tbody")&&!d[c].childNodes.length&&d[c].parentNode.removeChild(d[c])}}!aL.support.leadingWhitespace&&b4.test(v)&&r.insertBefore(A.createTextNode(b4.exec(v)[0]),r.firstChild),v=r.childNodes}}else{v=A.createTextNode(v)}v.nodeType?x.push(v):x=aL.merge(x,v)}if(z){for(w=0;x[w];w++){!y||!aL.nodeName(x[w],"script")||x[w].type&&x[w].type.toLowerCase()!=="text/javascript"?(x[w].nodeType===1&&x.splice.apply(x,[w+1,0].concat(aL.makeArray(x[w].getElementsByTagName("script")))),z.appendChild(x[w])):y.push(x[w].parentNode?x[w].parentNode.removeChild(x[w]):x[w])}}return x},cleanData:function(t){var s,r,q=aL.cache,p=aL.expando,o=aL.event.special,n=aL.support.deleteExpando;for(var m=0,l;(l=t[m])!=null;m++){if(l.nodeName&&aL.noData[l.nodeName.toLowerCase()]){continue}r=l[aL.expando];if(r){s=q[r]&&q[r][p];if(s&&s.events){for(var d in s.events){o[d]?aL.event.remove(l,d):aL.removeEvent(l,d,s.handle)}s.handle&&(s.handle.elem=null)}n?delete l[aL.expando]:l.removeAttribute&&l.removeAttribute(aL.expando),delete q[r]}}}});var b5=/alpha\([^)]*\)/i,b3=/opacity=([^)]*)/,b1=/-([a-z])/ig,a9=/([A-Z]|^ms)/g,a7=/^-?\d+(?:px)?$/i,a5=/^-?\d/,a3={position:"absolute",visibility:"hidden",display:"block"},a1=["Left","Right"],aZ=["Top","Bottom"],aY,aX,aW,aV=function(d,c){return c.toUpperCase()};aL.fn.css=function(b,d){if(arguments.length===2&&d===aP){return this}return aL.access(this,b,d,!0,function(f,h,g){return g!==aP?aL.style(f,h,g):aL.css(f,h)})},aL.extend({cssHooks:{opacity:{get:function(e,d){if(d){var f=aY(e,"opacity","opacity");return f===""?"1":f}return e.style.opacity}}},cssNumber:{zIndex:!0,fontWeight:!0,opacity:!0,zoom:!0,lineHeight:!0},cssProps:{"float":aL.support.cssFloat?"cssFloat":"styleFloat"},style:function(r,q,p,o){if(r&&r.nodeType!==3&&r.nodeType!==8&&r.style){var n,m=aL.camelCase(q),l=r.style,d=aL.cssHooks[m];q=aL.cssProps[m]||m;if(p===aP){if(d&&"get" in d&&(n=d.get(r,!1,o))!==aP){return n}return l[q]}if(typeof p==="number"&&isNaN(p)||p==null){return}typeof p==="number"&&!aL.cssNumber[m]&&(p+="px");if(!d||!("set" in d)||(p=d.set(r,p))!==aP){try{l[q]=p}catch(b){}}}},css:function(b,m,l){var k,j=aL.camelCase(m),d=aL.cssHooks[j];m=aL.cssProps[j]||j;if(d&&"get" in d&&(k=d.get(b,!0,l))!==aP){return k}if(aY){return aY(b,m,j)}},swap:function(g,f,k){var j={};for(var h in f){j[h]=g.style[h],g.style[h]=f[h]}k.call(g);for(h in f){g.style[h]=j[h]}},camelCase:function(b){return b.replace(b1,aV)}}),aL.curCSS=aL.css,aL.each(["height","width"],function(d,c){aL.cssHooks[c]={get:function(b,j,h){var g;if(j){b.offsetWidth!==0?g=aU(b,c,h):aL.swap(b,a3,function(){g=aU(b,c,h)});if(g<=0){g=aY(b,c,c),g==="0px"&&aW&&(g=aW(b,c,c));if(g!=null){return g===""||g==="auto"?"0px":g}}if(g<0||g==null){g=b.style[c];return g===""||g==="auto"?"0px":g}return typeof g==="string"?g:g+"px"}},set:function(f,e){if(!a7.test(e)){return e}e=parseFloat(e);if(e>=0){return e+"px"}}}}),aL.support.opacity||(aL.cssHooks.opacity={get:function(d,c){return b3.test((c&&d.currentStyle?d.currentStyle.filter:d.style.filter)||"")?parseFloat(RegExp.$1)/100+"":c?"1":""},set:function(g,d){var k=g.style;k.zoom=1;var j=aL.isNaN(d)?"":"alpha(opacity="+d*100+")",h=k.filter||"";k.filter=b5.test(h)?h.replace(b5,j):k.filter+" "+j}}),aL(function(){aL.support.reliableMarginRight||(aL.cssHooks.marginRight={get:function(e,d){var f;aL.swap(e,{display:"inline-block"},function(){d?f=aY(e,"margin-right","marginRight"):f=e.style.marginRight});return f}})}),aN.defaultView&&aN.defaultView.getComputedStyle&&(aX=function(b,m,l){var k,j,d;l=l.replace(a9,"-$1").toLowerCase();if(!(j=b.ownerDocument.defaultView)){return aP}if(d=j.getComputedStyle(b,null)){k=d.getPropertyValue(l),k===""&&!aL.contains(b.ownerDocument.documentElement,b)&&(k=aL.style(b,l))}return k}),aN.documentElement.currentStyle&&(aW=function(h,g){var m,l=h.currentStyle&&h.currentStyle[g],k=h.runtimeStyle&&h.runtimeStyle[g],j=h.style;!a7.test(l)&&a5.test(l)&&(m=j.left,k&&(h.runtimeStyle.left=h.currentStyle.left),j.left=g==="fontSize"?"1em":l||0,l=j.pixelLeft+"px",j.left=m,k&&(h.runtimeStyle.left=k));return l===""?"auto":l}),aY=aX||aW,aL.expr&&aL.expr.filters&&(aL.expr.filters.hidden=function(e){var d=e.offsetWidth,f=e.offsetHeight;return d===0&&f===0||!aL.support.reliableHiddenOffsets&&(e.style.display||aL.css(e,"display"))==="none"},aL.expr.filters.visible=function(b){return !aL.expr.filters.hidden(b)});var aS=/%20/g,aQ=/\[\]$/,aO=/\r?\n/g,aM=/#.*$/,aK=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,aI=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,aG=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/,aE=/^(?:GET|HEAD)$/,aC=/^\/\//,c0=/\?/,cZ=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,cY=/^(?:select|textarea)/i,cX=/\s+/,cW=/([?&])_=[^&]*/,cV=/(^|\-)([a-z])/g,cU=function(e,d,f){return d+f.toUpperCase()},cT=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,cS=aL.fn.load,cR={},cQ={},cP,cO;try{cP=aN.location.href}catch(cN){cP=aN.createElement("a"),cP.href="",cP=cP.href}cO=cT.exec(cP.toLowerCase())||[],aL.fn.extend({load:function(b,n,m){if(typeof b!=="string"&&cS){return cS.apply(this,arguments)}if(!this.length){return this}var l=b.indexOf(" ");if(l>=0){var k=b.slice(l,b.length);b=b.slice(0,l)}var j="GET";n&&(aL.isFunction(n)?(m=n,n=aP):typeof n==="object"&&(n=aL.param(n,aL.ajaxSettings.traditional),j="POST"));var d=this;aL.ajax({url:b,type:j,dataType:"html",data:n,complete:function(f,e,g){g=f.responseText,f.isResolved()&&(f.done(function(c){g=c}),d.html(k?aL("<div>").append(g.replace(cZ,"")).find(k):g)),m&&d.each(m,[g,e,f])}});return this},serialize:function(){return aL.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?aL.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||cY.test(this.nodeName)||aI.test(this.type))}).map(function(e,d){var f=aL(this).val();return f==null?null:aL.isArray(f)?aL.map(f,function(b,g){return{name:d.name,value:b.replace(aO,"\r\n")}}):{name:d.name,value:f.replace(aO,"\r\n")}}).get()}}),aL.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(d,c){aL.fn[c]=function(b){return this.bind(c,b)}}),aL.each(["get","post"],function(b,d){aL[d]=function(c,k,j,h){aL.isFunction(k)&&(h=h||j,j=k,k=aP);return aL.ajax({type:d,url:c,data:k,success:j,dataType:h})}}),aL.extend({getScript:function(b,d){return aL.get(b,aP,d,"script")},getJSON:function(e,d,f){return aL.get(e,d,f,"json")},ajaxSetup:function(e,d){d?aL.extend(!0,e,aL.ajaxSettings,d):(d=e,e=aL.extend(!0,aL.ajaxSettings,d));for(var f in {context:1,url:1}){f in d?e[f]=d[f]:f in aL.ajaxSettings&&(e[f]=aL.ajaxSettings[f])}return e},ajaxSettings:{url:cP,isLocal:aG.test(cO[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":aR.String,"text html":!0,"text json":aL.parseJSON,"text xml":aL.parseXML}},ajaxPrefilter:cM(cR),ajaxTransport:cM(cQ),ajax:function(T,S){function A(o,j,g,f){if(E!==2){E=2,G&&clearTimeout(G),H=aP,J=f||"",B.readyState=o?4:0;var e,s,r,p=g?cJ(R,B,g):aP,m,k;if(o>=200&&o<300||o===304){if(R.ifModified){if(m=B.getResponseHeader("Last-Modified")){aL.lastModified[L]=m}if(k=B.getResponseHeader("Etag")){aL.etag[L]=k}}if(o===304){j="notmodified",e=!0}else{try{s=cI(R,p),j="success",e=!0}catch(h){j="parsererror",r=h}}}else{r=j;if(!j||o){j="error",o<0&&(o=0)}}B.status=o,B.statusText=j,e?O.resolveWith(Q,[s,j,B]):O.rejectWith(Q,[B,j,r]),B.statusCode(M),M=aP,D&&P.trigger("ajax"+(e?"Success":"Error"),[B,R,e?s:r]),N.resolveWith(Q,[B,j]),D&&(P.trigger("ajaxComplete",[B,R]),--aL.active||aL.event.trigger("ajaxStop"))}}typeof T==="object"&&(S=T,T=aP),S=S||{};var R=aL.ajaxSetup({},S),Q=R.context||R,P=Q!==R&&(Q.nodeType||Q instanceof aL)?aL(Q):aL.event,O=aL.Deferred(),N=aL._Deferred(),M=R.statusCode||{},L,K={},J,I,H,G,F,E=0,D,C,B={readyState:0,setRequestHeader:function(e,c){E||(K[e.toLowerCase().replace(cV,cU)]=c);return this},getAllResponseHeaders:function(){return E===2?J:null},getResponseHeader:function(e){var f;if(E===2){if(!I){I={};while(f=aK.exec(J)){I[f[1].toLowerCase()]=f[2]}}f=I[e.toLowerCase()]}return f===aP?null:f},overrideMimeType:function(c){E||(R.mimeType=c);return this},abort:function(c){c=c||"abort",H&&H.abort(c),A(0,c);return this}};O.promise(B),B.success=B.done,B.error=B.fail,B.complete=N.done,B.statusCode=function(e){if(e){var c;if(E<2){for(c in e){M[c]=[M[c],e[c]]}}else{c=e[B.status],B.then(c,c)}}return this},R.url=((T||R.url)+"").replace(aM,"").replace(aC,cO[1]+"//"),R.dataTypes=aL.trim(R.dataType||"*").toLowerCase().split(cX),R.crossDomain==null&&(F=cT.exec(R.url.toLowerCase()),R.crossDomain=F&&(F[1]!=cO[1]||F[2]!=cO[2]||(F[3]||(F[1]==="http:"?80:443))!=(cO[3]||(cO[1]==="http:"?80:443)))),R.data&&R.processData&&typeof R.data!=="string"&&(R.data=aL.param(R.data,R.traditional)),cL(cR,R,S,B);if(E===2){return !1}D=R.global,R.type=R.type.toUpperCase(),R.hasContent=!aE.test(R.type),D&&aL.active++===0&&aL.event.trigger("ajaxStart");if(!R.hasContent){R.data&&(R.url+=(c0.test(R.url)?"&":"?")+R.data),L=R.url;if(R.cache===!1){var z=aL.now(),d=R.url.replace(cW,"$1_="+z);R.url=d+(d===R.url?(c0.test(R.url)?"&":"?")+"_="+z:"")}}if(R.data&&R.hasContent&&R.contentType!==!1||S.contentType){K["Content-Type"]=R.contentType}R.ifModified&&(L=L||R.url,aL.lastModified[L]&&(K["If-Modified-Since"]=aL.lastModified[L]),aL.etag[L]&&(K["If-None-Match"]=aL.etag[L])),K.Accept=R.dataTypes[0]&&R.accepts[R.dataTypes[0]]?R.accepts[R.dataTypes[0]]+(R.dataTypes[0]!=="*"?", */*; q=0.01":""):R.accepts["*"];for(C in R.headers){B.setRequestHeader(C,R.headers[C])}if(R.beforeSend&&(R.beforeSend.call(Q,B,R)===!1||E===2)){B.abort();return !1}for(C in {success:1,error:1,complete:1}){B[C](R[C])}H=cL(cQ,R,S,B);if(H){B.readyState=1,D&&P.trigger("ajaxSend",[B,R]),R.async&&R.timeout>0&&(G=setTimeout(function(){B.abort("timeout")},R.timeout));try{E=1,H.send(K,A)}catch(b){status<2?A(-1,b):aL.error(b)}}else{A(-1,"No Transport")}return B},param:function(b,k){var j=[],h=function(e,c){c=aL.isFunction(c)?c():c,j[j.length]=encodeURIComponent(e)+"="+encodeURIComponent(c)};k===aP&&(k=aL.ajaxSettings.traditional);if(aL.isArray(b)||b.jquery&&!aL.isPlainObject(b)){aL.each(b,function(){h(this.name,this.value)})}else{for(var d in b){cK(d,b[d],k,h)}}return j.join("&").replace(aS,"+")}}),aL.extend({active:0,lastModified:{},etag:{}});var cF=aL.now(),cD=/(\=)\?(&|$)|\?\?/i;aL.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return aL.expando+"_"+cF++}}),aL.ajaxPrefilter("json jsonp",function(v,u,t){var s=typeof v.data==="string";if(v.dataTypes[0]==="jsonp"||u.jsonpCallback||u.jsonp!=null||v.jsonp!==!1&&(cD.test(v.url)||s&&cD.test(v.data))){var r,q=v.jsonpCallback=aL.isFunction(v.jsonpCallback)?v.jsonpCallback():v.jsonpCallback,p=aR[q],o=v.url,n=v.data,d="$1"+q+"$2",a=function(){aR[q]=p,r&&aL.isFunction(p)&&aR[q](r[0])};v.jsonp!==!1&&(o=o.replace(cD,d),v.url===o&&(s&&(n=n.replace(cD,d)),v.data===n&&(o+=(/\?/.test(o)?"&":"?")+v.jsonp+"="+q))),v.url=o,v.data=n,aR[q]=function(b){r=[b]},t.then(a,a),v.converters["script json"]=function(){r||aL.error(q+" was not called");return r[0]},v.dataTypes[0]="json";return"script"}}),aL.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(b){aL.globalEval(b);return b}}}),aL.ajaxPrefilter("script",function(b){b.cache===aP&&(b.cache=!1),b.crossDomain&&(b.type="GET",b.global=!1)}),aL.ajaxTransport("script",function(b){if(b.crossDomain){var f,c=aN.head||aN.getElementsByTagName("head")[0]||aN.documentElement;return{send:function(d,a){f=aN.createElement("script"),f.async="async",b.scriptCharset&&(f.charset=b.scriptCharset),f.src=b.url,f.onload=f.onreadystatechange=function(e,g){if(!f.readyState||/loaded|complete/.test(f.readyState)){f.onload=f.onreadystatechange=null,c&&f.parentNode&&c.removeChild(f),f=aP,g||a(200,"success")}},c.insertBefore(f,c.firstChild)},abort:function(){f&&f.onload(0,1)}}}});var cB=aL.now(),cz,cx;aL.ajaxSettings.xhr=aR.ActiveXObject?function(){return !this.isLocal&&cu()||c2()}:cu,cx=aL.ajaxSettings.xhr(),aL.support.ajax=!!cx,aL.support.cors=cx&&"withCredentials" in cx,cx=aP,aL.support.ajax&&aL.ajaxTransport(function(b){if(!b.crossDomain||aL.support.cors){var d;return{send:function(n,m){var l=b.xhr(),k,c;b.username?l.open(b.type,b.url,b.async,b.username,b.password):l.open(b.type,b.url,b.async);if(b.xhrFields){for(c in b.xhrFields){l[c]=b.xhrFields[c]}}b.mimeType&&l.overrideMimeType&&l.overrideMimeType(b.mimeType),!b.crossDomain&&!n["X-Requested-With"]&&(n["X-Requested-With"]="XMLHttpRequest");try{for(c in n){l.setRequestHeader(c,n[c])}}catch(a){}l.send(b.hasContent&&b.data||null),d=function(v,u){var t,s,r,q,h;try{if(d&&(u||l.readyState===4)){d=aP,k&&(l.onreadystatechange=aL.noop,delete cz[k]);if(u){l.readyState!==4&&l.abort()}else{t=l.status,r=l.getAllResponseHeaders(),q={},h=l.responseXML,h&&h.documentElement&&(q.xml=h),q.text=l.responseText;try{s=l.statusText}catch(g){s=""}t||!b.isLocal||b.crossDomain?t===1223&&(t=204):t=q.text?200:404}}}catch(f){u||m(-1,f)}q&&m(t,s,q,r)},b.async&&l.readyState!==4?(cz||(cz={},cw()),k=cB++,l.onreadystatechange=cz[k]=d):d()},abort:function(){d&&d(0,1)}}}});var cn={},av=/^(?:toggle|show|hide)$/,at=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,aq,ao=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];aL.fn.extend({show:function(j,d,o){var n,m;if(j||j===0){return this.animate(an("show",3),j,d,o)}for(var l=0,k=this.length;l<k;l++){n=this[l],m=n.style.display,!aL._data(n,"olddisplay")&&m==="none"&&(m=n.style.display=""),m===""&&aL.css(n,"display")==="none"&&aL._data(n,"olddisplay",al(n.nodeName))}for(l=0;l<k;l++){n=this[l],m=n.style.display;if(m===""||m==="none"){n.style.display=aL._data(n,"olddisplay")||""}}return this},hide:function(h,d,m){if(h||h===0){return this.animate(an("hide",3),h,d,m)}for(var l=0,k=this.length;l<k;l++){var j=aL.css(this[l],"display");j!=="none"&&!aL._data(this[l],"olddisplay")&&aL._data(this[l],"olddisplay",j)}for(l=0;l<k;l++){this[l].style.display="none"}return this},_toggle:aL.fn.toggle,toggle:function(f,d,h){var g=typeof f==="boolean";aL.isFunction(f)&&aL.isFunction(d)?this._toggle.apply(this,arguments):f==null||g?this.each(function(){var a=g?f:aL(this).is(":hidden");aL(this)[a?"show":"hide"]()}):this.animate(an("toggle",3),f,d,h);return this},fadeTo:function(f,e,h,g){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:e},f,h,g)},animate:function(g,d,k,j){var h=aL.speed(d,k,j);if(aL.isEmptyObject(g)){return this.each(h.complete)}return this[h.queue===!1?"each":"queue"](function(){var a=aL.extend({},h),p,o=this.nodeType===1,n=o&&aL(this).is(":hidden"),m=this;for(p in g){var l=aL.camelCase(p);p!==l&&(g[l]=g[p],delete g[p],p=l);if(g[p]==="hide"&&n||g[p]==="show"&&!n){return a.complete.call(this)}if(o&&(p==="height"||p==="width")){a.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(aL.css(this,"display")==="inline"&&aL.css(this,"float")==="none"){if(aL.support.inlineBlockNeedsLayout){var f=al(this.nodeName);f==="inline"?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1)}else{this.style.display="inline-block"}}}aL.isArray(g[p])&&((a.specialEasing=a.specialEasing||{})[p]=g[p][1],g[p]=g[p][0])}a.overflow!=null&&(this.style.overflow="hidden"),a.curAnim=aL.extend({},g),aL.each(g,function(v,u){var t=new aL.fx(m,a,v);if(av.test(u)){t[u==="toggle"?n?"show":"hide":u](g)}else{var s=at.exec(u),r=t.cur();if(s){var q=parseFloat(s[2]),b=s[3]||(aL.cssNumber[v]?"":"px");b!=="px"&&(aL.style(m,v,(q||1)+b),r=(q||1)/t.cur()*r,aL.style(m,v,r+b)),s[1]&&(q=(s[1]==="-="?-1:1)*q+r),t.custom(r,q,b)}else{t.custom(r,u,"")}}});return !0})},stop:function(e,d){var f=aL.timers;e&&this.queue([]),this.each(function(){for(var b=f.length-1;b>=0;b--){f[b].elem===this&&(d&&f[b](!0),f.splice(b,1))}}),d||this.dequeue();return this}}),aL.each({slideDown:an("show",1),slideUp:an("hide",1),slideToggle:an("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(d,c){aL.fn[d]=function(b,f,e){return this.animate(c,b,f,e)}}),aL.extend({speed:function(f,d,h){var g=f&&typeof f==="object"?aL.extend({},f):{complete:h||!h&&d||aL.isFunction(f)&&f,duration:f,easing:h&&d||d&&!aL.isFunction(d)&&d};g.duration=aL.fx.off?0:typeof g.duration==="number"?g.duration:g.duration in aL.fx.speeds?aL.fx.speeds[g.duration]:aL.fx.speeds._default,g.old=g.complete,g.complete=function(){g.queue!==!1&&aL(this).dequeue(),aL.isFunction(g.old)&&g.old.call(this)};return g},easing:{linear:function(f,e,h,g){return h+g*f},swing:function(f,e,h,g){return(-Math.cos(f*Math.PI)/2+0.5)*g+h}},timers:[],fx:function(e,d,f){this.options=d,this.elem=e,this.prop=f,d.orig||(d.orig={})}}),aL.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(aL.fx.step[this.prop]||aL.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var d,c=aL.css(this.elem,this.prop);return isNaN(d=parseFloat(c))?!c||c==="auto"?0:c:d},custom:function(h,d,m){function j(b){return l.step(b)}var l=this,k=aL.fx;this.startTime=aL.now(),this.start=h,this.end=d,this.unit=m||this.unit||(aL.cssNumber[this.prop]?"":"px"),this.now=this.start,this.pos=this.state=0,j.elem=this.elem,j()&&aL.timers.push(j)&&!aq&&(aq=setInterval(k.tick,k.interval))},show:function(){this.options.orig[this.prop]=aL.style(this.elem,this.prop),this.options.show=!0,this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),aL(this.elem).show()},hide:function(){this.options.orig[this.prop]=aL.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(t){var s=aL.now(),r=!0;if(t||s>=this.options.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),this.options.curAnim[this.prop]=!0;for(var q in this.options.curAnim){this.options.curAnim[q]!==!0&&(r=!1)}if(r){if(this.options.overflow!=null&&!aL.support.shrinkWrapBlocks){var p=this.elem,o=this.options;aL.each(["","X","Y"],function(e,c){p.style["overflow"+c]=o.overflow[e]})}this.options.hide&&aL(this.elem).hide();if(this.options.hide||this.options.show){for(var n in this.options.curAnim){aL.style(this.elem,n,this.options.orig[n])}}this.options.complete.call(this.elem)}return !1}var m=s-this.startTime;this.state=m/this.options.duration;var l=this.options.specialEasing&&this.options.specialEasing[this.prop],d=this.options.easing||(aL.easing.swing?"swing":"linear");this.pos=aL.easing[l||d](this.state,m,0,1,this.options.duration),this.now=this.start+(this.end-this.start)*this.pos,this.update();return !0}},aL.extend(aL.fx,{tick:function(){var d=aL.timers;for(var c=0;c<d.length;c++){d[c]()||d.splice(c--,1)}d.length||aL.fx.stop()},interval:13,stop:function(){clearInterval(aq),aq=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(b){aL.style(b.elem,"opacity",b.now)},_default:function(b){b.elem.style&&b.elem.style[b.prop]!=null?b.elem.style[b.prop]=(b.prop==="width"||b.prop==="height"?Math.max(0,b.now):b.now)+b.unit:b.elem[b.prop]=b.now}}}),aL.expr&&aL.expr.filters&&(aL.expr.filters.animated=function(b){return aL.grep(aL.timers,function(a){return b===a.elem}).length});var ai=/^t(?:able|d|h)$/i,ag=/^(?:body|html)$/i;"getBoundingClientRect" in aN.documentElement?aL.fn.offset=function(B){var A=this[0],z;if(B){return this.each(function(a){aL.offset.setOffset(this,B,a)})}if(!A||!A.ownerDocument){return null}if(A===A.ownerDocument.body){return aL.offset.bodyOffset(A)}try{z=A.getBoundingClientRect()}catch(y){}var x=A.ownerDocument,w=x.documentElement;if(!z||!aL.contains(w,A)){return z?{top:z.top,left:z.left}:{top:0,left:0}}var v=x.body,u=af(x),t=w.clientTop||v.clientTop||0,s=w.clientLeft||v.clientLeft||0,r=u.pageYOffset||aL.support.boxModel&&w.scrollTop||v.scrollTop,q=u.pageXOffset||aL.support.boxModel&&w.scrollLeft||v.scrollLeft,p=z.top+r-t,d=z.left+q-s;return{top:p,left:d}}:aL.fn.offset=function(x){var w=this[0];if(x){return this.each(function(a){aL.offset.setOffset(this,x,a)})}if(!w||!w.ownerDocument){return null}if(w===w.ownerDocument.body){return aL.offset.bodyOffset(w)}aL.offset.initialize();var v,u=w.offsetParent,t=w,s=w.ownerDocument,r=s.documentElement,q=s.body,p=s.defaultView,o=p?p.getComputedStyle(w,null):w.currentStyle,n=w.offsetTop,d=w.offsetLeft;while((w=w.parentNode)&&w!==q&&w!==r){if(aL.offset.supportsFixedPosition&&o.position==="fixed"){break}v=p?p.getComputedStyle(w,null):w.currentStyle,n-=w.scrollTop,d-=w.scrollLeft,w===u&&(n+=w.offsetTop,d+=w.offsetLeft,aL.offset.doesNotAddBorder&&(!aL.offset.doesAddBorderForTableAndCells||!ai.test(w.nodeName))&&(n+=parseFloat(v.borderTopWidth)||0,d+=parseFloat(v.borderLeftWidth)||0),t=u,u=w.offsetParent),aL.offset.subtractsBorderForOverflowNotVisible&&v.overflow!=="visible"&&(n+=parseFloat(v.borderTopWidth)||0,d+=parseFloat(v.borderLeftWidth)||0),o=v}if(o.position==="relative"||o.position==="static"){n+=q.offsetTop,d+=q.offsetLeft}aL.offset.supportsFixedPosition&&o.position==="fixed"&&(n+=Math.max(r.scrollTop,q.scrollTop),d+=Math.max(r.scrollLeft,q.scrollLeft));return{top:n,left:d}},aL.offset={initialize:function(){var d=aN.body,c=aN.createElement("div"),p,o,n,m,l=parseFloat(aL.css(d,"marginTop"))||0,k="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";aL.extend(c.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"}),c.innerHTML=k,d.insertBefore(c,d.firstChild),p=c.firstChild,o=p.firstChild,m=p.nextSibling.firstChild.firstChild,this.doesNotAddBorder=o.offsetTop!==5,this.doesAddBorderForTableAndCells=m.offsetTop===5,o.style.position="fixed",o.style.top="20px",this.supportsFixedPosition=o.offsetTop===20||o.offsetTop===15,o.style.position=o.style.top="",p.style.overflow="hidden",p.style.position="relative",this.subtractsBorderForOverflowNotVisible=o.offsetTop===-5,this.doesNotIncludeMarginInBodyOffset=d.offsetTop!==l,d.removeChild(c),aL.offset.initialize=aL.noop},bodyOffset:function(e){var d=e.offsetTop,f=e.offsetLeft;aL.offset.initialize(),aL.offset.doesNotIncludeMarginInBodyOffset&&(d+=parseFloat(aL.css(e,"marginTop"))||0,f+=parseFloat(aL.css(e,"marginLeft"))||0);return{top:d,left:f}},setOffset:function(z,y,x){var w=aL.css(z,"position");w==="static"&&(z.style.position="relative");var v=aL(z),u=v.offset(),t=aL.css(z,"top"),s=aL.css(z,"left"),r=(w==="absolute"||w==="fixed")&&aL.inArray("auto",[t,s])>-1,q={},p={},o,d;r&&(p=v.position()),o=r?p.top:parseInt(t,10)||0,d=r?p.left:parseInt(s,10)||0,aL.isFunction(y)&&(y=y.call(z,x,u)),y.top!=null&&(q.top=y.top-u.top+o),y.left!=null&&(q.left=y.left-u.left+d),"using" in y?y.using.call(z,q):v.css(q)}},aL.fn.extend({position:function(){if(!this[0]){return null}var f=this[0],d=this.offsetParent(),h=this.offset(),g=ag.test(d[0].nodeName)?{top:0,left:0}:d.offset();h.top-=parseFloat(aL.css(f,"marginTop"))||0,h.left-=parseFloat(aL.css(f,"marginLeft"))||0,g.top+=parseFloat(aL.css(d[0],"borderTopWidth"))||0,g.left+=parseFloat(aL.css(d[0],"borderLeftWidth"))||0;return{top:h.top-g.top,left:h.left-g.left}},offsetParent:function(){return this.map(function(){var b=this.offsetParent||aN.body;while(b&&(!ag.test(b.nodeName)&&aL.css(b,"position")==="static")){b=b.offsetParent}return b})}}),aL.each(["Left","Top"],function(b,f){var d="scroll"+f;aL.fn[d]=function(h){var e=this[0],a;if(!e){return null}if(h!==aP){return this.each(function(){a=af(this),a?a.scrollTo(b?aL(a).scrollLeft():h,b?h:aL(a).scrollTop()):this[d]=h})}a=af(e);return a?"pageXOffset" in a?a[b?"pageYOffset":"pageXOffset"]:aL.support.boxModel&&a.document.documentElement[d]||a.document.body[d]:e[d]}}),aL.each(["Height","Width"],function(b,f){var d=f.toLowerCase();aL.fn["inner"+f]=function(){return this[0]?parseFloat(aL.css(this[0],d,"padding")):null},aL.fn["outer"+f]=function(c){return this[0]?parseFloat(aL.css(this[0],d,c?"margin":"border")):null},aL.fn[d]=function(c){var l=this[0];if(!l){return c==null?null:this}if(aL.isFunction(c)){return this.each(function(a){var g=aL(this);g[d](c.call(this,a,g[d]()))})}if(aL.isWindow(l)){var k=l.document.documentElement["client"+f];return l.document.compatMode==="CSS1Compat"&&k||l.document.body["client"+f]||k}if(l.nodeType===9){return Math.max(l.documentElement["client"+f],l.body["scroll"+f],l.documentElement["scroll"+f],l.body["offset"+f],l.documentElement["offset"+f])}if(c===aP){var j=aL.css(l,d),e=parseFloat(j);return aL.isNaN(e)?j:e}return this.css(d,typeof c==="string"?c:c+"px")}}),aR.jQuery=aR.$=aL})(window);
/*
 * jQuery UI 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI
 */
jQuery.ui||(function(a){a.ui={version:"1.8",plugin:{add:function(c,d,f){var e=a.ui[c].prototype;for(var b in f){e.plugins[b]=e.plugins[b]||[];e.plugins[b].push([d,f[b]])}},call:function(b,d,c){var f=b.plugins[d];if(!f||!b.element[0].parentNode){return}for(var e=0;e<f.length;e++){if(b.options[f[e][0]]){f[e][1].apply(b.element,c)}}}},contains:function(d,c){return document.compareDocumentPosition?d.compareDocumentPosition(c)&16:d!==c&&d.contains(c)},hasScroll:function(e,c){if(a(e).css("overflow")=="hidden"){return false}var b=(c&&c=="left")?"scrollLeft":"scrollTop",d=false;if(e[b]>0){return true}e[b]=1;d=(e[b]>0);e[b]=0;return d},isOverAxis:function(c,b,d){return(c>b)&&(c<(b+d))},isOver:function(g,c,f,e,b,d){return a.ui.isOverAxis(g,f,b)&&a.ui.isOverAxis(c,e,d)},keyCode:{BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38}};a.fn.extend({_focus:a.fn.focus,focus:function(b,c){return typeof b==="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus();(c&&c.call(d))},b)}):this._focus.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})},scrollParent:function(){var b;if((a.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){b=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(a.curCSS(this,"position",1))&&(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0)}else{b=this.parents().filter(function(){return(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(this.css("position"))||!b.length?a(document):b},zIndex:function(e){if(e!==undefined){return this.css("zIndex",e)}if(this.length){var c=a(this[0]),b,d;while(c.length&&c[0]!==document){b=c.css("position");if(b=="absolute"||b=="relative"||b=="fixed"){d=parseInt(c.css("zIndex"));if(!isNaN(d)&&d!=0){return d}}c=c.parent()}}return 0}});a.extend(a.expr[":"],{data:function(d,c,b){return !!a.data(d,b[3])},focusable:function(c){var d=c.nodeName.toLowerCase(),b=a.attr(c,"tabindex");return(/input|select|textarea|button|object/.test(d)?!c.disabled:"a"==d||"area"==d?c.href||!isNaN(b):!isNaN(b))&&!a(c)["area"==d?"parents":"closest"](":hidden").length},tabbable:function(c){var b=a.attr(c,"tabindex");return(isNaN(b)||b>=0)&&a(c).is(":focusable")}})})(jQuery);
/*
 * jQuery UI Widget 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(b){var a=b.fn.remove;b.fn.remove=function(c,d){return this.each(function(){if(!d){if(!c||b.filter(c,[this]).length){b("*",this).add(this).each(function(){b(this).triggerHandler("remove")})}}return a.call(b(this),c,d)})};b.widget=function(d,f,c){var e=d.split(".")[0],h;d=d.split(".")[1];h=e+"-"+d;if(!c){c=f;f=b.Widget}b.expr[":"][h]=function(j){return !!b.data(j,d)};b[e]=b[e]||{};b[e][d]=function(j,k){if(arguments.length){this._createWidget(j,k)}};var g=new f();g.options=b.extend({},g.options);b[e][d].prototype=b.extend(true,g,{namespace:e,widgetName:d,widgetEventPrefix:b[e][d].prototype.widgetEventPrefix||d,widgetBaseClass:h},c);b.widget.bridge(d,b[e][d])};b.widget.bridge=function(d,c){b.fn[d]=function(g){var e=typeof g==="string",f=Array.prototype.slice.call(arguments,1),h=this;g=!e&&f.length?b.extend.apply(null,[true,g].concat(f)):g;if(e&&g.substring(0,1)==="_"){return h}if(e){this.each(function(){var j=b.data(this,d),k=j&&b.isFunction(j[g])?j[g].apply(j,f):j;if(k!==j&&k!==undefined){h=k;return false}})}else{this.each(function(){var j=b.data(this,d);if(j){if(g){j.option(g)}j._init()}else{b.data(this,d,new c(g,this))}})}return h}};b.Widget=function(c,d){if(arguments.length){this._createWidget(c,d)}};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(d,e){this.element=b(e).data(this.widgetName,this);this.options=b.extend(true,{},this.options,b.metadata&&b.metadata.get(e)[this.widgetName],d);var c=this;this.element.bind("remove."+this.widgetName,function(){c.destroy()});this._create();this._init()},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled")},widget:function(){return this.element},option:function(e,f){var d=e,c=this;if(arguments.length===0){return b.extend({},c.options)}if(typeof e==="string"){if(f===undefined){return this.options[e]}d={};d[e]=f}b.each(d,function(g,h){c._setOption(g,h)});return c},_setOption:function(c,d){this.options[c]=d;if(c==="disabled"){this.widget()[d?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",d)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(d,e,f){var h=this.options[d];e=b.Event(e);e.type=(d===this.widgetEventPrefix?d:this.widgetEventPrefix+d).toLowerCase();f=f||{};if(e.originalEvent){for(var c=b.event.props.length,g;c;){g=b.event.props[--c];e[g]=e.originalEvent[g]}}this.element.trigger(e,f);return !(b.isFunction(h)&&h.call(this.element[0],e,f)===false||e.isDefaultPrevented())}}})(jQuery);
/*
 * jQuery UI Mouse 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(a){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(c){return b._mouseDown(c)}).bind("click."+this.widgetName,function(c){if(b._preventClickEvent){b._preventClickEvent=false;c.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(d){d.originalEvent=d.originalEvent||{};if(d.originalEvent.mouseHandled){return}(this._mouseStarted&&this._mouseUp(d));this._mouseDownEvent=d;var c=this,e=(d.which==1),b=(typeof this.options.cancel=="string"?a(d.target).parents().add(d.target).filter(this.options.cancel).length:false);if(!e||b||!this._mouseCapture(d)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)){this._mouseStarted=(this._mouseStart(d)!==false);if(!this._mouseStarted){d.preventDefault();return true}}this._mouseMoveDelegate=function(f){return c._mouseMove(f)};this._mouseUpDelegate=function(f){return c._mouseUp(f)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);(a.browser.safari||d.preventDefault());d.originalEvent.mouseHandled=true;return true},_mouseMove:function(b){if(a.browser.msie&&!b.button){return this._mouseUp(b)}if(this._mouseStarted){this._mouseDrag(b);return b.preventDefault()}if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,b)!==false);(this._mouseStarted?this._mouseDrag(b):this._mouseUp(b))}return !this._mouseStarted},_mouseUp:function(b){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=(b.target==this._mouseDownEvent.target);this._mouseStop(b)}return false},_mouseDistanceMet:function(b){return(Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance)},_mouseDelayMet:function(b){return this.mouseDelayMet},_mouseStart:function(b){},_mouseDrag:function(b){},_mouseStop:function(b){},_mouseCapture:function(b){return true}})})(jQuery);(function(a){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit()},destroy:function(){if(!this.element.data("draggable")){return}this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this},_mouseCapture:function(b){var c=this.options;if(this.helper||c.disabled||a(b.target).is(".ui-resizable-handle")){return false}this.handle=this._getHandle(b);if(!this.handle){return false}return true},_mouseStart:function(b){var c=this.options;this.helper=this._createHelper(b);this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;(c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt));if(c.containment){this._setContainment()}if(this._trigger("start",b)===false){this._clear();return false}this._cacheHelperProportions();if(a.ui.ddmanager&&!c.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,b)}this.helper.addClass("ui-draggable-dragging");this._mouseDrag(b,true);return true},_mouseDrag:function(b,d){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");if(!d){var c=this._uiHash();if(this._trigger("drag",b,c)===false){this._mouseUp({});return false}this.position=c.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}if(a.ui.ddmanager){a.ui.ddmanager.drag(this,b)}return false},_mouseStop:function(c){var d=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){d=a.ui.ddmanager.drop(this,c)}if(this.dropped){d=this.dropped;this.dropped=false}if(!this.element[0]||!this.element[0].parentNode){return false}if((this.options.revert=="invalid"&&!d)||(this.options.revert=="valid"&&d)||this.options.revert===true||(a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d))){var b=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(b._trigger("stop",c)!==false){b._clear()}})}else{if(this._trigger("stop",c)!==false){this._clear()}}return false},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==b.target){c=true}});return c},_createHelper:function(c){var d=this.options;var b=a.isFunction(d.helper)?a(d.helper.apply(this.element[0],[c])):(d.helper=="clone"?this.element.clone():this.element);if(!b.parents("body").length){b.appendTo((d.appendTo=="parent"?this.element[0].parentNode:d.appendTo))}if(b[0]!=this.element[0]&&!(/(fixed|absolute)/).test(b.css("position"))){b.css("position","absolute")}return b},_adjustOffsetFromHelper:function(b){if(typeof b=="string"){b=b.split(" ")}if(a.isArray(b)){b={left:+b[0],top:+b[1]||0}}if("left" in b){this.offset.click.left=b.left+this.margins.left}if("right" in b){this.offset.click.left=this.helperProportions.width-b.right+this.margins.left}if("top" in b){this.offset.click.top=b.top+this.margins.top}if("bottom" in b){this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)){b={top:0,left:0}}return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if(e.containment=="parent"){e.containment=this.helper[0].parentNode}if(e.containment=="document"||e.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(e.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(e.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(e.containment)&&e.containment.constructor!=Array){var c=a(e.containment)[0];if(!c){return}var d=a(e.containment).offset();var b=(a(c).css("overflow")!="hidden");this.containment=[d.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,d.left+(b?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(b?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}else{if(e.containment.constructor==Array){this.containment=e.containment}}},_convertPositionTo:function(f,h){if(!h){h=this.position}var c=f=="absolute"?1:-1;var e=this.options,b=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=(/(html|body)/i).test(b[0].tagName);return{top:(h.top+this.offset.relative.top*c+this.offset.parent.top*c-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(g?0:b.scrollTop()))*c)),left:(h.left+this.offset.relative.left*c+this.offset.parent.left*c-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:b.scrollLeft())*c))}},_generatePosition:function(e){var h=this.options,b=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(b[0].tagName);var d=e.pageX;var c=e.pageY;if(this.originalPosition){if(this.containment){if(e.pageX-this.offset.click.left<this.containment[0]){d=this.containment[0]+this.offset.click.left}if(e.pageY-this.offset.click.top<this.containment[1]){c=this.containment[1]+this.offset.click.top}if(e.pageX-this.offset.click.left>this.containment[2]){d=this.containment[2]+this.offset.click.left}if(e.pageY-this.offset.click.top>this.containment[3]){c=this.containment[3]+this.offset.click.top}}if(h.grid){var g=this.originalPageY+Math.round((c-this.originalPageY)/h.grid[1])*h.grid[1];c=this.containment?(!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g:(!(g-this.offset.click.top<this.containment[1])?g-h.grid[1]:g+h.grid[1])):g;var f=this.originalPageX+Math.round((d-this.originalPageX)/h.grid[0])*h.grid[0];d=this.containment?(!(f-this.offset.click.left<this.containment[0]||f-this.offset.click.left>this.containment[2])?f:(!(f-this.offset.click.left<this.containment[0])?f-h.grid[0]:f+h.grid[0])):f}}return{top:(c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(j?0:b.scrollTop())))),left:(d-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:b.scrollLeft())))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(b,c,d){d=d||this._uiHash();a.ui.plugin.call(this,b,[c,d]);if(b=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(b){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.extend(a.ui.draggable,{version:"1.8"});a.ui.plugin.add("draggable","connectToSortable",{start:function(c,e){var d=a(this).data("draggable"),f=d.options,b=a.extend({},e,{item:d.element});d.sortables=[];a(f.connectToSortable).each(function(){var g=a.data(this,"sortable");if(g&&!g.options.disabled){d.sortables.push({instance:g,shouldRevert:g.options.revert});g._refreshItems();g._trigger("activate",c,b)}})},stop:function(c,e){var d=a(this).data("draggable"),b=a.extend({},e,{item:d.element});a.each(d.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;d.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(c);this.instance.options.helper=this.instance.options._helper;if(d.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",c,b)}})},drag:function(c,f){var e=a(this).data("draggable"),b=this;var d=function(j){var p=this.offset.click.top,n=this.offset.click.left;var g=this.positionAbs.top,l=this.positionAbs.left;var k=j.height,m=j.width;var q=j.top,h=j.left;return a.ui.isOver(g+p,l+n,q,h,k,m)};a.each(e.sortables,function(g){this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=e.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(b).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return f.helper[0]};c.target=this.instance.currentItem[0];this.instance._mouseCapture(c,true);this.instance._mouseStart(c,true,true);this.instance.offset.click.top=e.offset.click.top;this.instance.offset.click.left=e.offset.click.left;this.instance.offset.parent.left-=e.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=e.offset.parent.top-this.instance.offset.parent.top;e._trigger("toSortable",c);e.dropped=this.instance.element;e.currentItem=e.element;this.instance.fromOutside=e}if(this.instance.currentItem){this.instance._mouseDrag(c)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",c,this.instance._uiHash(this.instance));this.instance._mouseStop(c,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}e._trigger("fromSortable",c);e.dropped=false}}})}});a.ui.plugin.add("draggable","cursor",{start:function(c,d){var b=a("body"),e=a(this).data("draggable").options;if(b.css("cursor")){e._cursor=b.css("cursor")}b.css("cursor",e.cursor)},stop:function(b,c){var d=a(this).data("draggable").options;if(d._cursor){a("body").css("cursor",d._cursor)}}});a.ui.plugin.add("draggable","iframeFix",{start:function(b,c){var d=a(this).data("draggable").options;a(d.iframeFix===true?"iframe":d.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")})},stop:function(b,c){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});a.ui.plugin.add("draggable","opacity",{start:function(c,d){var b=a(d.helper),e=a(this).data("draggable").options;if(b.css("opacity")){e._opacity=b.css("opacity")}b.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("draggable").options;if(d._opacity){a(c.helper).css("opacity",d._opacity)}}});a.ui.plugin.add("draggable","scroll",{start:function(c,d){var b=a(this).data("draggable");if(b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"){b.overflowOffset=b.scrollParent.offset()}},drag:function(d,e){var c=a(this).data("draggable"),f=c.options,b=false;if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML"){if(!f.axis||f.axis!="x"){if((c.overflowOffset.top+c.scrollParent[0].offsetHeight)-d.pageY<f.scrollSensitivity){c.scrollParent[0].scrollTop=b=c.scrollParent[0].scrollTop+f.scrollSpeed}else{if(d.pageY-c.overflowOffset.top<f.scrollSensitivity){c.scrollParent[0].scrollTop=b=c.scrollParent[0].scrollTop-f.scrollSpeed}}}if(!f.axis||f.axis!="y"){if((c.overflowOffset.left+c.scrollParent[0].offsetWidth)-d.pageX<f.scrollSensitivity){c.scrollParent[0].scrollLeft=b=c.scrollParent[0].scrollLeft+f.scrollSpeed}else{if(d.pageX-c.overflowOffset.left<f.scrollSensitivity){c.scrollParent[0].scrollLeft=b=c.scrollParent[0].scrollLeft-f.scrollSpeed}}}}else{if(!f.axis||f.axis!="x"){if(d.pageY-a(document).scrollTop()<f.scrollSensitivity){b=a(document).scrollTop(a(document).scrollTop()-f.scrollSpeed)}else{if(a(window).height()-(d.pageY-a(document).scrollTop())<f.scrollSensitivity){b=a(document).scrollTop(a(document).scrollTop()+f.scrollSpeed)}}}if(!f.axis||f.axis!="y"){if(d.pageX-a(document).scrollLeft()<f.scrollSensitivity){b=a(document).scrollLeft(a(document).scrollLeft()-f.scrollSpeed)}else{if(a(window).width()-(d.pageX-a(document).scrollLeft())<f.scrollSensitivity){b=a(document).scrollLeft(a(document).scrollLeft()+f.scrollSpeed)}}}}if(b!==false&&a.ui.ddmanager&&!f.dropBehaviour){a.ui.ddmanager.prepareOffsets(c,d)}}});a.ui.plugin.add("draggable","snap",{start:function(c,d){var b=a(this).data("draggable"),e=b.options;b.snapElements=[];a(e.snap.constructor!=String?(e.snap.items||":data(draggable)"):e.snap).each(function(){var g=a(this);var f=g.offset();if(this!=b.element[0]){b.snapElements.push({item:this,width:g.outerWidth(),height:g.outerHeight(),top:f.top,left:f.left})}})},drag:function(u,p){var g=a(this).data("draggable"),q=g.options;var y=q.snapTolerance;var x=p.offset.left,w=x+g.helperProportions.width,f=p.offset.top,e=f+g.helperProportions.height;for(var v=g.snapElements.length-1;v>=0;v--){var s=g.snapElements[v].left,n=s+g.snapElements[v].width,m=g.snapElements[v].top,A=m+g.snapElements[v].height;if(!((s-y<x&&x<n+y&&m-y<f&&f<A+y)||(s-y<x&&x<n+y&&m-y<e&&e<A+y)||(s-y<w&&w<n+y&&m-y<f&&f<A+y)||(s-y<w&&w<n+y&&m-y<e&&e<A+y))){if(g.snapElements[v].snapping){(g.options.snap.release&&g.options.snap.release.call(g.element,u,a.extend(g._uiHash(),{snapItem:g.snapElements[v].item})))}g.snapElements[v].snapping=false;continue}if(q.snapMode!="inner"){var c=Math.abs(m-e)<=y;var z=Math.abs(A-f)<=y;var j=Math.abs(s-w)<=y;var k=Math.abs(n-x)<=y;if(c){p.position.top=g._convertPositionTo("relative",{top:m-g.helperProportions.height,left:0}).top-g.margins.top}if(z){p.position.top=g._convertPositionTo("relative",{top:A,left:0}).top-g.margins.top}if(j){p.position.left=g._convertPositionTo("relative",{top:0,left:s-g.helperProportions.width}).left-g.margins.left}if(k){p.position.left=g._convertPositionTo("relative",{top:0,left:n}).left-g.margins.left}}var h=(c||z||j||k);if(q.snapMode!="outer"){var c=Math.abs(m-f)<=y;var z=Math.abs(A-e)<=y;var j=Math.abs(s-x)<=y;var k=Math.abs(n-w)<=y;if(c){p.position.top=g._convertPositionTo("relative",{top:m,left:0}).top-g.margins.top}if(z){p.position.top=g._convertPositionTo("relative",{top:A-g.helperProportions.height,left:0}).top-g.margins.top}if(j){p.position.left=g._convertPositionTo("relative",{top:0,left:s}).left-g.margins.left}if(k){p.position.left=g._convertPositionTo("relative",{top:0,left:n-g.helperProportions.width}).left-g.margins.left}}if(!g.snapElements[v].snapping&&(c||z||j||k||h)){(g.options.snap.snap&&g.options.snap.snap.call(g.element,u,a.extend(g._uiHash(),{snapItem:g.snapElements[v].item})))}g.snapElements[v].snapping=(c||z||j||k||h)}}});a.ui.plugin.add("draggable","stack",{start:function(c,d){var f=a(this).data("draggable").options;var e=a.makeArray(a(f.stack)).sort(function(h,g){return(parseInt(a(h).css("zIndex"),10)||0)-(parseInt(a(g).css("zIndex"),10)||0)});if(!e.length){return}var b=parseInt(e[0].style.zIndex)||0;a(e).each(function(g){this.style.zIndex=b+g});this[0].style.zIndex=b+e.length}});a.ui.plugin.add("draggable","zIndex",{start:function(c,d){var b=a(d.helper),e=a(this).data("draggable").options;if(b.css("zIndex")){e._zIndex=b.css("zIndex")}b.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("draggable").options;if(d._zIndex){a(c.helper).css("zIndex",d._zIndex)}}})})(jQuery);(function(f){f.ui=f.ui||{};var c=/left|center|right/,e="center",d=/top|center|bottom/,g="center",a=f.fn.position,b=f.fn.offset;f.fn.position=function(j){if(!j||!j.of){return a.apply(this,arguments)}j=f.extend({},j);var m=f(j.of),o=(j.collision||"flip").split(" "),n=j.offset?j.offset.split(" "):[0,0],l,h,k;if(j.of.nodeType===9){l=m.width();h=m.height();k={top:0,left:0}}else{if(j.of.scrollTo&&j.of.document){l=m.width();h=m.height();k={top:m.scrollTop(),left:m.scrollLeft()}}else{if(j.of.preventDefault){j.at="left top";l=h=0;k={top:j.of.pageY,left:j.of.pageX}}else{l=m.outerWidth();h=m.outerHeight();k=m.offset()}}}f.each(["my","at"],function(){var p=(j[this]||"").split(" ");if(p.length===1){p=c.test(p[0])?p.concat([g]):d.test(p[0])?[e].concat(p):[e,g]}p[0]=c.test(p[0])?p[0]:e;p[1]=d.test(p[1])?p[1]:g;j[this]=p});if(o.length===1){o[1]=o[0]}n[0]=parseInt(n[0],10)||0;if(n.length===1){n[1]=n[0]}n[1]=parseInt(n[1],10)||0;if(j.at[0]==="right"){k.left+=l}else{if(j.at[0]===e){k.left+=l/2}}if(j.at[1]==="bottom"){k.top+=h}else{if(j.at[1]===g){k.top+=h/2}}k.left+=n[0];k.top+=n[1];return this.each(function(){var s=f(this),r=s.outerWidth(),q=s.outerHeight(),p=f.extend({},k);if(j.my[0]==="right"){p.left-=r}else{if(j.my[0]===e){p.left-=r/2}}if(j.my[1]==="bottom"){p.top-=q}else{if(j.my[1]===g){p.top-=q/2}}f.each(["left","top"],function(u,t){if(f.ui.position[o[u]]){f.ui.position[o[u]][t](p,{targetWidth:l,targetHeight:h,elemWidth:r,elemHeight:q,offset:n,my:j.my,at:j.at})}});if(f.fn.bgiframe){s.bgiframe()}s.offset(f.extend(p,{using:j.using}))})};f.ui.position={fit:{left:function(h,j){var l=f(window),k=h.left+j.elemWidth-l.width()-l.scrollLeft();h.left=k>0?h.left-k:Math.max(0,h.left)},top:function(h,j){var l=f(window),k=h.top+j.elemHeight-l.height()-l.scrollTop();h.top=k>0?h.top-k:Math.max(0,h.top)}},flip:{left:function(j,k){if(k.at[0]==="center"){return}var m=f(window),l=j.left+k.elemWidth-m.width()-m.scrollLeft(),h=k.my[0]==="left"?-k.elemWidth:k.my[0]==="right"?k.elemWidth:0,n=-2*k.offset[0];j.left+=j.left<0?h+k.targetWidth+n:l>0?h-k.targetWidth+n:0},top:function(j,l){if(l.at[1]==="center"){return}var n=f(window),m=j.top+l.elemHeight-n.height()-n.scrollTop(),h=l.my[1]==="top"?-l.elemHeight:l.my[1]==="bottom"?l.elemHeight:0,k=l.at[1]==="top"?l.targetHeight:-l.targetHeight,o=-2*l.offset[1];j.top+=j.top<0?h+l.targetHeight+o:m>0?h+k+o:0}}};if(!f.offset.setOffset){f.offset.setOffset=function(m,j){if(/static/.test(f.curCSS(m,"position"))){m.style.position="relative"}var l=f(m),o=l.offset(),h=parseInt(f.curCSS(m,"top",true),10)||0,n=parseInt(f.curCSS(m,"left",true),10)||0,k={top:(j.top-o.top)+h,left:(j.left-o.left)+n};if("using" in j){j.using.call(m,k)}else{l.css(k)}};f.fn.offset=function(h){var j=this[0];if(!j||!j.ownerDocument){return null}if(h){return this.each(function(){f.offset.setOffset(this,h)})}return b.call(this)}}}(jQuery));(function(c){c.widget("ui.resizable",c.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var e=this,j=this.options;this.element.addClass("ui-resizable");c.extend(this,{_aspectRatio:!!(j.aspectRatio),aspectRatio:j.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:j.helper||j.ghost||j.animate?j.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){if(/relative/.test(this.element.css("position"))&&c.browser.opera){this.element.css({position:"relative",top:"auto",left:"auto"})}this.element.wrap(c('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=j.handles||(!c(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all"){this.handles="n,e,s,w,se,sw,ne,nw"}var k=this.handles.split(",");this.handles={};for(var f=0;f<k.length;f++){var h=c.trim(k[f]),d="ui-resizable-"+h;var g=c('<div class="ui-resizable-handle '+d+'"></div>');if(/sw|se|ne|nw/.test(h)){g.css({zIndex:++j.zIndex})}if("se"==h){g.addClass("ui-icon ui-icon-gripsmall-diagonal-se")}this.handles[h]=".ui-resizable-"+h;this.element.append(g)}}this._renderAxis=function(p){p=p||this.element;for(var m in this.handles){if(this.handles[m].constructor==String){this.handles[m]=c(this.handles[m],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var n=c(this.handles[m],this.element),o=0;o=/sw|ne|nw|se|n|s/.test(m)?n.outerHeight():n.outerWidth();var l=["padding",/ne|nw|n/.test(m)?"Top":/se|sw|s/.test(m)?"Bottom":/^e$/.test(m)?"Right":"Left"].join("");p.css(l,o);this._proportionallyResize()}if(!c(this.handles[m]).length){continue}}};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!e.resizing){if(this.className){var l=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}e.axis=l&&l[1]?l[1]:"se"}});if(j.autoHide){this._handles.hide();c(this.element).addClass("ui-resizable-autohide").hover(function(){c(this).removeClass("ui-resizable-autohide");e._handles.show()},function(){if(!e.resizing){c(this).addClass("ui-resizable-autohide");e._handles.hide()}})}this._mouseInit()},destroy:function(){this._mouseDestroy();var d=function(f){c(f).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){d(this.element);var e=this.element;e.after(this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);d(this.originalElement);return this},_mouseCapture:function(e){var f=false;for(var d in this.handles){if(c(this.handles[d])[0]==e.target){f=true}}return !this.options.disabled&&f},_mouseStart:function(f){var j=this.options,e=this.element.position(),d=this.element;this.resizing=true;this.documentScroll={top:c(document).scrollTop(),left:c(document).scrollLeft()};if(d.is(".ui-draggable")||(/absolute/).test(d.css("position"))){d.css({position:"absolute",top:e.top,left:e.left})}if(c.browser.opera&&(/relative/).test(d.css("position"))){d.css({position:"relative",top:"auto",left:"auto"})}this._renderProxy();var k=b(this.helper.css("left")),g=b(this.helper.css("top"));if(j.containment){k+=c(j.containment).scrollLeft()||0;g+=c(j.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:k,top:g};this.size=this._helper?{width:d.outerWidth(),height:d.outerHeight()}:{width:d.width(),height:d.height()};this.originalSize=this._helper?{width:d.outerWidth(),height:d.outerHeight()}:{width:d.width(),height:d.height()};this.originalPosition={left:k,top:g};this.sizeDiff={width:d.outerWidth()-d.width(),height:d.outerHeight()-d.height()};this.originalMousePosition={left:f.pageX,top:f.pageY};this.aspectRatio=(typeof j.aspectRatio=="number")?j.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);var h=c(".ui-resizable-"+this.axis).css("cursor");c("body").css("cursor",h=="auto"?this.axis+"-resize":h);d.addClass("ui-resizable-resizing");this._propagate("start",f);return true},_mouseDrag:function(d){var g=this.helper,f=this.options,m={},q=this,j=this.originalMousePosition,n=this.axis;var r=(d.pageX-j.left)||0,p=(d.pageY-j.top)||0;var h=this._change[n];if(!h){return false}var l=h.apply(this,[d,r,p]),k=c.browser.msie&&c.browser.version<7,e=this.sizeDiff;if(this._aspectRatio||d.shiftKey){l=this._updateRatio(l,d)}l=this._respectSize(l,d);this._propagate("resize",d);g.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}this._updateCache(l);this._trigger("resize",d,this.ui());return false},_mouseStop:function(g){this.resizing=false;var h=this.options,m=this;if(this._helper){var f=this._proportionallyResizeElements,d=f.length&&(/textarea/i).test(f[0].nodeName),e=d&&c.ui.hasScroll(f[0],"left")?0:m.sizeDiff.height,k=d?0:m.sizeDiff.width;var n={width:(m.size.width-k),height:(m.size.height-e)},j=(parseInt(m.element.css("left"),10)+(m.position.left-m.originalPosition.left))||null,l=(parseInt(m.element.css("top"),10)+(m.position.top-m.originalPosition.top))||null;if(!h.animate){this.element.css(c.extend(n,{top:l,left:j}))}m.helper.height(m.size.height);m.helper.width(m.size.width);if(this._helper&&!h.animate){this._proportionallyResize()}}c("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",g);if(this._helper){this.helper.remove()}return false},_updateCache:function(d){var e=this.options;this.offset=this.helper.offset();if(a(d.left)){this.position.left=d.left}if(a(d.top)){this.position.top=d.top}if(a(d.height)){this.size.height=d.height}if(a(d.width)){this.size.width=d.width}},_updateRatio:function(g,f){var h=this.options,j=this.position,e=this.size,d=this.axis;if(g.height){g.width=(e.height*this.aspectRatio)}else{if(g.width){g.height=(e.width/this.aspectRatio)}}if(d=="sw"){g.left=j.left+(e.width-g.width);g.top=null}if(d=="nw"){g.top=j.top+(e.height-g.height);g.left=j.left+(e.width-g.width)}return g},_respectSize:function(l,f){var j=this.helper,h=this.options,r=this._aspectRatio||f.shiftKey,q=this.axis,t=a(l.width)&&h.maxWidth&&(h.maxWidth<l.width),m=a(l.height)&&h.maxHeight&&(h.maxHeight<l.height),g=a(l.width)&&h.minWidth&&(h.minWidth>l.width),s=a(l.height)&&h.minHeight&&(h.minHeight>l.height);if(g){l.width=h.minWidth}if(s){l.height=h.minHeight}if(t){l.width=h.maxWidth}if(m){l.height=h.maxHeight}var e=this.originalPosition.left+this.originalSize.width,p=this.position.top+this.size.height;var k=/sw|nw|w/.test(q),d=/nw|ne|n/.test(q);if(g&&k){l.left=e-h.minWidth}if(t&&k){l.left=e-h.maxWidth}if(s&&d){l.top=p-h.minHeight}if(m&&d){l.top=p-h.maxHeight}var n=!l.width&&!l.height;if(n&&!l.left&&l.top){l.top=null}else{if(n&&!l.top&&l.left){l.left=null}}return l},_proportionallyResize:function(){var j=this.options;if(!this._proportionallyResizeElements.length){return}var f=this.helper||this.element;for(var e=0;e<this._proportionallyResizeElements.length;e++){var g=this._proportionallyResizeElements[e];if(!this.borderDif){var d=[g.css("borderTopWidth"),g.css("borderRightWidth"),g.css("borderBottomWidth"),g.css("borderLeftWidth")],h=[g.css("paddingTop"),g.css("paddingRight"),g.css("paddingBottom"),g.css("paddingLeft")];this.borderDif=c.map(d,function(k,m){var l=parseInt(k,10)||0,n=parseInt(h[m],10)||0;return l+n})}if(c.browser.msie&&!(!(c(f).is(":hidden")||c(f).parents(":hidden").length))){continue}g.css({height:(f.height()-this.borderDif[0]-this.borderDif[2])||0,width:(f.width()-this.borderDif[1]-this.borderDif[3])||0})}},_renderProxy:function(){var e=this.element,h=this.options;this.elementOffset=e.offset();if(this._helper){this.helper=this.helper||c('<div style="overflow:hidden;"></div>');var d=c.browser.msie&&c.browser.version<7,f=(d?1:0),g=(d?2:-1);this.helper.addClass(this._helper).css({width:this.element.outerWidth()+g,height:this.element.outerHeight()+g,position:"absolute",left:this.elementOffset.left-f+"px",top:this.elementOffset.top-f+"px",zIndex:++h.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(f,e,d){return{width:this.originalSize.width+e}},w:function(g,e,d){var j=this.options,f=this.originalSize,h=this.originalPosition;return{left:h.left+e,width:f.width-e}},n:function(g,e,d){var j=this.options,f=this.originalSize,h=this.originalPosition;return{top:h.top+d,height:f.height-d}},s:function(f,e,d){return{height:this.originalSize.height+d}},se:function(f,e,d){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[f,e,d]))},sw:function(f,e,d){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[f,e,d]))},ne:function(f,e,d){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[f,e,d]))},nw:function(f,e,d){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[f,e,d]))}},_propagate:function(e,d){c.ui.plugin.call(this,e,[d,this.ui()]);(e!="resize"&&this._trigger(e,d,this.ui()))},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});c.extend(c.ui.resizable,{version:"1.8"});c.ui.plugin.add("resizable","alsoResize",{start:function(e,f){var d=c(this).data("resizable"),h=d.options;var g=function(j){c(j).each(function(){c(this).data("resizable-alsoresize",{width:parseInt(c(this).width(),10),height:parseInt(c(this).height(),10),left:parseInt(c(this).css("left"),10),top:parseInt(c(this).css("top"),10)})})};if(typeof(h.alsoResize)=="object"&&!h.alsoResize.parentNode){if(h.alsoResize.length){h.alsoResize=h.alsoResize[0];g(h.alsoResize)}else{c.each(h.alsoResize,function(j,k){g(j)})}}else{g(h.alsoResize)}},resize:function(f,h){var e=c(this).data("resizable"),j=e.options,g=e.originalSize,l=e.originalPosition;var k={height:(e.size.height-g.height)||0,width:(e.size.width-g.width)||0,top:(e.position.top-l.top)||0,left:(e.position.left-l.left)||0},d=function(m,n){c(m).each(function(){var q=c(this),r=c(this).data("resizable-alsoresize"),p={},o=n&&n.length?n:["width","height","top","left"];c.each(o||["width","height","top","left"],function(s,u){var t=(r[u]||0)+(k[u]||0);if(t&&t>=0){p[u]=t||null}});if(/relative/.test(q.css("position"))&&c.browser.opera){e._revertToRelativePosition=true;q.css({position:"absolute",top:"auto",left:"auto"})}q.css(p)})};if(typeof(j.alsoResize)=="object"&&!j.alsoResize.nodeType){c.each(j.alsoResize,function(m,n){d(m,n)})}else{d(j.alsoResize)}},stop:function(e,f){var d=c(this).data("resizable");if(d._revertToRelativePosition&&c.browser.opera){d._revertToRelativePosition=false;el.css({position:"relative"})}c(this).removeData("resizable-alsoresize-start")}});c.ui.plugin.add("resizable","animate",{stop:function(h,n){var p=c(this).data("resizable"),j=p.options;var g=p._proportionallyResizeElements,d=g.length&&(/textarea/i).test(g[0].nodeName),e=d&&c.ui.hasScroll(g[0],"left")?0:p.sizeDiff.height,l=d?0:p.sizeDiff.width;var f={width:(p.size.width-l),height:(p.size.height-e)},k=(parseInt(p.element.css("left"),10)+(p.position.left-p.originalPosition.left))||null,m=(parseInt(p.element.css("top"),10)+(p.position.top-p.originalPosition.top))||null;p.element.animate(c.extend(f,m&&k?{top:m,left:k}:{}),{duration:j.animateDuration,easing:j.animateEasing,step:function(){var o={width:parseInt(p.element.css("width"),10),height:parseInt(p.element.css("height"),10),top:parseInt(p.element.css("top"),10),left:parseInt(p.element.css("left"),10)};if(g&&g.length){c(g[0]).css({width:o.width,height:o.height})}p._updateCache(o);p._propagate("resize",h)}})}});c.ui.plugin.add("resizable","containment",{start:function(e,r){var t=c(this).data("resizable"),j=t.options,l=t.element;var f=j.containment,k=(f instanceof c)?f.get(0):(/parent/.test(f))?l.parent().get(0):f;if(!k){return}t.containerElement=c(k);if(/document/.test(f)||f==document){t.containerOffset={left:0,top:0};t.containerPosition={left:0,top:0};t.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}}else{var n=c(k),h=[];c(["Top","Right","Left","Bottom"]).each(function(p,o){h[p]=b(n.css("padding"+o))});t.containerOffset=n.offset();t.containerPosition=n.position();t.containerSize={height:(n.innerHeight()-h[3]),width:(n.innerWidth()-h[1])};var q=t.containerOffset,d=t.containerSize.height,m=t.containerSize.width,g=(c.ui.hasScroll(k,"left")?k.scrollWidth:m),s=(c.ui.hasScroll(k)?k.scrollHeight:d);t.parentData={element:k,left:q.left,top:q.top,width:g,height:s}}},resize:function(f,q){var t=c(this).data("resizable"),h=t.options,e=t.containerSize,p=t.containerOffset,m=t.size,n=t.position,r=t._aspectRatio||f.shiftKey,d={top:0,left:0},g=t.containerElement;if(g[0]!=document&&(/static/).test(g.css("position"))){d=p}if(n.left<(t._helper?p.left:0)){t.size.width=t.size.width+(t._helper?(t.position.left-p.left):(t.position.left-d.left));if(r){t.size.height=t.size.width/h.aspectRatio}t.position.left=h.helper?p.left:0}if(n.top<(t._helper?p.top:0)){t.size.height=t.size.height+(t._helper?(t.position.top-p.top):t.position.top);if(r){t.size.width=t.size.height*h.aspectRatio}t.position.top=t._helper?p.top:0}t.offset.left=t.parentData.left+t.position.left;t.offset.top=t.parentData.top+t.position.top;var l=Math.abs((t._helper?t.offset.left-d.left:(t.offset.left-d.left))+t.sizeDiff.width),s=Math.abs((t._helper?t.offset.top-d.top:(t.offset.top-p.top))+t.sizeDiff.height);var k=t.containerElement.get(0)==t.element.parent().get(0),j=/relative|absolute/.test(t.containerElement.css("position"));if(k&&j){l-=t.parentData.left}if(l+t.size.width>=t.parentData.width){t.size.width=t.parentData.width-l;if(r){t.size.height=t.size.width/t.aspectRatio}}if(s+t.size.height>=t.parentData.height){t.size.height=t.parentData.height-s;if(r){t.size.width=t.size.height*t.aspectRatio}}},stop:function(e,n){var q=c(this).data("resizable"),f=q.options,l=q.position,m=q.containerOffset,d=q.containerPosition,g=q.containerElement;var j=c(q.helper),r=j.offset(),p=j.outerWidth()-q.sizeDiff.width,k=j.outerHeight()-q.sizeDiff.height;if(q._helper&&!f.animate&&(/relative/).test(g.css("position"))){c(this).css({left:r.left-d.left-m.left,width:p,height:k})}if(q._helper&&!f.animate&&(/static/).test(g.css("position"))){c(this).css({left:r.left-d.left-m.left,width:p,height:k})}}});c.ui.plugin.add("resizable","ghost",{start:function(f,g){var d=c(this).data("resizable"),h=d.options,e=d.size;d.ghost=d.originalElement.clone();d.ghost.css({opacity:0.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof h.ghost=="string"?h.ghost:"");d.ghost.appendTo(d.helper)},resize:function(e,f){var d=c(this).data("resizable"),g=d.options;if(d.ghost){d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})}},stop:function(e,f){var d=c(this).data("resizable"),g=d.options;if(d.ghost&&d.helper){d.helper.get(0).removeChild(d.ghost.get(0))}}});c.ui.plugin.add("resizable","grid",{resize:function(d,m){var p=c(this).data("resizable"),g=p.options,k=p.size,h=p.originalSize,j=p.originalPosition,n=p.axis,l=g._aspectRatio||d.shiftKey;g.grid=typeof g.grid=="number"?[g.grid,g.grid]:g.grid;var f=Math.round((k.width-h.width)/(g.grid[0]||1))*(g.grid[0]||1),e=Math.round((k.height-h.height)/(g.grid[1]||1))*(g.grid[1]||1);if(/^(se|s|e)$/.test(n)){p.size.width=h.width+f;p.size.height=h.height+e}else{if(/^(ne)$/.test(n)){p.size.width=h.width+f;p.size.height=h.height+e;p.position.top=j.top-e}else{if(/^(sw)$/.test(n)){p.size.width=h.width+f;p.size.height=h.height+e;p.position.left=j.left-f}else{p.size.width=h.width+f;p.size.height=h.height+e;p.position.top=j.top-e;p.position.left=j.left-f}}}}});var b=function(d){return parseInt(d,10)||0};var a=function(d){return !isNaN(parseInt(d,10))}})(jQuery);(function(a){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){var b=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?(/left|right/).test(this.items[0].item.css("float")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var b=this.items.length-1;b>=0;b--){this.items[b].item.removeData("sortable-item")}return this},_mouseCapture:function(e,f){if(this.reverting){return false}if(this.options.disabled||this.options.type=="static"){return false}this._refreshItems(e);var d=null,c=this,b=a(e.target).parents().each(function(){if(a.data(this,"sortable-item")==c){d=a(this);return false}});if(a.data(e.target,"sortable-item")==c){d=a(e.target)}if(!d){return false}if(this.options.handle&&!f){var g=false;a(this.options.handle,d).find("*").andSelf().each(function(){if(this==e.target){g=true}});if(!g){return false}}this.currentItem=d;this._removeCurrentsFromItems();return true},_mouseStart:function(e,f,b){var g=this.options,c=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(e);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");a.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(e);this.originalPageX=e.pageX;this.originalPageY=e.pageY;(g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!=this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(g.containment){this._setContainment()}if(g.cursor){if(a("body").css("cursor")){this._storedCursor=a("body").css("cursor")}a("body").css("cursor",g.cursor)}if(g.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",g.opacity)}if(g.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",g.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",e,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!b){for(var d=this.containers.length-1;d>=0;d--){this.containers[d]._trigger("activate",e,c._uiHash(this))}}if(a.ui.ddmanager){a.ui.ddmanager.current=this}if(a.ui.ddmanager&&!g.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,e)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(e);return true},_mouseDrag:function(f){this.position=this._generatePosition(f);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){var g=this.options,b=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-f.pageY<g.scrollSensitivity){this.scrollParent[0].scrollTop=b=this.scrollParent[0].scrollTop+g.scrollSpeed}else{if(f.pageY-this.overflowOffset.top<g.scrollSensitivity){this.scrollParent[0].scrollTop=b=this.scrollParent[0].scrollTop-g.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-f.pageX<g.scrollSensitivity){this.scrollParent[0].scrollLeft=b=this.scrollParent[0].scrollLeft+g.scrollSpeed}else{if(f.pageX-this.overflowOffset.left<g.scrollSensitivity){this.scrollParent[0].scrollLeft=b=this.scrollParent[0].scrollLeft-g.scrollSpeed}}}else{if(f.pageY-a(document).scrollTop()<g.scrollSensitivity){b=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed)}else{if(a(window).height()-(f.pageY-a(document).scrollTop())<g.scrollSensitivity){b=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)}}if(f.pageX-a(document).scrollLeft()<g.scrollSensitivity){b=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed)}else{if(a(window).width()-(f.pageX-a(document).scrollLeft())<g.scrollSensitivity){b=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed)}}}if(b!==false&&a.ui.ddmanager&&!g.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,f)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}for(var d=this.items.length-1;d>=0;d--){var e=this.items[d],c=e.item[0],h=this._intersectsWithPointer(e);if(!h){continue}if(c!=this.currentItem[0]&&this.placeholder[h==1?"next":"prev"]()[0]!=c&&!a.ui.contains(this.placeholder[0],c)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],c):true)){this.direction=h==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(e)){this._rearrange(f,e)}else{break}this._trigger("change",f,this._uiHash());break}}this._contactContainers(f);if(a.ui.ddmanager){a.ui.ddmanager.drag(this,f)}this._trigger("sort",f,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(c,d){if(!c){return}if(a.ui.ddmanager&&!this.options.dropBehaviour){a.ui.ddmanager.drop(this,c)}if(this.options.revert){var b=this;var e=b.placeholder.offset();b.reverting=true;a(this.helper).animate({left:e.left-this.offset.parent.left-b.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-b.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){b._clear(c)})}else{this._clear(c,d)}return false},cancel:function(){var b=this;if(this.dragging){this._mouseUp();if(this.options.helper=="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var c=this.containers.length-1;c>=0;c--){this.containers[c]._trigger("deactivate",null,b._uiHash(this));if(this.containers[c].containerCache.over){this.containers[c]._trigger("out",null,b._uiHash(this));this.containers[c].containerCache.over=0}}}if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}a.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){a(this.domPosition.prev).after(this.currentItem)}else{a(this.domPosition.parent).prepend(this.currentItem)}return this},serialize:function(d){var b=this._getItemsAsjQuery(d&&d.connected);var c=[];d=d||{};a(b).each(function(){var e=(a(d.item||this).attr(d.attribute||"id")||"").match(d.expression||(/(.+)[-=_](.+)/));if(e){c.push((d.key||e[1]+"[]")+"="+(d.key&&d.expression?e[1]:e[2]))}});return c.join("&")},toArray:function(d){var b=this._getItemsAsjQuery(d&&d.connected);var c=[];d=d||{};b.each(function(){c.push(a(d.item||this).attr(d.attribute||"id")||"")});return c},_intersectsWith:function(n){var e=this.positionAbs.left,d=e+this.helperProportions.width,m=this.positionAbs.top,k=m+this.helperProportions.height;var f=n.left,c=f+n.width,o=n.top,j=o+n.height;var p=this.offset.click.top,h=this.offset.click.left;var g=(m+p)>o&&(m+p)<j&&(e+h)>f&&(e+h)<c;if(this.options.tolerance=="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>n[this.floating?"width":"height"])){return g}else{return(f<e+(this.helperProportions.width/2)&&d-(this.helperProportions.width/2)<c&&o<m+(this.helperProportions.height/2)&&k-(this.helperProportions.height/2)<j)}},_intersectsWithPointer:function(d){var e=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,d.top,d.height),c=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,d.left,d.width),g=e&&c,b=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();if(!g){return false}return this.floating?(((f&&f=="right")||b=="down")?2:1):(b&&(b=="down"?2:1))},_intersectsWithSides:function(e){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+(e.height/2),e.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+(e.width/2),e.width),b=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();if(this.floating&&f){return((f=="right"&&d)||(f=="left"&&!d))}else{return b&&((b=="down"&&c)||(b=="up"&&!c))}},_getDragVerticalDirection:function(){var b=this.positionAbs.top-this.lastPositionAbs.top;return b!=0&&(b>0?"down":"up")},_getDragHorizontalDirection:function(){var b=this.positionAbs.left-this.lastPositionAbs.left;return b!=0&&(b>0?"right":"left")},refresh:function(b){this._refreshItems(b);this.refreshPositions();return this},_connectWith:function(){var b=this.options;return b.connectWith.constructor==String?[b.connectWith]:b.connectWith},_getItemsAsjQuery:function(b){var l=this;var g=[];var e=[];var h=this._connectWith();if(h&&b){for(var d=h.length-1;d>=0;d--){var k=a(h[d]);for(var c=k.length-1;c>=0;c--){var f=a.data(k[c],"sortable");if(f&&f!=this&&!f.options.disabled){e.push([a.isFunction(f.options.items)?f.options.items.call(f.element):a(f.options.items,f.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),f])}}}}e.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var d=e.length-1;d>=0;d--){e[d][0].each(function(){g.push(this)})}return a(g)},_removeCurrentsFromItems:function(){var d=this.currentItem.find(":data(sortable-item)");for(var c=0;c<this.items.length;c++){for(var b=0;b<d.length;b++){if(d[b]==this.items[c].item[0]){this.items.splice(c,1)}}}},_refreshItems:function(b){this.items=[];this.containers=[this];var h=this.items;var p=this;var f=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]];var l=this._connectWith();if(l){for(var e=l.length-1;e>=0;e--){var m=a(l[e]);for(var d=m.length-1;d>=0;d--){var g=a.data(m[d],"sortable");if(g&&g!=this&&!g.options.disabled){f.push([a.isFunction(g.options.items)?g.options.items.call(g.element[0],b,{item:this.currentItem}):a(g.options.items,g.element),g]);this.containers.push(g)}}}}for(var e=f.length-1;e>=0;e--){var k=f[e][1];var c=f[e][0];for(var d=0,n=c.length;d<n;d++){var o=a(c[d]);o.data("sortable-item",k);h.push({item:o,instance:k,width:0,height:0,left:0,top:0})}}},refreshPositions:function(b){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}for(var d=this.items.length-1;d>=0;d--){var e=this.items[d];var c=this.options.toleranceElement?a(this.options.toleranceElement,e.item):e.item;if(!b){e.width=c.outerWidth();e.height=c.outerHeight()}var f=c.offset();e.left=f.left;e.top=f.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(var d=this.containers.length-1;d>=0;d--){var f=this.containers[d].element.offset();this.containers[d].containerCache.left=f.left;this.containers[d].containerCache.top=f.top;this.containers[d].containerCache.width=this.containers[d].element.outerWidth();this.containers[d].containerCache.height=this.containers[d].element.outerHeight()}}return this},_createPlaceholder:function(d){var b=d||this,e=b.options;if(!e.placeholder||e.placeholder.constructor==String){var c=e.placeholder;e.placeholder={element:function(){var f=a(document.createElement(b.currentItem[0].nodeName)).addClass(c||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!c){f.style.visibility="hidden"}return f},update:function(f,g){if(c&&!e.forcePlaceholderSize){return}if(!g.height()){g.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10))}if(!g.width()){g.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10))}}}}b.placeholder=a(e.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);e.placeholder.update(b,b.placeholder)},_contactContainers:function(b){var d=null,k=null;for(var f=this.containers.length-1;f>=0;f--){if(a.ui.contains(this.currentItem[0],this.containers[f].element[0])){continue}if(this._intersectsWith(this.containers[f].containerCache)){if(d&&a.ui.contains(this.containers[f].element[0],d.element[0])){continue}d=this.containers[f];k=f}else{if(this.containers[f].containerCache.over){this.containers[f]._trigger("out",b,this._uiHash(this));this.containers[f].containerCache.over=0}}}if(!d){return}if(this.containers.length===1){this.containers[k]._trigger("over",b,this._uiHash(this));this.containers[k].containerCache.over=1}else{if(this.currentContainer!=this.containers[k]){var h=10000;var g=null;var c=this.positionAbs[this.containers[k].floating?"left":"top"];for(var e=this.items.length-1;e>=0;e--){if(!a.ui.contains(this.containers[k].element[0],this.items[e].item[0])){continue}var l=this.items[e][this.containers[k].floating?"left":"top"];if(Math.abs(l-c)<h){h=Math.abs(l-c);g=this.items[e]}}if(!g&&!this.options.dropOnEmpty){return}this.currentContainer=this.containers[k];g?this._rearrange(b,g,null,true):this._rearrange(b,null,this.containers[k].element,true);this._trigger("change",b,this._uiHash());this.containers[k]._trigger("change",b,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[k]._trigger("over",b,this._uiHash(this));this.containers[k].containerCache.over=1}}},_createHelper:function(c){var d=this.options;var b=a.isFunction(d.helper)?a(d.helper.apply(this.element[0],[c,this.currentItem])):(d.helper=="clone"?this.currentItem.clone():this.currentItem);if(!b.parents("body").length){a(d.appendTo!="parent"?d.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0])}if(b[0]==this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(b[0].style.width==""||d.forceHelperSize){b.width(this.currentItem.width())}if(b[0].style.height==""||d.forceHelperSize){b.height(this.currentItem.height())}return b},_adjustOffsetFromHelper:function(b){if(typeof b=="string"){b=b.split(" ")}if(a.isArray(b)){b={left:+b[0],top:+b[1]||0}}if("left" in b){this.offset.click.left=b.left+this.margins.left}if("right" in b){this.offset.click.left=this.helperProportions.width-b.right+this.margins.left}if("top" in b){this.offset.click.top=b.top+this.margins.top}if("bottom" in b){this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)){b={top:0,left:0}}return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.currentItem.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if(e.containment=="parent"){e.containment=this.helper[0].parentNode}if(e.containment=="document"||e.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(e.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(e.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(e.containment)){var c=a(e.containment)[0];var d=a(e.containment).offset();var b=(a(c).css("overflow")!="hidden");this.containment=[d.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,d.left+(b?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(b?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(f,h){if(!h){h=this.position}var c=f=="absolute"?1:-1;var e=this.options,b=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=(/(html|body)/i).test(b[0].tagName);return{top:(h.top+this.offset.relative.top*c+this.offset.parent.top*c-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(g?0:b.scrollTop()))*c)),left:(h.left+this.offset.relative.left*c+this.offset.parent.left*c-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:b.scrollLeft())*c))}},_generatePosition:function(e){var h=this.options,b=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(b[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}var d=e.pageX;var c=e.pageY;if(this.originalPosition){if(this.containment){if(e.pageX-this.offset.click.left<this.containment[0]){d=this.containment[0]+this.offset.click.left}if(e.pageY-this.offset.click.top<this.containment[1]){c=this.containment[1]+this.offset.click.top}if(e.pageX-this.offset.click.left>this.containment[2]){d=this.containment[2]+this.offset.click.left}if(e.pageY-this.offset.click.top>this.containment[3]){c=this.containment[3]+this.offset.click.top}}if(h.grid){var g=this.originalPageY+Math.round((c-this.originalPageY)/h.grid[1])*h.grid[1];c=this.containment?(!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g:(!(g-this.offset.click.top<this.containment[1])?g-h.grid[1]:g+h.grid[1])):g;var f=this.originalPageX+Math.round((d-this.originalPageX)/h.grid[0])*h.grid[0];d=this.containment?(!(f-this.offset.click.left<this.containment[0]||f-this.offset.click.left>this.containment[2])?f:(!(f-this.offset.click.left<this.containment[0])?f-h.grid[0]:f+h.grid[0])):f}}return{top:(c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(j?0:b.scrollTop())))),left:(d-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:b.scrollLeft())))}},_rearrange:function(g,f,c,e){c?c[0].appendChild(this.placeholder[0]):f.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction=="down"?f.item[0]:f.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var d=this,b=this.counter;window.setTimeout(function(){if(b==d.counter){d.refreshPositions(!e)}},0)},_clear:function(d,e){this.reverting=false;var f=[],b=this;if(!this._noFinalSort&&this.currentItem[0].parentNode){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var c in this._storedCSS){if(this._storedCSS[c]=="auto"||this._storedCSS[c]=="static"){this._storedCSS[c]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!e){f.push(function(g){this._trigger("receive",g,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!e){f.push(function(g){this._trigger("update",g,this._uiHash())})}if(!a.ui.contains(this.element[0],this.currentItem[0])){if(!e){f.push(function(g){this._trigger("remove",g,this._uiHash())})}for(var c=this.containers.length-1;c>=0;c--){if(a.ui.contains(this.containers[c].element[0],this.currentItem[0])&&!e){f.push((function(g){return function(h){g._trigger("receive",h,this._uiHash(this))}}).call(this,this.containers[c]));f.push((function(g){return function(h){g._trigger("update",h,this._uiHash(this))}}).call(this,this.containers[c]))}}}for(var c=this.containers.length-1;c>=0;c--){if(!e){f.push((function(g){return function(h){g._trigger("deactivate",h,this._uiHash(this))}}).call(this,this.containers[c]))}if(this.containers[c].containerCache.over){f.push((function(g){return function(h){g._trigger("out",h,this._uiHash(this))}}).call(this,this.containers[c]));this.containers[c].containerCache.over=0}}if(this._storedCursor){a("body").css("cursor",this._storedCursor)}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!e){this._trigger("beforeStop",d,this._uiHash());for(var c=0;c<f.length;c++){f[c].call(this,d)}this._trigger("stop",d,this._uiHash())}return false}if(!e){this._trigger("beforeStop",d,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!=this.currentItem[0]){this.helper.remove()}this.helper=null;if(!e){for(var c=0;c<f.length;c++){f[c].call(this,d)}this._trigger("stop",d,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(a.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(c){var b=c||this;return{helper:b.helper,placeholder:b.placeholder||a([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,sender:c?c.element:null}}});a.extend(a.ui.sortable,{version:"1.8"})})(jQuery);(function(b){var a="ui-dialog ui-widget ui-widget-content ui-corner-all ";b.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:"center",resizable:true,show:null,stack:true,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title");var l=this,m=l.options,j=m.title||l.originalTitle||"&#160;",d=b.ui.dialog.getTitleId(l.element),k=(l.uiDialog=b("<div></div>")).appendTo(document.body).hide().addClass(a+m.dialogClass).css({zIndex:m.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(n){if(m.closeOnEscape&&n.keyCode&&n.keyCode===b.ui.keyCode.ESCAPE){l.close(n);n.preventDefault()}}).attr({role:"dialog","aria-labelledby":d}).mousedown(function(n){l.moveToTop(false,n)}),f=l.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(k),e=(l.uiDialogTitlebar=b("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(k),h=b('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){h.addClass("ui-state-hover")},function(){h.removeClass("ui-state-hover")}).focus(function(){h.addClass("ui-state-focus")}).blur(function(){h.removeClass("ui-state-focus")}).click(function(n){l.close(n);return false}).appendTo(e),g=(l.uiDialogTitlebarCloseText=b("<span></span>")).addClass("ui-icon ui-icon-closethick").text(m.closeText).appendTo(h),c=b("<span></span>").addClass("ui-dialog-title").attr("id",d).html(j).prependTo(e);if(b.isFunction(m.beforeclose)&&!b.isFunction(m.beforeClose)){m.beforeClose=m.beforeclose}e.find("*").add(e).disableSelection();if(m.draggable&&b.fn.draggable){l._makeDraggable()}if(m.resizable&&b.fn.resizable){l._makeResizable()}l._createButtons(m.buttons);l._isOpen=false;if(b.fn.bgiframe){k.bgiframe()}},_init:function(){if(this.options.autoOpen){this.open()}},destroy:function(){var c=this;if(c.overlay){c.overlay.destroy()}c.uiDialog.hide();c.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");c.uiDialog.remove();if(c.originalTitle){c.element.attr("title",c.originalTitle)}return c},widget:function(){return this.uiDialog},close:function(e){var c=this,d;if(false===c._trigger("beforeClose",e)){return}if(c.overlay){c.overlay.destroy()}c.uiDialog.unbind("keypress.ui-dialog");c._isOpen=false;if(c.options.hide){c.uiDialog.hide(c.options.hide,function(){c._trigger("close",e)})}else{c.uiDialog.hide();c._trigger("close",e)}b.ui.dialog.overlay.resize();if(c.options.modal){d=0;b(".ui-dialog").each(function(){if(this!==c.uiDialog[0]){d=Math.max(d,b(this).css("z-index"))}});b.ui.dialog.maxZ=d}return c},isOpen:function(){return this._isOpen},moveToTop:function(g,f){var c=this,e=c.options,d;if((e.modal&&!g)||(!e.stack&&!e.modal)){return c._trigger("focus",f)}if(e.zIndex>b.ui.dialog.maxZ){b.ui.dialog.maxZ=e.zIndex}if(c.overlay){b.ui.dialog.maxZ+=1;c.overlay.$el.css("z-index",b.ui.dialog.overlay.maxZ=b.ui.dialog.maxZ)}d={scrollTop:c.element.attr("scrollTop"),scrollLeft:c.element.attr("scrollLeft")};b.ui.dialog.maxZ+=1;c.uiDialog.css("z-index",b.ui.dialog.maxZ);c.element.attr(d);c._trigger("focus",f);return c},open:function(){if(this._isOpen){return}var d=this,e=d.options,c=d.uiDialog;d.overlay=e.modal?new b.ui.dialog.overlay(d):null;if(c.next().length){c.appendTo("body")}d._size();d._position(e.position);c.show(e.show);d.moveToTop(true);if(e.modal){c.bind("keypress.ui-dialog",function(h){if(h.keyCode!==b.ui.keyCode.TAB){return}var g=b(":tabbable",this),j=g.filter(":first"),f=g.filter(":last");if(h.target===f[0]&&!h.shiftKey){j.focus(1);return false}else{if(h.target===j[0]&&h.shiftKey){f.focus(1);return false}}})}b([]).add(c.find(".ui-dialog-content :tabbable:first")).add(c.find(".ui-dialog-buttonpane :tabbable:first")).add(c).filter(":first").focus();d._trigger("open");d._isOpen=true;return d},_createButtons:function(f){var e=this,c=false,d=b("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");e.uiDialog.find(".ui-dialog-buttonpane").remove();if(typeof f==="object"&&f!==null){b.each(f,function(){return !(c=true)})}if(c){b.each(f,function(g,j){var h=b('<button type="button"></button>').text(g).click(function(){j.apply(e.element[0],arguments)}).appendTo(d);if(b.fn.button){h.button()}});d.appendTo(e.uiDialog)}},_makeDraggable:function(){var c=this,f=c.options,g=b(document),e;function d(h){return{position:h.position,offset:h.offset}}c.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(h,j){e=f.height==="auto"?"auto":b(this).height();b(this).height(b(this).height()).addClass("ui-dialog-dragging");c._trigger("dragStart",h,d(j))},drag:function(h,j){c._trigger("drag",h,d(j))},stop:function(h,j){f.position=[j.position.left-g.scrollLeft(),j.position.top-g.scrollTop()];b(this).removeClass("ui-dialog-dragging").height(e);c._trigger("dragStop",h,d(j));b.ui.dialog.overlay.resize()}})},_makeResizable:function(h){h=(h===undefined?this.options.resizable:h);var d=this,g=d.options,c=d.uiDialog.css("position"),f=(typeof h==="string"?h:"n,e,s,w,se,sw,ne,nw");function e(j){return{originalPosition:j.originalPosition,originalSize:j.originalSize,position:j.position,size:j.size}}d.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:d.element,maxWidth:g.maxWidth,maxHeight:g.maxHeight,minWidth:g.minWidth,minHeight:d._minHeight(),handles:f,start:function(j,k){b(this).addClass("ui-dialog-resizing");d._trigger("resizeStart",j,e(k))},resize:function(j,k){d._trigger("resize",j,e(k))},stop:function(j,k){b(this).removeClass("ui-dialog-resizing");g.height=b(this).height();g.width=b(this).width();d._trigger("resizeStop",j,e(k));b.ui.dialog.overlay.resize()}}).css("position",c).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var c=this.options;if(c.height==="auto"){return c.minHeight}else{return Math.min(c.minHeight,c.height)}},_position:function(d){var e=[],f=[0,0],c;d=d||b.ui.dialog.prototype.options.position;if(typeof d==="string"||(typeof d==="object"&&"0" in d)){e=d.split?d.split(" "):[d[0],d[1]];if(e.length===1){e[1]=e[0]}b.each(["left","top"],function(h,g){if(+e[h]===e[h]){f[h]=e[h];e[h]=g}})}else{if(typeof d==="object"){if("left" in d){e[0]="left";f[0]=d.left}else{if("right" in d){e[0]="right";f[0]=-d.right}}if("top" in d){e[1]="top";f[1]=d.top}else{if("bottom" in d){e[1]="bottom";f[1]=-d.bottom}}}}c=this.uiDialog.is(":visible");if(!c){this.uiDialog.show()}this.uiDialog.css({top:0,left:0}).position({my:e.join(" "),at:e.join(" "),offset:f.join(" "),of:window,collision:"fit",using:function(h){var g=b(this).css(h).offset().top;if(g<0){b(this).css("top",h.top-g)}}});if(!c){this.uiDialog.hide()}},_setOption:function(f,g){var d=this,c=d.uiDialog,h=c.is(":data(resizable)"),e=false;switch(f){case"beforeclose":f="beforeClose";break;case"buttons":d._createButtons(g);break;case"closeText":d.uiDialogTitlebarCloseText.text(""+g);break;case"dialogClass":c.removeClass(d.options.dialogClass).addClass(a+g);break;case"disabled":if(g){c.addClass("ui-dialog-disabled")}else{c.removeClass("ui-dialog-disabled")}break;case"draggable":if(g){d._makeDraggable()}else{c.draggable("destroy")}break;case"height":e=true;break;case"maxHeight":if(h){c.resizable("option","maxHeight",g)}e=true;break;case"maxWidth":if(h){c.resizable("option","maxWidth",g)}e=true;break;case"minHeight":if(h){c.resizable("option","minHeight",g)}e=true;break;case"minWidth":if(h){c.resizable("option","minWidth",g)}e=true;break;case"position":d._position(g);break;case"resizable":if(h&&!g){c.resizable("destroy")}if(h&&typeof g==="string"){c.resizable("option","handles",g)}if(!h&&g!==false){d._makeResizable(g)}break;case"title":b(".ui-dialog-title",d.uiDialogTitlebar).html(""+(g||"&#160;"));break;case"width":e=true;break}b.Widget.prototype._setOption.apply(d,arguments);if(e){d._size()}},_size:function(){var d=this.options,c;this.element.css("width","auto").hide();c=this.uiDialog.css({height:"auto",width:d.width}).height();this.element.css(d.height==="auto"?{minHeight:Math.max(d.minHeight-c,0),height:"auto"}:{minHeight:0,height:Math.max(d.height-c,0)}).show();if(this.uiDialog.is(":data(resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight())}}});b.extend(b.ui.dialog,{version:"1.8",uuid:0,maxZ:0,getTitleId:function(c){var d=c.attr("id");if(!d){this.uuid+=1;d=this.uuid}return"ui-dialog-title-"+d},overlay:function(c){this.$el=b.ui.dialog.overlay.create(c)}});b.extend(b.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:b.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(c){return c+".dialog-overlay"}).join(" "),create:function(d){if(this.instances.length===0){setTimeout(function(){if(b.ui.dialog.overlay.instances.length){b(document).bind(b.ui.dialog.overlay.events,function(e){return(b(e.target).zIndex()>=b.ui.dialog.overlay.maxZ)})}},1);b(document).bind("keydown.dialog-overlay",function(e){if(d.options.closeOnEscape&&e.keyCode&&e.keyCode===b.ui.keyCode.ESCAPE){d.close(e);e.preventDefault()}});b(window).bind("resize.dialog-overlay",b.ui.dialog.overlay.resize)}var c=(this.oldInstances.pop()||b("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});if(b.fn.bgiframe){c.bgiframe()}this.instances.push(c);return c},destroy:function(c){this.oldInstances.push(this.instances.splice(b.inArray(c,this.instances),1)[0]);if(this.instances.length===0){b([document,window]).unbind(".dialog-overlay")}c.remove();var d=0;b.each(this.instances,function(){d=Math.max(d,this.css("z-index"))});this.maxZ=d},height:function(){var d,c;if(b.browser.msie&&b.browser.version<7){d=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(d<c){return b(window).height()+"px"}else{return d+"px"}}else{return b(document).height()+"px"}},width:function(){var c,d;if(b.browser.msie&&b.browser.version<7){c=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);d=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(c<d){return b(window).width()+"px"}else{return c+"px"}}else{return b(document).width()+"px"}},resize:function(){var c=b([]);b.each(b.ui.dialog.overlay.instances,function(){c=c.add(this)});c.css({width:0,height:0}).css({width:b.ui.dialog.overlay.width(),height:b.ui.dialog.overlay.height()})}});b.extend(b.ui.dialog.overlay.prototype,{destroy:function(){b.ui.dialog.overlay.destroy(this.$el)}})}(jQuery));$(function(){$.extend($.support,{touch:typeof Touch=="object"});$.fn.addTouch=function(){if($.support.touch){this.each(function(a,b){b.addEventListener("touchstart",iPadTouchHandler,false);b.addEventListener("touchmove",iPadTouchHandler,false);b.addEventListener("touchend",iPadTouchHandler,false);b.addEventListener("touchcancel",iPadTouchHandler,false)})}return this}});var lastTap=null;var tapValid=false;var tapTimeout=null;function cancelTap(){tapValid=false}var rightClickPending=false;var rightClickEvent=null;var holdTimeout=null;var cancelMouseUp=false;function cancelHold(){if(rightClickPending){window.clearTimeout(holdTimeout);rightClickPending=false;rightClickEvent=null}}function startHold(a){if(rightClickPending){return}rightClickPending=true;rightClickEvent=(a.changedTouches)[0];holdTimeout=window.setTimeout("doRightClick();",800)}function doRightClick(){rightClickPending=false;var b=rightClickEvent,a=document.createEvent("MouseEvent");a.initMouseEvent("mouseup",true,true,window,1,b.screenX,b.screenY,b.clientX,b.clientY,false,false,false,false,0,null);b.target.dispatchEvent(a);a=document.createEvent("MouseEvent");a.initMouseEvent("mousedown",true,true,window,1,b.screenX,b.screenY,b.clientX,b.clientY,false,false,false,false,2,null);b.target.dispatchEvent(a);a=document.createEvent("MouseEvent");a.initMouseEvent("contextmenu",true,true,window,1,b.screenX+50,b.screenY+5,b.clientX+50,b.clientY+5,false,false,false,false,2,null);b.target.dispatchEvent(a);cancelMouseUp=true;rightClickEvent=null}function iPadTouchStart(c){var d=c.changedTouches,e=d[0],a="mouseover",b=document.createEvent("MouseEvent");b.initMouseEvent(a,true,true,window,1,e.screenX,e.screenY,e.clientX,e.clientY,false,false,false,false,0,null);e.target.dispatchEvent(b);a="mousedown";b=document.createEvent("MouseEvent");b.initMouseEvent(a,true,true,window,1,e.screenX,e.screenY,e.clientX,e.clientY,false,false,false,false,0,null);e.target.dispatchEvent(b);if(!tapValid){lastTap=e.target;tapValid=true;tapTimeout=window.setTimeout("cancelTap();",600);startHold(c)}else{window.clearTimeout(tapTimeout);if(e.target==lastTap){lastTap=null;tapValid=false;a="click";b=document.createEvent("MouseEvent");b.initMouseEvent(a,true,true,window,1,e.screenX,e.screenY,e.clientX,e.clientY,false,false,false,false,0,null);e.target.dispatchEvent(b);a="dblclick";b=document.createEvent("MouseEvent");b.initMouseEvent(a,true,true,window,1,e.screenX,e.screenY,e.clientX,e.clientY,false,false,false,false,0,null);e.target.dispatchEvent(b)}else{lastTap=e.target;tapValid=true;tapTimeout=window.setTimeout("cancelTap();",600);startHold(c)}}}function iPadTouchHandler(d){var b="",a=0;if(d.touches.length>1){return}switch(d.type){case"touchstart":if($(d.changedTouches[0].target).is("select")){return}iPadTouchStart(d);d.preventDefault();return false;break;case"touchmove":cancelHold();b="mousemove";d.preventDefault();break;case"touchend":if(cancelMouseUp){cancelMouseUp=false;d.preventDefault();return false}cancelHold();b="mouseup";break;default:return}var e=d.changedTouches,f=e[0],c=document.createEvent("MouseEvent");c.initMouseEvent(b,true,true,window,1,f.screenX,f.screenY,f.clientX,f.clientY,false,false,false,false,a,null);f.target.dispatchEvent(c);if(b=="mouseup"&&tapValid&&f.target==lastTap){c=document.createEvent("MouseEvent");c.initMouseEvent("click",true,true,window,1,f.screenX,f.screenY,f.clientX,f.clientY,false,false,false,false,a,null);f.target.dispatchEvent(c)}}var _canLog=true;function _log(g,f){if(!_canLog){return}var b=Array.prototype.slice.apply(arguments,[1]);var c=new Date();var a=c.getHours()+":"+c.getMinutes()+":"+c.getSeconds()+"."+c.getMilliseconds();b[0]=a+" - "+b[0];try{switch(g){case"info":window.console.info.apply(window.console,b);break;case"warn":window.console.warn.apply(window.console,b);break;default:window.console.log.apply(window.console,b);break}}catch(d){if(!window.console){_canLog=false}}}function logMsg(a){Array.prototype.unshift.apply(arguments,["debug"]);_log.apply(this,arguments)}var getDynaTreePersistData=null;var DTNodeStatus_Error=-1;var DTNodeStatus_Loading=1;var DTNodeStatus_Ok=0;(function($){var Class={create:function(){return function(){this.initialize.apply(this,arguments)}}};function getDtNodeFromElement(el){var iMax=5;while(el&&iMax--){if(el.dtnode){return el.dtnode}el=el.parentNode}return null}function noop(){}var DynaTreeNode=Class.create();DynaTreeNode.prototype={initialize:function(parent,tree,data){this.parent=parent;this.tree=tree;if(typeof data==="string"){data={title:data}}if(data.key===undefined){data.key="_"+tree._nodeCount++}this.data=$.extend({},$.ui.dynatree.nodedatadefaults,data);this.li=null;this.span=null;this.ul=null;this.childList=null;this.isLoading=false;this.hasSubSel=false;this.bExpanded=false;this.bSelected=false},toString:function(){return"DynaTreeNode<"+this.data.key+">: '"+this.data.title+"'"},toDict:function(recursive,callback){var dict=$.extend({},this.data);dict.activate=(this.tree.activeNode===this);dict.focus=(this.tree.focusNode===this);dict.expand=this.bExpanded;dict.select=this.bSelected;if(callback){callback(dict)}if(recursive&&this.childList){dict.children=[];for(var i=0,l=this.childList.length;i<l;i++){dict.children.push(this.childList[i].toDict(true,callback))}}else{delete dict.children}return dict},fromDict:function(dict){var children=dict.children;if(children===undefined){this.data=$.extend(this.data,dict);this.render();return}dict=$.extend({},dict);dict.children=undefined;this.data=$.extend(this.data,dict);this.removeChildren();this.addChild(children)},_getInnerHtml:function(){var tree=this.tree,opts=tree.options,cache=tree.cache,level=this.getLevel(),data=this.data,res="";if(level<opts.minExpandLevel){if(level>1){res+=cache.tagConnector}}else{if(this.hasChildren()!==false){res+=cache.tagExpander}else{res+=cache.tagConnector}}if(opts.checkbox&&data.hideCheckbox!==true&&!data.isStatusNode){res+=cache.tagCheckbox}if(data.icon){res+="<img src='"+opts.imagePath+data.icon+"' alt='' />"}else{if(data.icon===false){noop()}else{res+=cache.tagNodeIcon}}var nodeTitle="";if(opts.onCustomRender){nodeTitle=opts.onCustomRender.call(tree,this)||""}if(!nodeTitle){var tooltip=data.tooltip?" title='"+data.tooltip+"'":"";if(opts.noLink||data.noLink){nodeTitle="<span style='display: inline-block;' class='"+opts.classNames.title+"'"+tooltip+">"+data.title+"</span>"}else{nodeTitle="<a href='#' class='"+opts.classNames.title+"'"+tooltip+">"+data.title+"</a>"}}res+=nodeTitle;return res},_fixOrder:function(){var cl=this.childList;if(!cl||!this.ul){return}var childLI=this.ul.firstChild;for(var i=0,l=cl.length-1;i<l;i++){var childNode1=cl[i];var childNode2=childLI.dtnode;if(childNode1!==childNode2){this.tree.logDebug("_fixOrder: mismatch at index "+i+": "+childNode1+" != "+childNode2);this.ul.insertBefore(childNode1.li,childNode2.li)}else{childLI=childLI.nextSibling}}},render:function(useEffects,includeInvisible){var tree=this.tree,parent=this.parent,data=this.data,opts=tree.options,cn=opts.classNames,isLastSib=this.isLastSibling();if(!parent&&!this.ul){this.li=this.span=null;this.ul=document.createElement("ul");if(opts.minExpandLevel>1){this.ul.className=cn.container+" "+cn.noConnector}else{this.ul.className=cn.container}}else{if(parent){if(!this.li){this.li=document.createElement("li");this.li.dtnode=this;if(data.key&&opts.generateIds){this.li.id=opts.idPrefix+data.key}this.span=document.createElement("span");this.span.className=cn.title;this.li.appendChild(this.span);if(!parent.ul){parent.ul=document.createElement("ul");parent.ul.style.display="none";parent.li.appendChild(parent.ul)}parent.ul.appendChild(this.li)}this.span.innerHTML=this._getInnerHtml();var cnList=[];cnList.push(cn.node);if(data.isFolder){cnList.push(cn.folder)}if(this.bExpanded){cnList.push(cn.expanded)}if(this.hasChildren()!==false){cnList.push(cn.hasChildren)}if(data.isLazy&&this.childList===null){cnList.push(cn.lazy)}if(isLastSib){cnList.push(cn.lastsib)}if(this.bSelected){cnList.push(cn.selected)}if(this.hasSubSel){cnList.push(cn.partsel)}if(tree.activeNode===this){cnList.push(cn.active)}if(data.addClass){cnList.push(data.addClass)}cnList.push(cn.combinedExpanderPrefix+(this.bExpanded?"e":"c")+(data.isLazy&&this.childList===null?"d":"")+(isLastSib?"l":""));cnList.push(cn.combinedIconPrefix+(this.bExpanded?"e":"c")+(data.isFolder?"f":""));this.span.className=cnList.join(" ");this.li.className=isLastSib?cn.lastsib:"";if(opts.onRender){opts.onRender.call(tree,this,this.span)}}}if((this.bExpanded||includeInvisible===true)&&this.childList){for(var i=0,l=this.childList.length;i<l;i++){this.childList[i].render(false,includeInvisible)}this._fixOrder()}if(this.ul){var isHidden=(this.ul.style.display==="none");var isExpanded=!!this.bExpanded;if(useEffects&&opts.fx&&(isHidden===isExpanded)){var duration=opts.fx.duration||200;$(this.ul).animate(opts.fx,duration)}else{this.ul.style.display=(this.bExpanded||!parent)?"":"none"}}},getKeyPath:function(excludeSelf){var path=[];this.visitParents(function(node){if(node.parent){path.unshift(node.data.key)}},!excludeSelf);return"/"+path.join(this.tree.options.keyPathSeparator)},getParent:function(){return this.parent},getChildren:function(){return this.childList},hasChildren:function(){if(this.data.isLazy){if(this.childList===null||this.childList===undefined){return undefined}else{if(this.childList.length===0){return false}else{if(this.childList.length===1&&this.childList[0].isStatusNode()){return undefined}}}return true}return !!this.childList},isFirstSibling:function(){var p=this.parent;return !p||p.childList[0]===this},isLastSibling:function(){var p=this.parent;return !p||p.childList[p.childList.length-1]===this},getPrevSibling:function(){if(!this.parent){return null}var ac=this.parent.childList;for(var i=1,l=ac.length;i<l;i++){if(ac[i]===this){return ac[i-1]}}return null},getNextSibling:function(){if(!this.parent){return null}var ac=this.parent.childList;for(var i=0,l=ac.length-1;i<l;i++){if(ac[i]===this){return ac[i+1]}}return null},isStatusNode:function(){return(this.data.isStatusNode===true)},isChildOf:function(otherNode){return(this.parent&&this.parent===otherNode)},isDescendantOf:function(otherNode){if(!otherNode){return false}var p=this.parent;while(p){if(p===otherNode){return true}p=p.parent}return false},countChildren:function(){var cl=this.childList;if(!cl){return 0}var n=cl.length;for(var i=0,l=n;i<l;i++){var child=cl[i];n+=child.countChildren()}return n},sortChildren:function(cmp,deep){var cl=this.childList;if(!cl){return}cmp=cmp||function(a,b){return a.data.title===b.data.title?0:a.data.title>b.data.title?1:-1};cl.sort(cmp);if(deep){for(var i=0,l=cl.length;i<l;i++){if(cl[i].childList){cl[i].sortChildren(cmp,"$norender$")}}}if(deep!=="$norender$"){this.render()}},_setStatusNode:function(data){var firstChild=(this.childList?this.childList[0]:null);if(!data){if(firstChild&&firstChild.isStatusNode()){try{if(this.ul){this.ul.removeChild(firstChild.li)}}catch(e){}if(this.childList.length===1){this.childList=[]}else{this.childList.shift()}}}else{if(firstChild){data.isStatusNode=true;data.key="_statusNode";firstChild.data=data;firstChild.render()}else{data.isStatusNode=true;data.key="_statusNode";firstChild=this.addChild(data)}}},setLazyNodeStatus:function(lts,opts){var tooltip=(opts&&opts.tooltip)?opts.tooltip:null;var info=(opts&&opts.info)?" ("+opts.info+")":"";switch(lts){case DTNodeStatus_Ok:this._setStatusNode(null);$(this.span).removeClass(this.tree.options.classNames.nodeLoading);this.isLoading=false;if(this.tree.options.autoFocus){if(this===this.tree.tnRoot&&this.childList&&this.childList.length>0){this.childList[0].focus()}else{this.focus()}}break;case DTNodeStatus_Loading:this.isLoading=true;$(this.span).addClass(this.tree.options.classNames.nodeLoading);if(!this.parent){this._setStatusNode({title:this.tree.options.strings.loading+info,tooltip:tooltip,addClass:this.tree.options.classNames.nodeWait})}break;case DTNodeStatus_Error:this.isLoading=false;this._setStatusNode({title:this.tree.options.strings.loadError+info,tooltip:tooltip,addClass:this.tree.options.classNames.nodeError});break;default:throw"Bad LazyNodeStatus: '"+lts+"'."}},_parentList:function(includeRoot,includeSelf){var l=[];var dtn=includeSelf?this:this.parent;while(dtn){if(includeRoot||dtn.parent){l.unshift(dtn)}dtn=dtn.parent}return l},getLevel:function(){var level=0;var dtn=this.parent;while(dtn){level++;dtn=dtn.parent}return level},_getTypeForOuterNodeEvent:function(event){var cns=this.tree.options.classNames;var target=event.target;if(target.className.indexOf(cns.node)<0){return null}var eventX=event.pageX-target.offsetLeft;var eventY=event.pageY-target.offsetTop;for(var i=0,l=target.childNodes.length;i<l;i++){var cn=target.childNodes[i];var x=cn.offsetLeft-target.offsetLeft;var y=cn.offsetTop-target.offsetTop;var nx=cn.clientWidth,ny=cn.clientHeight;if(eventX>=x&&eventX<=(x+nx)&&eventY>=y&&eventY<=(y+ny)){if(cn.className==cns.title){return"title"}else{if(cn.className==cns.expander){return"expander"}else{if(cn.className==cns.checkbox){return"checkbox"}else{if(cn.className==cns.nodeIcon){return"icon"}}}}}}return"prefix"},getEventTargetType:function(event){var tcn=event&&event.target?event.target.className:"";var cns=this.tree.options.classNames;if(tcn===cns.title){return"title"}else{if(tcn===cns.expander){return"expander"}else{if(tcn===cns.checkbox){return"checkbox"}else{if(tcn===cns.nodeIcon){return"icon"}else{if(tcn===cns.empty||tcn===cns.vline||tcn===cns.connector){return"prefix"}else{if(tcn.indexOf(cns.node)>=0){return this._getTypeForOuterNodeEvent(event)}}}}}}return null},isVisible:function(){var parents=this._parentList(true,false);for(var i=0,l=parents.length;i<l;i++){if(!parents[i].bExpanded){return false}}return true},makeVisible:function(){var parents=this._parentList(true,false);for(var i=0,l=parents.length;i<l;i++){parents[i]._expand(true)}},focus:function(){this.makeVisible();try{$(this.span).find(">a").focus()}catch(e){}},isFocused:function(){return(this.tree.tnFocused===this)},_activate:function(flag,fireEvents){this.tree.logDebug("dtnode._activate(%o, fireEvents=%o) - %o",flag,fireEvents,this);var opts=this.tree.options;if(this.data.isStatusNode){return}if(fireEvents&&opts.onQueryActivate&&opts.onQueryActivate.call(this.tree,flag,this)===false){return}if(flag){if(this.tree.activeNode){if(this.tree.activeNode===this){return}this.tree.activeNode.deactivate()}if(opts.activeVisible){this.makeVisible()}this.tree.activeNode=this;if(opts.persist){$.cookie(opts.cookieId+"-active",this.data.key,opts.cookie)}this.tree.persistence.activeKey=this.data.key;$(this.span).addClass(opts.classNames.active);if(fireEvents&&opts.onActivate){opts.onActivate.call(this.tree,this)}}else{if(this.tree.activeNode===this){if(opts.onQueryActivate&&opts.onQueryActivate.call(this.tree,false,this)===false){return}$(this.span).removeClass(opts.classNames.active);if(opts.persist){$.cookie(opts.cookieId+"-active","",opts.cookie)}this.tree.persistence.activeKey=null;this.tree.activeNode=null;if(fireEvents&&opts.onDeactivate){opts.onDeactivate.call(this.tree,this)}}}},activate:function(){this._activate(true,true)},activateSilently:function(){this._activate(true,false)},deactivate:function(){this._activate(false,true)},isActive:function(){return(this.tree.activeNode===this)},_userActivate:function(){var activate=true;var expand=false;if(this.data.isFolder){switch(this.tree.options.clickFolderMode){case 2:activate=false;expand=true;break;case 3:activate=expand=true;break}}if(this.parent===null){expand=false}if(expand){this.toggleExpand();this.focus()}if(activate){this.activate()}},_setSubSel:function(hasSubSel){if(hasSubSel){this.hasSubSel=true;$(this.span).addClass(this.tree.options.classNames.partsel)}else{this.hasSubSel=false;$(this.span).removeClass(this.tree.options.classNames.partsel)}},_fixSelectionState:function(){var p,i,l;if(this.bSelected){this.visit(function(node){node.parent._setSubSel(true);node._select(true,false,false)});p=this.parent;while(p){p._setSubSel(true);var allChildsSelected=true;for(i=0,l=p.childList.length;i<l;i++){var n=p.childList[i];if(!n.bSelected&&!n.data.isStatusNode){allChildsSelected=false;break}}if(allChildsSelected){p._select(true,false,false)}p=p.parent}}else{this._setSubSel(false);this.visit(function(node){node._setSubSel(false);node._select(false,false,false)});p=this.parent;while(p){p._select(false,false,false);var isPartSel=false;for(i=0,l=p.childList.length;i<l;i++){if(p.childList[i].bSelected||p.childList[i].hasSubSel){isPartSel=true;break}}p._setSubSel(isPartSel);p=p.parent}}},_select:function(sel,fireEvents,deep){var opts=this.tree.options;if(this.data.isStatusNode){return}if(this.bSelected===sel){return}if(fireEvents&&opts.onQuerySelect&&opts.onQuerySelect.call(this.tree,sel,this)===false){return}if(opts.selectMode==1&&sel){this.tree.visit(function(node){if(node.bSelected){node._select(false,false,false);return false}})}this.bSelected=sel;if(sel){if(opts.persist){this.tree.persistence.addSelect(this.data.key)}$(this.span).addClass(opts.classNames.selected);if(deep&&opts.selectMode===3){this._fixSelectionState()}if(fireEvents&&opts.onSelect){opts.onSelect.call(this.tree,true,this)}}else{if(opts.persist){this.tree.persistence.clearSelect(this.data.key)}$(this.span).removeClass(opts.classNames.selected);if(deep&&opts.selectMode===3){this._fixSelectionState()}if(fireEvents&&opts.onSelect){opts.onSelect.call(this.tree,false,this)}}},select:function(sel){if(this.data.unselectable){return this.bSelected}return this._select(sel!==false,true,true)},toggleSelect:function(){return this.select(!this.bSelected)},isSelected:function(){return this.bSelected},_loadContent:function(){try{var opts=this.tree.options;this.tree.logDebug("_loadContent: start - %o",this);this.setLazyNodeStatus(DTNodeStatus_Loading);if(true===opts.onLazyRead.call(this.tree,this)){this.setLazyNodeStatus(DTNodeStatus_Ok);this.tree.logDebug("_loadContent: succeeded - %o",this)}}catch(e){this.tree.logWarning("_loadContent: failed - %o",e);this.setLazyNodeStatus(DTNodeStatus_Error,{tooltip:""+e})}},_expand:function(bExpand,forceSync){if(this.bExpanded===bExpand){this.tree.logDebug("dtnode._expand(%o) IGNORED - %o",bExpand,this);return}this.tree.logDebug("dtnode._expand(%o) - %o",bExpand,this);var opts=this.tree.options;if(!bExpand&&this.getLevel()<opts.minExpandLevel){this.tree.logDebug("dtnode._expand(%o) prevented collapse - %o",bExpand,this);return}if(opts.onQueryExpand&&opts.onQueryExpand.call(this.tree,bExpand,this)===false){return}this.bExpanded=bExpand;if(opts.persist){if(bExpand){this.tree.persistence.addExpand(this.data.key)}else{this.tree.persistence.clearExpand(this.data.key)}}var allowEffects=!(this.data.isLazy&&this.childList===null)&&!this.isLoading&&!forceSync;this.render(allowEffects);if(this.bExpanded&&this.parent&&opts.autoCollapse){var parents=this._parentList(false,true);for(var i=0,l=parents.length;i<l;i++){parents[i].collapseSiblings()}}if(opts.activeVisible&&this.tree.activeNode&&!this.tree.activeNode.isVisible()){this.tree.activeNode.deactivate()}if(bExpand&&this.data.isLazy&&this.childList===null&&!this.isLoading){this._loadContent();return}if(opts.onExpand){opts.onExpand.call(this.tree,bExpand,this)}},expand:function(flag){flag=(flag!==false);if(!this.childList&&!this.data.isLazy&&flag){return}else{if(this.parent===null&&!flag){return}}this._expand(flag)},scheduleAction:function(mode,ms){if(this.tree.timer){clearTimeout(this.tree.timer);this.tree.logDebug("clearTimeout(%o)",this.tree.timer)}var self=this;switch(mode){case"cancel":break;case"expand":this.tree.timer=setTimeout(function(){self.tree.logDebug("setTimeout: trigger expand");self.expand(true)},ms);break;case"activate":this.tree.timer=setTimeout(function(){self.tree.logDebug("setTimeout: trigger activate");self.activate()},ms);break;default:throw"Invalid mode "+mode}this.tree.logDebug("setTimeout(%s, %s): %s",mode,ms,this.tree.timer)},toggleExpand:function(){this.expand(!this.bExpanded)},collapseSiblings:function(){if(this.parent===null){return}var ac=this.parent.childList;for(var i=0,l=ac.length;i<l;i++){if(ac[i]!==this&&ac[i].bExpanded){ac[i]._expand(false)}}},_onClick:function(event){var targetType=this.getEventTargetType(event);if(targetType==="expander"){this.toggleExpand();this.focus()}else{if(targetType==="checkbox"){this.toggleSelect();this.focus()}else{this._userActivate();var aTag=this.span.getElementsByTagName("a");if(aTag[0]){if(!$.browser.msie){aTag[0].focus()}}else{return true}}}event.preventDefault()},_onDblClick:function(event){},_onKeydown:function(event){var handled=true,sib;switch(event.which){case 107:case 187:if(!this.bExpanded){this.toggleExpand()}break;case 109:case 189:if(this.bExpanded){this.toggleExpand()}break;case 32:this._userActivate();break;case 8:if(this.parent){this.parent.focus()}break;case 37:if(this.bExpanded){this.toggleExpand();this.focus()}else{if(this.parent&&this.parent.parent){this.parent.focus()}}break;case 39:if(!this.bExpanded&&(this.childList||this.data.isLazy)){this.toggleExpand();this.focus()}else{if(this.childList){this.childList[0].focus()}}break;case 38:sib=this.getPrevSibling();while(sib&&sib.bExpanded&&sib.childList){sib=sib.childList[sib.childList.length-1]}if(!sib&&this.parent&&this.parent.parent){sib=this.parent}if(sib){sib.focus()}break;case 40:if(this.bExpanded&&this.childList){sib=this.childList[0]}else{var parents=this._parentList(false,true);for(var i=parents.length-1;i>=0;i--){sib=parents[i].getNextSibling();if(sib){break}}}if(sib){sib.focus()}break;default:handled=false}if(handled){event.preventDefault()}},_onKeypress:function(event){},_onFocus:function(event){var opts=this.tree.options;if(event.type=="blur"||event.type=="focusout"){if(opts.onBlur){opts.onBlur.call(this.tree,this)}if(this.tree.tnFocused){$(this.tree.tnFocused.span).removeClass(opts.classNames.focused)}this.tree.tnFocused=null;if(opts.persist){$.cookie(opts.cookieId+"-focus","",opts.cookie)}}else{if(event.type=="focus"||event.type=="focusin"){if(this.tree.tnFocused&&this.tree.tnFocused!==this){this.tree.logDebug("dtnode.onFocus: out of sync: curFocus: %o",this.tree.tnFocused);$(this.tree.tnFocused.span).removeClass(opts.classNames.focused)}this.tree.tnFocused=this;if(opts.onFocus){opts.onFocus.call(this.tree,this)}$(this.tree.tnFocused.span).addClass(opts.classNames.focused);if(opts.persist){$.cookie(opts.cookieId+"-focus",this.data.key,opts.cookie)}}}},visit:function(fn,includeSelf){var res=true;if(includeSelf===true){res=fn(this);if(res===false||res=="skip"){return res}}if(this.childList){for(var i=0,l=this.childList.length;i<l;i++){res=this.childList[i].visit(fn,true);if(res===false){break}}}return res},visitParents:function(fn,includeSelf){if(includeSelf&&fn(this)===false){return false}var p=this.parent;while(p){if(fn(p)===false){return false}p=p.parent}return true},remove:function(){if(this===this.tree.root){throw"Cannot remove system root"}return this.parent.removeChild(this)},removeChild:function(tn){var ac=this.childList;if(ac.length==1){if(tn!==ac[0]){throw"removeChild: invalid child"}return this.removeChildren()}if(tn===this.tree.activeNode){tn.deactivate()}if(this.tree.options.persist){if(tn.bSelected){this.tree.persistence.clearSelect(tn.data.key)}if(tn.bExpanded){this.tree.persistence.clearExpand(tn.data.key)}}tn.removeChildren(true);this.ul.removeChild(tn.li);for(var i=0,l=ac.length;i<l;i++){if(ac[i]===tn){this.childList.splice(i,1);break}}},removeChildren:function(isRecursiveCall,retainPersistence){this.tree.logDebug("%s.removeChildren(%o)",this,isRecursiveCall);var tree=this.tree;var ac=this.childList;if(ac){for(var i=0,l=ac.length;i<l;i++){var tn=ac[i];if(tn===tree.activeNode&&!retainPersistence){tn.deactivate()}if(this.tree.options.persist&&!retainPersistence){if(tn.bSelected){this.tree.persistence.clearSelect(tn.data.key)}if(tn.bExpanded){this.tree.persistence.clearExpand(tn.data.key)}}tn.removeChildren(true,retainPersistence);if(this.ul){this.ul.removeChild(tn.li)}}this.childList=null}if(!isRecursiveCall){this.isLoading=false;this.render()}},setTitle:function(title){this.fromDict({title:title})},reload:function(force){throw"Use reloadChildren() instead"},reloadChildren:function(callback){if(this.parent===null){throw"Use tree.reload() instead"}else{if(!this.data.isLazy){throw"node.reloadChildren() requires lazy nodes."}}if(callback){var self=this;var eventType="nodeLoaded.dynatree."+this.tree.$tree.attr("id")+"."+this.data.key;this.tree.$tree.bind(eventType,function(e,node,isOk){self.tree.$tree.unbind(eventType);self.tree.logInfo("loaded %o, %o, %o",e,node,isOk);if(node!==self){throw"got invalid load event"}callback.call(self.tree,node,isOk)})}this.removeChildren();this._loadContent()},_loadKeyPath:function(keyPath,callback){var tree=this.tree;tree.logDebug("%s._loadKeyPath(%s)",this,keyPath);if(keyPath===""){throw"Key path must not be empty"}var segList=keyPath.split(tree.options.keyPathSeparator);if(segList[0]===""){throw"Key path must be relative (don't start with '/')"}var seg=segList.shift();for(var i=0,l=this.childList.length;i<l;i++){var child=this.childList[i];if(child.data.key===seg){if(segList.length===0){callback.call(tree,child,"ok")}else{if(child.data.isLazy&&(child.childList===null||child.childList===undefined)){tree.logDebug("%s._loadKeyPath(%s) -> reloading %s...",this,keyPath,child);var self=this;child.reloadChildren(function(node,isOk){if(isOk){tree.logDebug("%s._loadKeyPath(%s) -> reloaded %s.",node,keyPath,node);callback.call(tree,child,"loaded");node._loadKeyPath(segList.join(tree.options.keyPathSeparator),callback)}else{tree.logWarning("%s._loadKeyPath(%s) -> reloadChildren() failed.",self,keyPath);callback.call(tree,child,"error")}})}else{callback.call(tree,child,"loaded");child._loadKeyPath(segList.join(tree.options.keyPathSeparator),callback)}}return}}tree.logWarning("Node not found: "+seg);return},resetLazy:function(){if(this.parent===null){throw"Use tree.reload() instead"}else{if(!this.data.isLazy){throw"node.resetLazy() requires lazy nodes."}}this.expand(false);this.removeChildren()},_addChildNode:function(dtnode,beforeNode){var tree=this.tree;var opts=tree.options;var pers=tree.persistence;dtnode.parent=this;if(this.childList===null){this.childList=[]}else{if(!beforeNode){if(this.childList.length>0){$(this.childList[this.childList.length-1].span).removeClass(opts.classNames.lastsib)}}}if(beforeNode){var iBefore=$.inArray(beforeNode,this.childList);if(iBefore<0){throw"<beforeNode> must be a child of <this>"}this.childList.splice(iBefore,0,dtnode)}else{this.childList.push(dtnode)}var isInitializing=tree.isInitializing();if(opts.persist&&pers.cookiesFound&&isInitializing){if(pers.activeKey==dtnode.data.key){tree.activeNode=dtnode}if(pers.focusedKey==dtnode.data.key){tree.focusNode=dtnode}dtnode.bExpanded=($.inArray(dtnode.data.key,pers.expandedKeyList)>=0);dtnode.bSelected=($.inArray(dtnode.data.key,pers.selectedKeyList)>=0)}else{if(dtnode.data.activate){tree.activeNode=dtnode;if(opts.persist){pers.activeKey=dtnode.data.key}}if(dtnode.data.focus){tree.focusNode=dtnode;if(opts.persist){pers.focusedKey=dtnode.data.key}}dtnode.bExpanded=(dtnode.data.expand===true);if(dtnode.bExpanded&&opts.persist){pers.addExpand(dtnode.data.key)}dtnode.bSelected=(dtnode.data.select===true);if(dtnode.bSelected&&opts.persist){pers.addSelect(dtnode.data.key)}}if(opts.minExpandLevel>=dtnode.getLevel()){this.bExpanded=true}if(dtnode.bSelected&&opts.selectMode==3){var p=this;while(p){if(!p.hasSubSel){p._setSubSel(true)}p=p.parent}}if(tree.bEnableUpdate){this.render()}return dtnode},addChild:function(obj,beforeNode){if(typeof(obj)=="string"){throw"Invalid data type for "+obj}else{if(!obj||obj.length===0){return}else{if(obj instanceof DynaTreeNode){return this._addChildNode(obj,beforeNode)}}}if(!obj.length){obj=[obj]}var prevFlag=this.tree.enableUpdate(false);var tnFirst=null;for(var i=0,l=obj.length;i<l;i++){var data=obj[i];var dtnode=this._addChildNode(new DynaTreeNode(this,this.tree,data),beforeNode);if(!tnFirst){tnFirst=dtnode}if(data.children){dtnode.addChild(data.children,null)}}this.tree.enableUpdate(prevFlag);return tnFirst},append:function(obj){this.tree.logWarning("node.append() is deprecated (use node.addChild() instead).");return this.addChild(obj,null)},appendAjax:function(ajaxOptions){var self=this;this.removeChildren(false,true);this.setLazyNodeStatus(DTNodeStatus_Loading);if(ajaxOptions.debugLazyDelay){var ms=ajaxOptions.debugLazyDelay;ajaxOptions.debugLazyDelay=0;this.tree.logInfo("appendAjax: waiting for debugLazyDelay "+ms);setTimeout(function(){self.appendAjax(ajaxOptions)},ms);return}var orgSuccess=ajaxOptions.success;var orgError=ajaxOptions.error;var eventType="nodeLoaded.dynatree."+this.tree.$tree.attr("id")+"."+this.data.key;var options=$.extend({},this.tree.options.ajaxDefaults,ajaxOptions,{success:function(data,textStatus){var prevPhase=self.tree.phase;self.tree.phase="init";if(options.postProcess){data=options.postProcess.call(this,data,this.dataType)}if(!$.isArray(data)||data.length!==0){self.addChild(data,null)}self.tree.phase="postInit";if(orgSuccess){orgSuccess.call(options,self)}self.tree.logInfo("trigger "+eventType);self.tree.$tree.trigger(eventType,[self,true]);self.tree.phase=prevPhase;self.setLazyNodeStatus(DTNodeStatus_Ok);if($.isArray(data)&&data.length===0){self.childList=[];self.render()}},error:function(XMLHttpRequest,textStatus,errorThrown){self.tree.logWarning("appendAjax failed:",textStatus,":\n",XMLHttpRequest,"\n",errorThrown);if(orgError){orgError.call(options,self,XMLHttpRequest,textStatus,errorThrown)}self.tree.$tree.trigger(eventType,[self,false]);self.setLazyNodeStatus(DTNodeStatus_Error,{info:textStatus,tooltip:""+errorThrown})}});$.ajax(options)},move:function(targetNode,mode){var pos;if(this===targetNode){return}if(!this.parent){throw"Cannot move system root"}if(mode===undefined||mode=="over"){mode="child"}var prevParent=this.parent;var targetParent=(mode==="child")?targetNode:targetNode.parent;if(targetParent.isDescendantOf(this)){throw"Cannot move a node to it's own descendant"}if(this.parent.childList.length==1){this.parent.childList=null;this.parent.bExpanded=false}else{pos=$.inArray(this,this.parent.childList);if(pos<0){throw"Internal error"}this.parent.childList.splice(pos,1)}this.parent.ul.removeChild(this.li);this.parent=targetParent;if(targetParent.hasChildren()){switch(mode){case"child":targetParent.childList.push(this);break;case"before":pos=$.inArray(targetNode,targetParent.childList);if(pos<0){throw"Internal error"}targetParent.childList.splice(pos,0,this);break;case"after":pos=$.inArray(targetNode,targetParent.childList);if(pos<0){throw"Internal error"}targetParent.childList.splice(pos+1,0,this);break;default:throw"Invalid mode "+mode}}else{targetParent.childList=[this];if(!targetParent.ul){targetParent.ul=document.createElement("ul");targetParent.ul.style.display="none";targetParent.li.appendChild(targetParent.ul)}}targetParent.ul.appendChild(this.li);if(this.tree!==targetNode.tree){this.visit(function(node){node.tree=targetNode.tree},null,true);throw"Not yet implemented."}if(!prevParent.isDescendantOf(targetParent)){prevParent.render()}if(!targetParent.isDescendantOf(prevParent)){targetParent.render()}},lastentry:undefined};var DynaTreeStatus=Class.create();DynaTreeStatus._getTreePersistData=function(cookieId,cookieOpts){var ts=new DynaTreeStatus(cookieId,cookieOpts);ts.read();return ts.toDict()};getDynaTreePersistData=DynaTreeStatus._getTreePersistData;DynaTreeStatus.prototype={initialize:function(cookieId,cookieOpts){this._log("DynaTreeStatus: initialize");if(cookieId===undefined){cookieId=$.ui.dynatree.prototype.options.cookieId}cookieOpts=$.extend({},$.ui.dynatree.prototype.options.cookie,cookieOpts);this.cookieId=cookieId;this.cookieOpts=cookieOpts;this.cookiesFound=undefined;this.activeKey=null;this.focusedKey=null;this.expandedKeyList=null;this.selectedKeyList=null},_log:function(msg){Array.prototype.unshift.apply(arguments,["debug"]);_log.apply(this,arguments)},read:function(){this._log("DynaTreeStatus: read");this.cookiesFound=false;var cookie=$.cookie(this.cookieId+"-active");this.activeKey=(cookie===null)?"":cookie;if(cookie!==null){this.cookiesFound=true}cookie=$.cookie(this.cookieId+"-focus");this.focusedKey=(cookie===null)?"":cookie;if(cookie!==null){this.cookiesFound=true}cookie=$.cookie(this.cookieId+"-expand");this.expandedKeyList=(cookie===null)?[]:cookie.split(",");if(cookie!==null){this.cookiesFound=true}cookie=$.cookie(this.cookieId+"-select");this.selectedKeyList=(cookie===null)?[]:cookie.split(",");if(cookie!==null){this.cookiesFound=true}},write:function(){this._log("DynaTreeStatus: write");$.cookie(this.cookieId+"-active",(this.activeKey===null)?"":this.activeKey,this.cookieOpts);$.cookie(this.cookieId+"-focus",(this.focusedKey===null)?"":this.focusedKey,this.cookieOpts);$.cookie(this.cookieId+"-expand",(this.expandedKeyList===null)?"":this.expandedKeyList.join(","),this.cookieOpts);$.cookie(this.cookieId+"-select",(this.selectedKeyList===null)?"":this.selectedKeyList.join(","),this.cookieOpts)},addExpand:function(key){this._log("addExpand(%o)",key);if($.inArray(key,this.expandedKeyList)<0){this.expandedKeyList.push(key);$.cookie(this.cookieId+"-expand",this.expandedKeyList.join(","),this.cookieOpts)}},clearExpand:function(key){this._log("clearExpand(%o)",key);var idx=$.inArray(key,this.expandedKeyList);if(idx>=0){this.expandedKeyList.splice(idx,1);$.cookie(this.cookieId+"-expand",this.expandedKeyList.join(","),this.cookieOpts)}},addSelect:function(key){this._log("addSelect(%o)",key);if($.inArray(key,this.selectedKeyList)<0){this.selectedKeyList.push(key);$.cookie(this.cookieId+"-select",this.selectedKeyList.join(","),this.cookieOpts)}},clearSelect:function(key){this._log("clearSelect(%o)",key);var idx=$.inArray(key,this.selectedKeyList);if(idx>=0){this.selectedKeyList.splice(idx,1);$.cookie(this.cookieId+"-select",this.selectedKeyList.join(","),this.cookieOpts)}},isReloading:function(){return this.cookiesFound===true},toDict:function(){return{cookiesFound:this.cookiesFound,activeKey:this.activeKey,focusedKey:this.activeKey,expandedKeyList:this.expandedKeyList,selectedKeyList:this.selectedKeyList}},lastentry:undefined};var DynaTree=Class.create();DynaTree.version="$Version: 1.1.1$";DynaTree.prototype={initialize:function($widget){this.phase="init";this.$widget=$widget;this.options=$widget.options;this.$tree=$widget.element;this.timer=null;this.divTree=this.$tree.get(0);_initDragAndDrop(this)},_load:function(callback){var $widget=this.$widget;var opts=this.options;this.bEnableUpdate=true;this._nodeCount=1;this.activeNode=null;this.focusNode=null;if(opts.rootVisible!==undefined){_log("warn","Option 'rootVisible' is no longer supported.")}if(opts.minExpandLevel<1){_log("warn","Option 'minExpandLevel' must be >= 1.");opts.minExpandLevel=1}if(opts.classNames!==$.ui.dynatree.prototype.options.classNames){opts.classNames=$.extend({},$.ui.dynatree.prototype.options.classNames,opts.classNames)}if(opts.ajaxDefaults!==$.ui.dynatree.prototype.options.ajaxDefaults){opts.ajaxDefaults=$.extend({},$.ui.dynatree.prototype.options.ajaxDefaults,opts.ajaxDefaults)}if(opts.dnd!==$.ui.dynatree.prototype.options.dnd){opts.dnd=$.extend({},$.ui.dynatree.prototype.options.dnd,opts.dnd)}if(!opts.imagePath){$("script").each(function(){var _rexDtLibName=/.*dynatree[^\/]*\.js$/i;if(this.src.search(_rexDtLibName)>=0){if(this.src.indexOf("/")>=0){opts.imagePath=this.src.slice(0,this.src.lastIndexOf("/"))+"/skin/"}else{opts.imagePath="skin/"}logMsg("Guessing imagePath from '%s': '%s'",this.src,opts.imagePath);return false}})}this.persistence=new DynaTreeStatus(opts.cookieId,opts.cookie);if(opts.persist){if(!$.cookie){_log("warn","Please include jquery.cookie.js to use persistence.")}this.persistence.read()}this.logDebug("DynaTree.persistence: %o",this.persistence.toDict());this.cache={tagEmpty:"<span class='"+opts.classNames.empty+"'></span>",tagVline:"<span class='"+opts.classNames.vline+"'></span>",tagExpander:"<span class='"+opts.classNames.expander+"'></span>",tagConnector:"<span class='"+opts.classNames.connector+"'></span>",tagNodeIcon:"<span class='"+opts.classNames.nodeIcon+"'></span>",tagCheckbox:"<span class='"+opts.classNames.checkbox+"'></span>",lastentry:undefined};if(opts.children||(opts.initAjax&&opts.initAjax.url)||opts.initId){$(this.divTree).empty()}var $ulInitialize=this.$tree.find(">ul:first").hide();this.tnRoot=new DynaTreeNode(null,this,{});this.tnRoot.bExpanded=true;this.tnRoot.render();this.divTree.appendChild(this.tnRoot.ul);var root=this.tnRoot;var isReloading=(opts.persist&&this.persistence.isReloading());var isLazy=false;var prevFlag=this.enableUpdate(false);this.logDebug("Dynatree._load(): read tree structure...");if(opts.children){root.addChild(opts.children)}else{if(opts.initAjax&&opts.initAjax.url){isLazy=true;root.data.isLazy=true;this._reloadAjax(callback)}else{if(opts.initId){this._createFromTag(root,$("#"+opts.initId))}else{this._createFromTag(root,$ulInitialize);$ulInitialize.remove()}}}this._checkConsistency();this.logDebug("Dynatree._load(): render nodes...");this.enableUpdate(prevFlag);this.logDebug("Dynatree._load(): bind events...");this.$widget.bind();this.logDebug("Dynatree._load(): postInit...");this.phase="postInit";if(opts.persist){this.persistence.write()}if(this.focusNode&&this.focusNode.isVisible()){this.logDebug("Focus on init: %o",this.focusNode);this.focusNode.focus()}if(!isLazy&&opts.onPostInit){opts.onPostInit.call(this,isReloading,false)}this.phase="idle"},_reloadAjax:function(callback){var opts=this.options;if(!opts.initAjax||!opts.initAjax.url){throw"tree.reload() requires 'initAjax' mode."}var pers=this.persistence;var ajaxOpts=$.extend({},opts.initAjax);if(ajaxOpts.addActiveKey){ajaxOpts.data.activeKey=pers.activeKey}if(ajaxOpts.addFocusedKey){ajaxOpts.data.focusedKey=pers.focusedKey}if(ajaxOpts.addExpandedKeyList){ajaxOpts.data.expandedKeyList=pers.expandedKeyList.join(",")}if(ajaxOpts.addSelectedKeyList){ajaxOpts.data.selectedKeyList=pers.selectedKeyList.join(",")}if(opts.onPostInit){if(ajaxOpts.success){this.logWarning("initAjax: success callback is ignored when onPostInit was specified.")}if(ajaxOpts.error){this.logWarning("initAjax: error callback is ignored when onPostInit was specified.")}var isReloading=pers.isReloading();ajaxOpts.success=function(dtnode){opts.onPostInit.call(dtnode.tree,isReloading,false);if(callback){callback.call(dtnode.tree,"ok")}};ajaxOpts.error=function(dtnode){opts.onPostInit.call(dtnode.tree,isReloading,true);if(callback){callback.call(dtnode.tree,"error")}}}this.logDebug("Dynatree._init(): send Ajax request...");this.tnRoot.appendAjax(ajaxOpts)},toString:function(){return"Dynatree '"+this.$tree.attr("id")+"'"},toDict:function(){return this.tnRoot.toDict(true)},serializeArray:function(stopOnParents){var nodeList=this.getSelectedNodes(stopOnParents),name=this.$tree.attr("name")||this.$tree.attr("id"),arr=[];for(var i=0,l=nodeList.length;i<l;i++){arr.push({name:name,value:nodeList[i].data.key})}return arr},getPersistData:function(){return this.persistence.toDict()},logDebug:function(msg){if(this.options.debugLevel>=2){Array.prototype.unshift.apply(arguments,["debug"]);_log.apply(this,arguments)}},logInfo:function(msg){if(this.options.debugLevel>=1){Array.prototype.unshift.apply(arguments,["info"]);_log.apply(this,arguments)}},logWarning:function(msg){Array.prototype.unshift.apply(arguments,["warn"]);_log.apply(this,arguments)},isInitializing:function(){return(this.phase=="init"||this.phase=="postInit")},isReloading:function(){return(this.phase=="init"||this.phase=="postInit")&&this.options.persist&&this.persistence.cookiesFound},isUserEvent:function(){return(this.phase=="userEvent")},redraw:function(){this.tnRoot.render(false,false)},renderInvisibleNodes:function(){this.tnRoot.render(false,true)},reload:function(callback){this._load(callback)},getRoot:function(){return this.tnRoot},enable:function(){this.$widget.enable()},disable:function(){this.$widget.disable()},getNodeByKey:function(key){var el=document.getElementById(this.options.idPrefix+key);if(el){return el.dtnode?el.dtnode:null}var match=null;this.visit(function(node){if(node.data.key==key){match=node;return false}},true);return match},getActiveNode:function(){return this.activeNode},reactivate:function(setFocus){var node=this.activeNode;if(node){this.activeNode=null;node.activate();if(setFocus){node.focus()}}},getSelectedNodes:function(stopOnParents){var nodeList=[];this.tnRoot.visit(function(node){if(node.bSelected){nodeList.push(node);if(stopOnParents===true){return"skip"}}});return nodeList},activateKey:function(key){var dtnode=(key===null)?null:this.getNodeByKey(key);if(!dtnode){if(this.activeNode){this.activeNode.deactivate()}this.activeNode=null;return null}dtnode.focus();dtnode.activate();return dtnode},loadKeyPath:function(keyPath,callback){var segList=keyPath.split(this.options.keyPathSeparator);if(segList[0]===""){segList.shift()}if(segList[0]==this.tnRoot.data.key){this.logDebug("Removed leading root key.");segList.shift()}keyPath=segList.join(this.options.keyPathSeparator);return this.tnRoot._loadKeyPath(keyPath,callback)},selectKey:function(key,select){var dtnode=this.getNodeByKey(key);if(!dtnode){return null}dtnode.select(select);return dtnode},enableUpdate:function(bEnable){if(this.bEnableUpdate==bEnable){return bEnable}this.bEnableUpdate=bEnable;if(bEnable){this.redraw()}return !bEnable},count:function(){return this.tnRoot.countChildren()},visit:function(fn,includeRoot){return this.tnRoot.visit(fn,includeRoot)},_createFromTag:function(parentTreeNode,$ulParent){var self=this;$ulParent.find(">li").each(function(){var $li=$(this);var $liSpan=$li.find(">span:first");var title;if($liSpan.length){title=$liSpan.html()}else{title=$li.html();var iPos=title.search(/<ul/i);if(iPos>=0){title=$.trim(title.substring(0,iPos))}else{title=$.trim(title)}}var data={title:title,isFolder:$li.hasClass("folder"),isLazy:$li.hasClass("lazy"),expand:$li.hasClass("expanded"),select:$li.hasClass("selected"),activate:$li.hasClass("active"),focus:$li.hasClass("focused"),noLink:$li.hasClass("noLink")};if($li.attr("title")){data.tooltip=$li.attr("title")}if($li.attr("id")){data.key=$li.attr("id")}if($li.attr("data")){var dataAttr=$.trim($li.attr("data"));if(dataAttr){if(dataAttr.charAt(0)!="{"){dataAttr="{"+dataAttr+"}"}try{$.extend(data,eval("("+dataAttr+")"))}catch(e){throw ("Error parsing node data: "+e+"\ndata:\n'"+dataAttr+"'")}}}var childNode=parentTreeNode.addChild(data);var $ul=$li.find(">ul:first");if($ul.length){self._createFromTag(childNode,$ul)}})},_checkConsistency:function(){},_setDndStatus:function(sourceNode,targetNode,helper,hitMode,accept){var $source=sourceNode?$(sourceNode.span):null;var $target=$(targetNode.span);if(!this.$dndMarker){this.$dndMarker=$("<div id='dynatree-drop-marker'></div>").hide().prependTo($(this.divTree).parent())}if(hitMode==="after"||hitMode==="before"||hitMode==="over"){var pos=$target.position();switch(hitMode){case"before":this.$dndMarker.removeClass("dynatree-drop-after dynatree-drop-over");this.$dndMarker.addClass("dynatree-drop-before");pos.top-=8;break;case"after":this.$dndMarker.removeClass("dynatree-drop-before dynatree-drop-over");this.$dndMarker.addClass("dynatree-drop-after");pos.top+=8;break;default:this.$dndMarker.removeClass("dynatree-drop-after dynatree-drop-before");this.$dndMarker.addClass("dynatree-drop-over");$target.addClass("dynatree-drop-target");pos.left+=8}this.$dndMarker.css({left:(pos.left)+"px",top:(pos.top)+"px"}).show()}else{$target.removeClass("dynatree-drop-target");this.$dndMarker.hide()}if(hitMode==="after"){$target.addClass("dynatree-drop-after")}else{$target.removeClass("dynatree-drop-after")}if(hitMode==="before"){$target.addClass("dynatree-drop-before")}else{$target.removeClass("dynatree-drop-before")}if(accept===true){if($source){$source.addClass("dynatree-drop-accept")}$target.addClass("dynatree-drop-accept");helper.addClass("dynatree-drop-accept")}else{if($source){$source.removeClass("dynatree-drop-accept")}$target.removeClass("dynatree-drop-accept");helper.removeClass("dynatree-drop-accept")}if(accept===false){if($source){$source.addClass("dynatree-drop-reject")}$target.addClass("dynatree-drop-reject");helper.addClass("dynatree-drop-reject")}else{if($source){$source.removeClass("dynatree-drop-reject")}$target.removeClass("dynatree-drop-reject");helper.removeClass("dynatree-drop-reject")}},_onDragEvent:function(eventName,node,otherNode,event,ui,draggable){var opts=this.options;var dnd=this.options.dnd;var res=null;var nodeTag=$(node.span);var hitMode;switch(eventName){case"helper":var helper=$("<div class='dynatree-drag-helper'><span class='dynatree-drag-helper-img' /></div>").append($(event.target).closest("a").clone());helper.data("dtSourceNode",node);res=helper;break;case"start":if(node.isStatusNode()){res=false}else{if(dnd.onDragStart){res=dnd.onDragStart(node)}}if(res===false){this.logDebug("tree.onDragStart() cancelled");ui.helper.trigger("mouseup");ui.helper.hide()}else{nodeTag.addClass("dynatree-drag-source")}break;case"enter":res=dnd.onDragEnter?dnd.onDragEnter(node,otherNode):null;res={over:(res!==false)&&((res===true)||(res==="over")||$.inArray("over",res)>=0),before:(res!==false)&&((res===true)||(res==="before")||$.inArray("before",res)>=0),after:(res!==false)&&((res===true)||(res==="after")||$.inArray("after",res)>=0)};ui.helper.data("enterResponse",res);break;case"over":var enterResponse=ui.helper.data("enterResponse");hitMode=null;if(enterResponse===false){break}else{if(typeof enterResponse==="string"){hitMode=enterResponse}else{var nodeOfs=nodeTag.offset();var relPos={x:event.pageX-nodeOfs.left,y:event.pageY-nodeOfs.top};var relPos2={x:relPos.x/nodeTag.width(),y:relPos.y/nodeTag.height()};if(enterResponse.after&&relPos2.y>0.75){hitMode="after"}else{if(!enterResponse.over&&enterResponse.after&&relPos2.y>0.5){hitMode="after"}else{if(enterResponse.before&&relPos2.y<=0.25){hitMode="before"}else{if(!enterResponse.over&&enterResponse.before&&relPos2.y<=0.5){hitMode="before"}else{if(enterResponse.over){hitMode="over"}}}}}if(dnd.preventVoidMoves){if(node===otherNode){hitMode=null}else{if(hitMode==="before"&&otherNode&&node===otherNode.getNextSibling()){hitMode=null}else{if(hitMode==="after"&&otherNode&&node===otherNode.getPrevSibling()){hitMode=null}else{if(hitMode==="over"&&otherNode&&otherNode.parent===node&&otherNode.isLastSibling()){hitMode=null}}}}}ui.helper.data("hitMode",hitMode)}}if(hitMode==="over"&&dnd.autoExpandMS&&node.hasChildren()!==false&&!node.bExpanded){node.scheduleAction("expand",dnd.autoExpandMS)}if(hitMode&&dnd.onDragOver){res=dnd.onDragOver(node,otherNode,hitMode)}this._setDndStatus(otherNode,node,ui.helper,hitMode,res!==false);break;case"drop":hitMode=ui.helper.data("hitMode");if(hitMode&&dnd.onDrop){dnd.onDrop(node,otherNode,hitMode,ui,draggable)}break;case"leave":node.scheduleAction("cancel");ui.helper.data("enterResponse",null);ui.helper.data("hitMode",null);this._setDndStatus(otherNode,node,ui.helper,"out",undefined);if(dnd.onDragLeave){dnd.onDragLeave(node,otherNode)}break;case"stop":nodeTag.removeClass("dynatree-drag-source");if(dnd.onDragStop){dnd.onDragStop(node)}break;default:throw"Unsupported drag event: "+eventName}return res},cancelDrag:function(){var dd=$.ui.ddmanager.current;if(dd){dd.cancel()}},lastentry:undefined};$.widget("ui.dynatree",{_init:function(){if(parseFloat($.ui.version)<1.8){_log("warn","ui.dynatree._init() was called; you should upgrade to jquery.ui.core.js v1.8 or higher.");return this._create()}_log("debug","ui.dynatree._init() was called; no current default functionality.")},_create:function(){logMsg("Dynatree._create(): version='%s', debugLevel=%o.",DynaTree.version,this.options.debugLevel);var opts=this.options;this.options.event+=".dynatree";var divTree=this.element.get(0);this.tree=new DynaTree(this);this.tree._load();this.tree.logDebug("Dynatree._init(): done.")},bind:function(){this.unbind();var eventNames="click.dynatree dblclick.dynatree";if(this.options.keyboard){eventNames+=" keypress.dynatree keydown.dynatree"}this.element.bind(eventNames,function(event){var dtnode=getDtNodeFromElement(event.target);if(!dtnode){return true}var tree=dtnode.tree;var o=tree.options;tree.logDebug("event(%s): dtnode: %s",event.type,dtnode);var prevPhase=tree.phase;tree.phase="userEvent";try{switch(event.type){case"click":return(o.onClick&&o.onClick.call(tree,dtnode,event)===false)?false:dtnode._onClick(event);case"dblclick":return(o.onDblClick&&o.onDblClick.call(tree,dtnode,event)===false)?false:dtnode._onDblClick(event);case"keydown":return(o.onKeydown&&o.onKeydown.call(tree,dtnode,event)===false)?false:dtnode._onKeydown(event);case"keypress":return(o.onKeypress&&o.onKeypress.call(tree,dtnode,event)===false)?false:dtnode._onKeypress(event)}}catch(e){var _=null;tree.logWarning("bind(%o): dtnode: %o, error: %o",event,dtnode,e)}finally{tree.phase=prevPhase}});function __focusHandler(event){event=$.event.fix(event||window.event);var dtnode=getDtNodeFromElement(event.target);return dtnode?dtnode._onFocus(event):false}var div=this.tree.divTree;if(div.addEventListener){div.addEventListener("focus",__focusHandler,true);div.addEventListener("blur",__focusHandler,true)}else{div.onfocusin=div.onfocusout=__focusHandler}},unbind:function(){this.element.unbind(".dynatree")},enable:function(){this.bind();$.Widget.prototype.enable.apply(this,arguments)},disable:function(){this.unbind();$.Widget.prototype.disable.apply(this,arguments)},getTree:function(){return this.tree},getRoot:function(){return this.tree.getRoot()},getActiveNode:function(){return this.tree.getActiveNode()},getSelectedNodes:function(){return this.tree.getSelectedNodes()},lastentry:undefined});if(parseFloat($.ui.version)<1.8){$.ui.dynatree.getter="getTree getRoot getActiveNode getSelectedNodes"}$.ui.dynatree.prototype.options={title:"Dynatree",minExpandLevel:1,imagePath:null,children:null,initId:null,initAjax:null,autoFocus:true,keyboard:true,persist:false,autoCollapse:false,clickFolderMode:3,activeVisible:true,checkbox:false,selectMode:2,fx:null,noLink:false,onClick:null,onDblClick:null,onKeydown:null,onKeypress:null,onFocus:null,onBlur:null,onQueryActivate:null,onQuerySelect:null,onQueryExpand:null,onPostInit:null,onActivate:null,onDeactivate:null,onSelect:null,onExpand:null,onLazyRead:null,onCustomRender:null,onRender:null,dnd:{onDragStart:null,onDragStop:null,autoExpandMS:1000,preventVoidMoves:true,onDragEnter:null,onDragOver:null,onDrop:null,onDragLeave:null},ajaxDefaults:{cache:false,dataType:"json"},strings:{loading:"Loading&#8230;",loadError:"Load error!"},generateIds:false,idPrefix:"dynatree-id-",keyPathSeparator:"/",cookieId:"dynatree",cookie:{expires:null},classNames:{container:"dynatree-container",node:"dynatree-node",folder:"dynatree-folder",empty:"dynatree-empty",vline:"dynatree-vline",expander:"dynatree-expander",connector:"dynatree-connector",checkbox:"dynatree-checkbox",nodeIcon:"dynatree-icon",title:"dynatree-title",noConnector:"dynatree-no-connector",nodeError:"dynatree-statusnode-error",nodeWait:"dynatree-statusnode-wait",hidden:"dynatree-hidden",combinedExpanderPrefix:"dynatree-exp-",combinedIconPrefix:"dynatree-ico-",nodeLoading:"dynatree-loading",hasChildren:"dynatree-has-children",active:"dynatree-active",selected:"dynatree-selected",expanded:"dynatree-expanded",lazy:"dynatree-lazy",focused:"dynatree-focused",partsel:"dynatree-partsel",lastsib:"dynatree-lastsib"},debugLevel:1,lastentry:undefined};if(parseFloat($.ui.version)<1.8){$.ui.dynatree.defaults=$.ui.dynatree.prototype.options}$.ui.dynatree.nodedatadefaults={title:null,key:null,isFolder:false,isLazy:false,tooltip:null,icon:null,addClass:null,noLink:false,activate:false,focus:false,expand:false,select:false,hideCheckbox:false,unselectable:false,children:null,lastentry:undefined};function _initDragAndDrop(tree){var dnd=tree.options.dnd||null;if(dnd&&(dnd.onDragStart||dnd.onDrop)){_registerDnd()}if(dnd&&dnd.onDragStart){tree.$tree.draggable({addClasses:false,appendTo:"body",containment:false,delay:0,distance:4,revert:false,connectToDynatree:true,helper:function(event){var sourceNode=getDtNodeFromElement(event.target);return sourceNode.tree._onDragEvent("helper",sourceNode,null,event,null,null)},_last:null})}if(dnd&&dnd.onDrop){tree.$tree.droppable({addClasses:false,tolerance:"intersect",greedy:false,_last:null})}}var didRegisterDnd=false;var _registerDnd=function(){if(didRegisterDnd){return}$.ui.plugin.add("draggable","connectToDynatree",{start:function(event,ui){var draggable=$(this).data("draggable");var sourceNode=ui.helper.data("dtSourceNode")||null;if(sourceNode){draggable.offset.click.top=-2;draggable.offset.click.left=+16;return sourceNode.tree._onDragEvent("start",sourceNode,null,event,ui,draggable)}},drag:function(event,ui){var draggable=$(this).data("draggable");var sourceNode=ui.helper.data("dtSourceNode")||null;var prevTargetNode=ui.helper.data("dtTargetNode")||null;var targetNode=getDtNodeFromElement(event.target);if(event.target&&!targetNode){var isHelper=$(event.target).closest("div.dynatree-drag-helper,#dynatree-drop-marker").length>0;if(isHelper){return}}ui.helper.data("dtTargetNode",targetNode);if(prevTargetNode&&prevTargetNode!==targetNode){prevTargetNode.tree._onDragEvent("leave",prevTargetNode,sourceNode,event,ui,draggable)}if(targetNode){if(!targetNode.tree.options.dnd.onDrop){noop()}else{if(targetNode===prevTargetNode){targetNode.tree._onDragEvent("over",targetNode,sourceNode,event,ui,draggable)}else{targetNode.tree._onDragEvent("enter",targetNode,sourceNode,event,ui,draggable)}}}},stop:function(event,ui){var draggable=$(this).data("draggable");var sourceNode=ui.helper.data("dtSourceNode")||null;var targetNode=ui.helper.data("dtTargetNode")||null;var mouseDownEvent=draggable._mouseDownEvent;var eventType=event.type;var dropped=(eventType=="mouseup"&&event.which==1);if(!dropped){logMsg("Drag was cancelled")}if(targetNode){if(dropped){targetNode.tree._onDragEvent("drop",targetNode,sourceNode,event,ui,draggable)}targetNode.tree._onDragEvent("leave",targetNode,sourceNode,event,ui,draggable)}if(sourceNode){sourceNode.tree._onDragEvent("stop",sourceNode,null,event,ui,draggable)}}});didRegisterDnd=true}})(jQuery);(function(a){a.fn.splitter=function(b){b=b||{};return this.each(function(){var p;function j(u){if(c.outline){p=p||o.clone(false).insertAfter(g)}q.css("-webkit-user-select","none");o.addClass(c.activeClass);a('<div class="splitterMask"></div>').insertAfter(o);g._posSplit=g[0][c.pxSplit]-u[c.eventPos];a(document).bind("mousemove",l).bind("mouseup",s)}function l(u){var v=g._posSplit+u[c.eventPos];if(c.outline){v=Math.max(0,Math.min(v,d._DA-o._DA));o.css(c.origin,v)}else{m(v)}}function s(u){a("div.splitterMask").remove();o.removeClass(c.activeClass);var v=g._posSplit+u[c.eventPos];if(c.outline){p.remove();p=null;m(v)}q.css("-webkit-user-select","text");a(document).unbind("mousemove",l).unbind("mouseup",s)}function m(u){u=Math.max(g._min,d._DA-f._max,Math.min(u,g._max,d._DA-o._DA-f._min));o._DA=o[0][c.pxSplit];o.css(c.origin,u).css(c.fixed,d._DF);g.css(c.origin,0).css(c.split,u).css(c.fixed,d._DF);f.css(c.origin,u+o._DA).css(c.split,d._DA-o._DA-u).css(c.fixed,d._DF);if(n()){q.trigger("resize")}}function r(x,w){var v=0;for(var u=1;u<arguments.length;u++){v+=Math.max(parseInt(x.css(arguments[u]))||0,0)}return v}function n(){return true}var k=(b.splitHorizontal?"h":b.splitVertical?"v":b.type)||"v";var c=a.extend({activeClass:"active",pxPerKey:8,tabIndex:0,accessKey:""},{v:{keyLeft:39,keyRight:37,cursor:"e-resize",splitbarClass:"vsplitbar",outlineClass:"voutline",type:"v",eventPos:"pageX",origin:"left",split:"width",pxSplit:"offsetWidth",side1:"Left",side2:"Right",fixed:"height",pxFixed:"offsetHeight",side3:"Top",side4:"Bottom"},h:{keyTop:40,keyBottom:38,cursor:"n-resize",splitbarClass:"hsplitbar",outlineClass:"houtline",type:"h",eventPos:"pageY",origin:"top",split:"height",pxSplit:"offsetHeight",side1:"Top",side2:"Bottom",fixed:"width",pxFixed:"offsetWidth",side3:"Left",side4:"Right"}}[k],b);var d=a(this).css({position:"relative"});var q=a(">*",d[0]).css({position:"absolute","z-index":"1","-moz-outline-style":"none"});var g=a(q[0]);var f=a(q[1]);var e=a("<div>").attr({accessKey:c.accessKey,tabIndex:c.tabIndex,title:c.splitbarClass}).bind(a.browser.opera?"click":"focus",function(){this.focus();o.addClass(c.activeClass)}).bind("keydown",function(w){var v=w.which||w.keyCode;var u=v==c["key"+c.side1]?1:v==c["key"+c.side2]?-1:0;if(u){m(g[0][c.pxSplit]+u*c.pxPerKey,false)}}).bind("mousedown",j).bind("mouseup",s).bind("blur",function(){o.removeClass(c.activeClass)});var o=a(q[2]||"<div></div>").insertAfter(g).css("z-index","100").append(e).attr({"class":c.splitbarClass,unselectable:"on"}).css({position:"absolute","user-select":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none",top:"0px"});if(/^(auto|default|)$/.test(o.css("cursor"))){o.css("cursor",c.cursor)}o._DA=o[0][c.pxSplit];d._PBF=a.boxModel?r(d,"border"+c.side3+"Width","border"+c.side4+"Width"):0;d._PBA=a.boxModel?r(d,"border"+c.side1+"Width","border"+c.side2+"Width"):0;g._pane=c.side1;f._pane=c.side2;a.each([g,f],function(){this._min=c["min"+this._pane]||r(this,"min-"+c.split);this._max=c["max"+this._pane]||r(this,"max-"+c.split)||9999;this._init=c["size"+this._pane]===true?parseInt(a.curCSS(this[0],c.split)):c["size"+this._pane]});var t=g._init;if(!isNaN(f._init)){t=d[0][c.pxSplit]-d._PBA-f._init-o._DA}if(c.cookie){if(!a.cookie){alert("jQuery.splitter(): jQuery cookie plugin required")}var h=parseInt(a.cookie(c.cookie));if(!isNaN(h)){t=h}a(window).bind("unload",function(){var u=String(o.css(c.origin));a.cookie(c.cookie,u,{expires:c.cookieExpires||365,path:c.cookiePath||document.location.pathname})})}if(isNaN(t)){t=Math.round((d[0][c.pxSplit]-d._PBA-o._DA)/2)}if(c.anchorToWindow){d._hadjust=r(d,"borderTopWidth","borderBottomWidth","marginBottom");d._hmin=Math.max(r(d,"minHeight"),20);a(window).bind("resize",function(){var v=d.offset().top;var u=a(window).height();d.css("height",Math.max(u-v-d._hadjust,d._hmin)+"px");if(n()){d.trigger("resize")}}).trigger("resize")}else{if(c.resizeToWidth&&n()){a(window).bind("resize",function(){d.trigger("resize")})}}d.bind("resize",function(v,u){if(v.target!=this){return}d._DF=d[0][c.pxFixed]-d._PBF;d._DA=d[0][c.pxSplit]-d._PBA;if(d._DF<=0||d._DA<=0){return}m(!isNaN(u)?u:(!(c.sizeRight||c.sizeBottom)?g[0][c.pxSplit]:d._DA-f[0][c.pxSplit]-o._DA))}).trigger("resize",[t])})}})(jQuery);if(!this.JSON){this.JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function(){var N=document,aH=window,aa=Math,w=aa.round,U=aa.floor,bi=aa.ceil,aS=aa.max,ah=aa.min,bf=aa.abs,aY=aa.cos,F=aa.sin,o=aa.PI,bh=o*2/360,e=navigator.userAgent,a8=/msie/i.test(e)&&!aH.opera,a1=N.documentMode==8,aD=/AppleWebKit/.test(e),c=aH.SVGAngle||N.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),a5="ontouchstart" in N.documentElement,V,T,av={},S=0,P=1,G,aM,aF,n,k,aE,at="div",a7="absolute",m="relative",ax="hidden",C="highcharts-",aq="visible",ao="px",am="none",ay="M",az="L",aJ="rgba(192,192,192,"+(c?0.000001:0.002)+")",ab="",W="hover",x="select",a0,O,aT,an,bb,aU,ap,aL,J,aX,K,B,d=aH.HighchartsAdapter,E=d||{},bg=E.each,p=E.grep,u=E.map,z=E.merge,a2=E.hyphenate,ag=E.addEvent,ai=E.removeEvent,aQ=E.fireEvent,ak=E.animate,aV=E.stop,bc={};function aA(M,L){if(!M){M={}}for(var bk in L){M[bk]=L[bk]}return M}function q(L,M){return parseInt(L,M||10)}function a6(L){return typeof L=="string"}function I(L){return typeof L=="object"}function Z(L){return typeof L=="number"}function aP(L,bk){var M=L.length;while(M--){if(L[M]==bk){L.splice(M,1);break}}}function j(L){return L!==aE&&L!==null}function af(bk,bn,bm){var M,bl="setAttribute",L;if(a6(bn)){if(j(bm)){bk[bl](bn,bm)}else{if(bk&&bk.getAttribute){L=bk.getAttribute(bn)}}}else{if(j(bn)&&I(bn)){for(M in bn){bk[bl](M,bn[M])}}}return L}function aj(L){if(!L||L.constructor!=Array){L=[L]}return L}function b(){var M=arguments,bk,L;for(bk=0;bk<M.length;bk++){L=M[bk];if(j(L)){return L}}}function a3(bk){var M="",L;for(L in bk){M+=a2(L)+":"+bk[L]+";"}return M}function aB(L,M){if(a8){if(M&&M.opacity!==aE){M.filter="alpha(opacity="+(M.opacity*100)+")"}}aA(L.style,M)}function aw(L,bn,bm,bl,bk){var M=N.createElement(L);if(bn){aA(M,bn)}if(bk){aB(M,{padding:0,border:am,margin:0})}if(bm){aB(M,bm)}if(bl){bl.appendChild(M)}return M}function aC(M,L){n=b(M,L.animation)}if(d&&d.init){d.init()}if(!d&&aH.jQuery){var R=jQuery;bg=function(M,bl){for(var bk=0,L=M.length;bk<L;bk++){if(bl.call(M[bk],M[bk],bk,M)===false){return bk}}};p=R.grep;u=function(M,bm){var bl=[];for(var bk=0,L=M.length;bk<L;bk++){bl[bk]=bm.call(M[bk],M[bk],bk,M)}return bl};z=function(){var L=arguments;return R.extend(true,null,L[0],L[1],L[2],L[3])};a2=function(L){return L.replace(/([A-Z])/g,function(bk,M){return"-"+M.toLowerCase()})};ag=function(M,bk,L){R(M).bind(bk,L)};ai=function(bk,L,M){var bl=N.removeEventListener?"removeEventListener":"detachEvent";if(N[bl]&&!bk[bl]){bk[bl]=function(){}}R(bk).unbind(L,M)};aQ=function(bl,bk,M,L){var bn=R.Event(bk),bm="detached"+bk;aA(bn,M);if(bl[bk]){bl[bm]=bl[bk];bl[bk]=null}R(bl).trigger(bn);if(bl[bm]){bl[bk]=bl[bm];bl[bm]=null}if(L&&!bn.isDefaultPrevented()){L(bn)}};ak=function(bk,bl,L){var M=R(bk);if(bl.d){bk.toD=bl.d;bl.d=1}M.stop();M.animate(bl,L)};aV=function(L){R(L).stop()};R.extend(R.easing,{easeOutQuad:function(M,bk,L,bm,bl){return -bm*(bk/=bl)*(bk-2)+L}});var aW=jQuery.fx.step._default,a4=jQuery.fx.prototype.cur;R.fx.step._default=function(M){var L=M.elem;if(L.attr){L.attr(M.prop,M.now)}else{aW.apply(this,arguments)}};R.fx.step.d=function(bk){var M=bk.elem;if(!bk.started){var L=k.init(M,M.d,M.toD);bk.start=L[0];bk.end=L[1];bk.started=true}M.attr("d",k.step(bk.start,bk.end,bk.pos,M.toD))};R.fx.prototype.cur=function(){var M=this.elem,L;if(M.attr){L=M.attr(this.prop)}else{L=a4.apply(this,arguments)}return L}}k={init:function(bm,br,bs){br=br||"";var M=bm.shift,bk=br.indexOf("C")>-1,bl=bk?7:3,bp,bt,bo,L=br.split(" "),bn=[].concat(bs),bv,bq,bu=function(bw){bo=bw.length;while(bo--){if(bw[bo]==ay){bw.splice(bo+1,0,bw[bo+1],bw[bo+2],bw[bo+1],bw[bo+2])}}};if(bk){bu(L);bu(bn)}if(bm.isArea){bv=L.splice(L.length-6,6);bq=bn.splice(bn.length-6,6)}if(M){bn=[].concat(bn).splice(0,bl).concat(bn);bm.shift=false}bp=bn.length;while(L.length<bp){bt=[].concat(L).splice(L.length-bl,bl);if(bk){bt[bl-6]=bt[bl-2];bt[bl-5]=bt[bl-1]}L=L.concat(bt)}if(bv){L=L.concat(bv);bn=bn.concat(bq)}return[L,bn]},step:function(bo,M,bn,L){var bl=[],bm=bo.length,bk;if(bn==1){bl=L}else{if(bm==M.length&&bn<1){while(bm--){bk=parseFloat(bo[bm]);bl[bm]=isNaN(bk)?bo[bm]:bn*(parseFloat(M[bm]-bk))+bk}}else{bl=M}}return bl}};function aI(){var L=aM.global.useUTC;a0=L?Date.UTC:function(bm,bn,bk,M,bl,bo){return new Date(bm,bn,b(bk,1),b(M,0),b(bl,0),b(bo,0)).getTime()};O=L?"getUTCMinutes":"getMinutes";aT=L?"getUTCHours":"getHours";an=L?"getUTCDay":"getDay";bb=L?"getUTCDate":"getDate";aU=L?"getUTCMonth":"getMonth";ap=L?"getUTCFullYear":"getFullYear";aL=L?"setUTCMinutes":"setMinutes";J=L?"setUTCHours":"setHours";aX=L?"setUTCDate":"setDate";K=L?"setUTCMonth":"setMonth";B=L?"setUTCFullYear":"setFullYear"}function aG(L){aM=z(aM,L);aI();return aM}function H(){return aM}function Y(L){if(!G){G=aw(at)}if(L){G.appendChild(L)}G.innerHTML=""}var ad={enabled:true,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px"}};aM={colors:["#4572A7","#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:true},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:true,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0"},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:false,showCheckbox:false,animation:{duration:1000},events:{},lineWidth:2,shadow:true,marker:{enabled:true,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:z(ad,{enabled:false,y:-6,formatter:function(){return this.y}}),showInLegend:true,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:true}},labels:{style:{position:a7,color:"#3E576F"}},legend:{enabled:true,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,shadow:false,style:{padding:"5px"},itemStyle:{cursor:"pointer",color:"#3E576F"},itemHoverStyle:{cursor:"pointer",color:"#000000"},itemHiddenStyle:{color:"#C0C0C0"},itemCheckboxStyle:{position:a7,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{hideDuration:100,labelStyle:{fontWeight:"bold",position:m,top:"1em"},showDuration:100,style:{position:a7,backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:true,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,shadow:true,snap:a5?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},toolbar:{itemStyle:{color:"#4572A7",cursor:"pointer"}},credits:{enabled:true,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var ar={dateTimeLabelFormats:{second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:false,gridLineColor:"#C0C0C0",labels:ad,lineColor:"#C0D0E0",lineWidth:1,max:null,min:null,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:false,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},aZ=z(ar,{endOnTick:true,gridLineWidth:1,tickPixelInterval:72,showLastLabel:true,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:true,tickWidth:0,title:{rotation:270,text:"Y-values"}}),al={labels:{align:"right",x:-8,y:3},title:{rotation:270}},D={labels:{align:"left",x:8,y:3},title:{rotation:90}},ba={labels:{align:"center",x:0,y:14},title:{rotation:0}},v=z(ba,{labels:{y:-5}});var bj=aM.plotOptions,bd=bj.line;bj.spline=z(bd);bj.scatter=z(bd,{lineWidth:0,states:{hover:{lineWidth:0}}});bj.area=z(bd,{});bj.areaspline=z(bj.area);bj.column=z(bd,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,states:{hover:{brightness:0.1,shadow:false},select:{color:"#C0C0C0",borderColor:"#000000",shadow:false}}});bj.bar=z(bj.column,{dataLabels:{align:"left",x:5,y:0}});bj.pie=z(bd,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:true,dataLabels:{distance:30,enabled:true,formatter:function(){return this.point.name},y:5},legendType:"point",marker:null,size:"75%",showInLegend:false,slicedOffset:10,states:{hover:{brightness:0.1,shadow:false}}});aI();function aR(bk,L){var M=function(){};M.prototype=new bk();aA(M.prototype,L);return M}var y=function(M){var bm=[],L;function bo(bp){if((L=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(bp))){bm=[q(L[1]),q(L[2]),q(L[3]),parseFloat(L[4],10)]}else{if((L=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(bp))){bm=[q(L[1],16),q(L[2],16),q(L[3],16),1]}}}function bl(bq){var bp;if(bm&&!isNaN(bm[0])){if(bq=="rgb"){bp="rgb("+bm[0]+","+bm[1]+","+bm[2]+")"}else{if(bq=="a"){bp=bm[3]}else{bp="rgba("+bm.join(",")+")"}}}else{bp=M}return bp}function bn(bq){if(Z(bq)&&bq!==0){var bp;for(bp=0;bp<3;bp++){bm[bp]+=q(bq*255);if(bm[bp]<0){bm[bp]=0}if(bm[bp]>255){bm[bp]=255}}}return this}function bk(bp){bm[3]=bp;return this}bo(M);return{get:bl,brighten:bn,setOpacity:bk}};function h(bl,bk,br,bq){var L=aM.lang,M=bl,bp=isNaN(bk=bf(bk))?2:bk,bo=br===undefined?L.decimalPoint:br,bs=bq===undefined?L.thousandsSep:bq,bt=M<0?"-":"",bn=q(M=bf(+M||0).toFixed(bp))+"",bm=(bm=bn.length)>3?bm%3:0;return bt+(bm?bn.substr(0,bm)+bs:"")+bn.substr(bm).replace(/(\d{3})(?=\d)/g,"$1"+bs)+(bp?bo+bf(M-bn).toFixed(bp).slice(2):"")}aF=function(bt,bo,bm){function M(bx){return bx.toString().replace(/^([0-9])$/,"0$1")}if(!j(bo)||isNaN(bo)){return"Invalid date"}bt=b(bt,"%Y-%m-%d %H:%M:%S");var bk=new Date(bo*P),bs=bk[aT](),bp=bk[an](),bv=bk[bb](),bn=bk[aU](),bw=bk[ap](),L=aM.lang,br=L.weekdays,bq=L.months,bl={a:br[bp].substr(0,3),A:br[bp],d:M(bv),e:bv,b:bq[bn].substr(0,3),B:bq[bn],m:M(bn+1),y:bw.toString().substr(2,2),Y:bw,H:M(bs),I:M((bs%12)||12),l:(bs%12)||12,M:M(bk[O]()),p:bs<12?"AM":"PM",P:bs<12?"am":"pm",S:M(bk.getSeconds())};for(var bu in bl){bt=bt.replace("%"+bu,bl[bu])}return bm?bt.substr(0,1).toUpperCase()+bt.substr(1):bt};function t(L){var M={left:L.offsetLeft,top:L.offsetTop};while((L=L.offsetParent)){M.left+=L.offsetLeft;M.top+=L.offsetTop;if(L!=N.body&&L!=N.documentElement){M.left-=L.scrollLeft;M.top-=L.scrollTop}}return M}function g(){}g.prototype={init:function(L,M){this.element=N.createElementNS("http://www.w3.org/2000/svg",M);this.renderer=L},animate:function(bl,M,L){var bk=b(M,n,true);if(bk){bk=z(bk);if(L){bk.complete=L}ak(this,bl,bk)}else{this.attr(bl);if(L){L()}}},attr:function(bl,M){var bu,bt,bm,L,bn=this.element,bs=bn.nodeName,bq=this.renderer,br,bk=this.shadows,bp,bo=this;if(a6(bl)&&j(M)){bu=bl;bl={};bl[bu]=M}if(a6(bl)){bu=bl;if(bs=="circle"){bu={x:"cx",y:"cy"}[bu]||bu}else{if(bu=="strokeWidth"){bu="stroke-width"}}bo=af(bn,bu)||this[bu]||0;if(bu!="d"&&bu!="visibility"){bo=parseFloat(bo)}}else{for(bu in bl){br=false;bt=bl[bu];if(bu=="d"){if(bt&&bt.join){bt=bt.join(" ")}if(/(NaN| {2}|^$)/.test(bt)){bt="M 0 0"}this.d=bt}else{if(bu=="x"&&bs=="text"){for(bm=0;bm<bn.childNodes.length;bm++){L=bn.childNodes[bm];if(af(L,"x")==af(bn,"x")){af(L,"x",bt)}}if(this.rotation){af(bn,"transform","rotate("+this.rotation+" "+bt+" "+q(bl.y||af(bn,"y"))+")")}}else{if(bu=="fill"){bt=bq.color(bt,bn,bu)}else{if(bs=="circle"&&(bu=="x"||bu=="y")){bu={x:"cx",y:"cy"}[bu]||bu}else{if(bu=="translateX"||bu=="translateY"||bu=="rotation"){this[bu]=bt;this.updateTransform();br=true}else{if(bu=="stroke"){bt=bq.color(bt,bn,bu)}else{if(bu=="dashstyle"){bu="stroke-dasharray";if(bt){bt=bt.toLowerCase().replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");bm=bt.length;while(bm--){bt[bm]=q(bt[bm])*bl["stroke-width"]}bt=bt.join(",")}}else{if(bu=="isTracker"){this[bu]=bt}else{if(bu=="width"){bt=q(bt)}else{if(bu=="align"){bu="text-anchor";bt={left:"start",center:"middle",right:"end"}[bt]}}}}}}}}}}if(bu=="strokeWidth"){bu="stroke-width"}if(aD&&bu=="stroke-width"&&bt===0){bt=0.000001}if(this.symbolName&&/^(x|y|r|start|end|innerR)/.test(bu)){if(!bp){this.symbolAttr(bl);bp=true}br=true}if(bk&&/^(width|height|visibility|x|y|d)$/.test(bu)){bm=bk.length;while(bm--){af(bk[bm],bu,bt)}}if(bu=="text"){bq.buildText(bn,bt)}else{if(!br){af(bn,bu,bt)}}}}return bo},symbolAttr:function(L){var M=this;M.x=b(L.x,M.x);M.y=parseFloat(b(L.y,M.y));M.r=b(L.r,M.r);M.start=b(L.start,M.start);M.end=b(L.end,M.end);M.width=b(L.width,M.width);M.height=parseFloat(b(L.height,M.height));M.innerR=b(L.innerR,M.innerR);M.attr({d:M.renderer.symbols[M.symbolName](M.x,M.y,M.r,{start:M.start,end:M.end,width:M.width,height:M.height,innerR:M.innerR})})},clip:function(L){return this.attr("clip-path","url("+this.renderer.url+"#"+L.id+")")},css:function(M){var L=this;if(M&&M.color){M.fill=M.color}M=aA(L.styles,M);L.attr({style:a3(M)});L.styles=M;return L},on:function(L,bk){var M=bk;if(a5&&L=="click"){L="touchstart";M=function(bl){bl.preventDefault();bk()}}this.element["on"+L]=M;return this},translate:function(L,M){return this.attr({translateX:L,translateY:M})},invert:function(){var L=this;L.inverted=true;L.updateTransform();return L},updateTransform:function(){var bn=this,bm=bn.translateX||0,bl=bn.translateY||0,L=bn.inverted,bk=bn.rotation,M=[];if(L){bm+=bn.attr("width");bl+=bn.attr("height")}if(bm||bl){M.push("translate("+bm+","+bl+")")}if(L){M.push("rotate(90) scale(-1,1)")}else{if(bk){M.push("rotate("+bk+" "+bn.x+" "+bn.y+")")}}if(M.length){af(bn.element,"transform",M.join(" "))}},toFront:function(){var L=this.element;L.parentNode.appendChild(L);return this},align:function(bl,M,bk){if(!bl){bl=this.alignOptions;M=this.alignByTranslate}else{this.alignOptions=bl;this.alignByTranslate=M;if(!bk){this.renderer.alignedObjects.push(this)}}bk=b(bk,this.renderer);var bp=bl.align,bo=bl.verticalAlign,L=(bk.x||0)+(bl.x||0),bn=(bk.y||0)+(bl.y||0),bm={};if(/^(right|center)$/.test(bp)){L+=(bk.width-(bl.width||0))/{right:1,center:2}[bp]}bm[M?"translateX":"x"]=L;if(/^(bottom|middle)$/.test(bo)){bn+=(bk.height-(bl.height||0))/({bottom:1,middle:2}[bo]||1)}bm[M?"translateY":"y"]=bn;this[this.placed?"animate":"attr"](bm);this.placed=true;return this},getBBox:function(){var bm,bl,M,bk=this.rotation,L=bk*bh;try{bm=aA({},this.element.getBBox())}catch(bn){bm={width:0,height:0}}bl=bm.width;M=bm.height;if(bk){bm.width=bf(M*F(L))+bf(bl*aY(L));bm.height=bf(M*aY(L))+bf(bl*F(L))}return bm},show:function(){return this.attr({visibility:aq})},hide:function(){return this.attr({visibility:ax})},add:function(bp){var bn=this.renderer,bm=bp||bn,bl=bm.element||bn.box,br=bl.childNodes,bk=this.element,bo=af(bk,"zIndex"),bq,L,M;this.parentInverted=bp&&bp.inverted;if(bo){bm.handleZ=true;bo=q(bo)}if(bm.handleZ){for(M=0;M<br.length;M++){bq=br[M];L=af(bq,"zIndex");if(bq!=bk&&(q(L)>bo||(!j(bo)&&j(L)))){bl.insertBefore(bk,bq);return this}}}bl.appendChild(bk);return this},destroy:function(){var bm=this,bk=bm.element||{},bl=bm.shadows,L=bk.parentNode,M;bk.onclick=bk.onmouseout=bk.onmouseover=bk.onmousemove=null;aV(bm);if(L){L.removeChild(bk)}if(bl){bg(bl,function(bn){L=bn.parentNode;if(L){L.removeChild(bn)}})}aP(bm.renderer.alignedObjects,bm);for(M in bm){delete bm[M]}return null},empty:function(){var M=this.element,bk=M.childNodes,L=bk.length;while(L--){M.removeChild(bk[L])}},shadow:function(L){var bm=[],bl,bn,bk=this.element,M=this.parentInverted?"(-1,-1)":"(1,1)";if(L){for(bl=1;bl<=3;bl++){bn=bk.cloneNode(0);af(bn,{isShadow:"true",stroke:"rgb(0, 0, 0)","stroke-opacity":0.05*bl,"stroke-width":7-2*bl,transform:"translate"+M,fill:am});bk.parentNode.insertBefore(bn,bk);bm.push(bn)}this.shadows=bm}return this}};var r=function(){this.init.apply(this,arguments)};r.prototype={init:function(bk,bl,M){var bm=this,bn=location,L;bm.Element=g;L=bm.createElement("svg").attr({xmlns:"http://www.w3.org/2000/svg",version:"1.1"});bk.appendChild(L.element);bm.box=L.element;bm.boxWrapper=L;bm.alignedObjects=[];bm.url=a8?"":bn.href.replace(/#.*?$/,"");bm.defs=this.createElement("defs").add();bm.setSize(bl,M,false)},createElement:function(M){var L=new this.Element();L.init(this,M);return L},buildText:function(M,bl){var bq=bl.toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br[^>]?>/g),bn=M.childNodes,bp=/style="([^"]+)"/,L=/href="([^"]+)"/,bo=af(M,"x"),bm,bk=bn.length;while(bk--){M.removeChild(bn[bk])}bg(bq,function(br,bv){var bt,bs=0,bu;br=br.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");bt=br.split("|||");bg(bt,function(bx){if(bx!==""||bt.length==1){var bw={},by=N.createElementNS("http://www.w3.org/2000/svg","tspan");if(bp.test(bx)){af(by,"style",bx.match(bp)[1].replace(/(;| |^)color([ :])/,"$1fill$2"))}if(L.test(bx)){af(by,"onclick",'location.href="'+bx.match(L)[1]+'"');aB(by,{cursor:"pointer"})}bx=bx.replace(/<(.|\n)*?>/g,"");by.appendChild(N.createTextNode(bx||" "));if(!bs){bw.x=bo}else{bw.dx=3}if(!bs){if(bv){bu=q(window.getComputedStyle(bm,null).getPropertyValue("line-height"));if(isNaN(bu)){bu=bm.offsetHeight||18}af(by,"dy",bu)}bm=by}af(by,bw);M.appendChild(by);bs++}})})},crispLine:function(M,L){if(M[1]==M[4]){M[1]=M[4]=w(M[1])+(L%2/2)}if(M[2]==M[5]){M[2]=M[5]=w(M[2])+(L%2/2)}return M},path:function(L){return this.createElement("path").attr({d:L,fill:am})},circle:function(M,bl,bk){var L=I(M)?M:{x:M,y:bl,r:bk};return this.createElement("circle").attr(L)},arc:function(L,bn,bl,bk,bm,M){if(I(L)){bn=L.y;bl=L.r;bk=L.innerR;bm=L.start;M=L.end;L=L.x}return this.symbol("arc",L||0,bn||0,bl||0,{innerR:bk||0,start:bm||0,end:M||0})},rect:function(bk,bp,bl,M,bn,bo){if(arguments.length>1){var bm=(bo||0)%2/2;bk=w(bk||0)+bm;bp=w(bp||0)+bm;bl=w((bl||0)-2*bm);M=w((M||0)-2*bm)}var L=I(bk)?bk:{x:bk,y:bp,width:aS(bl,0),height:aS(M,0)};return this.createElement("rect").attr(aA(L,{rx:bn||L.r,ry:bn||L.r,fill:am}))},setSize:function(bm,L,bk){var bn=this,M=bn.alignedObjects,bl=M.length;bn.width=bm;bn.height=L;bn.boxWrapper[b(bk,true)?"animate":"attr"]({width:bm,height:L});while(bl--){M[bl].align()}},g:function(L){return this.createElement("g").attr(j(L)&&{"class":C+L})},image:function(bn,M,bo,bl,L){var bm={preserveAspectRatio:am},bk;if(arguments.length>1){aA(bm,{x:M,y:bo,width:bl,height:L})}bk=this.createElement("image").attr(bm);bk.element.setAttributeNS("http://www.w3.org/1999/xlink","href",bn);return bk},symbol:function(M,bp,bn,bm,br){var bl,L=this.symbols[M],bq=L&&L(bp,bn,bm,br),bk=/^url\((.*?)\)$/,bo;if(bq){bl=this.path(bq);aA(bl,{symbolName:M,x:bp,y:bn,r:bm});if(br){aA(bl,br)}}else{if(bk.test(M)){bo=M.match(bk)[1];bl=this.image(bo).attr({x:bp,y:bn});aw("img",{onload:function(){var bs=this,bt=av[bs.src]||[bs.width,bs.height];bl.attr({width:bt[0],height:bt[1]}).translate(-w(bt[0]/2),-w(bt[1]/2))},src:bo})}else{bl=this.circle(bp,bn,bm)}}return bl},symbols:{square:function(bk,bl,M){var L=0.707*M;return[ay,bk-L,bl-L,az,bk+L,bl-L,bk+L,bl+L,bk-L,bl+L,"Z"]},triangle:function(M,bk,L){return[ay,M,bk-1.33*L,az,M+L,bk+0.67*L,M-L,bk+0.67*L,"Z"]},"triangle-down":function(M,bk,L){return[ay,M,bk+1.33*L,az,M-L,bk-0.67*L,M+L,bk-0.67*L,"Z"]},diamond:function(M,bk,L){return[ay,M,bk-L,az,M+L,bk,M,bk+L,M-L,bk,"Z"]},arc:function(br,bq,bo,bt){var bk=bt.start,bl=bt.end-0.000001,bp=bt.innerR,bn=aY(bk),L=F(bk),M=aY(bl),bs=F(bl),bm=bt.end-bk<o?0:1;return[ay,br+bo*bn,bq+bo*L,"A",bo,bo,0,bm,1,br+bo*M,bq+bo*bs,az,br+bp*M,bq+bp*bs,"A",bp,bp,0,bm,0,br+bp*bn,bq+bp*L,"Z"]}},clipRect:function(M,bo,bk,L){var bn,bm=C+S++,bl=this.createElement("clipPath").attr({id:bm}).add(this.defs);bn=this.rect(M,bo,bk,L,0).add(bl);bn.id=bm;return bn},color:function(bn,bm,M){var bt,bl=/^rgba/;if(bn&&bn.linearGradient){var br=this,bo="linearGradient",bs=bn[bo],bk=C+S++,L,bq,bp;L=br.createElement(bo).attr({id:bk,gradientUnits:"userSpaceOnUse",x1:bs[0],y1:bs[1],x2:bs[2],y2:bs[3]}).add(br.defs);bg(bn.stops,function(bu){if(bl.test(bu[1])){bt=y(bu[1]);bq=bt.get("rgb");bp=bt.get("a")}else{bq=bu[1];bp=1}br.createElement("stop").attr({offset:bu[0],"stop-color":bq,"stop-opacity":bp}).add(L)});return"url("+this.url+"#"+bk+")"}else{if(bl.test(bn)){bt=y(bn);af(bm,M+"-opacity",bt.get("a"));return bt.get("rgb")}else{return bn}}},text:function(bk,L,bm){var M=aM.chart.style,bl;L=w(b(L,0));bm=w(b(bm,0));bl=this.createElement("text").attr({x:L,y:bm,text:bk}).css({"font-family":M.fontFamily,"font-size":M.fontSize});bl.x=L;bl.y=bm;return bl}};var be;if(!c){var aO=aR(g,{init:function(bk,bl){var L=["<",bl,' filled="f" stroked="f"'],M=["position: ",a7,";"];if(bl=="shape"||bl==at){M.push("left:0;top:0;width:10px;height:10px;")}if(a1){M.push("visibility: ",bl==at?ax:aq)}L.push(' style="',M.join(""),'"/>');if(bl){L=bl==at||bl=="span"||bl=="img"?L.join(""):bk.prepVML(L);this.element=aw(L)}this.renderer=bk},add:function(bl){var bo=this,bn=bo.renderer,bk=bo.element,bm=bn.box,M=bl&&bl.inverted,L=bl?bl.element||bl:bm;if(M){bn.invertChild(bk,L)}if(a1&&L.gVis==ax){aB(bk,{visibility:ax})}L.appendChild(bk);bo.added=true;if(bo.alignOnAdd){bo.updateTransform()}return bo},attr:function(bk,bz){var by,bs,bu,bl=this.element||{},bw=bl.style,L=bl.nodeName,bt=this.renderer,bq=this.symbolName,bn,bp,M=this.shadows,br,bx=this;if(a6(bk)&&j(bz)){by=bk;bk={};bk[by]=bz}if(a6(bk)){by=bk;if(by=="strokeWidth"||by=="stroke-width"){bx=this.strokeweight}else{bx=this[by]}}else{for(by in bk){bs=bk[by];br=false;if(bq&&/^(x|y|r|start|end|width|height|innerR)/.test(by)){if(!bp){this.symbolAttr(bk);bp=true}br=true}else{if(by=="d"){bs=bs||[];this.d=bs.join(" ");bu=bs.length;var bv=[];while(bu--){if(Z(bs[bu])){bv[bu]=w(bs[bu]*10)-5}else{if(bs[bu]=="Z"){bv[bu]="x"}else{bv[bu]=bs[bu]}}}bs=bv.join(" ")||"x";bl.path=bs;if(M){bu=M.length;while(bu--){M[bu].path=bs}}br=true}else{if(by=="zIndex"||by=="visibility"){if(a1&&by=="visibility"&&L=="DIV"){bl.gVis=bs;bn=bl.childNodes;bu=bn.length;while(bu--){aB(bn[bu],{visibility:bs})}if(bs==aq){bs=null}}if(bs){bw[by]=bs}br=true}else{if(/^(width|height)$/.test(by)){if(this.updateClipping){this[by]=bs;this.updateClipping()}else{try{bw[by]=bs}catch(bo){}}br=true}else{if(/^(x|y)$/.test(by)){this[by]=bs;if(bl.tagName=="SPAN"){this.updateTransform()}else{bw[{x:"left",y:"top"}[by]]=bs}}else{if(by=="class"){bl.className=bs}else{if(by=="stroke"){bs=bt.color(bs,bl,by);by="strokecolor"}else{if(by=="stroke-width"||by=="strokeWidth"){bl.stroked=bs?true:false;by="strokeweight";this[by]=bs;if(Z(bs)){bs+=ao}}else{if(by=="dashstyle"){var bm=bl.getElementsByTagName("stroke")[0]||aw(bt.prepVML(["<stroke/>"]),null,null,bl);bm[by]=bs||"solid";this.dashstyle=bs;br=true}else{if(by=="fill"){if(L=="SPAN"){bw.color=bs}else{bl.filled=bs!=am?true:false;bs=bt.color(bs,bl,by);by="fillcolor"}}else{if(by=="translateX"||by=="translateY"||by=="rotation"||by=="align"){if(by=="align"){by="textAlign"}this[by]=bs;this.updateTransform();br=true}else{if(by=="text"){bl.innerHTML=bs;br=true}}}}}}}}}}}}if(M&&by=="visibility"){bu=M.length;while(bu--){M[bu].style[by]=bs}}if(!br){if(a1){bl[by]=bs}else{af(bl,by,bs)}}}}return bx},clip:function(M){var bl=this,bk=M.members,L=bk.length;bk.push(bl);bl.destroyClip=function(){bk.splice(L,1)};return bl.css(M.getCSS(bl.inverted))},css:function(L){var M=this;aB(M.element,L);return M},destroy:function(){var L=this;if(L.destroyClip){L.destroyClip()}g.prototype.destroy.apply(this)},empty:function(){var M=this.element,bl=M.childNodes,L=bl.length,bk;while(L--){bk=bl[L];bk.parentNode.removeChild(bk)}},getBBox:function(){var L=this.element;if(L.nodeName=="text"){L.style.position=a7}return{x:L.offsetLeft,y:L.offsetTop,width:L.offsetWidth,height:L.offsetHeight}},on:function(L,M){this.element["on"+L]=function(){var bk=aH.event;bk.target=bk.srcElement;M(bk)};return this},updateTransform:function(bp){if(!this.added){this.alignOnAdd=true;return}var L=this,bm=L.element,bl=L.translateX||0,bk=L.translateY||0,bu=L.x||0,bt=L.y||0,by=L.rotation||0,bo=by*bh,bw=aY(bo),bn=F(bo),bq=L.textAlign||"left",bs={right:1,center:2}[bq],br=bq&&bq!="left";if(bl||bk){L.css({marginLeft:bl,marginTop:bk})}if(L.inverted){bg(bm.childNodes,function(bz){L.renderer.invertChild(bz,bm)})}if(bm.tagName=="SPAN"){aB(bm,{filter:by?["progid:DXImageTransform.Microsoft.Matrix(M11=",bw,", M12=",-bn,", M21=",bn,", M22=",bw,", sizingMethod='auto expand')"].join(""):am});var M=bm.offsetWidth,bx=bm.offsetHeight,bv=w(q(bm.style.fontSize||12)*1.2);bu+=M*ah(bw,0)+ah(bn,0)*bv;bt+=bx*ah(bn,0)-aS(bw,0)*bv;if(br){bu-=M/bs*bw;bt-=bx/bs*bn}aB(bm,{textAlign:bq,left:bu,top:bt})}},shadow:function(bo){var M=[],bk,bl=this.element,bm=this.renderer,bn,L=bl.style,bp,bq=bl.path;if(""+bl.path===""){bq="x"}if(bo){for(bk=1;bk<=3;bk++){bp=['<shape isShadow="true" strokeweight="',(7-2*bk),'" filled="false" path="',bq,'" coordsize="100,100" style="',bl.style.cssText,'" />'];bn=aw(bm.prepVML(bp),null,{left:q(L.left)+1,top:q(L.top)+1});bp=['<stroke color="black" opacity="',(0.05*bk),'"/>'];aw(bm.prepVML(bp),null,null,bn);bl.parentNode.insertBefore(bn,bl);M.push(bn)}this.shadows=M}return this}});be=function(){this.init.apply(this,arguments)};be.prototype=z(r.prototype,{isIE8:e.indexOf("MSIE 8.0")>-1,init:function(bk,bl,M){var bm=this,L;bm.Element=aO;bm.alignedObjects=[];L=bm.createElement(at);bk.appendChild(L.element);bm.box=L.element;bm.boxWrapper=L;bm.setSize(bl,M,false);if(!N.namespaces.hcv){N.namespaces.add("hcv","urn:schemas-microsoft-com:vml");N.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}},clipRect:function(M,bm,bl,L){var bk=this.createElement();return aA(bk,{members:[],left:M,top:bm,width:bl,height:L,getCSS:function(bo){var br=this,bt=br.top,bs=br.left,bq=bs+br.width,bn=bt+br.height,bp={clip:"rect("+w(bo?bs:bt)+"px,"+w(bo?bn:bq)+"px,"+w(bo?bq:bn)+"px,"+w(bo?bt:bs)+"px)"};if(!bo&&a1){aA(bp,{width:bq+ao,height:bn+ao})}return bp},updateClipping:function(){bg(bk.members,function(bn){bn.css(bk.getCSS(bn.inverted))})}})},color:function(bm,bk,L){var bt,M=/^rgba/,bv;if(bm&&bm.linearGradient){var bq,bp,bs=bm.linearGradient,bl,bu,bo,br,bn;bg(bm.stops,function(bx,bw){if(M.test(bx[1])){bt=y(bx[1]);bq=bt.get("rgb");bp=bt.get("a")}else{bq=bx[1];bp=1}if(!bw){bu=bq;bo=bp}else{br=bq;bn=bp}});bl=90-aa.atan((bs[3]-bs[1])/(bs[2]-bs[0]))*180/o;bv=["<",L,' colors="0% ',bu,",100% ",br,'" angle="',bl,'" opacity="',bn,'" o:opacity2="',bo,'" type="gradient" focus="100%" />'];aw(this.prepVML(bv),null,null,bk)}else{if(M.test(bm)&&bk.tagName!="IMG"){bt=y(bm);bv=["<",L,' opacity="',bt.get("a"),'"/>'];aw(this.prepVML(bv),null,null,bk);return bt.get("rgb")}else{return bm}}},prepVML:function(L){var M="display:inline-block;behavior:url(#default#VML);",bk=this.isIE8;L=L.join("");if(bk){L=L.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />');if(L.indexOf('style="')==-1){L=L.replace("/>",' style="'+M+'" />')}else{L=L.replace('style="','style="'+M)}}else{L=L.replace("<","<hcv:")}return L},text:function(bk,L,bl){var M=aM.chart.style;return this.createElement("span").attr({text:bk,x:w(L),y:w(bl)}).css({whiteSpace:"nowrap",fontFamily:M.fontFamily,fontSize:M.fontSize})},path:function(L){return this.createElement("shape").attr({coordsize:"100 100",d:L})},circle:function(L,bk,M){return this.path(this.symbols.circle(L,bk,M))},g:function(L){var bk,M;if(L){M={className:C+L,"class":C+L}}bk=this.createElement(at).attr(M);return bk},image:function(bm,M,bn,bk,L){var bl=this.createElement("img").attr({src:bm});if(arguments.length>1){bl.css({left:M,top:bn,width:bk,height:L})}return bl},rect:function(M,bo,bk,L,bm,bn){if(arguments.length>1){var bl=(bn||0)%2/2;M=w(M||0)+bl;bo=w(bo||0)+bl;bk=w((bk||0)-2*bl);L=w((L||0)-2*bl)}if(I(M)){bo=M.y;bk=M.width;L=M.height;bm=M.r;M=M.x}return this.symbol("rect",M||0,bo||0,bm||0,{width:bk||0,height:L||0})},invertChild:function(M,L){var bk=L.style;aB(M,{flip:"x",left:q(bk.width)-10,top:q(bk.height)-10,rotation:-90})},symbols:{arc:function(bq,bp,bn,bs){var bk=bs.start,bl=bs.end,bm=aY(bk),L=F(bk),M=aY(bl),br=F(bl),bo=bs.innerR;if(bl-bk===0){return["x"]}else{if(bl-bk==2*o){M=-0.07/bn}}return["wa",bq-bn,bp-bn,bq+bn,bp+bn,bq+bn*bm,bp+bn*L,bq+bn*M,bp+bn*br,"at",bq-bo,bp-bo,bq+bo,bp+bo,bq+bo*M,bp+bo*br,bq+bo*bm,bp+bo*L,"x","e"]},circle:function(L,bk,M){return["wa",L-M,bk-M,L+M,bk+M,L+M,bk,L+M,bk,"e"]},rect:function(bp,bo,bn,bk){var bm=bk.width,L=bk.height,bl=bp+bm,M=bo+L;bn=ah(bn,bm,L);return[ay,bp+bn,bo,az,bl-bn,bo,"wa",bl-2*bn,bo,bl,bo+2*bn,bl-bn,bo,bl,bo+bn,az,bl,M-bn,"wa",bl-2*bn,M-2*bn,bl,M,bl,M-bn,bl-bn,M,az,bp+bn,M,"wa",bp,M-2*bn,bp+2*bn,M,bp+bn,M,bp,M-bn,az,bp,bo+bn,"wa",bp,bo,bp+2*bn,bo+2*bn,bp,bo+bn,bp+bn,bo,"x","e"]}}})}var aK=c?r:be;function a9(b5,bJ){ar=z(ar,aM.xAxis);aZ=z(aZ,aM.yAxis);aM.xAxis=aM.yAxis=null;b5=z(aM,b5);var bK=b5.chart,ci=bK.margin,cv=I(ci)?ci:[ci,ci,ci,ci],bH=b(bK.marginTop,cv[0]),bF=b(bK.marginRight,cv[1]),bY=b(bK.marginBottom,cv[2]),b1=b(bK.marginLeft,cv[3]),cK=bK.spacingTop,bR=bK.spacingRight,bM=bK.spacingBottom,cz=bK.spacingLeft,bZ,b2,cj,cn,ct,b0,M,bx,bQ,co,ch,bU,cA,bX,cL,bC,by,b3,bD,bp,b8,bt,cy=this,bP=bK.events,cM=bP&&!!bP.click,bG,bE,bv,bL,bm,cw,cJ,bu,bk,L,cf,bO,cG,bA,bs,cb,cd=bK.showAxes,bI=0,cp=[],bn,b9=[],br,b6,cl,ce,bz,cc,cu,bw,cs,bq,bo,bT;function bB(dN,dn){var dQ=dn.isX,dz=dn.opposite,cR=br?!dQ:dQ,dR=cR?(dz?0:2):(dz?1:3),dl={};dn=z(dQ?ar:aZ,[v,D,ba,al][dR],dn);var cW=this,dO=dn.type=="datetime",c0=dn.offset||0,ds=dQ?"x":"y",c3,du,dd,dt=cR?M:b0,c2,cV,c7,dK,dM,dP,c4,dG,di,dy,c6=null,dS=null,dm,dD,cU=dn.minPadding,cO=dn.maxPadding,c5=j(dn.linkedTo),dV,dJ,dA,c9=dn.events,dc,cX=[],cY,dv,dL,dI,dE={},dX={},cZ={},cT,dT,dj,dU,dC=dn.categories,dF=dn.labels.formatter||function(){var d0=this.value,dZ;if(dU){dZ=aF(dU,d0)}else{if(cY%1000000===0){dZ=(d0/1000000)+"M"}else{if(cY%1000===0){dZ=(d0/1000)+"k"}else{if(!dC&&d0>=1000){dZ=h(d0,0)}else{dZ=d0}}}}return dZ},dq=cR&&dn.labels.staggerLines,cS=dn.reversed,c8=(dC&&dn.tickmarkPlacement=="between")?0.5:0;function da(d1,d0){var dZ=this;dZ.pos=d1;dZ.minor=d0;dZ.isNew=true;if(!d0){dZ.addLabel()}}da.prototype={addLabel:function(){var d3=this.pos,dZ=dn.labels,d2,d1=!((d3==dS&&!b(dn.showFirstLabel,1))||(d3==c6&&!b(dn.showLastLabel,0))),d0=this.label;d2=dF.call({isFirst:d3==dI[0],isLast:d3==dI[dI.length-1],dateTimeLabelFormat:dU,value:(dC&&dC[d3]?dC[d3]:d3)});if(d0===aE){this.label=j(d2)&&d1&&dZ.enabled?b6.text(d2,0,0).attr({align:dZ.align,rotation:dZ.rotation}).css(dZ.style).add(c7):null}else{if(d0){d0.attr({text:d2})}}},getLabelSize:function(){var dZ=this.label;return dZ?((this.labelBBox=dZ.getBBox()))[cR?"height":"width"]:0},render:function(d5,d0){var ek=this,ej=!ek.minor,d8=ek.label,d4=ek.pos,eh=dn.labels,d6=ek.gridLine,eg=ej?dn.gridLineWidth:dn.minorGridLineWidth,ei=ej?dn.gridLineColor:dn.minorGridLineColor,d7=ej?dn.gridLineDashStyle:dn.minorGridLineDashStyle,em,eb=ek.mark,dZ,d1=ej?dn.tickLength:dn.minorTickLength,d9=ej?dn.tickWidth:(dn.minorTickWidth||0),ed=ej?dn.tickColor:dn.minorTickColor,ee=ej?dn.tickPosition:dn.minorTickPosition,d3=eh.step,d2=d0&&b3||bC,ef,ec,ea;ec=cR?c2(d4+c8,null,null,d0)+dt:M+c0+(dz?(d0&&by||cL)-ct-M:0);ea=cR?d2-b0+c0-(dz?bu:0):d2-c2(d4+c8,null,null,d0)-dt;if(eg){em=cV(d4+c8,eg,d0);if(d6===aE){ef={stroke:ei,"stroke-width":eg};if(d7){ef.dashstyle=d7}ek.gridLine=d6=eg?b6.path(em).attr(ef).add(dK):null}if(d6&&em){d6.animate({d:em})}}if(d9){if(ee=="inside"){d1=-d1}if(dz){d1=-d1}dZ=b6.crispLine([ay,ec,ea,az,ec+(cR?0:-d1),ea+(cR?d1:0)],d9);if(eb){eb.animate({d:dZ})}else{ek.mark=b6.path(dZ).attr({stroke:ed,"stroke-width":d9}).add(c7)}}if(d8){ec=ec+eh.x-(c8&&cR?c8*du*(cS?-1:1):0);ea=ea+eh.y-(c8&&!cR?c8*du*(cS?1:-1):0);if(dq){ea+=(d5%dq)*16}if(d3){d8[d5%d3?"hide":"show"]()}d8[ek.isNew?"attr":"animate"]({x:ec,y:ea})}ek.isNew=false},destroy:function(){var dZ=this,d0;for(d0 in dZ){if(dZ[d0]&&dZ[d0].destroy){dZ[d0].destroy()}}}};function dx(d0){var dZ=this;if(d0){dZ.options=d0;dZ.id=d0.id}return dZ}dx.prototype={render:function(){var ej=this,d2=ej.options,dZ=d2.label,d4=ej.label,ed=d2.width,d1=d2.to,eb,eh=d2.from,d3=d2.dashStyle,ef=ej.svgElem,ec=[],ee,d8,d5,ei,d7,d6,eg=d2.color,ea=d2.zIndex,d0=d2.events,d9;if(ed){ec=cV(d2.value,ed);d9={stroke:eg,"stroke-width":ed};if(d3){d9.dashstyle=d3}}else{if(j(eh)&&j(d1)){eh=aS(eh,dS);d1=ah(d1,c6);eb=cV(d1);ec=cV(eh);if(ec&&eb){ec.push(eb[4],eb[5],eb[1],eb[2])}else{ec=null}d9={fill:eg}}else{return}}if(j(ea)){d9.zIndex=ea}if(ef){if(ec){ef.animate({d:ec},null,ef.onGetPath)}else{ef.hide();ef.onGetPath=function(){ef.show()}}}else{if(ec&&ec.length){ej.svgElem=ef=b6.path(ec).attr(d9).add();if(d0){ee=function(ek){ef.on(ek,function(em){d0[ek].apply(ej,[em])})};for(d8 in d0){ee(d8)}}}}if(dZ&&j(dZ.text)&&ec&&ec.length&&bk>0&&bu>0){dZ=z({align:cR&&eb&&"center",x:cR?!eb&&4:10,verticalAlign:!cR&&eb&&"middle",y:cR?eb?16:10:eb?6:-4,rotation:cR&&!eb&&90},dZ);if(!d4){ej.label=d4=b6.text(dZ.text,0,0).attr({align:dZ.textAlign||dZ.align,rotation:dZ.rotation,zIndex:ea}).css(dZ.style).add()}d5=[ec[1],ec[4],ec[6]||ec[1]];ei=[ec[2],ec[5],ec[7]||ec[2]];d7=ah.apply(aa,d5);d6=ah.apply(aa,ei);d4.align(dZ,false,{x:d7,y:d6,width:aS.apply(aa,d5)-d7,height:aS.apply(aa,ei)-d6});d4.show()}else{if(d4){d4.hide()}}return ej},destroy:function(){var dZ=this,d0;for(d0 in dZ){if(dZ[d0]&&dZ[d0].destroy){dZ[d0].destroy()}delete dZ[d0]}aP(cX,dZ)}};function cQ(){var dZ=[],d0=[],d1;dP=c4=null;dG=[];bg(b9,function(d6){d1=false;bg(["xAxis","yAxis"],function(d8){if(d6.isCartesian&&(d8=="xAxis"&&dQ||d8=="yAxis"&&!dQ)&&((d6.options[d8]==dn.index)||(d6.options[d8]===aE&&dn.index===0))){d6[d8]=cW;dG.push(d6);d1=true}});if(!d6.visible&&bK.ignoreHiddenSeries){d1=false}if(d1){var d5,d7,d4,d2,d3;if(!dQ){d5=d6.options.stacking;dA=d5=="percent";if(d5){d2=d6.type+b(d6.options.stack,"");d3="-"+d2;d6.stackKey=d2;d7=dZ[d2]||[];dZ[d2]=d7;d4=d0[d3]||[];d0[d3]=d4}if(dA){dP=0;c4=99}}if(d6.isCartesian){bg(d6.data,function(d8,ed){var ef=d8.x,ee=d8.y,d9=ee<0,eb=d9?d4:d7,ec=d9?d3:d2,ea;if(dP===null){dP=c4=d8[ds]}if(dQ){if(ef>c4){c4=ef}else{if(ef<dP){dP=ef}}}else{if(j(ee)){if(d5){eb[ef]=j(eb[ef])?eb[ef]+ee:ee}ea=eb?eb[ef]:ee;if(!dA){if(ea>c4){c4=ea}else{if(ea<dP){dP=ea}}}if(d5){if(!dl[ec]){dl[ec]={}}dl[ec][ef]={total:ea,cum:ea}}}}});if(/(area|column|bar)/.test(d6.type)&&!dQ){if(dP>=0){dP=0;dV=true}else{if(c4<0){c4=0;dJ=true}}}}}})}c2=function(d0,d5,d6,d1){var d2=1,d4=0,d3=d1?dd:du,d7=d1?dm:dS,dZ;if(!d3){d3=du}if(d6){d2*=-1;d4=c3}if(cS){d2*=-1;d4-=d2*c3}if(d5){if(cS){d0=c3-d0}dZ=d0/d3+d7}else{dZ=d2*(d0-d7)*d3+d4}return dZ};cV=function(d8,d4,d1){var d0,d7,dZ,d6,d3=c2(d8,null,null,d1),d5=d1&&b3||bC,d2=d1&&by||cL,d9;d0=dZ=w(d3+dt);d7=d6=w(d5-d3-dt);if(isNaN(d3)){d9=true}else{if(cR){d7=cn;d6=d5-b0;if(d0<M||d0>M+bk){d9=true}}else{d0=M;dZ=d2-ct;if(d7<cn||d7>cn+bu){d9=true}}}return d9?null:b6.crispLine([ay,d0,d7,az,dZ,d6],d4||0)};function dW(dZ,d2){var d1;dL=d2?1:aa.pow(10,U(aa.log(dZ)/aa.LN10));d1=dZ/dL;if(!d2){d2=[1,2,2.5,5,10];if(dn.allowDecimals===false){if(dL==1){d2=[1,2,5,10]}else{if(dL<=0.1){d2=[1/dL]}}}}for(var d0=0;d0<d2.length;d0++){dZ=d2[d0];if(d1<=(d2[d0]+(d2[d0+1]||d2[d0]))/2){break}}dZ*=dL;return dZ}function dB(){dI=[];var ed,d6=aM.global.useUTC,d9=1000/P,d3=60000/P,dZ=3600000/P,d8=24*3600000/P,d7=7*24*3600000/P,eg=30*24*3600000/P,d4=31556952000/P,eb=[["second",d9,[1,2,5,10,15,30]],["minute",d3,[1,2,5,10,15,30]],["hour",dZ,[1,2,3,4,6,8,12]],["day",d8,[1,2]],["week",d7,[1,2]],["month",eg,[1,2,3,4,6]],["year",d4,null]],d5=eb[6],eh=d5[1],d0=d5[2];for(ed=0;ed<eb.length;ed++){d5=eb[ed];eh=d5[1];d0=d5[2];if(eb[ed+1]){var ec=(eh*d0[d0.length-1]+eb[ed+1][1])/2;if(cY<=ec){break}}}if(eh==d4&&cY<5*eh){d0=[1,2,5]}var ef=dW(cY/eh,d0),ei,d2=new Date(dS*P);d2.setMilliseconds(0);if(eh>=d9){d2.setSeconds(eh>=d3?0:ef*U(d2.getSeconds()/ef))}if(eh>=d3){d2[aL](eh>=dZ?0:ef*U(d2[O]()/ef))}if(eh>=dZ){d2[J](eh>=d8?0:ef*U(d2[aT]()/ef))}if(eh>=d8){d2[aX](eh>=eg?1:ef*U(d2[bb]()/ef))}if(eh>=eg){d2[K](eh>=d4?0:ef*U(d2[aU]()/ef));ei=d2[ap]()}if(eh>=d4){ei-=ei%ef;d2[B](ei)}if(eh==d7){d2[aX](d2[bb]()-d2[an]()+dn.startOfWeek)}ed=1;ei=d2[ap]();var d1=d2.getTime()/P,ee=d2[aU](),ea=d2[bb]();while(d1<c6&&ed<bk){dI.push(d1);if(eh==d4){d1=a0(ei+ed*ef,0)/P}else{if(eh==eg){d1=a0(ei,ee+ed*ef)/P}else{if(!d6&&(eh==d8||eh==d7)){d1=a0(ei,ee,ea+ed*ef*(eh==d8?1:7))}else{d1+=eh*ef}}}ed++}dI.push(d1);dU=dn.dateTimeLabelFormats[d5[0]]}function dk(d0){var d1,dZ=d0;if(j(dL)){d1=(dL<1?w(1/dL):1)*10;dZ=w(d0*d1)/d1}return dZ}function db(){var d0,d1=U(dS/cY)*cY,dZ=bi(c6/cY)*cY;dI=[];d0=dk(d1);while(d0<=dZ){dI.push(d0);d0=dk(d0+cY)}}function dh(d5){var dZ,d9,d0,d3,d4=dn.tickInterval,d2=dn.tickPixelInterval,d6=dn.maxZoom||(dQ?ah(dN.smallestInterval*5,c4-dP):null),d7;c3=cR?bk:bu;if(c5){d0=dN[dQ?"xAxis":"yAxis"][dn.linkedTo];d3=d0.getExtremes();dS=b(d3.min,d3.dataMin);c6=b(d3.max,d3.dataMax)}else{dS=b(di,dn.min,dP);c6=b(dy,dn.max,c4)}if(c6-dS<d6){d7=(d6-c6+dS)/2;dS=aS(dS-d7,b(dn.min,dS-d7),dP);c6=ah(dS+d6,b(dn.max,dS+d6),c4)}if(!dC&&!dA&&!c5&&j(dS)&&j(c6)){dZ=(c6-dS)||1;if(!j(dn.min)&&!j(di)&&cU&&(dP<0||!dV)){dS-=dZ*cU}if(!j(dn.max)&&!j(dy)&&cO&&(c4>0||!dJ)){c6+=dZ*cO}}if(dS==c6){cY=1}else{if(c5&&!d4&&d2==d0.options.tickPixelInterval){cY=d0.tickInterval}else{cY=b(d4,dC?1:(c6-dS)*d2/c3)}}if(!dO&&!j(dn.tickInterval)){cW.tickInterval=cY=dW(cY)}dv=dn.minorTickInterval==="auto"&&cY?cY/5:dn.minorTickInterval;if(dO){dB()}else{db()}if(!c5){if(dC||(dQ&&dN.hasColumn)){d9=(dC?1:cY)*0.5;dS-=d9;c6+=d9}var d1=dI[0],d8=dI[dI.length-1];if(dn.startOnTick){dS=d1}else{if(dS>d1){dI.shift()}}if(dn.endOnTick){c6=d8}else{if(c6<d8){dI.pop()}}if(!bn){bn={x:0,y:0}}if(!dO&&dI.length>bn[ds]){bn[ds]=dI.length}}}function dY(){if(bn&&!dO&&!dC&&!c5){var d0=cT,dZ=dI.length;cT=bn[ds];if(dZ<cT){while(dI.length<cT){dI.push(dk(dI[dI.length-1]+cY))}du*=(dZ-1)/(cT-1);c6=dI[dI.length-1]}if(j(d0)&&cT!=d0){cW.isDirty=true}}}function dp(){var d0,dZ;dm=dS;dD=c6;cQ();dh();dd=du;du=c3/((c6-dS)||1);if(!dQ){for(d0 in dl){for(dZ in dl[d0]){dl[d0][dZ].cum=dl[d0][dZ].total}}}if(!cW.isDirty){cW.isDirty=(dS!=dm||c6!=dD)}}function dw(d1,dZ,d2,d0){aC(d0,dN);d2=b(d2,true);aQ(cW,"setExtremes",{min:d1,max:dZ},function(){di=d1;dy=dZ;if(d2){dN.redraw()}})}function cP(){return{min:dS,max:c6,dataMin:dP,dataMax:c4}}function dr(dZ){if(dS>dZ){dZ=dS}else{if(c6<dZ){dZ=c6}}return c2(dZ,0,1)}function c1(dZ){var d0=new dx(dZ).render();cX.push(d0);return d0}function dH(){var d1=dG.length&&j(dS)&&j(c6),d4=0,d3=0,d2=dn.title,d0=dn.labels,dZ=[-1,1,1,-1][dR];if(!c7){c7=b6.g("axis").attr({zIndex:7}).add();dK=b6.g("grid").attr({zIndex:1}).add()}dT=0;if(d1||c5){bg(dI,function(d6){if(!dE[d6]){dE[d6]=new da(d6)}else{dE[d6].addLabel()}if(dR===0||dR==2||{1:"left",3:"right"}[dR]==d0.align){dT=aS(dE[d6].getLabelSize(),dT)}});if(dq){dT+=(dq-1)*16}}else{for(var d5 in dE){dE[d5].destroy();delete dE[d5]}}if(d2&&d2.text){if(!cW.axisTitle){cW.axisTitle=b6.text(d2.text,0,0).attr({zIndex:7,rotation:d2.rotation||0,align:d2.textAlign||{low:"left",middle:"center",high:"right"}[d2.align]}).css(d2.style).add()}d4=cW.axisTitle.getBBox()[cR?"height":"width"];d3=b(d2.margin,cR?5:10)}c0=dZ*(dn.offset||bx[dR]);dj=dT+(dR!=2&&dT&&dZ*dn.labels[cR?"y":"x"])+d3;bx[dR]=aS(bx[dR],dj+d4+dZ*c0)}function dg(){var d9=dn.title,d5=dn.alternateGridColor,d3=dn.lineWidth,dZ,d8,ea,d4=dN.hasRendered,d7=d4&&j(dm)&&!isNaN(dm),ec=dG.length&&j(dS)&&j(c6);c3=cR?bk:bu;du=c3/((c6-dS)||1);dt=cR?M:b0;if(ec||c5){if(dv&&!dC){var d6=dS+(dI[0]-dS)%dv;for(d6;d6<=c6;d6+=dv){if(!dX[d6]){dX[d6]=new da(d6,true)}if(d7&&dX[d6].isNew){dX[d6].render(null,true)}dX[d6].isActive=true;dX[d6].render()}}bg(dI,function(ee,ed){if(!c5||(ee>=dS&&ee<=c6)){if(d7&&dE[ee].isNew){dE[ee].render(ed,true)}dE[ee].isActive=true;dE[ee].render(ed)}});if(d5){bg(dI,function(ee,ed){if(ed%2===0&&ee<c6){if(!cZ[ee]){cZ[ee]=new dx()}cZ[ee].options={from:ee,to:dI[ed+1]!==aE?dI[ed+1]:c6,color:d5};cZ[ee].render();cZ[ee].isActive=true}})}if(!d4){bg((dn.plotLines||[]).concat(dn.plotBands||[]),function(ed){cX.push(new dx(ed).render())})}}bg([dE,dX,cZ],function(ed){for(var ee in ed){if(!ed[ee].isActive){ed[ee].destroy();delete ed[ee]}else{ed[ee].isActive=false}}});if(d3){dZ=M+(dz?bk:0)+c0;d8=bC-b0-(dz?bu:0)+c0;ea=b6.crispLine([ay,cR?M:dZ,cR?d8:cn,az,cR?cL-ct:dZ,cR?d8:bC-b0],d3);if(!dM){dM=b6.path(ea).attr({stroke:dn.lineColor,"stroke-width":d3,zIndex:7}).add()}else{dM.animate({d:ea})}}if(cW.axisTitle){var d2=cR?M:cn,eb=q(d9.style.fontSize||12),d0={low:d2+(cR?0:c3),middle:d2+c3/2,high:d2+(cR?c3:0)}[d9.align],d1=(cR?cn+bu:M)+(cR?1:-1)*(dz?-1:1)*dj+(dR==2?eb:0);cW.axisTitle[d4?"animate":"attr"]({x:cR?d0:d1+(dz?bk:0)+c0+(d9.x||0),y:cR?d1-(dz?bu:0)+c0:d0+(d9.y||0)})}cW.isDirty=false}function cN(d0){for(var dZ=0;dZ<cX.length;dZ++){if(cX[dZ].id==d0){cX[dZ].destroy()}}}function df(){if(L.resetTracker){L.resetTracker()}dg();bg(cX,function(dZ){dZ.render()});bg(dG,function(dZ){dZ.isDirty=true})}function de(dZ,d0){cW.categories=dC=dZ;bg(dG,function(d1){d1.translate();d1.setTooltipPoints(true)});cW.isDirty=true;if(b(d0,true)){dN.redraw()}}if(br&&dQ&&cS===aE){cS=true}aA(cW,{addPlotBand:c1,addPlotLine:c1,adjustTickAmount:dY,categories:dC,getExtremes:cP,getPlotLinePath:cV,getThreshold:dr,isXAxis:dQ,options:dn,plotLinesAndBands:cX,getOffset:dH,render:dg,setCategories:de,setExtremes:dw,setScale:dp,setTickPositions:dh,translate:c2,redraw:df,removePlotBand:cN,removePlotLine:cN,reversed:cS,stacks:dl});for(dc in c9){ag(cW,dc,c9[dc])}dp()}function cq(cO){var cP={};function cQ(cV,cU,cT,cS){if(!cP[cV]){var cR=b6.text(cU,0,0).css(b5.toolbar.itemStyle).align({align:"right",x:-ct-20,y:cn+30}).on("click",cS).attr({align:"right",zIndex:20}).add();cP[cV]=cR}}function cN(cR){Y(cP[cR].element);cP[cR]=null}return{add:cQ,remove:cN}}function cB(cP){var cY,c7=cP.borderWidth,cN=cP.crosshairs,c0=[],c6=cP.style,cO=cP.shared,c1=q(c6.padding),c2=c7+c1,cZ=true,cU,cR,c5=0,c4=0;c6.padding=0;var cS=b6.g("tooltip").attr({zIndex:8}).add(),cV=b6.rect(c2,c2,0,0,cP.borderRadius,c7).attr({fill:cP.backgroundColor,"stroke-width":c7}).add(cS).shadow(cP.shadow),cT=b6.text("",c1+c2,q(c6.fontSize)+c1+c2).attr({zIndex:1}).css(c6).add(cS);cS.hide();function cX(){var df=this,dd=df.points||aj(df.point),de=dd[0].series.xAxis,c8=df.x,dc=de&&de.options.type=="datetime",db=a6(c8)||dc,c9,da;da=db?['<span style="font-size: 10px">',(dc?aF("%A, %b %e, %Y",c8):c8),"</span><br/>"]:[];bg(dd,function(dg){c9=dg.series;da.push('<span style="color:'+c9.color+'">',(dg.name||c9.name),"</span>: ",(!db?("<b>x = "+(dg.name||dg.x)+",</b> "):""),"<b>",(!db?"y = ":""),dg.y,"</b><br/>")});return da.join("")}function c3(c9,c8){c5=cZ?c9:(2*c5+c9)/3;c4=cZ?c8:(c4+c8)/2;cS.translate(c5,c4);if(bf(c9-c5)>1||bf(c8-c4)>1){cl=function(){c3(c9,c8)}}else{cl=null}}function cW(){if(!cZ){var c8=cy.hoverPoints;cS.hide();bg(c0,function(c9){c9.hide()});if(c8){bg(c8,function(c9){c9.setState()})}cy.hoverPoints=null;cZ=true}}function cQ(dl){var dg,df,ds,dr,dq,dd,db,da=0,de={},di,dc=[],c8=dl.tooltipPos,dn=cP.formatter||cX,dh=cy.hoverPoints,dp=function(dt){return{series:dt.series,point:dt,x:dt.category,y:dt.y,percentage:dt.percentage,total:dt.total||dt.stackTotal}};if(cO){if(dh){bg(dh,function(dt){dt.setState()})}cy.hoverPoints=dl;bg(dl,function(du,dt){du.setState(W);da+=du.plotY;dc.push(dp(du))});db=dl[0].plotX;da=w(da)/dl.length;de={x:dl[0].category};de.points=dc;dl=dl[0]}else{de=dp(dl)}di=dn.call(de);cY=dl.series;db=cO?db:dl.plotX;da=cO?da:dl.plotY;dg=w(c8?c8[0]:(br?bk-da:db));df=w(c8?c8[1]:(br?bu-db:da));dq=!dl.series.isCartesian||bE(dg,df);if(di===false||!dq){cW()}else{if(cZ){cS.show();cZ=false}cT.attr({text:di});dd=cT.getBBox();cU=dd.width;cR=dd.height;cV.attr({width:cU+2*c1,height:cR+2*c1,stroke:cP.borderColor||dl.color||cY.color||"#606060"});ds=dg-cU+M-25;dr=df-cR+cn+10;if(ds<7){ds=7;dr-=30}if(dr<5){dr=5}else{if(dr+cR>bC){dr=bC-cR-5}}c3(w(ds-c2),w(dr-c2))}if(cN){cN=aj(cN);var dk,dm=cN.length,dj,c9;while(dm--){if(cN[dm]&&(c9=dl.series[dm?"yAxis":"xAxis"])){dk=c9.getPlotLinePath(dl[dm?"y":"x"],1);if(c0[dm]){c0[dm].attr({d:dk,visibility:aq})}else{dj={"stroke-width":cN[dm].width||1,stroke:cN[dm].color||"#C0C0C0",zIndex:2};if(cN[dm].dashStyle){dj.dashstyle=cN[dm].dashStyle}c0[dm]=b6.path(dk).attr(dj).add()}}}}}return{shared:cO,refresh:cQ,hide:cW}}function cx(cW,c3){var cO,cN,cU,cY,c2=bK.zoomType,c0=/x/.test(c2),cZ=/y/.test(c2),cR=c0&&!br||cZ&&br,cX=cZ&&!br||c0&&br;function c1(c5){var c4;c5=c5||aH.event;if(!c5.target){c5.target=c5.srcElement}c4=c5.touches?c5.touches.item(0):c5;if(c5.type!="mousemove"||aH.opera){cb=t(ch)}if(a8){c5.chartX=c5.x;c5.chartY=c5.y}else{if(c4.layerX===aE){c5.chartX=c4.pageX-cb.left;c5.chartY=c4.pageY-cb.top}else{c5.chartX=c5.layerX;c5.chartY=c5.layerY}}return c5}function cT(c4){var c5={xAxis:[],yAxis:[]};bg(cp,function(c7,c6){var da=c7.translate,c9=c7.isXAxis,c8=br?!c9:c9;c5[c9?"xAxis":"yAxis"].push({axis:c7,value:da(c8?c4.chartX-M:bu-c4.chartY+cn,true)})});return c5}function cV(c9){var db,dc,c4=cW.hoverPoint,da=cW.hoverSeries,c7,c6,c5=cL,c8=br?c9.chartY:c9.chartX-M;if(bv&&c3.shared){dc=[];c7=b9.length;for(c6=0;c6<c7;c6++){if(b9[c6].visible&&b9[c6].tooltipPoints.length){db=b9[c6].tooltipPoints[c8];db._dist=bf(c8-db.plotX);c5=ah(c5,db._dist);dc.push(db)}}c7=dc.length;while(c7--){if(dc[c7]._dist>c5){dc.splice(c7,1)}}if(dc.length&&(dc[0].plotX!=bz)){bv.refresh(dc);bz=dc[0].plotX}}if(da&&da.tracker){db=da.tooltipPoints[c8];if(db&&db!=c4){db.onMouseOver()}}}function cQ(){var c5=cW.hoverSeries,c4=cW.hoverPoint;if(c4){c4.onMouseOut()}if(c5){c5.onMouseOut()}if(bv){bv.hide()}bz=null}function cS(){if(cY){var c6={xAxis:[],yAxis:[]},c4=cY.getBBox(),c7=c4.x-M,c5=c4.y-cn;if(cU){bg(cp,function(da,c9){var de=da.translate,dd=da.isXAxis,dc=br?!dd:dd,c8=de(dc?c7:bu-c5-c4.height,true),db=de(dc?c7+c4.width:bu-c5,true);c6[dd?"xAxis":"yAxis"].push({axis:da,min:ah(c8,db),max:aS(c8,db)})});aQ(cW,"selection",c6,bo)}cY=cY.destroy()}cW.mouseIsDown=bL=cU=false;ai(N,a5?"touchend":"mouseup",cS)}function cP(){var c5=true;ch.onmousedown=function(c6){c6=c1(c6);cW.mouseIsDown=bL=true;cO=c6.chartX;cN=c6.chartY;ag(N,a5?"touchend":"mouseup",cS)};var c4=function(da){if(da&&da.touches&&da.touches.length>1){return}da=c1(da);if(!a5){da.returnValue=false}var c6=da.chartX,db=da.chartY,c8=!bE(c6-M,db-cn);if(a5&&da.type=="touchstart"){if(af(da.target,"isTracker")){if(!cW.runTrackerClick){da.preventDefault()}}else{if(!cM&&!c8){da.preventDefault()}}}if(c8){if(!c5){cQ()}if(c6<M){c6=M}else{if(c6>M+bk){c6=M+bk}}if(db<cn){db=cn}else{if(db>cn+bu){db=cn+bu}}}if(bL&&da.type!="touchstart"){if((cU=Math.sqrt(Math.pow(cO-c6,2)+Math.pow(cN-db,2))>10)){if(cd&&(c0||cZ)&&bE(cO-M,cN-cn)){if(!cY){cY=b6.rect(M,cn,cR?1:bk,cX?1:bu,0).attr({fill:"rgba(69,114,167,0.25)",zIndex:7}).add()}}if(cY&&cR){var c9=c6-cO;cY.attr({width:bf(c9),x:(c9>0?0:c9)+cO})}if(cY&&cX){var c7=db-cN;cY.attr({height:bf(c7),y:(c7>0?0:c7)+cN})}}}else{if(!c8){cV(da)}}c5=c8;return c8||!cd};ch.onmousemove=c4;ag(ch,"mouseleave",cQ);ch.ontouchstart=function(c6){if(c0||cZ){ch.onmousedown(c6)}c4(c6)};ch.ontouchmove=c4;ch.ontouchend=function(){if(cU){cQ()}};ch.onclick=function(c9){var c7=cW.hoverPoint;c9=c1(c9);c9.cancelBubble=true;if(!cU){if(c7&&af(c9.target,"isTracker")){var c8=c7.plotX,c6=c7.plotY;aA(c7,{pageX:cb.left+M+(br?bk-c6:c8),pageY:cb.top+cn+(br?bu-c8:c6)});aQ(c7.series,"click",aA(c9,{point:c7}));c7.firePointEvent("click",c9)}else{aA(c9,cT(c9));if(bE(c9.chartX-M,c9.chartY-cn)){aQ(cW,"click",c9)}}}cU=false}}bO=function(){if(!cf){cW.trackerGroup=cf=b6.g("tracker").attr({zIndex:9}).add()}else{cf.translate(M,cn);if(br){cf.attr({width:cW.plotWidth,height:cW.plotHeight}).invert()}}};bO();if(c3.enabled){cW.tooltip=bv=cB(c3)}cP();ce=setInterval(function(){if(cl){cl()}},32);aA(this,{zoomX:c0,zoomY:cZ,resetTracker:cQ})}var cC=function(c8){var cS=c8.options.legend;if(!cS.enabled){return}var df=cS.layout=="horizontal",dg=cS.symbolWidth,cN=cS.symbolPadding,c7,de=cS.style,cV=cS.itemStyle,cW=cS.itemHoverStyle,cP=cS.itemHiddenStyle,c6=q(de.padding),dh=20,cZ=18,dc=4+c6+dg+cN,cQ,cO,c9,c2=0,c1,c5=cS.borderWidth,cX=cS.backgroundColor,cT,da,c4=cS.width,c0=c8.series,db=cS.reversed;function di(dn,dr){var dj=dn.legendItem,dp=dn.legendLine,dq=dn.legendSymbol,dl=cP.color,dm=dr?cS.itemStyle.color:dl,dk=dr?dn.color:dl;if(dj){dj.css({fill:dm})}if(dp){dp.attr({stroke:dk})}if(dq){dq.attr({stroke:dk,fill:dk})}}function dd(dl,dp,dk){var dj=dl.legendItem,dn=dl.legendLine,dq=dl.legendSymbol,dm=dl.checkbox;if(dj){dj.attr({x:dp,y:dk})}if(dn){dn.translate(dp,dk-4)}if(dq){dq.attr({x:dp+dq.xOff,y:dk+dq.yOff})}if(dm){dm.x=dp;dm.y=dk}}function cU(dj){var dk=dj.checkbox;bg(["legendItem","legendLine","legendSymbol"],function(dl){if(dj[dl]){dj[dl].destroy()}});if(dk){Y(dj.checkbox)}}function cY(){bg(c7,function(dj){var dk=dj.checkbox;if(dk){aB(dk,{left:(cT.attr("translateX")+dj.legendItemWidth+dk.x-40)+ao,top:(cT.attr("translateY")+dk.y-11)+ao})}})}function c3(ds){var dt,dq,dk,dm,dl,dj,dp,dr=ds.legendItem,dn=ds.series||ds;if(!dr){dp=/^(bar|pie|area|column)$/.test(dn.type);ds.legendItem=dr=b6.text(cS.labelFormatter.call(ds),0,0).css(ds.visible?cV:cP).on("mouseover",function(){ds.setState(W);dr.css(cW)}).on("mouseout",function(){dr.css(ds.visible?cV:cP);ds.setState()}).on("click",function(dw){var dx="legendItemClick",dv=function(){ds.setVisible()};if(ds.firePointEvent){ds.firePointEvent(dx,null,dv)}else{aQ(ds,dx,null,dv)}}).attr({zIndex:2}).add(cT);if(!dp&&ds.options&&ds.options.lineWidth){var du=ds.options;dj={"stroke-width":du.lineWidth,zIndex:2};if(du.dashStyle){dj.dashstyle=du.dashStyle}ds.legendLine=b6.path([ay,-dg-cN,0,az,-cN,0]).attr(dj).add(cT)}if(dp){dk=b6.rect((dm=-dg-cN),(dl=-11),dg,12,2).attr({"stroke-width":0,zIndex:3}).add(cT)}else{if(ds.options&&ds.options.marker&&ds.options.marker.enabled){dk=b6.symbol(ds.symbol,(dm=-dg/2-cN),(dl=-4),ds.options.marker.radius).attr(ds.pointAttr[ab]).attr({zIndex:3}).add(cT)}}if(dk){dk.xOff=dm;dk.yOff=dl}ds.legendSymbol=dk;di(ds,ds.visible);if(ds.options&&ds.options.showCheckbox){ds.checkbox=aw("input",{type:"checkbox",checked:ds.selected,defaultChecked:ds.selected},cS.itemCheckboxStyle,ch);ag(ds.checkbox,"click",function(dv){var dw=dv.target;aQ(ds,"checkboxClick",{checked:dw.checked},function(){ds.select()})})}}dd(ds,cQ,cO);dt=dr.getBBox();c9=cO;c2=dt.height;ds.legendItemWidth=dq=cS.itemWidth||dg+cN+dt.width+dh;if(df){cQ+=dq;da=c4||aS(cQ-dc,da);if(cQ-dc+dq>(c4||(cL-2*c6-dc))){cQ=dc;cO+=c2}}else{cO+=c2;da=c4||aS(dq,da)}c7.push(ds)}function cR(){cQ=dc;cO=cZ;da=0;c9=0;c7=[];if(!cT){cT=b6.g("legend").attr({zIndex:7}).add()}if(db){c0.reverse()}bg(c0,function(dn){if(!dn.options.showInLegend){return}var dm=(dn.options.legendType=="point")?dn.data:[dn];bg(dm,c3)});if(db){c0.reverse()}bA=c4||da;bs=c9-cZ+c2;if(c5||cX){bA+=2*c6;bs+=2*c6;if(!c1){c1=b6.rect(0,0,bA,bs,cS.borderRadius,c5||0).attr({stroke:cS.borderColor,"stroke-width":c5||0,fill:cX||am}).add(cT).shadow(cS.shadow)}else{if(bA>0&&bs>0){c1.animate({width:bA,height:bs})}}c1[c7.length?"show":"hide"]()}var dk=["left","right","top","bottom"],dl,dj=4;while(dj--){dl=dk[dj];if(de[dl]&&de[dl]!="auto"){cS[dj<2?"align":"verticalAlign"]=dl;cS[dj<2?"x":"y"]=q(de[dl])*(dj%2?-1:1)}}cT.align(aA(cS,{width:bA,height:bs}),true,bZ);if(!bI){cY()}}cR();ag(c8,"endResize",cY);return{colorizeItem:di,destroyItem:cU,renderLegend:cR}};function cF(cN){var cO=cN.type||bK.type||bK.defaultSeriesType,cR=bc[cO],cP,cQ=cy.hasRendered;if(cQ){if(br&&cO=="column"){cR=bc.bar}else{if(!br&&cO=="bar"){cR=bc.column}}}cP=new cR();cP.init(cy,cN);if(!cQ&&cP.inverted){br=true}if(cP.isCartesian){cd=cP.isCartesian}b9.push(cP);return cP}function cE(cN,cQ,cP){var cO;if(cN){aC(cP,cy);cQ=b(cQ,true);aQ(cy,"addSeries",{options:cN},function(){cO=cF(cN);cO.isDirty=true;cy.isDirtyLegend=true;if(cQ){cy.redraw()}})}return cO}bE=function(cN,cO){return cN>=0&&cN<=bk&&cO>=0&&cO<=bu};function ca(){if(bK.alignTicks!==false){bg(cp,function(cN){cN.adjustTickAmount()})}bn=null}function bS(cU){var cP=cy.isDirtyLegend,cO,cT=cy.isDirtyBox,cN=b9.length,cR=cN,cQ=cy.clipRect,cS;aC(cU,cy);while(cR--){cS=b9[cR];if(cS.isDirty&&cS.options.stacking){cO=true;break}}if(cO){cR=cN;while(cR--){cS=b9[cR];if(cS.options.stacking){cS.isDirty=true}}}bg(b9,function(cV){if(cV.isDirty){cV.cleanData();cV.getSegments();if(cV.options.legendType=="point"){cP=true}}});if(cP&&cG.renderLegend){cG.renderLegend();cy.isDirtyLegend=false}if(cd){if(!bI){bn=null;bg(cp,function(cV){cV.setScale()})}ca();cu();bg(cp,function(cV){if(cV.isDirty||cT){cV.redraw();cT=true}})}if(cT){cc();bO();if(cQ){aV(cQ);cQ.animate({width:cy.plotSizeX,height:cy.plotSizeY})}}bg(b9,function(cV){if(cV.isDirty&&cV.visible){cV.redraw()}});if(L&&L.resetTracker){L.resetTracker()}aQ(cy,"redraw")}function bN(cO){var cN=b5.loading;if(!bm){bm=aw(at,{className:"highcharts-loading"},aA(cN.style,{left:M+ao,top:cn+ao,width:bk+ao,height:bu+ao,zIndex:10,display:am}),ch);cw=aw("span",null,cN.labelStyle,bm)}cw.innerHTML=cO||b5.lang.loading;if(!cJ){aB(bm,{opacity:0,display:""});ak(bm,{opacity:cN.style.opacity},{duration:cN.showDuration});cJ=true}}function cD(){ak(bm,{opacity:0},{duration:b5.loading.hideDuration,complete:function(){aB(bm,{display:am})}});cJ=false}function cm(cQ){var cO,cN,cP;for(cO=0;cO<cp.length;cO++){if(cp[cO].options.id==cQ){return cp[cO]}}for(cO=0;cO<b9.length;cO++){if(b9[cO].options.id==cQ){return b9[cO]}}for(cO=0;cO<b9.length;cO++){cP=b9[cO].data;for(cN=0;cN<cP.length;cN++){if(cP[cN].id==cQ){return cP[cN]}}}return null}function bW(){var cN=b5.xAxis||{},cP=b5.yAxis||{},cO;cN=aj(cN);bg(cN,function(cR,cQ){cR.index=cQ;cR.isX=true});cP=aj(cP);bg(cP,function(cR,cQ){cR.index=cQ});cp=cN.concat(cP);cy.xAxis=[];cy.yAxis=[];cp=u(cp,function(cQ){cO=new bB(cy,cQ);cy[cO.isXAxis?"xAxis":"yAxis"].push(cO);return cO});ca()}function b7(){var cN=[];bg(b9,function(cO){cN=cN.concat(p(cO.data,function(cP){return cP.selected}))});return cN}function cr(){return p(b9,function(cN){return cN.selected})}bT=function(){aQ(cy,"selection",{resetSelection:true},bo);cy.toolbar.remove("zoom")};bo=function(cO){var cP=aM.lang,cN=cy.pointCount<100;cy.toolbar.add("zoom",cP.resetZoom,cP.resetZoomTitle,bT);if(!cO||cO.resetSelection){bg(cp,function(cQ){cQ.setExtremes(null,null,false,cN)})}else{bg(cO.xAxis.concat(cO.yAxis),function(cQ){var cR=cQ.axis;if(cy.tracker[cR.isXAxis?"zoomX":"zoomY"]){cR.setExtremes(cQ.min,cQ.max,false,cN)}})}bS()};function cI(cO,cN){b2=z(b5.title,cO);cj=z(b5.subtitle,cN);bg([["title",cO,b2],["subtitle",cN,cj]],function(cP){var cQ=cP[0],cT=cy[cQ],cS=cP[1],cR=cP[2];if(cT&&cS){cT.destroy();cT=null}if(cR&&cR.text&&!cT){cy[cQ]=b6.text(cR.text,0,0).attr({align:cR.align,"class":"highcharts-"+cQ,zIndex:1}).css(cR.style).add().align(cR,false,bZ)}})}function cH(){cA=(co||bQ).offsetWidth;bX=(co||bQ).offsetHeight;cy.chartWidth=cL=bK.width||cA||600;cy.chartHeight=bC=bK.height||(bX>19?bX:400)}function b4(){bQ=bK.renderTo;bU=C+S++;if(a6(bQ)){bQ=N.getElementById(bQ)}bQ.innerHTML="";if(!bQ.offsetWidth){co=bQ.cloneNode(0);aB(co,{position:a7,top:"-9999px",display:""});N.body.appendChild(co)}cH();cy.container=ch=aw(at,{className:"highcharts-container"+(bK.className?" "+bK.className:""),id:bU},aA({position:m,overflow:ax,width:cL+ao,height:bC+ao,textAlign:"left"},bK.style),co||bQ);cy.renderer=b6=bK.renderer=="SVG"?new r(ch,cL,bC):new aK(ch,cL,bC);var cN;if(/Gecko/.test(e)){cN=function(){aB(ch,{left:0,top:0});var cO=ch.getBoundingClientRect();aB(ch,{left:(-cO.left%1)+ao,top:(-cO.top%1)+ao})};cN();ag(aH,"resize",cN);ag(cy,"destroy",function(){ai(aH,"resize",cN)})}}cu=function(){var cN=b5.legend,cR=b(cN.margin,10),cP=cN.x,cO=cN.y,cT=cN.align,cS=cN.verticalAlign,cQ;bw();if((cy.title||cy.subtitle)&&!j(bH)){cQ=aS(cy.title&&!b2.floating&&!b2.verticalAlign&&b2.y||0,cy.subtitle&&!cj.floating&&!cj.verticalAlign&&cj.y||0);if(cQ){cn=aS(cn,cQ+b(b2.margin,15)+cK)}}if(cN.enabled&&!cN.floating){if(cT=="right"){if(!j(bF)){ct=aS(ct,bA-cP+cR+bR)}}else{if(cT=="left"){if(!j(b1)){M=aS(M,bA+cP+cR+cz)}}else{if(cS=="top"){if(!j(bH)){cn=aS(cn,bs+cO+cR+cK)}}else{if(cS=="bottom"){if(!j(bY)){b0=aS(b0,bs-cO+cR+bM)}}}}}}if(cd){bg(cp,function(cU){cU.getOffset()})}if(!j(b1)){M+=bx[3]}if(!j(bH)){cn+=bx[0]}if(!j(bY)){b0+=bx[2]}if(!j(bF)){ct+=bx[1]}cs()};function ck(){var cO;function cN(){var cQ=bK.width||bQ.offsetWidth,cP=bK.height||bQ.offsetHeight;if(cQ&&cP){if(cQ!=cA||cP!=bX){clearTimeout(cO);cO=setTimeout(function(){bq(cQ,cP,false)},100)}cA=cQ;bX=cP}}ag(window,"resize",cN);ag(cy,"destroy",function(){ai(window,"resize",cN)})}bq=function(cP,cN,cQ){var cR=cy.title,cO=cy.subtitle;bI+=1;aC(cQ,cy);b3=bC;by=cL;cL=w(cP);bC=w(cN);aB(ch,{width:cL+ao,height:bC+ao});b6.setSize(cL,bC);bk=cL-M-ct;bu=bC-cn-b0;bn=null;bg(cp,function(cS){cS.isDirty=true;cS.setScale()});bg(b9,function(cS){cS.isDirty=true});cy.isDirtyLegend=true;cy.isDirtyBox=true;cu();if(cR){cR.align(null,null,bZ)}if(cO){cO.align(null,null,bZ)}bS();b3=null;aQ(cy,"resize");setTimeout(function(){aQ(cy,"endResize",null,function(){bI-=1})},n&&n.duration||500)};cs=function(){cy.plotLeft=M=w(M);cy.plotTop=cn=w(cn);cy.plotWidth=bk=w(cL-M-ct);cy.plotHeight=bu=w(bC-cn-b0);cy.plotSizeX=br?bu:bk;cy.plotSizeY=br?bk:bu;bZ={x:cz,y:cK,width:cL-cz-bR,height:bC-cK-bM}};bw=function(){cn=b(bH,cK);ct=b(bF,bR);b0=b(bY,bM);M=b(b1,cz);bx=[0,0,0,0]};cc=function(){var cQ=bK.borderWidth||0,cO=bK.backgroundColor,cP=bK.plotBackgroundColor,cS=bK.plotBackgroundImage,cN,cR={x:M,y:cn,width:bk,height:bu};cN=2*cQ+(bK.shadow?8:0);if(cQ||cO){if(!bD){bD=b6.rect(cN/2,cN/2,cL-cN,bC-cN,bK.borderRadius,cQ).attr({stroke:bK.borderColor,"stroke-width":cQ,fill:cO||am}).add().shadow(bK.shadow)}else{bD.animate({width:cL-cN,height:bC-cN})}}if(cP){if(!bp){bp=b6.rect(M,cn,bk,bu,0).attr({fill:cP}).add().shadow(bK.plotShadow)}else{bp.animate(cR)}}if(cS){if(!b8){b8=b6.image(cS,M,cn,bk,bu).add()}else{b8.animate(cR)}}if(bK.plotBorderWidth){if(!bt){bt=b6.rect(M,cn,bk,bu,0,bK.plotBorderWidth).attr({stroke:bK.plotBorderColor,"stroke-width":bK.plotBorderWidth,zIndex:4}).add()}else{bt.animate(cR)}}cy.isDirtyBox=false};function bV(){var cP=b5.labels,cN=b5.credits,cO;cI();cG=cy.legend=new cC(cy);cu();bg(cp,function(cQ){cQ.setTickPositions(true)});ca();cu();cc();if(cd){bg(cp,function(cQ){cQ.render()})}if(!cy.seriesGroup){cy.seriesGroup=b6.g("series-group").attr({zIndex:3}).add()}bg(b9,function(cQ){cQ.translate();cQ.setTooltipPoints();cQ.render()});if(cP.items){bg(cP.items,function(){var cR=aA(cP.style,this.style),cQ=q(cR.left)+M,cS=q(cR.top)+cn+12;delete cR.left;delete cR.top;b6.text(this.html,cQ,cS).attr({zIndex:2}).css(cR).add()})}if(!cy.toolbar){cy.toolbar=cq(cy)}if(cN.enabled&&!cy.credits){cO=cN.href;b6.text(cN.text,0,0).on("click",function(){if(cO){location.href=cO}}).attr({align:cN.position.align,zIndex:8}).css(cN.style).add().align(cN.position)}bO();cy.hasRendered=true;if(co){bQ.appendChild(ch);Y(co)}}function bl(){var cO=b9.length,cN=ch.parentNode;aQ(cy,"destroy");ai(aH,"unload",bl);ai(cy);bg(cp,function(cP){ai(cP)});while(cO--){b9[cO].destroy()}ch.innerHTML="";ai(ch);if(cN){cN.removeChild(ch)}ch=null;b6.alignedObjects=null;clearInterval(ce);for(cO in cy){delete cy[cO]}}function cg(){var cN="onreadystatechange";if(!c&&N.readyState!="complete"){N.attachEvent(cN,function(){N.detachEvent(cN,cg);cg()});return}b4();bw();cs();bg(b5.series||[],function(cO){cF(cO)});cy.inverted=br=b(br,b5.chart.inverted);bW();cy.render=bV;cy.tracker=L=new cx(cy,b5.tooltip);bV();aQ(cy,"load");if(bJ){bJ.apply(cy,[cy])}bg(cy.callbacks,function(cO){cO.apply(cy,[cy])})}V=0;T=0;ag(aH,"unload",bl);if(bK.reflow!==false){ag(cy,"load",ck)}if(bP){for(bG in bP){ag(cy,bG,bP[bG])}}cy.options=b5;cy.series=b9;cy.addSeries=cE;cy.animation=b(bK.animation,true);cy.destroy=bl;cy.get=cm;cy.getSelectedPoints=b7;cy.getSelectedSeries=cr;cy.hideLoading=cD;cy.isInsidePlot=bE;cy.redraw=bS;cy.setSize=bq;cy.setTitle=cI;cy.showLoading=bN;cy.pointCount=0;cg()}a9.prototype.callbacks=[];var f=function(){};f.prototype={init:function(bk,M){var L=this,bl;L.series=bk;L.applyOptions(M);L.pointAttr={};if(bk.options.colorByPoint){bl=bk.chart.options.colors;if(!L.options){L.options={}}L.color=L.options.color=L.color||bl[V++];if(V>=bl.length){V=0}}bk.chart.pointCount++;return L},applyOptions:function(M){var L=this,bk=L.series;L.config=M;if(Z(M)||M===null){L.y=M}else{if(I(M)&&!Z(M.length)){aA(L,M);L.options=M}else{if(a6(M[0])){L.name=M[0];L.y=M[1]}else{if(Z(M[0])){L.x=M[0];L.y=M[1]}}}}if(L.x===aE){L.x=bk.autoIncrement()}},destroy:function(){var L=this,M=L.series,bk;M.chart.pointCount--;if(L==M.chart.hoverPoint){L.onMouseOut()}M.chart.hoverPoints=null;ai(L);bg(["graphic","tracker","group","dataLabel","connector"],function(bl){if(L[bl]){L[bl].destroy()}});if(L.legendItem){L.series.chart.legend.destroyItem(L)}for(bk in L){L[bk]=null}},select:function(bm,M){var L=this,bk=L.series,bl=bk.chart;L.selected=bm=b(bm,!L.selected);L.firePointEvent(bm?"select":"unselect");L.setState(bm&&x);if(!M){bg(bl.getSelectedPoints(),function(bn){if(bn.selected&&bn!=L){bn.selected=false;bn.setState(ab);bn.firePointEvent("unselect")}})}},onMouseOver:function(){var L=this,bk=L.series.chart,bl=bk.tooltip,M=bk.hoverPoint;if(M&&M!=L){M.onMouseOut()}L.firePointEvent("mouseOver");if(bl&&!bl.shared){bl.refresh(L)}L.setState(W);bk.hoverPoint=L},onMouseOut:function(){var L=this;L.firePointEvent("mouseOut");L.setState();L.series.chart.hoverPoint=null},update:function(M,bn,bm){var L=this,bk=L.series,bl=bk.chart;aC(bm,bl);bn=b(bn,true);L.firePointEvent("update",{options:M},function(){L.applyOptions(M);bk.isDirty=true;if(bn){bl.redraw()}})},remove:function(bn,bm){var L=this,M=L.series,bk=M.chart,bl=M.data;aC(bm,bk);bn=b(bn,true);L.firePointEvent("remove",null,function(){aP(bl,L);L.destroy();M.isDirty=true;if(bn){bk.redraw()}})},firePointEvent:function(bn,bl,M){var L=this,bm=this.series,bk=bm.options;if(bk.point.events[bn]||(L.options&&L.options.events&&L.options.events[bn])){this.importEvents()}if(bn=="click"&&bk.allowPointSelect){M=function(bo){L.select(null,bo.ctrlKey||bo.metaKey||bo.shiftKey)}}aQ(this,bn,bl,M)},importEvents:function(){if(!this.hasImportedEvents){var L=this,M=z(L.series.options.point,L.options),bl=M.events,bk;L.events=bl;for(bk in bl){ag(L,bk,bl[bk])}this.hasImportedEvents=true}},setState:function(M){var br=this,bn=br.series,bs=bn.options.states,bk=bj[bn.type].marker&&bn.options.marker,bm=bk&&!bk.enabled,bl=bk&&bk.states[M],bo=bl&&bl.enabled===false,bq=bn.stateMarkerGraphic,bp=bn.chart,L=br.pointAttr;if(!M){M=ab}if(M==br.state||(br.selected&&M!=x)||(bs[M]&&bs[M].enabled===false)||(M&&(bo||bm&&!bl.enabled))){return}if(br.graphic){br.graphic.attr(L[M])}else{if(M){if(!bq){bn.stateMarkerGraphic=bq=bp.renderer.circle(0,0,L[M].r).attr(L[M]).add(bn.group)}bq.translate(br.plotX,br.plotY)}if(bq){bq[M?"show":"hide"]()}}br.state=M}};var au=function(){};au.prototype={isCartesian:true,type:"line",pointClass:f,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(bn,M){var bm=this,bl,bk,L=bn.series.length;bm.chart=bn;M=bm.setOptions(M);aA(bm,{index:L,options:M,name:M.name||"Series "+(L+1),state:ab,pointAttr:{},visible:M.visible!==false,selected:M.selected===true});bk=M.events;for(bl in bk){ag(bm,bl,bk[bl])}if((bk&&bk.click)||(M.point&&M.point.events&&M.point.events.click)||M.allowPointSelect){bn.runTrackerClick=true}bm.getColor();bm.getSymbol();bm.setData(M.data,false)},autoIncrement:function(){var M=this,L=M.options,bk=M.xIncrement;bk=b(bk,L.pointStart,0);M.pointInterval=b(M.pointInterval,L.pointInterval,1);M.xIncrement=bk+M.pointInterval;return bk},cleanData:function(){var bl=this,bm=bl.chart,bn=bl.data,bp,bk,bo=bm.smallestInterval,L,M;bn.sort(function(br,bq){return(br.x-bq.x)});for(M=bn.length-1;M>=0;M--){if(bn[M-1]){if(bn[M-1].x==bn[M].x){bn.splice(M-1,1)}}}for(M=bn.length-1;M>=0;M--){if(bn[M-1]){L=bn[M].x-bn[M-1].x;if(bk===aE||L<bk){bk=L;bp=M}}}if(bo===aE||bk<bo){bm.smallestInterval=bk}bl.closestPoints=bp},getSegments:function(){var L=-1,M=[],bk=this.data;bg(bk,function(bl,bm){if(bl.y===null){if(bm>L+1){M.push(bk.slice(L+1,bm))}L=bm}else{if(bm==bk.length-1){M.push(bk.slice(L+1,bm+1))}}});this.segments=M},setOptions:function(bk){var L=this.chart.options.plotOptions,M=z(L[this.type],L.series,bk);return M},getColor:function(){var L=this.chart.options.colors;this.color=this.options.color||L[V++]||"#0000ff";if(V>=L.length){V=0}},getSymbol:function(){var L=this.chart.options.symbols,M=this.options.marker.symbol||L[T++];this.symbol=M;if(T>=L.length){T=0}},addPoint:function(br,bq,M,bk){var bm=this,bl=bm.data,bp=bm.graph,L=bm.area,bn=bm.chart,bo=(new bm.pointClass()).init(bm,br);aC(bk,bn);if(bp&&M){bp.shift=M}if(L){L.shift=M;L.isArea=true}bq=b(bq,true);bl.push(bo);if(M){bl[0].remove(false)}bm.isDirty=true;if(bq){bn.redraw()}},setData:function(bm,bo){var M=this,bn=M.data,bl=M.initialColor,bk=M.chart,L=bn&&bn.length||0;M.xIncrement=null;if(j(bl)){V=bl}bm=u(aj(bm||[]),function(bp){return(new M.pointClass()).init(M,bp)});while(L--){bn[L].destroy()}M.data=bm;M.cleanData();M.getSegments();M.isDirty=true;bk.isDirtyBox=true;if(b(bo,true)){bk.redraw(false)}},remove:function(bl,bk){var L=this,M=L.chart;bl=b(bl,true);if(!L.isRemoving){L.isRemoving=true;aQ(L,"remove",null,function(){L.destroy();M.isDirtyLegend=M.isDirtyBox=true;if(bl){M.redraw(bk)}})}L.isRemoving=false},translate:function(){var bm=this,bq=bm.chart,bp=bm.options.stacking,bo=bm.xAxis.categories,L=bm.yAxis,bl=bm.data,bn=bl.length;while(bn--){var bu=bl[bn],M=bu.x,bs=bu.y,br,bt=L.stacks[(bs<0?"-":"")+bm.stackKey],bv,bk;bu.plotX=bm.xAxis.translate(M);if(bp&&bm.visible&&bt[M]){bv=bt[M];bk=bv.total;bv.cum=br=bv.cum-bs;bs=br+bs;if(bp=="percent"){br=bk?br*100/bk:0;bs=bk?bs*100/bk:0}bu.percentage=bk?bu.y*100/bk:0;bu.stackTotal=bk;bu.yBottom=L.translate(br,0,1)}if(bs!==null){bu.plotY=L.translate(bs,0,1)}bu.clientX=bq.inverted?bq.plotHeight-bu.plotX:bu.plotX;bu.category=bo&&bo[bu.x]!==aE?bo[bu.x]:bu.x}},setTooltipPoints:function(bl){var bn=this,bo=bn.chart,M=bo.inverted,bm=[],bq=w((M?bo.plotTop:bo.plotLeft)+bo.plotSizeX),bp,bk,L=[];if(bl){bn.tooltipPoints=null}bg(bn.segments,function(br){bm=bm.concat(br)});if(bn.xAxis&&bn.xAxis.reversed){bm=bm.reverse()}bg(bm,function(br,bs){bp=bm[bs-1]?bm[bs-1].high+1:0;bk=br.high=bm[bs+1]?(U((br.plotX+(bm[bs+1]?bm[bs+1].plotX:bq))/2)):bq;while(bp<=bk){L[M?bq-bp++:bp++]=br}});bn.tooltipPoints=L},onMouseOver:function(){var M=this,bk=M.chart,L=bk.hoverSeries;if(!a5&&bk.mouseIsDown){return}if(L&&L!=M){L.onMouseOut()}if(M.options.events.mouseOver){aQ(M,"mouseOver")}if(M.tracker){M.tracker.toFront()}M.setState(W);bk.hoverSeries=M},onMouseOut:function(){var bk=this,M=bk.options,bl=bk.chart,bm=bl.tooltip,L=bl.hoverPoint;if(L){L.onMouseOut()}if(bk&&M.events.mouseOut){aQ(bk,"mouseOut")}if(bm&&!M.stickyTracking){bm.hide()}bk.setState();bl.hoverSeries=null},animate:function(bm){var M=this,bk=M.chart,L=M.clipRect,bl=M.options.animation;if(bl&&!I(bl)){bl={}}if(bm){if(!L.isAnimating){L.attr("width",0);L.isAnimating=true}}else{L.animate({width:bk.plotSizeX},bl&&aA(bl,{complete:function(){L.isAnimating=false;if(L!=bk.clipRect){M.group.clip((M.clipRect=bk.clipRect));L.destroy()}}}));this.animate=null}},drawPoints:function(){var bm=this,L,bl=bm.data,bp=bm.chart,M,br,bn,bq,bo,bk;if(bm.options.marker.enabled){bn=bl.length;while(bn--){bq=bl[bn];M=bq.plotX;br=bq.plotY;bk=bq.graphic;if(br!==aE&&!isNaN(br)){L=bq.pointAttr[bq.selected?x:ab];bo=L.r;if(bk){bk.animate({x:M,y:br,r:bo})}else{bq.graphic=bp.renderer.symbol(b(bq.marker&&bq.marker.symbol,bm.symbol),M,br,bo).attr(L).add(bm.group)}}}}},convertAttribs:function(bk,M,bp,bo){var bm=this.pointAttrToOptions,L,bl,bn={};bk=bk||{};M=M||{};bp=bp||{};bo=bo||{};for(L in bm){bl=bm[L];bn[L]=b(bk[bl],M[L],bp[L],bo[L])}return bn},getAttribs:function(){var bq=this,bk=bj[bq.type].marker?bq.options.marker:bq.options,bw=bk.states,M=bw[W],br,bs={},bl=bq.color,bp=bq.data,bo,bu,bn=[],L,bm=bq.pointAttrToOptions,bt;if(bq.options.marker){bs={stroke:bl,fill:bl};M.radius=M.radius||bk.radius+2;M.lineWidth=M.lineWidth||bk.lineWidth+1}else{bs={fill:bl};M.color=M.color||y(M.color||bl).brighten(M.brightness).get()}bn[ab]=bq.convertAttribs(bk,bs);bg([W,x],function(bx){bn[bx]=bq.convertAttribs(bw[bx],bn[ab])});bq.pointAttr=bn;bo=bp.length;while(bo--){bu=bp[bo];bk=(bu.options&&bu.options.marker)||bu.options;if(bk&&bk.enabled===false){bk.radius=0}bt=false;if(bu.options){for(var bv in bm){if(j(bk[bm[bv]])){bt=true}}}if(bt){L=[];bw=bk.states||{};br=bw[W]=bw[W]||{};if(!bq.options.marker){br.color=y(br.color||bu.options.color).brighten(br.brightness||M.brightness).get()}L[ab]=bq.convertAttribs(bk,bn[ab]);L[W]=bq.convertAttribs(bw[W],bn[W],L[ab]);L[x]=bq.convertAttribs(bw[x],bn[x],L[ab])}else{L=bn}bu.pointAttr=L}},destroy:function(){var bk=this,bl=bk.chart,M=bk.clipRect,bm=/\/5[0-9\.]+ Safari\//.test(e),L,bn;ai(bk);if(bk.legendItem){bk.chart.legend.destroyItem(bk)}bg(bk.data,function(bo){bo.destroy()});bg(["area","graph","dataLabelsGroup","group","tracker"],function(bo){if(bk[bo]){L=bm&&bo=="group"?"hide":"destroy";bk[bo][L]()}});if(bl.hoverSeries==bk){bl.hoverSeries=null}aP(bl.series,bk);for(bn in bk){delete bk[bn]}},drawDataLabels:function(){if(this.options.dataLabels.enabled){var bm=this,br,bq,bl=bm.data,bs=bm.options.dataLabels,bp,bn=bm.dataLabelsGroup,bo=bm.chart,L=bo.inverted,bk=bm.type,M;if(!bn){bn=bm.dataLabelsGroup=bo.renderer.g(C+"data-labels").attr({visibility:bm.visible?aq:ax,zIndex:5}).translate(bo.plotLeft,bo.plotTop).add()}M=bs.color;if(M=="auto"){M=null}bs.style.color=b(M,bm.color);bg(bl,function(bt,bx){var bv=b(bt.barX,bt.plotX,-999),bu=b(bt.plotY,-999),bw=bt.dataLabel,by=bs.align;bp=bs.formatter.call({x:bt.x,y:bt.y,series:bm,point:bt,percentage:bt.percentage,total:bt.total||bt.stackTotal});br=(L?bo.plotWidth-bu:bv)+bs.x;bq=(L?bo.plotHeight-bv:bu)+bs.y;if(bk=="column"){br+={center:bt.barW/2,right:bt.barW}[by]||0}if(bw){bw.animate({x:br,y:bq})}else{if(bp){bt.dataLabel=bo.renderer.text(bp,br,bq).attr({align:by,rotation:bs.rotation,zIndex:1}).css(bs.style).add(bn)}}})}},drawGraph:function(bn){var bq=this,bk=bq.options,bu=bq.chart,M=bq.graph,br=[],bm,bz=bq.area,bp=bq.group,by=bk.lineColor||bq.color,L=bk.lineWidth,bo=bk.dashStyle,bl,bx=bu.renderer,bs=bq.yAxis.getThreshold(bk.threshold||0),bA=/^area/.test(bq.type),bv=[],bw=[],bt;bg(bq.segments,function(bD){bl=[];bg(bD,function(bF,bG){if(bq.getPointSpline){bl.push.apply(bl,bq.getPointSpline(bD,bF,bG))}else{bl.push(bG?az:ay);if(bG&&bk.step){var bH=bD[bG-1];bl.push(bF.plotX,bH.plotY)}bl.push(bF.plotX,bF.plotY)}});if(bD.length>1){br=br.concat(bl)}else{bv.push(bD[0])}if(bA){var bE=[],bC,bB=bl.length;for(bC=0;bC<bB;bC++){bE.push(bl[bC])}if(bB==3){bE.push(az,bl[1],bl[2])}if(bk.stacking&&bq.type!="areaspline"){for(bC=bD.length-1;bC>=0;bC--){bE.push(bD[bC].plotX,bD[bC].yBottom)}}else{bE.push(az,bD[bD.length-1].plotX,bs,az,bD[0].plotX,bs)}bw=bw.concat(bE)}});bq.graphPath=br;bq.singlePoints=bv;if(bA){bm=b(bk.fillColor,y(bq.color).setOpacity(bk.fillOpacity||0.75).get());if(bz){bz.animate({d:bw})}else{bq.area=bq.chart.renderer.path(bw).attr({fill:bm}).add(bp)}}if(M){M.animate({d:br})}else{if(L){bt={stroke:by,"stroke-width":L};if(bo){bt.dashstyle=bo}bq.graph=bx.path(br).attr(bt).add(bp).shadow(bk.shadow)}}},render:function(){var bk=this,bl=bk.chart,bn,bo,M=bk.options,L=M.animation&&bk.animate,bm=bl.renderer;if(!bk.clipRect){bk.clipRect=!bl.hasRendered&&bl.clipRect?bl.clipRect:bm.clipRect(0,0,bl.plotSizeX,bl.plotSizeY);if(!bl.clipRect){bl.clipRect=bk.clipRect}}if(!bk.group){bn=bk.group=bm.g("series");if(bl.inverted){bo=function(){bn.attr({width:bl.plotWidth,height:bl.plotHeight}).invert()};bo();ag(bl,"resize",bo)}bn.clip(bk.clipRect).attr({visibility:bk.visible?aq:ax,zIndex:M.zIndex}).translate(bl.plotLeft,bl.plotTop).add(bl.seriesGroup)}bk.drawDataLabels();if(L){bk.animate(true)}bk.getAttribs();if(bk.drawGraph){bk.drawGraph()}bk.drawPoints();if(bk.options.enableMouseTracking!==false){bk.drawTracker()}if(L){bk.animate()}bk.isDirty=false},redraw:function(){var M=this,bk=M.chart,L=M.clipRect,bl=M.group;if(bl){if(bk.inverted){bl.attr({width:bk.plotWidth,height:bk.plotHeight})}bl.animate({translateX:bk.plotLeft,translateY:bk.plotTop})}M.translate();M.setTooltipPoints(true);M.render()},setState:function(bm){var bk=this,M=bk.options,bl=bk.graph,bn=M.states,L=M.lineWidth;bm=bm||ab;if(bk.state!=bm){bk.state=bm;if(bn[bm]&&bn[bm].enabled===false){return}if(bm){L=bn[bm].lineWidth||L+1}if(bl&&!bl.dashstyle){bl.attr({"stroke-width":L},bm?0:500)}}},setVisible:function(M,bt){var bm=this,bq=bm.chart,bp=bm.legendItem,br=bm.group,bv=bm.tracker,bo=bm.dataLabelsGroup,L,bl,bk=bm.data,bs,bu=bq.options.chart.ignoreHiddenSeries,bn=bm.visible;bm.visible=M=M===aE?!bn:M;L=M?"show":"hide";if(br){br[L]()}if(bv){bv[L]()}else{bl=bk.length;while(bl--){bs=bk[bl];if(bs.tracker){bs.tracker[L]()}}}if(bo){bo[L]()}if(bp){bq.legend.colorizeItem(bm,M)}bm.isDirty=true;if(bm.options.stacking){bg(bq.series,function(bw){if(bw.options.stacking&&bw.visible){bw.isDirty=true}})}if(bu){bq.isDirtyBox=true}if(bt!==false){bq.redraw()}aQ(bm,L)},show:function(){this.setVisible(true)},hide:function(){this.setVisible(false)},select:function(M){var L=this;L.selected=M=(M===aE)?!L.selected:M;if(L.checkbox){L.checkbox.checked=M}aQ(L,M?"select":"unselect")},drawTracker:function(){var bn=this,bt=bn.options,L=[].concat(bn.graphPath),bq=L.length,bp=bn.chart,M=bp.options.tooltip.snap,br=bn.tracker,bs=bt.cursor,bo=bs&&{cursor:bs},bm=bn.singlePoints,bk,bl;if(bq){bl=bq+1;while(bl--){if(L[bl]==ay){L.splice(bl+1,0,L[bl+1]-M,L[bl+2],az)}if((bl&&L[bl]==ay)||bl==bq){L.splice(bl,0,az,L[bl-2]+M,L[bl-1])}}}for(bl=0;bl<bm.length;bl++){bk=bm[bl];L.push(ay,bk.plotX-M,bk.plotY,az,bk.plotX+M,bk.plotY)}if(br){br.attr({d:L})}else{bn.tracker=bp.renderer.path(L).attr({isTracker:true,stroke:aJ,fill:am,"stroke-width":bt.lineWidth+2*M,visibility:bn.visible?aq:ax,zIndex:1}).on(a5?"touchstart":"mouseover",function(){if(bp.hoverSeries!=bn){bn.onMouseOver()}}).on("mouseout",function(){if(!bt.stickyTracking){bn.onMouseOut()}}).css(bo).add(bp.trackerGroup)}}};var Q=aR(au);bc.line=Q;var s=aR(au,{type:"area"});bc.area=s;var A=aR(au,{type:"spline",getPointSpline:function(M,bv,bw){var bt=1.5,L=bt+1,bm=bv.plotX,bk=bv.plotY,bl=M[bw-1],bx=M[bw+1],bq,bp,bs,br,bA;if(bw&&bw<M.length-1){var bo=bl.plotX,bn=bl.plotY,bz=bx.plotX,by=bx.plotY,bu;bq=(bt*bm+bo)/L;bp=(bt*bk+bn)/L;bs=(bt*bm+bz)/L;br=(bt*bk+by)/L;bu=((br-bp)*(bs-bm))/(bs-bq)+bk-br;bp+=bu;br+=bu;if(bp>bn&&bp>bk){bp=aS(bn,bk);br=2*bk-bp}else{if(bp<bn&&bp<bk){bp=ah(bn,bk);br=2*bk-bp}}if(br>by&&br>bk){br=aS(by,bk);bp=2*bk-br}else{if(br<by&&br<bk){br=ah(by,bk);bp=2*bk-br}}bv.rightContX=bs;bv.rightContY=br}if(!bw){bA=[ay,bm,bk]}else{bA=["C",bl.rightContX||bl.plotX,bl.rightContY||bl.plotY,bq||bm,bp||bk,bm,bk];bl.rightContX=bl.rightContY=null}return bA}});bc.spline=A;var a=aR(A,{type:"areaspline"});bc.areaspline=a;var aN=aR(au,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){au.prototype.init.apply(this,arguments);var L=this,M=L.chart;M.hasColumn=true;if(M.hasRendered){bg(M.series,function(bk){if(bk.type==L.type){bk.isDirty=true}})}},translate:function(){var br=this,bu=br.chart,bC=0,L=br.xAxis.reversed,bx=br.xAxis.categories,bD={},M,bB;au.prototype.translate.apply(br);bg(bu.series,function(bF){if(bF.type==br.type){if(bF.options.stacking){M=bF.stackKey;if(bD[M]===aE){bD[M]=bC++}bB=bD[M]}else{bB=bC++}bF.columnIndex=bB}});var bl=br.options,bE=br.data,bm=br.closestPoints,bn=bf(bE[1]?bE[bm].plotX-bE[bm-1].plotX:bu.plotSizeX/(bx?bx.length:1)),bz=bn*bl.groupPadding,bs=bn-2*bz,by=bs/bC,bw=bl.pointWidth,bq=j(bw)?(by-bw)/2:by*bl.pointPadding,bo=b(bw,by-2*bq),bv=(L?bC-br.columnIndex:br.columnIndex)||0,bA=bq+(bz+bv*by-(bn/2))*(L?-1:1),bk=bl.threshold||0,bt=br.yAxis.getThreshold(bk),bp=b(bl.minPointLength,5);bg(bE,function(bG){var bI=bG.plotY,bF=bG.yBottom||bt,bL=bG.plotX+bA,bK=bi(ah(bI,bF)),bM=bo,bH=bi(aS(bI,bF)-bK),bJ;if(bf(bH)<bp){if(bp){bH=bp;bK=bf(bK-bt)>bp?bF-bp:bt-(bI<=bt?bp:0)}bJ=bK-3}aA(bG,{barX:bL,barY:bK,barW:bM,barH:bH});bG.shapeType="rect";bG.shapeArgs={x:bL,y:bK,width:bM,height:bH,r:bl.borderRadius};bG.trackerArgs=j(bJ)&&z(bG.shapeArgs,{height:aS(6,bH+3),y:bJ})})},getSymbol:function(){},drawGraph:function(){},drawPoints:function(){var bk=this,L=bk.options,bl=bk.chart.renderer,bm,M;bg(bk.data,function(bn){var bo=bn.plotY;if(bo!==aE&&!isNaN(bo)){bm=bn.graphic;M=bn.shapeArgs;if(bm){aV(bm);bm.animate(M)}else{bn.graphic=bl[bn.shapeType](M).attr(bn.pointAttr[bn.selected?x:ab]).add(bk.group).shadow(L.shadow)}}})},drawTracker:function(){var M=this,bn=M.chart,bm=bn.renderer,L,bo,bl=+new Date(),bp=M.options.cursor,bk=bp&&{cursor:bp},bq;bg(M.data,function(br){bo=br.tracker;L=br.trackerArgs||br.shapeArgs;if(br.y!==null){if(bo){bo.attr(L)}else{br.tracker=bm[br.shapeType](L).attr({isTracker:bl,fill:aJ,visibility:M.visible?aq:ax,zIndex:1}).on(a5?"touchstart":"mouseover",function(bs){bq=bs.relatedTarget||bs.fromElement;if(bn.hoverSeries!=M&&af(bq,"isTracker")!=bl){M.onMouseOver()}br.onMouseOver()}).on("mouseout",function(bs){if(!M.options.stickyTracking){bq=bs.relatedTarget||bs.toElement;if(af(bq,"isTracker")!=bl){M.onMouseOut()}}}).css(bk).add(bn.trackerGroup)}}})},animate:function(bk){var L=this,M=L.data;if(!bk){bg(M,function(bl){var bm=bl.graphic;if(bm){bm.attr({height:0,y:L.yAxis.translate(0,0,1)});bm.animate({height:bl.barH,y:bl.barY},L.options.animation)}});L.animate=null}},remove:function(){var L=this,M=L.chart;if(M.hasRendered){bg(M.series,function(bk){if(bk.type==L.type){bk.isDirty=true}})}au.prototype.remove.apply(L,arguments)}});bc.column=aN;var ae=aR(aN,{type:"bar",init:function(L){L.inverted=this.inverted=true;aN.prototype.init.apply(this,arguments)}});bc.bar=ae;var X=aR(au,{type:"scatter",translate:function(){var L=this;au.prototype.translate.apply(L);bg(L.data,function(M){M.shapeType="circle";M.shapeArgs={x:M.plotX,y:M.plotY,r:L.chart.options.tooltip.snap}})},drawTracker:function(){var M=this,bk=M.options.cursor,L=bk&&{cursor:bk},bl;bg(M.data,function(bm){bl=bm.graphic;if(bl){bl.attr({isTracker:true}).on("mouseover",function(bn){M.onMouseOver();bm.onMouseOver()}).on("mouseout",function(bn){if(!M.options.stickyTracking){M.onMouseOut()}}).css(L)}})},cleanData:function(){}});bc.scatter=X;var ac=aR(f,{init:function(){f.prototype.init.apply(this,arguments);var L=this,M;aA(L,{visible:L.visible!==false,name:b(L.name,"Slice")});M=function(){L.slice()};ag(L,"select",M);ag(L,"unselect",M);return L},setVisible:function(bn){var L=this,bl=L.series.chart,bm=L.tracker,bk=L.dataLabel,M=L.connector,bo;L.visible=bn=bn===aE?!L.visible:bn;bo=bn?"show":"hide";L.group[bo]();if(bm){bm[bo]()}if(bk){bk[bo]()}if(M){M[bo]()}if(L.legendItem){bl.legend.colorizeItem(L,bn)}},slice:function(bk,bo,bn){var L=this,bl=L.series,bm=bl.chart,M=L.slicedTranslation;aC(bn,bm);bo=b(bo,true);bk=L.sliced=j(bk)?bk:!L.sliced;L.group.animate({translateX:(bk?M[0]:bm.plotLeft),translateY:(bk?M[1]:bm.plotTop)})}});var l=aR(au,{type:"pie",isCartesian:false,pointClass:ac,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=V},animate:function(bk){var L=this,M=L.data;bg(M,function(bm){var bo=bm.graphic,bn=bm.shapeArgs,bl=-o/2;if(bo){bo.attr({r:0,start:bl,end:bl});bo.animate({r:bn.r,start:bn.start,end:bn.end},L.options.animation)}});L.animate=null},translate:function(){var bC=0,bu=this,bx=-0.25,M=bu.options,bl=M.slicedOffset,bt=bl+M.borderWidth,bs=M.center,bw=bu.chart,br=bw.plotWidth,bz=bw.plotHeight,bm,bk,bA,bB=bu.data,bv=2*o,bp,by=ah(br,bz),L,bq,bo,bn=M.dataLabels.distance;bs.push(M.size,M.innerSize||0);bs=u(bs,function(bE,bD){L=/%$/.test(bE);return L?[br,bz,by,by][bD]*q(bE)/100:bE});bu.getX=function(bE,bD){bA=aa.asin((bE-bs[1])/(bs[2]/2+bn));return bs[0]+(bD?-1:1)*(aY(bA)*(bs[2]/2+bn))};bu.center=bs;bg(bB,function(bD){bC+=bD.y});bg(bB,function(bD){bp=bC?bD.y/bC:0;bm=bx*bv;bx+=bp;bk=bx*bv;bD.shapeType="arc";bD.shapeArgs={x:bs[0],y:bs[1],r:bs[2]/2,innerR:bs[3]/2,start:bm,end:bk};bA=(bk+bm)/2;bD.slicedTranslation=u([aY(bA)*bl+bw.plotLeft,F(bA)*bl+bw.plotTop],w);bq=aY(bA)*bs[2]/2;bo=F(bA)*bs[2]/2;bD.tooltipPos=[bs[0]+bq*0.7,bs[1]+bo*0.7];bD.labelPos=[bs[0]+bq+aY(bA)*bn,bs[1]+bo+F(bA)*bn,bs[0]+bq+aY(bA)*bt,bs[1]+bo+F(bA)*bt,bs[0]+bq,bs[1]+bo,bn<0?"center":bA<bv/4?"left":"right",bA];bD.percentage=bp*100;bD.total=bC});this.setTooltipPoints()},render:function(){var L=this;L.getAttribs();this.drawPoints();if(L.options.enableMouseTracking!==false){L.drawTracker()}this.drawDataLabels();if(L.options.animation&&L.animate){L.animate()}L.isDirty=false},drawPoints:function(){var M=this,bk=M.chart,bl=bk.renderer,bn,bm,L;bg(M.data,function(bo){bm=bo.graphic;L=bo.shapeArgs;if(!bo.group){bn=bo.sliced?bo.slicedTranslation:[bk.plotLeft,bk.plotTop];bo.group=bl.g("point").attr({zIndex:5}).add().translate(bn[0],bn[1])}if(bm){bm.animate(L)}else{bo.graphic=bl.arc(L).attr(bo.pointAttr[ab]).add(bo.group)}if(bo.visible===false){bo.setVisible(false)}})},drawDataLabels:function(){var bt=this,bI=bt.data,bx,bv=bt.chart,bo=bt.options.dataLabels,bB=b(bo.connectorPadding,10),bH=b(bo.connectorWidth,1),M,bu,bF=bo.distance>0,L,bw,bm,bp,bq=bt.center[1],bk=[[],[],[],[]],bs,br,bA,bl,bn,bC,bG,bE,bD,bz=4,by;au.prototype.drawDataLabels.apply(bt);bg(bI,function(bJ){var bL=bJ.labelPos[7],bK;if(bL<0){bK=0}else{if(bL<o/2){bK=1}else{if(bL<o){bK=2}else{bK=3}}}bk[bK].push(bJ)});bk[1].reverse();bk[3].reverse();bD=function(bK,bJ){return bK.y>bJ.y};while(bz--){bl=0;bn=[].concat(bk[bz]);bn.sort(bD);by=bn.length;while(by--){bn[by].rank=by}for(bC=0;bC<2;bC++){bE=bz%3;bp=bE?9999:-9999;bG=bE?-1:1;for(by=0;by<bk[bz].length;by++){bx=bk[bz][by];if((L=bx.dataLabel)){bw=bx.labelPos;bA=aq;bs=bw[0];br=bw[1];if(!bm){bm=L&&L.getBBox().height}if(bF){if(bC&&bx.rank<bl){bA=ax}else{if((!bE&&br<bp+bm)||(bE&&br>bp-bm)){br=bp+bG*bm;bs=bt.getX(br,bz>1);if((!bE&&br+bm>bq)||(bE&&br-bm<bq)){if(bC){bA=ax}else{bl++}}}}}if(bx.visible===false){bA=ax}if(bA==aq){bp=br}if(bC){L.attr({visibility:bA,align:bw[6]})[L.moved?"animate":"attr"]({x:bs+bo.x+({left:bB,right:-bB}[bw[6]]||0),y:br+bo.y});L.moved=true;if(bF&&bH){M=bx.connector;bu=[ay,bs+(bw[6]=="left"?5:-5),br,az,bs,br,az,bw[2],bw[3],az,bw[4],bw[5]];if(M){M.animate({d:bu});M.attr("visibility",bA)}else{bx.connector=M=bt.chart.renderer.path(bu).attr({"stroke-width":bH,stroke:bo.connectorColor||"#606060",visibility:bA,zIndex:3}).translate(bv.plotLeft,bv.plotTop).add()}}}}}}}},drawTracker:aN.prototype.drawTracker,getSymbol:function(){}});bc.pie=l;aH.Highcharts={Chart:a9,dateFormat:aF,pathAnim:k,getOptions:H,numberFormat:h,Point:f,Renderer:aK,seriesTypes:bc,setOptions:aG,Series:au,addEvent:ag,createElement:aw,discardElement:Y,css:aB,each:bg,extend:aA,map:u,merge:z,pick:b,extendClass:aR,version:"2.1.1"}})();(function(a){a.fn.ellipsis=function(c){if(typeof(this.text)!="function"){return}var b=this.text();if(typeof(c)!="undefined"&&b.length>c){this.text(b.substr(0,c)+"...")}return this}})(jQuery);var rdx=new function(){this.ext=new Object();this.EXTENSIONS=[];this.INFO="INFO";this.ERROR="ERROR";this.CONFIRMATION="confirmation";this.WARNING="warning";this.SORT_ASCENDING="ascending";this.SORT_DESCENDING="descending";this.SERVER_SORTING=false;this.FRAMEWORK_BASE="/admin_ui";this.APP_IMAGE_BASE="/";this.APP_I18N_BASE="/";this.APP_I18N_FILE_NAME="";this.APP_HELP_BASE="/";this.APP_HELP_OBJECT_NAME="";this.APP_TOOL_BAR_ACTIONS=[];this.APP_ERR_CODES=[];this.STAND_ALONE=false;this.CONTEXT_MENU=true;this.PAGINATION_DEFAULT_PAGE_SIZE=25;this.PAGINATION_PAGE_NUMBER_OPTION=[25,50,100,250];this.JOBS=false;this.LICENSE_KEY="license";this.FEATURE_KEY="feature";this._REGISTRY=new Object();this._registry_tree_key="tree";this.register_tree=function(a){this._REGISTRY[this._registry_tree_key]=a};this.get_tree=function(){return this._REGISTRY[this._registry_tree_key]};this.unregister_tree=function(){if(this._REGISTRY[this._registry_tree_key]){delete this._REGISTRY[this._registry_tree_key]}}};rdx.utils=new function(){this.is_ie=function(){var ua=navigator.userAgent.toLowerCase();return((ua.indexOf("msie")!=-1)&&(ua.indexOf("opera")==-1)&&(ua.indexOf("webtv")==-1))};this.is_chrome_safari=function(){return(this.is_chrome()||this.is_safari())};this.is_chrome=function(){var n_vendor=null;if(rdx.utils.is_defined(navigator.vendor)){n_vendor=navigator.vendor.toLowerCase()}else{n_vendor=""}var n_agent=navigator.userAgent.toLowerCase();return(n_agent.indexOf("chrome")!=-1)&&(n_vendor.indexOf("google")!=-1)};this.is_safari=function(){var n_vendor=null;if(rdx.utils.is_defined(navigator.vendor)){n_vendor=navigator.vendor.toLowerCase()}else{n_vendor=""}var n_agent=navigator.userAgent.toLowerCase();return(n_agent.indexOf("safari")!=-1)&&(n_vendor.indexOf("apple")!=-1)};this.do_logout=function(has_session_timed_out){window.onbeforeunload();window.onunload();var login=new Object();login.sessionid=this.get_cookie("SESSID");if(has_session_timed_out){this._reset_cookie_and_redirect_root("Deleted")}else{var utils=this;rdx.model.remove(this.get_resource("login"),new rdx.callback(null,function(response){utils._reset_cookie_and_redirect_root(response.login[0]["sessionid"])}),login)}};this._reset_cookie_and_redirect_root=function(value){this.set_cookie("SESSID",value,1);window.onbeforeunload=function(){};window.onunload=function(){};var header_view=this.get_view("header_view");if(this.is_defined(header_view,header_view.view_properties.logout_url)){window.location.href=header_view.view_properties.logout_url}else{window.location.href="/"}};this.get_detailed_error_message=function(err){var error_message="";if(typeof(err)=="string"){return err}if(this.is_defined(err.name)){error_message+=err.name+": "}error_message+=err.message;if(this.is_defined(err.lineNumber)){error_message+=" at line "+err.lineNumber}if(this.is_defined(err.fileName)){error_message+=" in file "+err.fileName}return error_message};this.merge=function(object1,object2){return $.extend(true,{},object1,object2)};this.is_array=function(object){return this.is_defined(object)&&!(object.propertyIsEnumerable("length"))&&typeof(object)=="object"&&typeof(object.length)=="number"};this.clone_array=function(array){return array.slice()};this.unshift_clone_array=function(array,elements){var clone=this.clone_array(array);elements.splice(0,0,0,0);clone.splice.apply(clone,elements);return clone};this.create_2D_array=function(m,n){n=n||m;var array=new Array(m);for(var i=0;i<m;i++){array[i]=new Array(n)}return array};this.random=function(){return(Math.random()+"").replace(/\./,"")};this.get_view=function(view_str){if(rdx.views&&rdx.views[view_str]){return rdx.views[view_str]}throw"View definition is not found: "+view_str};this.get_resource=function(resource_str){if(rdx.resources&&rdx.resources[resource_str]){return rdx.resources[resource_str]}throw"Resource definition is not found: "+resource_str};this.get_enum=function(enum_str){if(rdx.enums&&rdx.enums[enum_str]){return rdx.enums[enum_str]}throw"Enum definition is not found: "+enum_str};this.create_right_aligned_table=function(content){var right_aligned_table=$(document.createElement("table")).addClass("full_width_table").attr("cellPadding",0).attr("cellSpacing",0);if(!right_aligned_table.html().match(/<tbody>/i)){right_aligned_table.append(document.createElement("tbody"))}var row=$(right_aligned_table[0].tBodies[0].insertRow(-1));$(row[0].insertCell(-1)).attr("align","right").append(content);return right_aligned_table};this.set_focus_on_first_editable_component=function(parent){if(!parent||!parent.childNodes){return false}for(var i=0,end_index=parent.childNodes.length;i<end_index;i++){var child_node=parent.childNodes[i];var node_name=child_node.nodeName.toLowerCase();if((node_name=="input"||node_name=="textarea")&&child_node.type!="hidden"&&child_node.disabled!=true&&child_node.readOnly!=true){try{child_node.focus()}catch(err){}return true}if(this.set_focus_on_first_editable_component(child_node)){return true}}return false};this.add_image_error_handler=function(img,path){if(!path){path=rdx.images.SPACER_IMG}img.bind(rdx.events.ERROR,{ns_img:img,ns_path:path},function(event){event.data.ns_img.attr("src",event.data.ns_path)})};this.set_width=function(element,width){var non_content_width=element.outerWidth(true)-element.width();element.width(width-non_content_width)};this.set_height=function(element,height){var non_content_height=element.outerHeight(true)-element.height();element.height(height-non_content_height)};this.set_cookie=function(name,value,seconds,end_of_session){var expires="";var path="; path=/";var secure=(location.protocol=="https:")?"; secure":"";if(!end_of_session){if(!seconds){seconds=60*60*24*30*12}var date=new Date();date.setTime(date.getTime()+(seconds*1000));expires="; expires="+date.toGMTString()}document.cookie=name+"="+escape(value)+expires+path+secure};this.get_cookie=function(name){name=name+"=";var cookies=document.cookie.split(";");for(var i=0;i<cookies.length;i++){var cookie=cookies[i];while(cookie.charAt(0)==" "){cookie=cookie.substring(1,cookie.length)}if(cookie.indexOf(name)==0){return unescape(cookie.substring(name.length,cookie.length))}}return null};this.sort_string=function(a,b){return(a==b)?0:((a<b)?-1:1)};this.sort_date=function(a,b){var a_time=(new Date(parseInt(a))).getTime();var b_time=(new Date(parseInt(b))).getTime();return a_time-b_time};this.sort_number=function(a,b){try{a=parseFloat(a.replace(eval("/["+rdx.i18n.get_grouping_separator()+"]/g"),""));b=parseFloat(b.replace(eval("/["+rdx.i18n.get_grouping_separator()+"]/g"),""));return a-b}catch(err){return this.sort_string(a,b)}};this.sort_ip_port_protocol=function(a,b){a=a.replace(/[:.]\d* - [\w-_]+$/,"");b=b.replace(/[:.]\d* - [\w-_]+$/,"");return this.sort_ip(a,b)};this.sort_ip=function(a,b){var a_is_ipv6=rdx.utils.is_ipv6(a);var b_is_ipv6=rdx.utils.is_ipv6(b);if(a_is_ipv6!=b_is_ipv6){if(!a_is_ipv6&&b_is_ipv6){return -1}return 1}if(a_is_ipv6){return this.sort_ipv6(a,b)}return this.sort_ipv4(a,b)};this.sort_ipv6=function(a,b){var arr=a.split("/");a=arr[0];arr=b.split("/");b=arr[0];try{var a_addr=this.get_ipv6_address_bytes(a);var b_addr=this.get_ipv6_address_bytes(b);for(var i=0;i<16;i++){if(a_addr[i]!=b_addr[i]){return(a_addr[i]&255)-(b_addr[i]&255)}}}catch(err){}return 1};this.sort_ipv4=function(a,b){var a_tokens=a.split(".");var b_tokens=b.split(".");if(a_tokens.length==4&&b_tokens.length==4){try{var d1=parseInt(a_tokens[0]);var d2=parseInt(a_tokens[1]);var d3=parseInt(a_tokens[2]);var d4=parseInt(a_tokens[3]);var d11=parseInt(b_tokens[0]);var d22=parseInt(b_tokens[1]);var d33=parseInt(b_tokens[2]);var d44=parseInt(b_tokens[3])}catch(err){return 1}if(d1>d11){return 1}if(d1<d11){return -1}if(d2>d22){return 1}if(d2<d22){return -1}if(d3>d33){return 1}if(d3<d33){return -1}if(d4>d44){return 1}if(d4<d44){return -1}return 0}return this.sort_string(a,b)};this.sort_default=function(a,b){return this.sort_number(a,b)};this.get_ipv6_address_bytes=function(ipv6_str){var ipv6_arr=ipv6_str.split(":");var no_of_octets_missing=8-ipv6_arr.length+1;var new_ipv6_arr=new Array();for(var i=0,end_index=ipv6_arr.length;i<end_index;i++){if(ipv6_arr[i]==""){for(var j=0;j<no_of_octets_missing;j++){new_ipv6_arr.push("0000")}}else{new_ipv6_arr.push(this.ensure_four_digits_in_octet(ipv6_arr[i]))}}var byte_arr=new Array(16);var j=0;for(var i=0,end_index=new_ipv6_arr.length;i<end_index;i++){byte_arr[j++]=parseInt(new_ipv6_arr[i].substr(0,2),16);byte_arr[j++]=parseInt(new_ipv6_arr[i].substr(2,2),16)}return byte_arr};this.ensure_four_digits_in_octet=function(str){switch(str.length){case 4:return str;case 3:return"0"+str;case 2:return"00"+str;case 1:return"000"+str}return str};this.is_ipv4=function(ip_address){if(rdx.utils.is_defined(ip_address)){return ip_address.match(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/)}return false};this.is_ipv6=function(ip_address){if(rdx.utils.is_defined(ip_address)){return(ip_address.indexOf(":")>-1)}return false};this.is_function=function(object){return(object!=null&&typeof(object)=="function")};this.is_defined=function(){var is_defined=true;for(var index=0;index<arguments.length;index++){if((typeof(arguments[index])=="undefined"||arguments[index]==null)){is_defined=false;break}}return is_defined};this.is_not_defined=function(){var is_not_defined=false;for(var index=0;index<arguments.length;index++){if((typeof(arguments[index])=="undefined"||arguments[index]==null)){is_not_defined=true;break}}return is_not_defined};this.is_empty=function(){var is_empty=true;for(var index=0;index<arguments.length;index++){if(this.is_defined(arguments[index])&&arguments[index]!=""){is_empty=false;break}}return is_empty};this.is_not_empty=function(){var is_not_empty=false;for(var index=0;index<arguments.length;index++){if(this.is_defined(arguments[index])&&arguments[index]!=""){is_not_empty=true;break}}return is_not_empty};this.load_script=function(file_name){var load_status=false;$.ajax({async:false,type:"GET",url:file_name,cache:true,dataType:"script",success:function(){load_status=true}});return load_status};this.count_property=function(obj){var count=0;for(var prop in obj){if(obj.hasOwnProperty(prop)){count++}}return count};this.clone_resrc_with_keys=function(resrc_defn,orig_resrc){var new_resrc=new Object();var pkeys=resrc_defn.primary_keys;last=pkeys.length;for(var i=0;i<last;i++){new_resrc[pkeys[i]]=orig_resrc[pkeys[i]]}return new_resrc};this.is_same_object=function(resrc1,resrc2,keys_to_compare){if(this.is_not_defined(resrc1)||this.is_not_defined(resrc2)){return false}for(var i=0,last=keys_to_compare.length;i<last;i++){if(resrc1[keys_to_compare[i]]!=resrc2[keys_to_compare[i]]){return false}}return true};this.is_num=function(val_str){return this.is_defined(val_str)&&val_str.replace(/\d/g,"").length>0};this.get_collated_key=function(response_data,keys){var collated_key="";for(var j=0;j<keys.length;j++){collated_key+=((j!=0)?"^":"")+response_data[keys[j]]}return collated_key};this.get_key_based_structure_for_response=function(response,primary_keys){var return_map=new Array();for(var i=0,end_index=response.length;i<end_index;i++){return_map[this.get_collated_key(response[i],primary_keys)]=response[i]}return return_map};this.get_formatted_string=function(string,key,value){if(this.is_not_defined(string)||string==""){return""}var key_reg_exp=new RegExp("\\{"+key+"\\}","g");string=string.replace(key_reg_exp,value);return string};this.openwindow=function(str_URL,target_window,width,height){target_window=target_window.replace(/\./g,"");var wndw=window.open(str_URL,target_window,"toolbar=no,status=no,width="+width+",height="+height+",scrollbars=yes,resizable=yes");if(!wndw){alert(rdx.i18n.get_string("rdx.link_popup_blocker_msg"))}else{try{var centerx=(screen.width-width)/2;var centery=(screen.height-height)/2;wndw.moveTo(centerx,centery);wndw.focus()}catch(err){}}return wndw};this.ajax=function(method,url,params,sucess_callback,isAsync){isAsync=this.is_not_defined(isAsync)?true:false;var req=window.XMLHttpRequest?new window.XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP");try{req.onreadystatechange=function(){if(req.readyState!=rdx.ajax_handler_constants.HTTP_RESPONSE_READY_STATE){return}if(this.is_defined(sucess_callback)){sucess_callback.call_back()}};req.open(method,url,isAsync);if(method==rdx.ajax_handler_constants.POST){req.setRequestHeader(rdx.ajax_handler_constants.HTTP_HEADER_CONTENT_TYPE,"application/x-www-form-urlencoded")}req.setRequestHeader(rdx.ajax_handler_constants.HTTP_HEADER_IF_MODIFIED_SINCE,new Date(0));if(method==rdx.ajax_handler_constants.POST||method==rdx.ajax_handler_constants.PUT){req.send(params)}else{req.send()}}catch(err){var error_message=rdx.i18n.get_string("rdx.ajax_request_error",{url:this._url,error:this.get_detailed_error_message(err)});rdx.message_box.error(error_message);rdx.status_bar.update_status(error_message,rdx.ERROR)}};this.convert_array_to_map=function(arrayObj){if(this.is_not_defined(arrayObj)||!this.is_array(arrayObj)){return arrayObj}var mapObj={};for(var i=0,end_index=arrayObj.length;i<end_index;i++){mapObj[arrayObj[i]]=arrayObj[i]}return mapObj};this.is_object_not_empty=function(object){return !this.is_object_empty(object)};this.is_object_empty=function(object){if(this.is_not_defined(object)){return true}var is_empty=true;for(var key in object){is_empty=false;break}return is_empty};this.get_elements_not_in_second_array=function(first_arr,second_arr){if(this.is_defined(first_arr)&&this.is_array(first_arr)){if(this.is_defined(second_arr)&&this.is_array(second_arr)){var result=new Array();map_second=this.convert_array_to_map(second_arr);for(var i=0;i<first_arr.length;i++){var key=first_arr[i];if(this.is_not_defined(map_second[key])){result.push(first_arr[i])}}return result}else{return first_arr}}return null};this.get_formatted_response=function(response){var formatted_response=response;if(this.is_array(response)){if(response.length>0){formatted_response=response[0]}else{formatted_response=null}}return formatted_response};this.to_string_array=function(array_of_objects,key){if(this.is_not_defined(array_of_objects,key)||!this.is_array(array_of_objects)){return array_of_objects}var string_array=new Array(array_of_objects.length);for(var i=0,end_index=string_array.length;i<end_index;i++){string_array[i]=array_of_objects[i][key]}return string_array};this.update_key_based_map=function(map,key,array_of_objects){if(this.is_not_defined(map,key,array_of_objects)||!this.is_array(array_of_objects)){return}for(var i=0,end_index=array_of_objects.length;i<end_index;i++){var value=array_of_objects[i][key];if(this.is_defined(map[value])){continue}map[value]=array_of_objects[i]}};this.object_keys=function(object){if(this.is_not_defined(object)){return object}var keys=new Array();for(var key in object){keys.push(key)}return keys};this.object_values=function(object){if(this.is_not_defined(object)){return object}var values=new Array();for(var key in object){values.push(object[key])}return values};this.sort_array=function(array,key){if(this.is_not_defined(array,key)||!this.is_array(array)){return}array.sort(function(a,b){a=a[key];b=b[key];if(a<b){return -1}if(a>b){return 1}return 0})};this.log=function(){if(this.is_not_defined(console,console.log)){return}for(var i=0,end_index=arguments.length;i<end_index;i++){console.log(arguments[i])}};this.trim=function(val){if(rdx.utils.is_defined(val)){return $.trim(val)}return val}};rdx.events=new function(){this.CLICK="click";this.CONTEXT_MENU="contextmenu";this.DOUBLE_CLICK="dblclick";this.SUBMIT="submit";this.CHANGE="change";this.SORT_STOP="sortstop";this.RESIZE="resize";this.LOAD="load";this.ERROR="error";this.BLUR="blur";this.KEYUP="keyup";this.KEYDOWN="keydown";this.WINDOW_LOADED="rdx_window_loaded";this.APP_LOADED="rdx_app_loaded";this.PAGE_LOADED="rdx_page_loaded";this.PAGE_RESIZED="rdx_page_resized";this.PAGE_BLURRED="rdx_page_blurred";this.PAGE_FOCUSSED="rdx_page_focussed";this.PAGE_BEFORE_UNLOAD="rdx_page_before_unload";this.PAGE_UNLOAD="rdx_page_unload";this.GADGET_COLLAPSED="rdx_gadget_collapsed";this.GADGET_EXPANDED="rdx_gadget_expanded";this.GADGET_RESTORED="rdx_gadget_restored";this.GADGET_MAXIMIZED="rdx_gadget_maximized";this.GADGET_CLOSED="rdx_gadget_closed";this.CACHE_OBJECT_AVAILABLE="rdx_cache_object_available";this.MODEL_CHANGED="rdx_model_changed";this.WIZARD_PAGE_CHANGED="rdx_wizard_changed";this.ROW_SELECTION_CHANGED="rdx_row_selection_changed";this.SORT_TABLE_VIEW="rdx_sort_table_view";this.VIEW_COUNT_CHANGED="rdx_view_count_changed";this.PAGINATION_CHANGED="rdx_pagination_changed";this.VIEW_DESTROYED="rdx_view_destroyed"};rdx.keycodes=new function(){this.TAB=9;this.DELETE=46;this.BACKSPACE=8;this.ZERO=48;this.NINE=57;this.FIVE=53;this.SHIFT=16;this.COLON=59;this.SHIFTCOLON=186;this.LEFTARROW=37;this.F=70;this.FWDSLASH=191};rdx.page=new function(){this._status_bar=null;this._header=null;this._loading_content=null;this._content=null;this._footer=null;this._auto_refresh_info=null;this._active_element_for_blur=null;this._load=function(){this._status_bar=rdx.status_bar.render();new rdx.base_view($(document.body),rdx.utils.get_view("header_view")).prepare_view();this._header=$(".ns_header");var b=$(document.createElement("table")).attr("align","center").addClass("loading_panel");if(!b.html().match(/<tbody>/i)){b.append(document.createElement("tbody"))}var a=$(b[0].tBodies[0].insertRow(-1));$(a[0].insertCell(-1)).addClass("loading_panel_img").append($(document.createElement("img")).attr("src",rdx.images.IN_PROGRESS_IMG));$(a[0].insertCell(-1)).addClass("loading_panel_txt").append(rdx.i18n.get_string("rdx.page_loading"));this._loading_content=$(document.createElement("div")).addClass("center_panel").append(b);$(document.body).append(this._loading_content);this._content=$(document.createElement("div")).addClass("ns_content");$(document.body).append(this._content);this._footer=this.add_footer();$(document.body).append(this._footer);this._auto_refresh_info=$(document.createElement("div")).addClass("popup popup_info").append(rdx.i18n.get_string("rdx.page_auto_refresh_off"));$(document.body).append(this._auto_refresh_info);this._toggle_content_and_loading_content();this._trigger_event(rdx.events.PAGE_LOADED);if(rdx.JOBS){this._register_blur_focus_handlers()}this._resize()};this.add_footer=function(){var a=$(document.createElement("a")).attr("href","http://www.citrix.com/netscaler").attr("target","PRODUCT_LINK").append("Citrix Systems, Inc.");this._footer=$(document.createElement("div")).addClass("ns_footer").append(rdx.i18n.get_string("rdx.page_footer_copyright")).append(" ").append(a).append(" ").append(rdx.i18n.get_string("rdx.page_footer_rights"));return this._footer};this._register_blur_focus_handlers=function(){if(rdx.utils.is_ie()){this._active_element_for_blur=document.activeElement;document.onfocusout=function(){rdx.page._blur()};document.onfocusin=function(){rdx.page._focus()}}else{if(rdx.utils.is_chrome_safari()){this._active_element_for_blur=document.activeElement}window.onblur=function(){rdx.page._blur()};window.onfocus=function(){rdx.page._focus()}}};this._is_on_blur=function(){if(this._active_element_for_blur!=null&&this._active_element_for_blur!=document.activeElement){this._active_element_for_blur=document.activeElement;return false}return true};this._blur=function(){if(!this._is_on_blur()){return}rdx.scheduler.pause_all_jobs();this._auto_refresh_info.css("left",($(window).width()-this._auto_refresh_info.width())/2+"px").get(0).style.visibility="visible";this._trigger_event(rdx.events.PAGE_BLURRED)};this._focus=function(){this._auto_refresh_info.get(0).style.visibility="hidden";rdx.scheduler.resume_all_jobs();this._trigger_event(rdx.events.PAGE_FOCUSSED)};this._resize=function(){if(!this._header){return}var a=$(window).width();var b=$(window).height();var d=this._header.height();var c=this._footer.height();var e=this._status_bar?this._status_bar.css("bottom",c+"px").height():0;this._content.width(a-4).height(b-d-e-c).css("top",d+4);this._trigger_event(rdx.events.PAGE_RESIZED)};this._unload=function(){this._trigger_event(rdx.events.PAGE_UNLOAD);this._toggle_content_and_loading_content()};this._before_unload=function(){this._trigger_event(rdx.events.PAGE_BEFORE_UNLOAD)};this._toggle_content_and_loading_content=function(){this._loading_content.toggle();this._content.toggle()};this.get_content=function(){return this._content};this.add_event_handler=function(a,b){$(this).bind(a,{ns_callback:b},function(c){c.data.ns_callback.call_back()})};this._trigger_event=function(a){$(this).trigger(a)}};window.onload=function(){rdx.page._trigger_event(rdx.events.WINDOW_LOADED);rdx.page._trigger_event(rdx.events.APP_LOADED);if(!rdx.STAND_ALONE){rdx.page._load()}};$(window).bind(rdx.events.RESIZE,function(){if(!rdx.STAND_ALONE){if(rdx.utils.is_ie()||rdx.utils.is_chrome_safari()){setTimeout(function(){rdx.page._resize()},50)}else{rdx.page._resize()}}});window.onbeforeunload=function(){if(!rdx.STAND_ALONE){rdx.page._before_unload()}};window.onunload=function(){if(!rdx.STAND_ALONE){rdx.page._unload()}};rdx.progress_bar=function(b,a){this._parent=b;this._DEFAULT_PROPERTIES={progress_cell_count:7,class_names:["progress_cell"],timeout:100,height:15,width:5,mode:"progressive"};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a);this._progress_items=new Array();this._progress_infp=new Object();this._current_index=this._properties.mode=="progressive"?-1:0;this._progress_timeout=null};rdx.progress_bar.prototype.render=function(){var b=$("<div>");b.height(this._properties.height);b.addClass("progress_bar");var d=$("<table>");b.append(d);var e=$("<tr>");d.append(e);for(var c=0;c<this._properties.progress_cell_count;c++){var a=$("<td>");a.width(this._properties.width);var f=$("<div>");f.width(this._properties.width);a.append(f);e.append(a);this._progress_items.push(f)}this._parent.append(b);this._start_progress_bar()};rdx.progress_bar.prototype._start_progress_bar=function(){var a=this;this._progress_timeout=setInterval(function(){a._change_progress()},this._properties.timeout)};rdx.progress_bar.prototype.stop_progress_bar=function(){if(rdx.utils.is_defined(this._progress_timeout)){clearInterval(this._progress_timeout)}};rdx.progress_bar.prototype._change_progress=function(){switch(this._properties.mode){case"linear":this._handle_linear_progress();break;case"progressive":this._handle_progressive_progress();break}};rdx.progress_bar.prototype._handle_linear_progress=function(){var c=this._current_index;var d=this._current_index+1>(this._progress_items.length-1)?0:(this._current_index+1);if(rdx.utils.is_chrome_safari()){$(this._progress_items[c]).css("backgroundColor","white")}else{this._progress_items[c].removeClass(this._properties.class_names[0])}this._current_index=d;for(var a=0;a<this._properties.class_names.length;a++){var b=a+1>this._properties.class_names.length-1?this._properties.class_names[0]:this._properties.class_names[a+1];if(rdx.utils.is_chrome_safari()){$(this._progress_items[d]).css("backgroundColor","blue");$(this._progress_items[d]).css("height","10px")}else{this._progress_items[d].removeClass(b);this._progress_items[d].addClass(this._properties.class_names[a])}d=d+1>(this._progress_items.length-1)?0:(d+1)}};rdx.progress_bar.prototype._handle_progressive_progress=function(){var b=this._current_index+1>(this._progress_items.length-1)?0:(this._current_index+1);this._current_index=b;if(b==0){for(var a=0;a<this._progress_items.length;a++){if(rdx.utils.is_chrome_safari()){$(this._progress_items[a]).css("backgroundColor","white")}else{this._progress_items[a].removeClass(this._properties.class_names[0])}}this._current_index=-2;return}if(b==-1){b=b+1;this._current_index=b}if(rdx.utils.is_chrome_safari()){$(this._progress_items[b]).css("backgroundColor","green");$(this._progress_items[b]).css("height","10px")}else{this._progress_items[b].addClass(this._properties.class_names[0])}};rdx.mask=new function(){this.MASK_ID=1;this.MASK_KEY="__mask_key";this._mask_element=null;this._is_key_pressed=false;this._control_key=17;this._q_key=81;this._mask_elements=new Object();this._key_up_function=function(a){if(a.which==rdx.mask._control_key){rdx.mask._is_key_pressed=false}};this._key_down_function=function(a){if(a.which==rdx.mask._control_key){rdx.mask._is_key_pressed=true}if(rdx.mask._is_key_pressed==true){if(rdx.mask._q_key==a.which){rdx.mask.unmask(a.data.id);return}}};this.mask=function(c,f){if(rdx.utils.is_not_defined(c)||rdx.utils.is_not_defined(f)){return}if(rdx.utils.is_defined(this._mask_elements[f])){return}var b=$("<div>");var a=$("<div>");a.addClass("mask");b.append(a);var e=$("<div>");e.addClass("mask_panel");e.addClass("smooth_all_corner");var d=new rdx.progress_bar(e);d.render();this._mask_elements[f]={element:b,component:d};b.append(e);c.append(b);$(document).bind(rdx.events.KEYUP,this._key_up_function).bind(rdx.events.KEYDOWN,{id:f},this._key_down_function)};this.mask_dom_element=function(c,d){if(rdx.utils.is_not_defined(c)){return}if(rdx.utils.is_defined(this._mask_elements[d])){return}var b=$("<div>");var a=$("<div>");a.addClass("mask");b.append(a);this._mask_elements[d]={element:b};c.append(b);$(document).bind(rdx.events.KEYUP,this._key_up_function).bind(rdx.events.KEYDOWN,{id:d},this._key_down_function)};this.mask_component=function(d,g,a){if(rdx.utils.is_defined(g,this._mask_elements[g])){return}var c=$("<div>");c.addClass("mask_panel").addClass("mask_component");this._mask_elements[g]={element:c};c.css("top",(d.position().top)+2);c.css("left",(d.position().left)+5);c.height(d.height());c.width(d.width());var e=$("<div>");e.addClass("mask_panel");var f=$("<img>").attr("src",rdx.images.IN_PROGRESS_IMG);if(rdx.utils.is_defined(a)){for(var b in a){f.css(b,a[b])}}c.append(f);d.append(c)};this.unmask=function(b){if(rdx.utils.is_not_defined(b,this._mask_elements[b])){return}var a=this._mask_elements[b]["element"];$(a).remove();this._mask_elements[b]["component"].stop_progress_bar();delete this._mask_elements[b];$(document).unbind(rdx.events.KEYUP,this._key_up_function).unbind(rdx.events.KEYDOWN,this._key_down_function)};this.unmask_dom_element=function(b,c){if(rdx.utils.is_not_defined(c,this._mask_elements[c])){return}var a=this._mask_elements[c]["element"];$(a).remove();delete this._mask_elements[c];$(document).unbind(rdx.events.KEYUP,this._key_up_function).unbind(rdx.events.KEYDOWN,this._key_down_function)};this.unmask_component=function(b,c){if(rdx.utils.is_not_defined(this._mask_elements[c])){return}var a=this._mask_elements[c]["element"];if(rdx.utils.is_defined(a)){$(a).remove()}delete this._mask_elements[c]}};rdx.url_utils=new function(){this.GET_TYPE="get";this.GET_COUNT_TYPE="count";this.GET_FILTER_TYPE="filter";this.GET_BY_NAME_TYPE="get_by_name";this.FORCE_GET_BY_NAME_TYPE="force_get_by_name";this.GET_CUSTOM_TYPE="query_params";this.NAME_IN_URL_PARAM="url_by_name";this.IS_QUERY_PARAM="is_query_param";this.get_url=function(f,e){var a=f;if(!rdx.utils.is_defined(e)){return f}if(typeof(e)=="string"){return this.get_simple_url(f,e)}var c=rdx.utils.is_not_defined(e[this.IS_QUERY_PARAM])?false:e[this.IS_QUERY_PARAM];for(var b in e){var d=e[b];switch(b){case this.FORCE_GET_BY_NAME_TYPE:a=this.get_type_url(a,d,"args",false);break;case this.GET_BY_NAME_TYPE:a=this.get_type_url(a,d,"args",c);break;case this.GET_COUNT_TYPE:a=this.get_count_url(a);break;case this.GET_FILTER_TYPE:a=this.get_type_url(a,d,"filter",c);break;case this.GET_CUSTOM_TYPE:a=this.get_custom_url(a,d);break;case this.NAME_IN_URL_PARAM:a=this.get_custom_url(a,d);break}}return a};this.get_type_url=function(b,a,e,d){var c=rdx.utils.is_array(a);if(c){if(a.length==1&&!d){return this.get_simple_url(b,a,true)}else{return this.get_params_url(b,a,e)}}else{if(rdx.utils.is_not_defined(a)){return b}return this.get_simple_url(b,a)}return base_url};this.get_count_url=function(a){return this.add_query_param(a,"count","yes")};this.add_query_param=function(b,a,c){return b+this.get_url_separtor(b)+a+"="+encodeURIComponent(c)};this.get_url_separtor=function(a){var b="?";if(this.contains_question_mark(a)){b="&"}return b};this.get_params_url=function(b,d,c){var e=c+"=";for(var a=0;a<d.length;a++){e+=encodeURIComponent(d[a]["name"])+":"+encodeURIComponent(d[a]["value"]);e+=","}e=e.substring(0,e.lastIndexOf(","));return this.get_simple_url(b,e,false,this.get_url_separtor(b))};this.get_custom_url=function(b,d,c){var e="";for(var a=0;a<d.length;a++){if(rdx.utils.is_defined(d[a]["name"])&&rdx.utils.is_defined(d[a]["value"])){e+=encodeURIComponent(d[a]["name"])+"="+encodeURIComponent(d[a]["value"]);e+="&"}}e=e.substring(0,e.lastIndexOf("&"));return b+this.get_url_separtor(b)+e};this.contains_question_mark=function(a){return a.indexOf("?")!=-1};this.get_simple_url=function(c,e,d,f){if(rdx.utils.is_not_defined(f)){f="/"}if(d){for(var b=0;b<e.length;b++){var a=encodeURIComponent(e[b]["value"].toString().replace(/\//,"%2F"));return c+f+a}}var a=encodeURIComponent(e.replace(/\//,"%2F"));return c+f+e};this.remove_from_url_object=function(d,b,c){if(rdx.utils.is_not_defined(d,d[c])||(!rdx.utils.is_array(d[c]))){return}for(var a=(d[c].length-1);a>=0;a--){if(d[c][a]["name"]==b){d[c].splice(a,1);break}}if(d[c].length==0){delete d[c]}}};rdx.message_box=new function(){this._MESSAGE_BOX_RENDERED=false;this._INFO_TITLE_KEY="rdx.message_box_information";this._WARNING_TITLE_KEY="rdx.message_box_warning";this._ERROR_TITLE_KEY="rdx.message_box_error";this._CONFIRMATION_TITLE_KEY="rdx.message_box_confirmation";this._OK_BUTTON_KEY="rdx.message_box_ok_button";this._YES_BUTTON_KEY="rdx.message_box_yes_button";this._NO_BUTTON_KEY="rdx.message_box_no_button";this._button=null;this.show=function(j,m,k,b,a,l){if(this._MESSAGE_BOX_RENDERED){return}this._MESSAGE_BOX_RENDERED=true;var c=$(document.createElement("div"));var h=this._get_message_box(j,m);var f=this._get_detailed_message(l);var g=this._get_message_box_buttons(j,c,b,a);c.append(h);if(rdx.utils.is_defined(f)){c.append(f)}c.append("<br/>");c.append(g);var e=this;var d={minHeight:10,minWidth:300,maxWidth:385,modal:true,resizable:false,title:k,close:function(){e._MESSAGE_BOX_RENDERED=false;switch(j){case rdx.CONFIRMATION:if(rdx.utils.is_defined(a)){a.call_back()}break;default:if(rdx.utils.is_defined(b)){b.call_back()}break}}};c.dialog(d);if(rdx.utils.is_defined(this._button)){this._button.focus()}};this.info=function(b,d,c,a){this.show(rdx.INFO,b,this._get_title(c,rdx.INFO),d,null,a)};this.error=function(b,d,c,a){this.show(rdx.ERROR,b,this._get_title(c,rdx.ERROR),d,null,a)};this.warning=function(b,d,c,a){this.show(rdx.WARNING,b,this._get_title(c,rdx.WARNING),d,null,a)};this.confirm=function(a,b,d,c){this.show(rdx.CONFIRMATION,a,this._get_title(c,rdx.CONFIRMATION),b,d)};this._get_title=function(b,a){if(b){return rdx.i18n.get_string(b)}switch(a){case rdx.INFO:return rdx.i18n.get_string(this._INFO_TITLE_KEY);case rdx.ERROR:return rdx.i18n.get_string(this._ERROR_TITLE_KEY);case rdx.WARNING:return rdx.i18n.get_string(this._WARNING_TITLE_KEY);case rdx.CONFIRMATION:return rdx.i18n.get_string(this._CONFIRMATION_TITLE_KEY)}return rdx.i18n.get_string(this._INFO_TITLE_KEY)};this._get_message_box=function(e,d){var h=$(document.createElement("table")).attr("cellPadding",0).attr("cellSpacing",0);if(!h.html().match(/<tbody>/i)){h.append(document.createElement("tbody"))}var g=$(h[0].tBodies[0].insertRow(-1));var a=$(g[0].insertCell(-1));var f=$(g[0].insertCell(-1));if(rdx.utils.is_not_defined(e)){e=rdx.INFO}var c=$(document.createElement("div"));c.addClass("message_box");switch(e){case rdx.INFO:var b=$(document.createElement("img")).attr("src",rdx.images.MESSAGE_INFO);a.append(b);c.html(d.replace(/\n/g,"<br />"));f.append(c);break;case rdx.ERROR:var b=$(document.createElement("img")).attr("src",rdx.images.MESSAGE_ERROR);a.append(b);c.html(d.replace(/\n/g,"<br />"));f.append(c);break;case rdx.WARNING:var b=$(document.createElement("img")).attr("src",rdx.images.MESSAGE_WARNING);a.append(b);c.html(d.replace(/\n/g,"<br />"));f.append(c);break;case rdx.CONFIRMATION:var b=$(document.createElement("img")).attr("src",rdx.images.MESSAGE_CONFIRM);a.append(b);c.html(d.replace(/\n/g,"<br />"));f.append(c);break}return h};this._get_detailed_message=function(c){if(rdx.utils.is_not_defined(c)){return null}var d=$("<table>");var e=$("<tr>");var b=$("<img>").attr("src",rdx.images.NAVIGATE_OPEN_IMG);e.append($("<td>").append(b));e.append($("<td>").append($("<a>").append(rdx.i18n.get_string("rdx.message_box_details"))));var a=$("<tr>");a.hide();a.append($("<td>"));a.append($("<td>").append(c));e.bind(rdx.events.CLICK,{message_row:a,icon:b},function(h){var f=h.data.message_row;var g=h.data.icon;if(f.css("display")=="none"){g.attr("src",rdx.images.NAVIGATE_CLOSE_IMG)}else{g.attr("src",rdx.images.NAVIGATE_OPEN_IMG)}f.toggle()});d.append(e);d.append(a);return d};this._get_message_box_buttons=function(f,g,d,e){var a=true;var c=false;if(rdx.utils.is_defined(d)){c=true}var b=$(document.createElement("div"));b.attr("align","center");switch(f){case rdx.CONFIRMATION:if(rdx.utils.is_defined(d)){this._button=this._get_action_button(rdx.i18n.get_string(this._YES_BUTTON_KEY),d,g);b.append(this._button)}b.append(this._get_close_button(rdx.i18n.get_string(this._NO_BUTTON_KEY),e,g));break;default:this._button=this._get_close_button(rdx.i18n.get_string(this._OK_BUTTON_KEY),d,g);b.append(this._button);break}return b};this._get_action_button=function(b,e,a){var d=this;var c=$(document.createElement("input")).attr("type","button").attr("value",b);c.addClass("message_box_content");c.bind(rdx.events.CLICK,{button_handler_callback:e},function(f){if(rdx.utils.is_defined(f.data.button_handler_callback)){d._MESSAGE_BOX_RENDERED=false;a.remove();if(rdx.utils.is_defined(f.data.button_handler_callback)){f.data.button_handler_callback.call_back()}}});return c};this._get_close_button=function(b,e,a){var d=this;var c=$(document.createElement("input")).attr("type","button").attr("value",b);c.addClass("message_box_content");c.bind(rdx.events.CLICK,{button_handler_callback:e},function(f){d._MESSAGE_BOX_RENDERED=false;a.remove();if(rdx.utils.is_defined(f.data.button_handler_callback)){f.data.button_handler_callback.call_back()}});return c}};rdx.callback=function(a,c,b){if(rdx.utils.is_function(a)){b=c;c=a;a=null}this.object=a?a:null;this.method=c?c:function(){};this.params=b?b:[]};rdx.callback.prototype.call_back=function(a){return this.method.apply(this.object,a?rdx.utils.unshift_clone_array(this.params,a):this.params)};rdx.expression=function(a,b,c){this._lhs_operand=a;this._operator=b;this._rhs_operand=c;this._is_single_expression=true;if(rdx.utils.is_defined(this._operator)&&rdx.utils.is_defined(this._rhs_operand)){this._is_single_expression=false}};rdx.expression.prototype.get_expression=function(a){var b=" ( ";b+=this.get_part_expression(this._lhs_operand,a,true);if(rdx.utils.is_defined(this._operator)&&rdx.utils.is_defined(this._rhs_operand)){b+=this._operator;b+=this.get_part_expression(this._rhs_operand,a,false)}b+=" ) ";return b};rdx.expression.prototype.get_part_expression=function(a,c,b){var d="";if(typeof(a)=="string"){var e=a.match(/\{.*?\}/g);if(rdx.utils.is_defined(e)){for(i=0;i<e.length;i++){variable=e[i].replace(/[{}]/g,"");a=a.replace(e[i],"'"+c[variable]+"'")}d=a}else{if(!this._is_single_expression){b?d+="'"+c[a]+"'":d+="'"+a+"'"}else{d+=a}}}else{d+=a.get_expression(c)}return d};rdx.expression.prototype.evaluate=function(data){for(var index=0;index<data.length;index++){if(eval(this.get_expression(data[index]))){return true}}return false};rdx.expression.prototype.evaluate_all=function(data){for(var index=0;index<data.length;index++){if(!eval(this.get_expression(data[index]))){return false}}return true};rdx.expression_constant=new function(){this.AND="&&";this.OR="||";this.EQ="==";this.NEQ="!=";this.GT=">";this.GTE=">=";this.LT="<";this.LTE="<="};rdx.action=function(b){var a={label:"",tooltip:"",image_url:null,view:null,class_names:"smooth_all_corner",no_selection:false,single_selection:false,multiple_selection:false,independent_of_selection:false,confirm_message:null,min_row_count:null,max_row_count:null,expression:null,disabled:false,add_separator:false,click_handler_callback:null,prompt_data_callback:null,prompt:null,expression_mode:"ANY"};this._properties=$.extend({},a,b);this._is_valid=true};rdx.action.prototype.set_click_handler_callback=function(a){this._properties.click_handler_callback=a};rdx.action.prototype.get_click_handler_callback=function(){return this._properties.click_handler_callback};rdx.action.prototype.perform_action=function(){if(this.is_disabled()){return}if(!this._is_valid){return}if(rdx.utils.is_defined(this.get_prompt())){rdx.message_box.confirm(rdx.i18n.get_string(this.get_prompt(),this.get_prompt_data()),new rdx.callback(this,this._invoke_callback))}else{this._invoke_callback()}};rdx.action.prototype._invoke_callback=function(){this.get_click_handler_callback().call_back([this._properties])};rdx.action.prototype.is_enabled=function(c){this._is_valid=true;var b=c.action_item_data;var d=c.total_item_count;if(this.is_disabled()){return false}if(rdx.utils.is_defined(d)){if(rdx.utils.is_defined(this.get_min_row_count())){if(d<this.get_min_row_count()){this._is_valid=false;return this._is_valid}}}if(rdx.utils.is_defined(this.get_max_row_count())){if(d>=this.get_max_row_count()){this._is_valid=false;return this._is_valid}}if(this.is_independent_of_selection()){this._is_valid=true;return this._is_valid}var a=b.length;if(a<=0){return this.is_no_selection()}else{if((a==1&&this.is_single_selection())||(a>1&&this.is_multiple_selection())){if(this.is_expression_set()){if(this._properties.expression_mode=="ALL"){this._is_valid=this.get_expression().evaluate_all(b);return this._is_valid}else{this._is_valid=this.get_expression().evaluate(b);return this._is_valid}}this._is_valid=true;return this._is_valid}this._is_valid=false;return this._is_valid}};rdx.action.prototype.get_label=function(){return rdx.i18n.get_string(this._properties.label)};rdx.action.prototype.get_tooltip=function(){if(!this._properties.tooltip){this._properties.tooltip=this.get_label()}return rdx.i18n.get_string(this._properties.tooltip)};rdx.action.prototype.get_image_url=function(){return this._properties.image_url};rdx.action.prototype.get_class_names=function(){return this._properties.class_names};rdx.action.prototype.is_disabled=function(){return this._properties.disabled};rdx.action.prototype.is_no_selection=function(){return this._properties.no_selection};rdx.action.prototype.is_single_selection=function(){return this._properties.single_selection};rdx.action.prototype.is_multiple_selection=function(){return this._properties.multiple_selection};rdx.action.prototype.is_independent_of_selection=function(){return this._properties.independent_of_selection};rdx.action.prototype.is_add_separator=function(){return this._properties.add_separator};rdx.action.prototype.get_min_row_count=function(){return this._properties.min_row_count};rdx.action.prototype.get_max_row_count=function(){return this._properties.max_row_count};rdx.action.prototype.is_expression_set=function(){return this._properties.expression!=null};rdx.action.prototype.get_expression=function(){return this._properties.expression};rdx.action.prototype.get_prompt=function(){return this._properties.prompt};rdx.action.prototype.get_prompt_data=function(){if(rdx.utils.is_not_defined(this._properties.prompt_data_callback)){return null}return this._properties.prompt_data_callback.call_back([this._properties])};rdx.action.prototype.get_properties=function(){return this._properties};rdx.link=function(a){this._DEFAULT_PROPERTIES={url:null,width:screen.width,height:screen.height,target_window:"_blank",type:"window"};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a)};rdx.link.prototype.fire=function(){if(this._properties.type=="window"){return rdx.utils.openwindow(this._properties.url,this._properties.target_window,this._properties.width,this._properties.height)}};rdx.i18n=new function(){this._grouping_separator=",";this._decimal_separator=".";this._locale="en";this._rdx_lang=null;this._ext_lang=new Object();this._app_lang=null;this._initialize=function(){var locale_array_space=["be","bg","cs","et","fi","fr","hu","lv","no","pl","ru","sk","sr","sv"];var locale_array_dot=["ca","da","de","el","es","hr","is","it","lt","mk","nl","pt","ro","sh","sl","sq","tr","uk"];if($.inArray(this._locale,locale_array_space)>=0){this._grouping_separator=" ";this._decimal_separator=","}else{if($.inArray(this._locale,locale_array_dot)>=0){this._grouping_separator=".";this._decimal_separator=","}}this._init_rdx_lang();this._init_ext_lang();this._init_app_lang()};this._init_rdx_lang=function(){var rdx_lang_folder=rdx.FRAMEWORK_BASE+"/rdx/core/lang/";var locale_available=this._load_lang_file("rdx",this._locale,rdx_lang_folder);try{this._rdx_lang=eval("rdx_lang_"+locale_available)}catch(err){}};this._init_ext_lang=function(){var ext_base=rdx.FRAMEWORK_BASE+"/rdx/extensions/";for(var i=0,end_index=rdx.EXTENSIONS.length;i<end_index;i++){var ext_name=rdx.EXTENSIONS[i];var ext_lang_folder=ext_base+ext_name+"/lang/";var locale_available=this._load_lang_file(ext_name,this._locale,ext_lang_folder);try{this._ext_lang[ext_name]=eval(ext_name+"_lang_"+locale_available)}catch(err){}}};this._init_app_lang=function(){if(rdx.APP_I18N_FILE_NAME==""){return}var locale_available=this._load_lang_file(rdx.APP_I18N_FILE_NAME,this._locale,rdx.APP_I18N_BASE);try{this._app_lang=eval(rdx.APP_I18N_FILE_NAME+"_lang_"+locale_available)}catch(err){}};this._load_lang_file=function(app_name,locale_name,lang_folder){try{eval(app_name+"_lang_"+locale_name)}catch(err){var lang_file=lang_folder+app_name+"_"+locale_name+".json";var status=rdx.utils.load_script(lang_file);if(locale_name!="en"&&!status){this._load_lang_file(app_name,"en",lang_folder);return"en"}}return locale_name};this._lookup=function(format_string){if(format_string.indexOf("rdx.")==0){if(format_string.indexOf("rdx.ext.")==0){var matches=format_string.match(/^rdx\.ext\.(.*)\..*/);if(matches.length>=2){var ext_name=matches[1];if(rdx.utils.is_defined(this._ext_lang[ext_name])){return this._ext_lang[ext_name][format_string]}}}else{if(rdx.utils.is_defined(this._rdx_lang)){return this._rdx_lang[format_string]}}}else{if(rdx.utils.is_defined(this._app_lang)){return this._app_lang[format_string]}}return null};this.get_string=function(format_string,substitutes){if(!format_string){return format_string}var lang_string=this._lookup(format_string);if(rdx.utils.is_defined(lang_string)){if(rdx.utils.is_defined(substitutes)){$.each(substitutes,function(key,value){lang_string=rdx.utils.get_formatted_string(lang_string,key,value)})}return lang_string}return format_string};this.get_decimal_separator=function(){return this._decimal_separator};this.get_grouping_separator=function(){return this._grouping_separator}};rdx.page.add_event_handler(rdx.events.APP_LOADED,new rdx.callback(rdx.i18n,rdx.i18n._initialize));rdx.help=new function(){this.HELP_TXT="rdx.help";this.HELP_TOOLTIP="rdx.help_tooltip";this.HELP_URL_START_PARAM="#";this._help_url_map=new Object();this._initialize=function(){try{this._help_url_map=eval(rdx.APP_HELP_OBJECT_NAME)}catch(err){}};this.add_help=function(parent,id){var container=$("<div>");var help_div=$("<div>");parent.width("1px");container.addClass("help");container.attr("title",rdx.i18n.get_string(this.HELP_TOOLTIP));help_div.addClass("smooth_all_corner");var help_img=$("<img>");help_img.attr("src",rdx.images.HELP_IMG).attr("alt",rdx.images.HELP_IMG);help_div.append(help_img).append(rdx.i18n.get_string(this.HELP_TXT));this._add_click_handler(help_div,id);container.append(help_div);parent.append(container)};this._add_click_handler=function(help_div,id){help_div.bind(rdx.events.CLICK,{help_id:id,help:this},function(event){event.data.help.handle_help_click_event(event.data.help_id)})};this.handle_help_click_event=function(id){var link=new rdx.link({url:this._get_help_url(id),target_window:"RDXHELP",width:800,height:500});link.fire()};this._get_help_url=function(id){var help_url_param=this._help_url_map[id];if(rdx.utils.is_not_defined(help_url_param)){return rdx.APP_HELP_BASE}return rdx.APP_HELP_BASE+this.HELP_URL_START_PARAM+help_url_param}};rdx.page.add_event_handler(rdx.events.APP_LOADED,new rdx.callback(rdx.help,rdx.help._initialize));rdx.status_bar=new function(){this._status=null;this._activity=null;this.render=function(){if(this._status!=null||this._activity!=null){return}var a=$(document.createElement("table")).attr("cellPadding",0).attr("cellSpacing",0);if(!a.html().match(/<tbody>/i)){a.append(document.createElement("tbody"))}var b=$(a[0].tBodies[0].insertRow(-1));this._status=$(b[0].insertCell(-1)).addClass("status");this._activity=$(b[0].insertCell(-1)).addClass("activity");var c=$(document.createElement("div")).addClass("status_bar").append(a);$(document.body).append(c);return c};this.update_status=function(b,a){if(rdx.STAND_ALONE){return}a=a||rdx.INFO;if(a==rdx.ERROR){this._status.html('<span class="ns_alert_text">'+rdx.i18n.get_string(b)+"</span>")}else{this._status.html(rdx.i18n.get_string(b))}};this.clear_status=function(){if(rdx.STAND_ALONE){return}this._status.html("")};this.display_activity=function(a){if(rdx.STAND_ALONE){return}this._activity.html(rdx.i18n.get_string(a))};this.clear_activity=function(){if(rdx.STAND_ALONE){return}this._activity.html("")}};jquery_currentMenu=new function(){this.cmenu=null};(function($){$.contextMenu={shadow:true,shadowOffset:0,shadowOffsetX:5,shadowOffsetY:5,shadowWidthAdjust:-3,shadowHeightAdjust:-3,shadowOpacity:0.2,shadowClass:"context-menu-shadow",shadowColor:"black",offsetX:0,offsetY:0,appendTo:"body",direction:"down",constrainToScreen:true,isMainNode:false,showTransition:"show",hideTransition:"hide",showSpeed:100,hideSpeed:null,showCallback:null,hideCallback:null,className:"context-menu",itemClassName:"context-menu-item",itemHoverClassName:"context-menu-item-hover",disabledItemClassName:"context-menu-item-disabled",disabledItemHoverClassName:"context-menu-item-disabled-hover",separatorClassName:"context-menu-separator",innerDivClassName:"context-menu-item-inner",menuItemHoverArrowClassName:"context-menu-item-hover-child-menu",themePrefix:"context-menu-theme-",theme:"vista",separator:"context-menu-separator",target:null,menu:null,parentMenu:null,childMenu:null,shadowObj:null,bgiframe:null,shown:false,isExpanded:false,useIframe:
/*@cc_on @*/
/*@if (@_win32) true, @else @*/
false,
/*@end @*/
setEnableDisable:null,activeDiv:null,activeDivImg:null,subMenuImageUrl:"navigate_open.png",create:function(menu,opts){var cmenu=$.extend({},this,opts);if(typeof menu=="string"){cmenu.menu=$(menu)}else{if(typeof menu=="function"){cmenu.menuFunction=menu}else{cmenu.menu=cmenu.createMenu(menu,cmenu)}}if(cmenu.menu){cmenu.menu.css({display:"none"});$(cmenu.appendTo).append(cmenu.menu)}if(cmenu.shadow){cmenu.createShadow(cmenu);if(cmenu.shadowOffset){cmenu.shadowOffsetX=cmenu.shadowOffsetY=cmenu.shadowOffset}}return cmenu},createIframe:function(){return $('<iframe frameborder="0" tabindex="-1" src="javascript:false" style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=0);"/>')},createMenu:function(menu,cmenu,isRootNode){if(typeof(isRootNode)=="undefined"){isRootNode=true}if(!isRootNode&&cmenu.setEnableDisable){cmenu.setEnableDisable.apply(cmenu,[menu])}if(typeof(isRootNode)=="undefined"){isRootNode=true}var className=cmenu.className;cmenu.isMainNode=true;$.each(cmenu.theme.split(","),function(i,n){className+=" "+cmenu.themePrefix+n});var $t=$("<div> </div>").click(function(){cmenu.hideAll(cmenu,true);cmenu.hide();return false});var $div=$('<div class="'+className+'"></div>');for(var i=0;i<menu.length;i++){var m=menu[i];if(m==$.contextMenu.separator){$div.append(cmenu.createSeparator())}else{$div.append(cmenu.createMenuItem(m.label,menu[i],isRootNode))}}$t.append($div);if(!isRootNode){$t.hover(function(e){},function(){cmenu.hoverOutMenu.call(this,$t,cmenu)})}return $t},createMenuItem:function(label,m,isFirstNode){var cmenu=this;var o=$.extend({click_handler_callback:function(){},className:"",hoverClassName:cmenu.itemHoverClassName,image_url:"",disabled:false,title:"",hoverItem:cmenu.hoverItem,hoverItemOut:cmenu.hoverItemOut,isFirstNode:false},m);o.isFirstNode=isFirstNode;var $img=$(document.createElement("img"));$img.attr("src",cmenu.subMenuImageUrl);$img.attr("align","right");$img.hide();var iconStyle=(o.image_url)?"background-image:url("+o.image_url+");":"";var $div=$('<div class="'+cmenu.itemClassName+" "+o.className+((o.disabled)?" "+cmenu.disabledItemClassName:"")+'" title="'+o.title+'"></div>').click(function(e){if(cmenu.isItemDisabled(this)||m.menu){return false}else{cmenu.hide();cmenu.hideAll(cmenu,true);return o.click_handler_callback.call_back([cmenu.target,this,cmenu,e])}}).hover(function(e){o.hoverItem.call(this,o,m,e,cmenu,$img,$div)},function(){});var $idiv=$(document.createElement("div"));$idiv.append(label);$img.css("padding-left","15px");$idiv.append($img);$idiv.addClass(cmenu.innerDivClassName);$idiv.attr("style",iconStyle);$div.append($idiv);return $div},createSeparator:function(){return $('<div class="'+this.separatorClassName+'"></div>')},isItemDisabled:function(item){return $(item).is("."+this.disabledItemClassName)},hoverOutMenu:function(table,cmenu){if(cmenu.childMenu){return}else{if(cmenu.parentMenu.childMenu){cmenu.parentMenu.childMenu=null;table.remove();cmenu.shadowObj.remove()}else{table.remove();cmenu.shadowObj.remove()}}},hoverItem:function(o,obj,e,cmenu,img,div){if(cmenu.activeDiv){cmenu.activeDiv.removeClass(o.hoverClassName);cmenu.activeDivImg.hide()}if(cmenu.activeDiv&&cmenu.activeDiv.hasClass(o.hoverClassName)){cmenu.activeDiv.removeClass(o.hoverClassName)}if(cmenu.childMenu){var menus=new Array();var tempCMenu=cmenu;cmenu.hideAll(tempCMenu,false)}if(!cmenu.isItemDisabled(this)){$(this).addClass(o.hoverClassName,obj)}cmenu.activeDiv=$(this);cmenu.activeDivImg=img;if(obj.menu&&!cmenu.isItemDisabled(this)){img.show();var subMenu=$.extend({},cmenu);subMenu.childMenu=null;subMenu.activeDiv=null;cmenu.childMenu=subMenu;subMenu.parentMenu=cmenu;var subMenuTable=subMenu.createMenu(obj.menu,subMenu,false);subMenu.isMainNode=false;subMenu.menu=subMenuTable;if(subMenu){subMenuTable.css({display:"none"});$(subMenu.appendTo).append(subMenuTable)}subMenu.show(this,e,div)}},hideAll:function(cmenu,hideParent){var menus=new Array();if(hideParent){cmenu.getAllParent(cmenu,menus)}cmenu.getAllChildren(cmenu,menus);for(var index=0;index<menus.length;index++){menus[index].menu.remove();menus[index].shadowObj.remove();menus[index].childMenu=null}},getAllParent:function(cmenu,menus){while(true){if(cmenu.parentMenu){if(!cmenu.isMainNode){menus.push(cmenu.parentMenu);cmenu=cmenu.parentMenu}}else{if(!cmenu.isMainNode){menus.push(cmenu)}break}}return menus},getAllChildren:function(cmenu,menus){while(true){if(cmenu.childMenu){menus.push(cmenu.childMenu);cmenu=cmenu.childMenu}else{menus.push(cmenu);break}}return menus},createShadow:function(cmenu){cmenu.shadowObj=$('<div class="'+cmenu.shadowClass+'"></div>').css({display:"none",position:"absolute",zIndex:9998,opacity:cmenu.shadowOpacity,backgroundColor:cmenu.shadowColor});$(cmenu.appendTo).append(cmenu.shadowObj)},showShadow:function(x,y,e){var cmenu=this;if(cmenu.shadow){cmenu.shadowObj.css({width:(cmenu.menu.width()+cmenu.shadowWidthAdjust)+"px",height:(cmenu.menu.height()+cmenu.shadowHeightAdjust)+"px",top:(y+cmenu.shadowOffsetY)+"px",left:(x+cmenu.shadowOffsetX)+"px"}).addClass(cmenu.shadowClass)[cmenu.showTransition](cmenu.showSpeed)}},beforeShow:function(){return true},show:function(t,e,div){var cmenu=this,x=e.pageX,y=e.pageY;cmenu.target=t;if(cmenu.beforeShow()!==false){if(cmenu.menuFunction){if(cmenu.menu){$(cmenu.menu).remove()}cmenu.menu=cmenu.createMenu(cmenu.menuFunction(cmenu,t),cmenu);cmenu.menu.css({display:"none"});$(cmenu.appendTo).append(cmenu.menu)}var $c=cmenu.menu;x+=cmenu.offsetX;y+=cmenu.offsetY;var pos=cmenu.getPosition(x,y,cmenu,e);if(cmenu.parentMenu){pos.y=div.offset().top}cmenu.showShadow(pos.x,pos.y,e);if(cmenu.useIframe){$c.find("iframe").css({width:$c.width()+cmenu.shadowOffsetX+cmenu.shadowWidthAdjust,height:$c.height()+cmenu.shadowOffsetY+cmenu.shadowHeightAdjust})}$c.css({top:pos.y+"px",left:pos.x+"px",position:"absolute",zIndex:9999})[cmenu.showTransition](cmenu.showSpeed,((cmenu.showCallback)?function(){cmenu.showCallback.call(cmenu)}:null));cmenu.shown=true;$(document).one("click",null,function(){cmenu.hide();cmenu.hideAll(cmenu,true)})}},getPosition:function(clickX,clickY,cmenu,e){var x=clickX+cmenu.offsetX;var y=clickY+cmenu.offsetY;e.pageX;cmenu.offsetRight;cmenu.offsetTop;var h=$(cmenu.menu).height();var w=$(cmenu.menu).width();var dir=cmenu.direction;if(cmenu.constrainToScreen){var $w=$(window);var wh=$w.height();var ww=$w.width();if(dir=="down"&&(y+h-$w.scrollTop()>wh)){dir="up"}var maxRight=x+w-$w.scrollLeft();if(maxRight>ww){x-=(maxRight-ww)}}if(dir=="up"&&(y-h)>=0){y-=h}if(cmenu.parentMenu){x=$(cmenu.parentMenu.menu).offset().left+$(cmenu.parentMenu.menu).width()-10;y=$(cmenu.parentMenu.menu).offset().top+$(cmenu.parentMenu.menu).height()}return{x:x,y:y}},hide:function(){var cmenu=this;if(cmenu.shown){if(cmenu.iframe){$(cmenu.iframe).hide()}if(cmenu.menu){cmenu.menu[cmenu.hideTransition](cmenu.hideSpeed,((cmenu.hideCallback)?function(){cmenu.hideCallback.call(cmenu)}:null))}if(cmenu.shadow){cmenu.shadowObj[cmenu.hideTransition](cmenu.hideSpeed)}}cmenu.shown=false}};$.fn.contextMenu=function(menu,options){$(this).bind("contextmenu",function(e){if(jquery_currentMenu.cmenu){jquery_currentMenu.cmenu.hide();jquery_currentMenu.cmenu.hideAll(jquery_currentMenu.cmenu,true)}if(options.setEnableDisable){options.setEnableDisable.apply(options,[menu])}var cmenu=$.contextMenu.create(menu,options);jquery_currentMenu.cmenu=cmenu;cmenu.show(this,e);return false})};$.fn.clearMenu=function(){if(jquery_currentMenu.cmenu){jquery_currentMenu.cmenu.hide();jquery_currentMenu.cmenu.hideAll(jquery_currentMenu.cmenu,true)}}})(jQuery);rdx.ajax_handler_constants=new function(){this.GET="GET";this.POST="POST";this.PUT="PUT";this.DELETE="DELETE";this.HTTP_HEADER_CONTENT_TYPE="Content-Type";this.HTTP_HEADER_IF_MODIFIED_SINCE="If-Modified-Since";this.HTTP_RESPONSE_READY_STATE=4;this.HTTP_RESPONSE_SUCCESS_STATUS=200;this.MAX_NUMBER_OF_ACTIVE_REQUESTS=2;this.DEFAULT_AUTO_REFRESH_DELAY=14000;this.RESPONSE_TYPE_JSON_ERROR_CODE_FIELD="errorcode";this.RESPONSE_SESSION_EXPIRY_ERROR_CODE="444";this.REFRESH_IMAGE="refresh_image"};rdx.ajax_handler_queue=new function(){this._number_of_active_requests=0;this._queue=new Array();this._can_execute=function(){return this._number_of_active_requests<rdx.ajax_handler_constants.MAX_NUMBER_OF_ACTIVE_REQUESTS};this._execute=function(a){this._number_of_active_requests++;a.call_back()};this._has_more=function(){return this._queue.length>0};this.add=function(a){if(this._can_execute()){this._execute(a)}else{this._queue.push(a)}};this.remove=function(){this._number_of_active_requests--;if(this._has_more()){this._execute(this._queue.shift())}}};rdx.ajax_handler=function(a,d,c,b){this._url=a;this._success_callback=d;this._method=c?c:rdx.ajax_handler_constants.GET;this._params=b;this._mask_id=null;this._timer=null;this._error_callback=null;this._related_dom_object=$(document.body);this._activity=rdx.i18n.get_string("rdx.ajax_status_default");this._status=null;this._req=window.XMLHttpRequest?new window.XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP")};rdx.ajax_handler.prototype.set_error_callback=function(a){this._error_callback=a};rdx.ajax_handler.prototype.set_mask_id=function(a){this._mask_id=a};rdx.ajax_handler.prototype.set_related_dom_object=function(a){if(rdx.utils.is_defined(a)){this._related_dom_object=a}};rdx.ajax_handler.prototype.set_activity=function(a){if(rdx.utils.is_defined(a)){this._activity=a}};rdx.ajax_handler.prototype.set_status=function(a){this._status=a};rdx.ajax_handler.prototype.dispatch=function(b){var a=this;if(rdx.utils.is_defined(b)){this._timer=setTimeout(function(){rdx.ajax_handler_queue.add(new rdx.callback(a,a._send));a.clear_timer()},b)}else{rdx.ajax_handler_queue.add(new rdx.callback(this,this._send))}};rdx.ajax_handler.prototype.clear_timer=function(){if(rdx.utils.is_not_defined(this._timer)){return}clearTimeout(this._timer);this._timer=null};rdx.ajax_handler.prototype._send=function(){this._before_send();try{var a=this;this._req.onreadystatechange=function(){if(a._req.readyState!=rdx.ajax_handler_constants.HTTP_RESPONSE_READY_STATE){return}a._after_send();a._response_arrived()};this._req.open(this._method,this._url,true);if(this._method==rdx.ajax_handler_constants.POST){this._req.setRequestHeader(rdx.ajax_handler_constants.HTTP_HEADER_CONTENT_TYPE,"application/x-www-form-urlencoded")}this._req.setRequestHeader(rdx.ajax_handler_constants.HTTP_HEADER_IF_MODIFIED_SINCE,new Date(0));if(this._method==rdx.ajax_handler_constants.POST||this._method==rdx.ajax_handler_constants.PUT){this._req.send(this._params)}else{this._req.send()}}catch(c){this._after_send();var b=rdx.i18n.get_string("rdx.ajax_request_error",{url:this._url,error:rdx.utils.get_detailed_error_message(c)});rdx.message_box.error(b);rdx.status_bar.update_status(b,rdx.ERROR)}};rdx.ajax_handler.prototype._response_arrived=function(){try{this._req.status}catch(c){var a=rdx.i18n.get_string("rdx.ajax_request_error",{url:this._url,error:rdx.utils.get_detailed_error_message(c)});rdx.message_box.error(a);rdx.status_bar.update_status(a,rdx.ERROR);return}var d=this._req.status;if($.inArray(d,rdx.APP_ERR_CODES)>-1){d=rdx.ajax_handler_constants.HTTP_RESPONSE_SUCCESS_STATUS}switch(d){case rdx.ajax_handler_constants.HTTP_RESPONSE_SUCCESS_STATUS:try{this._success_callback.call_back([this._parse_response()])}catch(c){if(c[rdx.ajax_handler_constants.RESPONSE_TYPE_JSON_ERROR_CODE_FIELD]==rdx.ajax_handler_constants.RESPONSE_SESSION_EXPIRY_ERROR_CODE){var b=new rdx.callback(rdx.utils,rdx.utils.do_logout,[true]);rdx.message_box.error(c.message,b);rdx.status_bar.update_status(c.message,rdx.ERROR);return}if(this._error_callback){this._error_callback.call_back([c.message])}else{rdx.message_box.error(c.message,null,null,null);rdx.status_bar.update_status(c.message,rdx.ERROR)}}break;case 0:break;case 12002:case 12007:case 12029:case 12030:case 12031:case 12152:case 12159:var a=rdx.i18n.get_string("rdx.ajax_request_error",{url:this._url,error:rdx.i18n.get_string("rdx.ajax_http_connection_failed")});rdx.message_box.error(a);rdx.status_bar.update_status(a,rdx.ERROR);break;default:var a=rdx.i18n.get_string("rdx.ajax_response_error_status",{url:this._url,status_text:this._req.statusText,status:this._req.status});rdx.message_box.error(a);rdx.status_bar.update_status(a,rdx.ERROR)}};rdx.ajax_handler.prototype.abort=function(){this._req.abort()};rdx.ajax_handler.prototype._parse_response=function(){var b=this._req.responseText;if(b==null||b.length==0){throw rdx.i18n.get_string("rdx.ajax_invalid_empty_response")}var a=JSON.parse(b);if(a[rdx.ajax_handler_constants.RESPONSE_TYPE_JSON_ERROR_CODE_FIELD]==0){return a}throw a};rdx.ajax_handler.prototype._before_send=function(){this._set_related_dom_object_state(true);if(rdx.status_bar){rdx.status_bar.display_activity(this._activity+"...")}};rdx.ajax_handler.prototype._after_send=function(){rdx.ajax_handler_queue.remove();this._set_related_dom_object_state(false);if(rdx.status_bar){rdx.status_bar.clear_activity();if(this._status!=null){rdx.status_bar.update_status(this._status)}}};rdx.ajax_handler.prototype._set_related_dom_object_state=function(a){if(this._related_dom_object.get(0)!=document.body){this._related_dom_object.find("img[name='"+rdx.ajax_handler_constants.REFRESH_IMAGE+"']").attr("src",a?rdx.images.IN_PROGRESS_IMG:rdx.images.SPACER_IMG)}this._related_dom_object.css("cursor",a?"wait":"auto")};rdx.pagination=function(a){this.DEFAULT_PAGE_NUMBER=1;this._parent=typeof(a)=="string"?$("#"+a):a;this._page_number=this.DEFAULT_PAGE_NUMBER;this._page_size=rdx.PAGINATION_DEFAULT_PAGE_SIZE;this._total_count=0;this._pagination_table=null;this._data_range_span=null;this._first_img=null;this._prev_img=null;this._next_img=null;this._last_img=null;this._page_select=null;this._start_count=0;this._end_count=0};rdx.pagination.prototype.render=function(){this._pagination_table=$("<table>").attr("cellPadding",0).attr("cellSpacing",3).addClass("full_width_table");var e=$("<tr>");this.page_size_td=$("<td>").addClass("pagination_records_width");this._render_page_size();e.append(this.page_size_td);var b=$("<td>").addClass("pagination_navigation_width").attr("align","center");this._first_img=$("<img>").attr("src",rdx.images.PAGINATION_FIRST_IMG).addClass("img_opacity").attr("title",rdx.i18n.get_string("rdx.table_pagination_first")).addClass("pagination_img_spacing");b.append(this._first_img);this._prev_img=$("<img>").attr("src",rdx.images.PAGINATION_PREVIOUS_IMG).addClass("img_opacity").attr("title",rdx.i18n.get_string("rdx.table_pagination_prev")).addClass("pagination_img_spacing");b.append(this._prev_img);this._data_range_span=$("<span>").html("&nbsp");b.append(this._data_range_span);this._next_img=$("<img>").attr("src",rdx.images.PAGINATION_NEXT_IMG).addClass("img_opacity").attr("title",rdx.i18n.get_string("rdx.table_pagination_next")).addClass("pagination_img_spacing");b.append(this._next_img);this._last_img=$("<img>").attr("src",rdx.images.PAGINATION_LAST_IMG).addClass("img_opacity").attr("title",rdx.i18n.get_string("rdx.table_pagination_last")).addClass("pagination_img_spacing");b.append(this._last_img);e.append(b);var a=$("<td>").addClass("pagination_goto_width").attr("align","right");var f=$("<span>").html(rdx.i18n.get_string("rdx.table_pagination_goto")+": ");a.append(f);var d={mandatory:true,properties:{size:1,class_names:"pagination_goto_list",change_handler_callback:new rdx.callback(this,this._goto_page)}};var c=new rdx.form_field(d);this._page_select=new rdx.list(a,c).render();e.append(a);this._pagination_table.append(e);this._parent.append(this._pagination_table);return this};rdx.pagination.prototype._render_page_size=function(){this.page_size_td.html("");var a=$("<span>").html(rdx.i18n.get_string("rdx.table_pagination_show")+": ");this.page_size_td.append(a);var b=this;$.each(rdx.PAGINATION_PAGE_NUMBER_OPTION,function(e,f){var d=$("<a>").attr("href","#noAnchor").text(f).bind(rdx.events.CLICK,{rdx_pagination:b},function(g){g.data.rdx_pagination._change_page_size(f)});if(b._page_size==f){d.addClass("pagination_href_nolink")}b.page_size_td.append(d);if(e!=rdx.PAGINATION_PAGE_NUMBER_OPTION.length-1){var c=$("<span>").text(" | ");b.page_size_td.append(c)}})};rdx.pagination.prototype.get_page_number=function(){return this._page_number};rdx.pagination.prototype.get_page_size=function(){return this._page_size};rdx.pagination.prototype._trigger_pagination_change=function(){this._pagination_table.trigger(rdx.events.PAGINATION_CHANGED,[this._page_number,this._page_size])};rdx.pagination.prototype._change_page_size=function(a){this._page_number=1;var b=parseInt(a);if(this._page_size!=b){this._page_size=b;this._trigger_pagination_change();this._render_page_size()}};rdx.pagination.prototype._goto_page=function(){var a=this._page_select.get_selected_index()+1;this._page_number=parseInt(a);this._trigger_pagination_change()};rdx.pagination.prototype._navigate_first=function(){this._page_number=1;this._trigger_pagination_change()};rdx.pagination.prototype._navigate_previous=function(){this._page_number=this._page_number-1;if(this._page_number<=0){this._page_number=1}this._trigger_pagination_change()};rdx.pagination.prototype._navigate_next=function(){this._page_number=this._page_number+1;var a=Math.ceil(this._total_count/this._page_size);if(this._page_number>a){this._page_number=a}this._trigger_pagination_change()};rdx.pagination.prototype._navigate_last=function(){var a=Math.ceil(this._total_count/this._page_size);this._page_number=a;this._trigger_pagination_change()};rdx.pagination.prototype.update_total_count=function(c,d){if(!d){c=0}this._total_count=c;var a="--";if(this._total_count==0){this._page_number=1;a=rdx.i18n.get_string("rdx.table_pagination_data_range",{start_count:0,end_count:0,total_count:0});this._unbind_img_action(this._first_img);this._unbind_img_action(this._prev_img);this._unbind_img_action(this._next_img);this._unbind_img_action(this._last_img)}else{this._start_count=((this._page_number-1)*this._page_size)+1;if(this._start_count>this._total_count){this._navigate_previous();return}this._end_count=this._start_count+this._page_size-1;if(this._total_count<this._end_count){this._end_count=this._total_count}a=rdx.i18n.get_string("rdx.table_pagination_data_range",{start_count:this._start_count,end_count:this._end_count,total_count:this._total_count});if(this._page_number==1){this._unbind_img_action(this._first_img);this._unbind_img_action(this._prev_img)}else{this._bind_img_action(this._first_img,new rdx.callback(this,this._navigate_first));this._bind_img_action(this._prev_img,new rdx.callback(this,this._navigate_previous))}var b=Math.ceil(this._total_count/this._page_size);if(this._page_number==b){this._unbind_img_action(this._next_img);this._unbind_img_action(this._last_img)}else{this._bind_img_action(this._next_img,new rdx.callback(this,this._navigate_next));this._bind_img_action(this._last_img,new rdx.callback(this,this._navigate_last))}}this._data_range_span.html(a);this._update_page_select()};rdx.pagination.prototype._unbind_img_action=function(a){if(a.attr("class").indexOf("img_opacity")==-1){a.removeClass("pointer_cursor");a.addClass("img_opacity");a.unbind(rdx.events.CLICK)}};rdx.pagination.prototype._bind_img_action=function(b,a){if(b.attr("class").indexOf("img_opacity")!=-1){b.removeClass("img_opacity");b.addClass("pointer_cursor");b.bind(rdx.events.CLICK,{ns_cancel_handler_callback:a},function(c){c.data.ns_cancel_handler_callback.call_back()})}};rdx.pagination.prototype._update_page_select=function(){this._page_select.remove_items(false,false);var b=new Array();var a=Math.ceil(this._total_count/this._page_size);for(i=1;i<=a;i++){b[i-1]=i}this._page_select.add_items(b,false);this._page_select.select_item(this._page_number-1,false)};rdx.pagination.prototype.add_event_handler=function(a){this._pagination_table.bind(rdx.events.PAGINATION_CHANGED,{ns_callback:a},function(d,b,c){d.data.ns_callback.call_back([b,c])})};rdx.pagination.prototype.decrease_data_range=function(){this._end_count=this._end_count-1;this._total_count=this._total_count-1;if(this._end_count>=this._start_count){data_range=rdx.i18n.get_string("rdx.table_pagination_data_range",{start_count:this._start_count,end_count:this._end_count,total_count:this._total_count});this._data_range_span.html(data_range);this._update_page_select()}else{this._navigate_previous()}};rdx.pagination.prototype.increase_data_range=function(){this._end_count=this._end_count+1;this._total_count=this._total_count+1;data_range=rdx.i18n.get_string("rdx.table_pagination_data_range",{start_count:this._start_count,end_count:this._end_count,total_count:this._total_count});this._data_range_span.html(data_range);this._update_page_select()};rdx.table_column=function(a){this._DEFAULT_PROPERTIES={key:"",label:"",tooltip:"",type:"VALSTR",width:"auto",hidden:false,sortable:true,store_data:false,renderer_callback:null,text_align:null,default_sort:null,editor:""};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a)};rdx.table_column.prototype.get_key=function(){return this._properties.key};rdx.table_column.prototype.get_label=function(){return rdx.i18n.get_string(this._properties.label)};rdx.table_column.prototype.get_tooltip=function(){if(!this._properties.tooltip){this._properties.tooltip=this.get_label()}return rdx.i18n.get_string(this._properties.tooltip)};rdx.table_column.prototype.get_type=function(){return this._properties.type};rdx.table_column.prototype.get_width=function(){return this._properties.width};rdx.table_column.prototype.is_hidden=function(){return this._properties.hidden};rdx.table_column.prototype.set_sortable=function(a){this._properties.sortable=a};rdx.table_column.prototype.is_sortable=function(){return this._properties.sortable};rdx.table_column.prototype.to_store_data=function(){return this._properties.store_data};rdx.table_column.prototype.get_renderer_callback=function(){return this._properties.renderer_callback};rdx.table_column.prototype.get_is_editable=function(){return(this._properties.editor==""||this._properties.editor==rdx.form_constants.CHECK_BOX)?false:true};rdx.table_column.prototype.get_editor=function(){return this._properties.editor};rdx.table_column.prototype.get_text_align=function(){if(!this._properties.text_align){this._properties.text_align=(this.get_type()=="VALNUM")?"right":"left"}return this._properties.text_align};rdx.table_column.prototype.get_default_sort_type=function(){return this._properties.default_sort};rdx.table=function(c,b,a){this._parent=typeof(c)=="string"?$("#"+c):c;this._columns=b;this._DEFAULT_PROPERTIES={class_names:"table",width:"100%",height:"100%",sort_az_img_url:rdx.images.SORT_ASCENDING_IMG,sort_za_img_url:rdx.images.SORT_DESCENDING_IMG,show_serial_no:false,details:false,details_open_img_url:rdx.images.NAVIGATE_OPEN_IMG,details_close_img_url:rdx.images.NAVIGATE_CLOSE_IMG,details_renderer_callback:null,header:true,pagination:false};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a);if(this._properties.show_serial_no){this._columns.splice(0,0,new rdx.table_column({type:"VALNUM",width:10}))}this._table=null;this._html_table=null;this._cancel_single_click_operation=false;this._sort_column_info={sort_column_index:-1,sort_order:null};this._menu_properties=null;this.row_count=0;this._column_position_curr=-1;this._header_width=-1;this._current_column=null;this._adjusted_width=0;this._resize_in_progress=false;this._ie_x_position_offset=250;this._select_checkbox_array=new Array()};rdx.table.prototype.render=function(){this._table=$("<table>").addClass(this._properties.class_names).attr("cellPadding",0).attr("cellSpacing",0).width(this._properties.width);this._parent.height(this._properties.height).addClass("disallow_selection").attr("unselectable","on");this._navigation_div=$("<div>").addClass("table_resize_marker");this._navigation_div.css("left","-199999px");this._parent.bind("mouseup",{ns_table:this},function(k){var j=k.data.ns_table;if(!j._resize_in_progress){return}j._parent.removeClass("resize_row");j._navigation_div.css("left",-199999);if(j._current_column){j._current_column.animate({width:k.data.ns_table._adjusted_width},300);j._thead_row.removeClass("resize_row_cursor");j._thead_row.addClass("pointer_cursor")}j._current_column=null;j._adjusted_width=0;j._resize_in_progress=false});this._html_table=this._table[0];if(this._properties.header){this._thead_row=$(this._html_table.createTHead().insertRow(-1));this._thead_row.addClass("pointer_cursor");for(var e=0,d=this._columns.length;e<d;e++){var g=this._columns[e];var h=$("<th>").attr("title",g.get_tooltip()).width(g.get_width()).css("textAlign",g.get_text_align());var c=$("<div>");h.attr("unselectable","on");c.addClass("head_node");if(e==0&&this._properties.show_select_checkbox){var f=rdx.component_helper.get_table_column_editor(rdx.form_constants.CHECK_BOX);f.bind(rdx.events.CLICK,{column:g,ns_table:this},function(j){for(var l=0;l<j.data.ns_table._select_checkbox_array.length;l++){var k=j.data.ns_table._select_checkbox_array[l].attr("checked");if((j.target.checked&&k)||(!j.target.checked&&!k)){continue}$(j.data.ns_table._select_checkbox_array[l]).trigger(rdx.events.CLICK,[j.target.checked])}});g.set_sortable(false);c.append(f)}c.append(document.createTextNode(g.get_label()));var b=$("<div>");b.addClass("resize_row");if(g.is_hidden()){h.addClass("hidden")}if(g.is_sortable()){var a={ns_column_index:e,ns_table:this,th:h};c.bind(rdx.events.CLICK,a,function(k){var j=k.data.ns_column_index;var l=k.data.ns_table;l.sort_column(j);if(!l._properties.show_serial_no||j!=0){l._revalidate()}});h.bind("mousemove",a,function(m){var l=m.data.ns_table;if(rdx.utils.is_not_defined(l._current_column)){return}if(!l._resize_in_progress){return}l._thead_row.removeClass("pointer_cursor");l._thead_row.addClass("resize_row_cursor");l._navigation_div.css("top",l._table.position().top);l._navigation_div.css("height",l._parent.height());var k=l._header_width;var j=rdx.utils.is_not_defined(m.layerX)&&rdx.utils.is_ie()?m.clientX-l._ie_x_position_offset:m.layerX;if(j>l._column_position_curr){l._adjusted_width=k+(j-l._column_position_curr)}else{l._adjusted_width=k-(l._column_position_curr-j)}if(l._adjusted_width>=20){l._navigation_div.css("left",j)}});b.bind("mousemove",a,function(j){if(rdx.utils.is_not_defined(j.data.ns_table._current_column)){return}j.data.ns_table._resize_in_progress=true});b.bind("mousedown",a,function(l){var k=l.data.ns_table;var j=rdx.utils.is_not_defined(l.layerX)&&rdx.utils.is_ie()?l.clientX-k._ie_x_position_offset:l.layerX;k._column_position_curr=j;k._header_width=$(l.data.th).width();k._current_column=$(l.data.th)});this.add_sort_icon(c)}if(g.get_default_sort_type()!=null&&this._sort_column_info.sort_column_index==-1){this.set_sort_info(e,g.get_default_sort_type())}h.append(c);h.append(b);this._thead_row.append(h)}}if(!this._table.html().match(/<tbody>/i)){this._table.append(document.createElement("tbody"))}this._parent.append(this._table).append(this._navigation_div);return this};rdx.table.prototype.add_items=function(e,d,a){if(a){this.delete_all_items()}for(var c=0,b=e.length;c<b;c++){this.add_item(e[c],d&&d[c]?d[c]:null)}this._sort_on_refresh();if(rdx.utils.is_defined(this._menu_properties)){new rdx.context_menu(this._table.children("tbody"),this._menu_properties,new rdx.callback(this,this.get_item_info)).build_menu()}};rdx.table.prototype.get_item_info=function(){return{action_item_data:this.get_selected_items_data(),total_item_count:this.get_item_count()}};rdx.table.prototype.add_item=function(h,k,m){var j=this.get_item_count()+1;var o=$("<tr>");if(rdx.utils.is_not_defined(m)){m=false}if(j%2==0){o.addClass("even")}o.bind(rdx.events.DOUBLE_CLICK,{ns_table:this},(function(p){if(!p.ctrlKey){$(o).siblings(".selected").removeClass("selected")}$(this).addClass("selected");p.data.ns_table._cancel_single_click_operation=true;p.data.ns_table._table.trigger(rdx.events.ROW_SELECTION_CHANGED)}));o.bind(rdx.events.CLICK,{ns_table:this},function(p){var r=p.data.ns_table;var q=this;setTimeout(function(){if(!p.ctrlKey){$(q).siblings(".selected").removeClass("selected")}if(r._cancel_single_click_operation){r._cancel_single_click_operation=false;return}$(q).toggleClass("selected");r._table.trigger(rdx.events.ROW_SELECTION_CHANGED)},100)});o.bind(rdx.events.CONTEXT_MENU,{ns_table:this},function(p){var r=p.data.ns_table;var q=this;if(!p.ctrlKey){$(q).siblings(".selected").removeClass("selected")}if(r._cancel_single_click_operation){r._cancel_single_click_operation=false;return}$(q).addClass("selected");r._table.trigger(rdx.events.ROW_SELECTION_CHANGED)});for(var e=0,l=this._columns.length;e<l;e++){var d=this._columns[e];var n=$("<td>").css("textAlign",d.get_text_align());o.append(n);if(d.get_width()!="auto"){n.attr("width",d.get_width());n.css("white-space","normal")}if(d.is_hidden()){n.addClass("hidden")}if(k&&k[e]){n.attr("title",k[e])}if(d.to_store_data()){}n.data("ns_table_row_data",h);if(e==0){var c=$("<img>").attr("src",rdx.images.IN_PROGRESS_IMG);c.addClass("row_update_inprogress");c.css("float","right");c.hide();n.append(c)}var g="";g=this._get_formatted_cell_data(h,d,n,e);n.append(g);if(d.get_is_editable()){if(rdx.utils.is_defined(h[d.get_key()+"_data"])){g=h[d.get_key()+"_data"]}n.bind(rdx.events.CLICK,{cell_data:g,column:d,cell_to_store_data:n},function(r){var q=rdx.component_helper.get_table_column_editor(r.data.column.get_editor(),r.data.cell_data);var s=$(this).text();$(this).text("");var p=$(q).appendTo($(this)).val(s).select();p.bind(rdx.events.BLUR,{},function(){var t=$(this).val();$(this).parent().text(t);p.remove();r.data.cell_to_store_data.data("ns_table_row_data")[r.data.column.get_key()]=t});p.click(function(t){t.stopPropagation()})})}}var f=null;if(this._properties.details){f=$("<tr>").addClass("hidden");var a=this._get_col_count();if(this._properties.show_serial_no){f.append($("<td>"));a-=1}var b=$("<td>").attr("colspan",a).addClass("details");if(this._properties.details_renderer_callback){b.append(this._properties.details_renderer_callback.call_back([h]))}else{b.append(rdx.i18n.get_string("rdx.table_no_details"))}f.append(b)}if(m){if(rdx.utils.is_defined(f)){this._table.prepend(f)}this._table.prepend(o)}else{this._table.append(o);if(rdx.utils.is_defined(f)){this._table.append(f)}}this.row_count++;return o};rdx.table.prototype.set_menu_properties=function(a){this._menu_properties=a};rdx.table.prototype._get_formatted_cell_data=function(d,c,a,b){var e=null;if(b==0&&this._properties.show_serial_no){e=row_index}else{if((b==0&&this._properties.show_select_checkbox)||c.get_editor()==rdx.form_constants.CHECK_BOX){e=rdx.component_helper.get_table_column_editor(rdx.form_constants.CHECK_BOX);e.bind(rdx.events.CLICK,{col_name:c.get_key(),cell_to_store_data:a},function(g,f){if(rdx.utils.is_defined(f)){g.data.cell_to_store_data.data("ns_table_row_data")[g.data.col_name]=f}else{g.data.cell_to_store_data.data("ns_table_row_data")[g.data.col_name]=g.target.checked}});if(b==0&&this._properties.show_select_checkbox){this._select_checkbox_array.push(e)}if(c.get_editor()==rdx.form_constants.CHECK_BOX){e.attr("checked",(d[c.get_key()]=="true"||d[c.get_key()]==true))}}else{if(c.get_renderer_callback()){e=c.get_renderer_callback().call_back([d])}else{if(rdx.utils.is_defined(d[c.get_key()])){e=d[c.get_key()]}}if(rdx.utils.is_not_defined(e)){e="&nbsp;"}if(this._properties.details&&((b==1&&this._properties.show_serial_no)||(b==0&&!this._properties.show_serial_no))){a.addClass("details_link");e=this._details_link_renderer(e)}}}if(rdx.utils.is_array(e)){e=e.join(",")}return e};rdx.table.prototype._is_valid_row_index=function(a){return(a>=0&&a<this.get_item_count())};rdx.table.prototype._get_col_count=function(){return this._table.children("thead").children("tr").children("th").length};rdx.table.prototype.get_selected_row_count=function(){return this._get_selected_rows().length};rdx.table.prototype._get_selected_rows=function(){var b=[];if(this._table.children("tbody").children("tr:.selected").length==0&&this._table.children("tbody").children("tr").length==1){var a=this._table.children("tbody").children("tr");if($(a[0]).hasClass("selected")){b.push($(a[0]))}}else{b=this._table.children("tbody").children("tr:.selected")}return b};rdx.table.prototype.get_selected_items_data=function(){var a=[];if(this.get_selected_row_count()==0){return a}return this._get_data(this._get_selected_rows())};rdx.table.prototype.get_rows_data=function(){return this._get_data(this._table.children("tbody").children("tr"))};rdx.table.prototype._get_data=function(f){var g=[];var c=this._columns;for(var e=0;e<f.length;e++){for(var b=0,a=c.length;b<a;b++){var d=c[b];if(!d.to_store_data()){continue}g.push($(f[e]).children("td:eq("+b+")").data("ns_table_row_data"));break}}return g};rdx.table.prototype._update_item_data=function(l,k,n){var e=this._columns;var q=this._table.children("tbody").children("tr:eq("+l+")");for(var g=0,o=e.length;g<o;g++){var d=e[g];var p=$(q).children("td:eq("+g+")");var f=p.children("img");var j=this._get_formatted_cell_data(k,d,p,g);p.html("");p.prepend(j);if(rdx.utils.is_defined(n)&&rdx.utils.is_defined(f)&&f.hasClass("row_update_inprogress")){p.prepend(f);if(n){$(f).show()}else{$(f).hide()}}}if(e.length>0){$(q).children("td:eq(0)").data("ns_table_row_data",k)}if(this._properties.details){var b=this._get_col_count();var m=this._properties;var q=this._table.children("tbody").children("tr:eq("+l+")");var h=q.next();var a=0;if(m.show_serial_no){a++}var c=h.children("td:eq("+a+")");c.html("");if(m.details_renderer_callback){c.append(m.details_renderer_callback.call_back([k]))}else{c.append(rdx.i18n.get_string("rdx.table_no_details"))}}};rdx.table.prototype.update_item_data=function(d,c,a){var e=[];var b=this;this._table.children("tbody").children("tr").each(function(f){var g=$(this).children("td:eq(0)").data("ns_table_row_data");if(rdx.utils.is_same_object(d,g,c)){b._update_item_data(f,d,a);return false}return true});return e};rdx.table.prototype._toggle_details_row_img=function(a){var c=this._properties.details_open_img_url;var b=this._properties.details_close_img_url;$(a).attr("src",($(a).attr("src")==c)?b:c)};rdx.table.prototype._expand_details_row_img=function(a){a.attr("src",this._properties.details_close_img_url)};rdx.table.prototype._collapse_details_row_img=function(a){a.attr("src",this._properties.details_open_img_url)};rdx.table.prototype._toggle_details_row=function(b){if(!this._properties.details||!this._is_valid_row_index(b)){return}this._table.children("tbody").children("tr:.hidden:eq("+b+")").toggle();var c=this._table.children("tbody").children("tr:not(.hidden):eq("+b+")");var a=this._table.children("tbody").children("tr:not(.hidden):eq("+b+")").children("td:.details_link").find("img:.open_close_img");$(c).siblings(".selected").removeClass("selected");if($(a).attr("src")==this._properties.details_open_img_url&&!$(c).hasClass("selected")){$(c).addClass("selected")}this._toggle_details_row_img(a);this._table.trigger(rdx.events.ROW_SELECTION_CHANGED)};rdx.table.prototype.expand_all_details_rows=function(){if(!this._properties.details){return}this._table.children("tbody").children("tr:.hidden").show();this._expand_details_row_img(this._table.children("tbody").children("tr:not(.hidden)").children("td:.details_link").find("img:.open_close_img"))};rdx.table.prototype.collapse_all_details_rows=function(){if(!this._properties.details){return}this._table.children("tbody").children("tr:.hidden").hide();this._collapse_details_row_img(this._table.children("tbody").children("tr:not(.hidden)").children("td:.details_link").find("img:.open_close_img"))};rdx.table.prototype._delete_row=function(b,a){if(rdx.utils.is_not_defined(a)){if(this.get_selected_row_count()<=0){return}}var c=this._table.children("tbody").children("tr:eq("+b+")");if(this._properties.details){c.next().remove()}c.remove();this.row_count--;this._revalidate();this._table.trigger(rdx.events.ROW_SELECTION_CHANGED)};rdx.table.prototype.delete_item=function(c,b){var a=this;this._table.children("tbody").children("tr").each(function(d){var e=$(this).children("td:eq(0)").data("ns_table_row_data");if(rdx.utils.is_same_object(c,e,b)){a._delete_row(d);return false}return true})};rdx.table.prototype.delete_all_items=function(){this._table.children("tbody").children("tr").remove();this.row_count=0;this._table.trigger(rdx.events.ROW_SELECTION_CHANGED)};rdx.table.prototype.add_event_handler=function(b,c,a){this._table.bind(b,{ns_callback:c},function(d){d.data.ns_callback.call_back([a])});if(b==rdx.events.DOUBLE_CLICK&&this._properties.header){this._thead_row.bind(rdx.events.DOUBLE_CLICK,{},(function(d){d.stopPropagation()}))}};rdx.table.prototype.table_sort_handler=function(a){this._table.bind(rdx.events.SORT_TABLE_VIEW,{ns_callback:a},function(b,d,c){b.data.ns_callback.call_back([d,c])})};rdx.table.prototype._revalidate=function(){var b=this._properties.details?this._table.children("tbody").children("tr:not(.hidden):odd"):this._table.children("tbody").children("tr:odd");b.addClass("even");var a=this._properties.details?this._table.children("tbody").children("tr:not(.hidden):even"):this._table.children("tbody").children("tr:even");a.removeClass("even");if(this._properties.show_serial_no){var c=this._properties.details?this._table.children("tbody").children("tr:not(.hidden)"):this._table.children("tbody").children("tr");c.children("td:first-child").each(function(d){$(this).html(d+1).wrapInner(document.createElement("div"))})}};rdx.table.prototype._details_link_renderer=function(b){var a=$(document.createElement("img")).attr("src",this._properties.details_open_img_url).addClass("open_close_img");var c=$(document.createElement("a")).attr("href","#noAnchor").attr("title",rdx.i18n.get_string("rdx.table_show_hide_title")).append(a).bind(rdx.events.CLICK,{ns_table:this},function(d){d.data.ns_table._toggle_details_row($(this).parents("tr:eq(0)").index()/2);d.stopPropagation()});return $(document.createElement("span")).append(c).append(c.clone(true).html(b))};rdx.table.prototype._sort_on_refresh=function(){if(!this._is_server_sort()){if(this._sort_column_info.sort_column_index!=-1){this.sort_column(this._sort_column_info.sort_column_index,true);this._revalidate()}}};rdx.table.prototype._is_server_sort=function(){return this._properties.pagination&&rdx.SERVER_SORTING};rdx.table.prototype._get_sort_img_url=function(a){if(this._sort_column_info.sort_column_index==-1){return this._properties.sort_az_img_url}if(a){return(this._get_sort_order()==rdx.SORT_ASCENDING)?this._properties.sort_za_img_url:this._properties.sort_az_img_url}else{return(this._get_sort_order()==rdx.SORT_ASCENDING)?this._properties.sort_az_img_url:this._properties.sort_za_img_url}};rdx.table.prototype.set_sort_info=function(b,a){this._sort_column_info.sort_column_index=b;this._sort_column_info.sort_order=a};rdx.table.prototype._get_sort_order=function(a){if(rdx.utils.is_not_defined(this._sort_column_info.sort_order)){return rdx.SORT_ASCENDING}if(a){return(this._sort_column_info.sort_order==rdx.SORT_ASCENDING)?rdx.SORT_DESCENDING:rdx.SORT_ASCENDING}else{return this._sort_column_info.sort_order}};rdx.table.prototype.sort_column=function(c,j){var h=this._columns[c].get_key();var g=this._columns[c].get_type();var f=this._table.children("thead").children("tr").children("th");var a=f.find("img:first-child").hide().eq(c);a.attr("src",this._get_sort_img_url(j));a.show();var b=this._get_sort_order(j);var d=(b==rdx.SORT_ASCENDING);if(this._is_server_sort()){this._server_sort(h,d)}else{this._client_sort(c,h,g,d)}if(this._sort_column_info.sort_column_index!=c){var e=this._table.children("tbody").children("tr");if(this._sort_column_info.sort_column_index!=-1){$(f.get(this._sort_column_info.sort_column_index)).removeClass("selected").removeClass("ascending").removeClass("descending");e.find("td:eq("+this._sort_column_info.sort_column_index+")").removeClass("selected")}$(f.get(c)).addClass(" selected "+b);e.find("td:eq("+c+")").addClass("selected")}this.set_sort_info(c,(b==rdx.SORT_ASCENDING?rdx.SORT_DESCENDING:rdx.SORT_ASCENDING))};rdx.table.prototype._server_sort=function(a,b){this._table.trigger(rdx.events.SORT_TABLE_VIEW,[a,!b])};rdx.table.prototype._client_sort=function(g,b,e,d){var a;if(e){if(e.match(/VALSTR|ENUM|VALNAME/)){a=rdx.utils.sort_string}if(e.match(/VALPORT|VALNUM/)){a=rdx.utils.sort_number}else{if(e.match(/VALIP_PORT_PROTOCOL/)){a=rdx.utils.sort_ip_port_protocol}else{if(e.match(/VALIP|VALIPSTR/)){a=rdx.utils.sort_ip}else{if(e.match(/VALDATE/)){a=rdx.utils.sort_date}}}}}else{a=rdx.utils.sort_default}var f=this._properties.details?this._table.children("tbody").children("tr:not(.hidden)"):this._table.children("tbody").children("tr");var c=f.get();c.sort(function(n,m){var p=$(n).children("td:eq("+g+")");var o=$(m).children("td:eq("+g+")");var k=$.trim(p.text());var j=$.trim(o.text());if(e&&e.match(/VALDATE/)){k=p.data("ns_table_row_data")[b];j=o.data("ns_table_row_data")[b]}if(d){var l=k;k=j;j=l}return a.call(rdx.utils,k,j)});var h=this;$.each(c,function(l,k){var j;if(h._properties.details){j=$(k).next()}h._table.children("tbody").append(k);if(h._properties.details){h._table.children("tbody").append(j)}})};rdx.table.prototype.get_item_count=function(){return this.row_count};rdx.table.prototype.add_sort_icon=function(a){$(a).prepend($("<img>").attr("src",this._properties.sort_az_img_url).css("display","none"),a.firstChild)};rdx.map=function(c,b,a){this._parent=typeof(c)=="string"?$("#"+c):c;this._columns=b;this._DEFAULT_PROPERTIES={class_names:"table",width:"100%",height:"100%"};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a);this._map=null;this._cancel_single_click_operation=false;this._menu_properties=null;this._icon_count=0;this._current_icon_row=null};rdx.map.prototype.render=function(){this._parent.height(this._properties.height);this._map=$("<table>").addClass(this._properties.class_names).attr("align","center");this._parent.append(this._map);return this};rdx.map.prototype._get_icon_index=function(){var a=parseInt(this._properties.index);if(isNaN(a)){a=6}return a};rdx.map.prototype.add_items=function(e,d,a){if(a){this.delete_all_items()}for(var c=0,b=e.length;c<b;c++){this.add_item(e[c],d&&d[c]?d[c]:null)}if(rdx.utils.is_defined(this._menu_properties)){new rdx.context_menu(this._map.children("div"),this._menu_properties,new rdx.callback(this,this.get_item_info)).build_menu()}};rdx.map.prototype.add_item=function(d,c){var a=$("<div>").attr("style","float:left; padding:10px");var b=this._get_icon(d);a.append(b);a.data("icon_data",d);a.bind(rdx.events.DOUBLE_CLICK,{icon_table:this},(function(f){var e=f.data.icon_table;if(!f.ctrlKey){e._map.children("div:.selected").each(function(g){$(this).removeClass("selected")})}$(this).addClass("selected");f.data.icon_table._cancel_single_click_operation=true}));a.bind(rdx.events.CLICK,{icon_table:this},function(g){var f=g.data.icon_table;var e=this;var h=false;if($(e).attr("class").indexOf("selected")!=-1){h=true}setTimeout(function(){if(!g.ctrlKey){f._map.children("div:.selected").each(function(j){$(this).removeClass("selected")})}if(f._cancel_single_click_operation){f._cancel_single_click_operation=false;return}if(!h){$(e).toggleClass("selected")}f._map.trigger(rdx.events.ROW_SELECTION_CHANGED)},50)});a.bind(rdx.events.CONTEXT_MENU,{icon_table:this},function(g){var f=g.data.icon_table;var e=this;if(!g.ctrlKey){f._map.children("div:.selected").each(function(h){$(this).removeClass("selected")})}if(f._cancel_single_click_operation){f._cancel_single_click_operation=false;return}$(e).addClass("selected");f._map.trigger(rdx.events.ROW_SELECTION_CHANGED)});this._map.append(a);this._icon_count++};rdx.map.prototype._get_icon=function(g){var f=$("<table>").attr("cellPadding",0).attr("cellSpacing",1);var e=$("<tr>").height("60px").attr("valign","top");var d=$("<td>").attr("align","right").attr("valign","top");var h=this._get_formatted_cell_data(g,this._properties.status);d.append(h);e.append(d);f.append(e);var b=$("<td>");h=this._get_formatted_cell_data(g,this._properties.icon);b.append(h);e.append(b);var c=$("<tr>");c.append($("<td>").html(""));h=this._get_formatted_cell_data(g,this._properties.label);var a=$("<td>").html(h).attr("align","center");c.append(a);f.append(c);return f};rdx.map.prototype._get_formatted_cell_data=function(d,e){var c=null;for(var b=0,a=this._columns.length;b<a;b++){if(this._columns[b].get_key()==e){c=this._columns[b]}}var f=null;if(c.get_renderer_callback()){f=c.get_renderer_callback().call_back([d])}else{if(rdx.utils.is_defined(d[c.get_key()])){f=d[c.get_key()]}}if(rdx.utils.is_not_defined(f)){f="&nbsp;"}return f};rdx.map.prototype._get_selected_icon_count=function(){return this._map.children("div:.selected").length};rdx.map.prototype.get_selected_items_data=function(){var a=[];if(this._get_selected_icon_count()==0){return a}this._map.children("div:.selected").each(function(b){a.push($(this).data("icon_data"))});return a};rdx.map.prototype.get_item_info=function(){return{action_item_data:this.get_selected_items_data(),total_item_count:this.get_item_count()}};rdx.map.prototype.set_menu_properties=function(a){this._menu_properties=a};rdx.map.prototype.delete_all_items=function(){this._map.children("div").remove();this._icon_count=0;this._map.trigger(rdx.events.ROW_SELECTION_CHANGED)};rdx.map.prototype.add_event_handler=function(b,c,a){this._map.bind(b,{ns_callback:c},function(d){d.data.ns_callback.call_back([a])})};rdx.map.prototype.get_item_count=function(){return this._icon_count};rdx.map.prototype.delete_item=function(c,b){var a=this;var d=[];this._map.children("div").each(function(e){var f=$(this).data("icon_data");if(!rdx.utils.is_same_object(c,f,b)){d.push(f)}});this.add_items(d,false,true)};rdx.map.prototype._update_item_data=function(b,c){var a=this._map.children("div:eq("+b+")");var d=this._get_icon(c);a.html("");a.html(d)};rdx.map.prototype.update_item_data=function(c,b){var d=[];var a=this;this._map.children("div").each(function(e){var f=$(this).data("icon_data");if(rdx.utils.is_same_object(c,f,b)){a._update_item_data(e,c);return false}return true});return d};rdx.bar_chart=function(b,a){this._parent=b;this._DEFAULT_PROPERTIES={value:0,class_names:"bar_chart"};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a);this._properties.value=Math.min(100,Math.max(0,this._properties.value));this._bar_chart=null};rdx.bar_chart.prototype.render=function(){var c=$("<a>").append($("<div>").append("&nbsp;"));var d=$("<div>").addClass("background").width("100%").append(c);var a=$("<div>").addClass("foreground").width(this._properties.value+"%").append(c.clone());var b=$("<div>").addClass("label").append(this._properties.value);this._bar_chart=$("<div>").addClass("bar_chart").append(d).append(a).append(b);if(this._parent){this._parent.append(this._bar_chart)}return this._bar_chart};rdx.chart_constants=new function(){this.LINE="line";this.SPLINE="spline";this.STEP_LINE="stepline";this.SCATTER="scatter";this.BAR="bar";this.STACKED_BAR="sbar";this.COLUMN="column";this.STACKED_COLUMN="scolumn";this.PIE="pie";this.AREA="area";this.STACKED_AREA="sarea";this.AREA_SPLINE="areaspline";this.STACKED_AREA_SPLINE="stackedareaspline";this.CIRCLE_SYMBOL="circle";this.DIAMOND_SYMBOL="diamond";this.SQUARE_SYMBOL="square";this.TRIANGLE_SYMBOL="triangle";this.TRANGLE_DOWN_SYMBOL="triangle-down";this.FONT_FAMILY='"Lucida Grande", "Lucida Sans Unicode", verdana, arial, helvetica, sans-serif';this.STACKING="normal";this.BACKGROUND_COLOR="#FAFAFA";this.MAX_LABEL_LENGTH=10};rdx.chart_utils=new function(){this._initialized=false;this.initialize_globals=function(a){if(this._initialized){return}Highcharts.setOptions({global:{useUTC:a},lang:{decimalPoint:rdx.chart_utils.get_decimal_separator(),thousandsSep:rdx.chart_utils.get_grouping_separator(),resetZoomTitle:rdx.i18n.get_string("rdx.chart_reset_zoom_title")}});this._initialized=true};this.calculate_min=function(a,c,d,e){var b=e?e:Number.MAX_VALUE;for(i=0,end_index=a.length;i<end_index;i++){var f=c?a[i][c]:a[i];if(d){f=(Math.ceil(f)+"").length}if(f<b){b=f}}if(b==Number.MAX_VALUE){b=Number.NaN}return b};this.calculate_max=function(b,c,d,f){var a=f?f:Number.MIN_VALUE;for(i=0,end_index=b.length;i<end_index;i++){var e=c?b[i][c]:b[i];if(d){e=(Math.ceil(e)+"").length}if(e>a){a=e}}if(a==Number.MIN_VALUE){a=Number.NaN}return a};this.calculate_percentile=function(c,e,b){if(c.length==0){return 0}rdx.utils.clone_array(c).sort(function g(j,h){return e?j[e]-h[e]:j-h});b=Math.min(99,Math.max(1,b));var f=(b*(c.length+1))/100;var d=parseInt(f);if(d==f){return e?c[f-1][e]:c[f-1]}var a=f-d;d--;if(d<0){return e?(c[0][e]-(c[0][e]*a)):(c[0]-(c[0]*a))}if(d<c.length-1){return e?(c[d+1][e]-c[d][e])*a+c[d][e]:(c[d+1]-c[d])*a+c[d]}if(d<c.length){return e?c[d][e]:c[d]}return 0};this.format_number=function(a){var b=(a+"").indexOf(".")==-1?0:2;return Highcharts.numberFormat(a,b,rdx.chart_utils.get_decimal_separator(),rdx.chart_utils.get_grouping_separator())};this.is_array=function(a){return rdx.utils.is_array(a)};this.get_decimal_separator=function(){return rdx.i18n.get_decimal_separator()};this.get_grouping_separator=function(){return rdx.i18n.get_grouping_separator()};this.trim_label=function(a){if(a.length>rdx.chart_constants.MAX_LABEL_LENGTH){a=a.substring(0,rdx.chart_constants.MAX_LABEL_LENGTH)+"..."}return a}};rdx.chart=function(b,a){this._parent=typeof(b)=="string"?$("#"+b):b;this._chart_div=$("<div>");this._DEFAULT_PROPERTIES={title:null,enable_legend:null,secondary_y_axis:-1,zoom:"",link_text:"",link_title:"",link_url:"",max_number_of_symbols:25,max_number_of_points:-1,percentile:95,progress_image:false,type:rdx.chart_constants.LINE,use_UTC:false,point_select_callback:null,is_date_time_xaxis:true,categories:[],is_opposite_xaxis:false,legend_reversed:false,class_names:"chart",x_axis_label_spacing:100,height:400,width:350,x_axis_label_renderer_callback:null,colors:["#3333ff","#ff0000","#33ff33","#ffcc33","#ff66ff","#99ffff","#ffff6C","#cccccc","#cc9999","#339966","#999900","#cc3300","#669999","#993333","#006600","#990099","#ff9966","#99ff99","#9999ff","#cc6600","#33cc33","#cc99ff","#ff6666","#99cc66","#009999","#cc3333","#9933ff","#ff0000","#0000ff","#00ff00","#ffcc99","#999999","#ff3333","#6666ff","#ffff00","#000000"]};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a);if(this._properties.type==rdx.chart_constants.PIE){this._properties.is_date_time_xaxis=false}if(rdx.utils.is_not_defined(this._properties.enable_legend)){this._properties.enable_legend=this._properties.type!=rdx.chart_constants.PIE}this._symbols_disabled=false;this._chart=null;this._percentage_y_axes=new Object()};rdx.chart.prototype.render=function(d){if(this._properties.type==rdx.chart_constants.PIE&&d.length>1){throw rdx.i18n.get_string("rdx.chart_pie_error")}this._chart_div.addClass(this._properties.class_names);this._parent.append(this._chart_div);rdx.chart_utils.initialize_globals(this._properties.use_UTC);var f=$(document.createElement("span")).addClass("min_max_percentile").data("ns_percentile",this._properties.percentile).css("top",rdx.utils.is_defined(this._properties.title)?15:0);var g=this;var a=this._properties.categories.length>0?this._properties.categories:this._get_categories(d);var b={chart:{alignTicks:false,renderTo:this._chart_div.get(0),backgroundColor:rdx.chart_constants.BACKGROUND_COLOR,borderWidth:0,defaultSeriesType:this._properties.type,plotBorderWidth:this._properties.type==rdx.chart_constants.PIE?0:1,plotBorderColor:"#E9E9E9",reflow:true,spacingTop:rdx.utils.is_defined(this._properties.title)?2:20,spacingRight:20,zoomType:this._properties.zoom},credits:{enabled:false},legend:{align:"center",borderWidth:0,enabled:this._properties.enable_legend,itemStyle:{fontFamily:rdx.chart_constants.FONT_FAMILY,fontSize:"11px",fontWeight:"normal",color:"#2A2723"},itemHoverStyle:{fontWeight:"bold",color:"#2A2723"},reversed:this._properties.legend_reversed,lineHeight:20,symbolWidth:10},loading:{hideDuration:500,showDuration:500,labelStyle:{fontFamily:rdx.chart_constants.FONT_FAMILY,fontSize:"11px",fontWeight:"bold",color:"#2A2723",top:"50%"},style:{backgroundColor:rdx.chart_constants.BACKGROUND_COLOR,opacity:0.8}},plotOptions:{area:{fillOpacity:0.6,lineWidth:1,marker:{enabled:true,symbol:rdx.chart_constants.DIAMOND_SYMBOL}},areaspline:{fillOpacity:0.6,lineWidth:1,marker:{symbol:rdx.chart_constants.CIRCLE_SYMBOL}},bar:{minPointLength:2,pointWidth:15,shadow:false},column:{minPointLength:2,pointWidth:15,shadow:false},line:{lineWidth:1,marker:{symbol:rdx.chart_constants.CIRCLE_SYMBOL}},pie:{dataLabels:{connectorPadding:4,distance:10,enabled:!this._properties.enable_legend},showInLegend:this._properties.enable_legend},scatter:{marker:{symbol:null}},spline:{lineWidth:1,marker:{symbol:rdx.chart_constants.CIRCLE_SYMBOL}},series:{allowPointSelect:this._properties.point_select_callback!=null?true:false,events:{mouseOver:this._properties.type==rdx.chart_constants.PIE?function(){}:function(){var j=f.data("ns_percentile");var h=rdx.chart_utils.format_number(rdx.chart_utils.calculate_max(this.data,"y"));var l=rdx.chart_utils.format_number(rdx.chart_utils.calculate_min(this.data,"y"));var k=rdx.chart_utils.format_number(rdx.chart_utils.calculate_percentile(this.data,"y",j));var m=rdx.i18n.get_string("rdx.chart_min");var o=rdx.i18n.get_string("rdx.chart_max");var n=rdx.i18n.get_string("rdx.chart_percentile");f.html(this.name+" - "+m+" <b>"+l+"</b>, : "+o+" <b>"+h+"</b>, "+j+"<sup>th</sup> "+n+" <b>"+k+"</b>")},mouseOut:function(){f.html("")}},marker:{enabled:this._enable_symbols(d),fillColor:"#FFFFFF",lineWidth:1,lineColor:null,radius:2,states:{hover:{enabled:true}}},point:{events:{click:this._properties.point_select_callback==null?null:function(){g._properties.point_select_callback.call_back([this])}}},stickyTracking:false}},symbols:[rdx.chart_constants.TRIANGLE_SYMBOL,rdx.chart_constants.SQUARE_SYMBOL,rdx.chart_constants.DIAMOND_SYMBOL,rdx.chart_constants.CIRCLE_SYMBOL,rdx.chart_constants.TRANGLE_DOWN_SYMBOL],title:{margin:20,style:{fontFamily:rdx.chart_constants.FONT_FAMILY,fontSize:"12px",color:"#2A2723"},text:this._properties.title},tooltip:{backgroundColor:{linearGradient:[0,0,0,60],stops:[[0,"#FFFFFF"],[1,"#D0D0D0"]]},borderColor:"#2A2723",borderWidth:1,crosshairs:[{width:1,color:"#CCCCCC",dashStyle:"shortdot"},{width:1,color:"#CCCCCC",dashStyle:"shortdot"}],style:{fontFamily:rdx.chart_constants.FONT_FAMILY,fontSize:"11px",color:"#2A2723",padding:7},formatter:function(){var h=this.point&&this.point.name?this.point.name:this.series.name;var j=h+": <b>"+rdx.chart_utils.format_number(this.y)+"</b>";if(g._properties.is_date_time_xaxis){j+="<br>@ "+Highcharts.dateFormat("%H:%M:%S %b %d %Y",this.x)}return j}},xAxis:{allowDecimals:false,categories:a,gridLineColor:"#E9E9E9",gridLineWidth:1,labels:{style:{fontFamily:rdx.chart_constants.FONT_FAMILY,fontSize:"11px",color:"#2A2723"},formatter:g._properties.is_date_time_xaxis==true?null:function(){var h=this.value;if(rdx.utils.is_defined(g._properties.x_axis_label_renderer_callback)){h=g._properties.x_axis_label_renderer_callback.call_back([{x_axis_label:h},"x_axis_label"])}h=rdx.chart_utils.trim_label(h);return h}},lineColor:"#ACADAE",lineWidth:1,maxZoom:14*1000,opposite:(this._properties.type==rdx.chart_constants.BAR||this._properties.type==rdx.chart_constants.STACKED_BAR)?false:this._properties.is_opposite_xaxis,tickColor:"#CCCCCC",tickPixelInterval:this._properties.x_axis_label_spacing,type:this._properties.is_date_time_xaxis?"datetime":"linear"},yAxis:[{allowDecimals:false,gridLineColor:"#E9E9E9",labels:{style:{fontFamily:rdx.chart_constants.FONT_FAMILY,fontSize:"11px",color:"#2A2723"},formatter:function(){return rdx.chart_utils.format_number(this.value)}},lineColor:"#ACADAE",lineWidth:1,opposite:(this._properties.type==rdx.chart_constants.BAR||this._properties.type==rdx.chart_constants.STACKED_BAR)?this._properties.is_opposite_xaxis:false,tickColor:"#CCCCCC",tickWidth:1,title:{text:null}}]};b.colors=this._properties.colors;b.series=this._prune_series(d);this._process_series_types(d);if(this._properties.secondary_y_axis>=0&&this._properties.secondary_y_axis<d.length){var e=this._properties.secondary_y_axis;var c=b.colors[e%b.colors.length];b.yAxis.push({allowDecimals:false,gridLineColor:"#CCCCCC",gridLineWidth:0,labels:{style:{fontFamily:rdx.chart_constants.FONT_FAMILY,fontSize:"11px",color:c},formatter:function(){return rdx.chart_utils.format_number(this.value)}},lineColor:c,lineWidth:1,opposite:(this._properties.type==ns.chart_constants.BAR)?!(b.yAxis[0].opposite):true,tickColor:"#CCCCCC",tickWidth:1,title:{text:null}});b.series[e].yAxis=1;this._check_and_set_percentage_axis(b.series[e],b.yAxis[1],1)}this._check_and_set_percentage_axis(d,b.yAxis[0],0);this._chart=new Highcharts.Chart(b);this._redraw_and_avoid_negatives(false);if(this._properties.link_text&&this._properties.link_url){this._chart_div.append($(document.createElement("a")).attr("href",this._properties.link_url).attr("target","_blank").attr("title",this._properties.link_title).addClass("link").append(this._properties.link_text))}if(this._properties.progress_image){this._chart_div.append($("<img id='progress_image'>").attr("src",rdx.images.SPACER_IMG).addClass("progress_image"))}this._chart_div.append(f);return this};rdx.chart.prototype.add_points=function(e){if(!this._chart.series){return}var d=this._chart.series;if(d.length!=e.length){throw rdx.i18n.get_string("rdx.chart_series_error")}var a=this._properties.max_number_of_points!=-1&&this._properties.max_number_of_points<=this._calculate_number_of_points(d);for(var c=0,b=d.length;c<b;c++){if(rdx.utils.is_defined(e[c])){d[c].addPoint(e[c],false,a)}}if(!this._symbols_disabled&&!this._enable_symbols(d)){for(var c=0,b=d.length;c<b;c++){d[c].options.marker.enabled=false}this._symbols_disabled=true}this._redraw_and_avoid_negatives(true)};rdx.chart.prototype.set_data=function(c){if(!this._chart.series){return}for(var b=0,a=this._chart.series.length;b<a;b++){this._chart.series[b].setData(rdx.utils.is_defined(c[b])?c[b].data:null,false)}this._redraw_and_avoid_negatives(true)};rdx.chart.prototype._redraw_and_avoid_negatives=function(a){if(a){this.redraw()}var d=this._chart.yAxis;var f=false;for(var c=0,b=d.length;c<b;c++){if(this._percentage_y_axes[c]){continue}var e=d[c].getExtremes();if(rdx.utils.is_not_defined(e.min,e.dataMin)){continue}if(e.min<0&&e.dataMin>=0){d[c].setExtremes(0,null,false);f=true}if(e.min==0){if(e.dataMin-10>0||e.dataMin<0){d[c].setExtremes(null,null,false);f=true}}}if(f){this.redraw()}};rdx.chart.prototype.redraw=function(){this._chart.redraw()};rdx.chart.prototype.show_hide_loading=function(a){if(a){this._chart.showLoading()}else{this._chart.hideLoading()}};rdx.chart.prototype.set_size=function(b,a){if(rdx.utils.is_not_defined(b)){b=this._chart_div.width()}if(rdx.utils.is_not_defined(a)){a=this._chart_div.height()}if(a==0){a=this._properties.height}if(b==0){b=this._properties.width}this._chart.setSize(b,a)};rdx.chart.prototype.set_extremes=function(d,a,b){var c=(rdx.utils.is_defined(b)&&(b==true))?1:0;this._chart.yAxis[c].setExtremes(d,a)};rdx.chart.prototype.add_plot_line=function(c,a){if(rdx.utils.is_defined(c)){if(rdx.utils.is_not_defined(c.width)){c.width=1}if(rdx.utils.is_not_defined(c.zIndex)){c.zIndex=3}var b=null;if(rdx.utils.is_defined(a)&&a){b=this._chart.yAxis[1]}else{b=this._chart.yAxis[0]}var d=b.getExtremes();if(d.max<=c.value){this.set_extremes(null,c.value,a)}b.addPlotLine(c)}};rdx.chart.prototype.destroy=function(){this._chart.destroy()};rdx.chart.prototype._calculate_number_of_points=function(a){return a.length>0?a[0].data.length:0};rdx.chart.prototype._enable_symbols=function(a){return(this._calculate_number_of_points(a)<=this._properties.max_number_of_symbols)};rdx.chart.prototype._prune_series=function(c){for(var b=0,a=c.length;b<a;b++){var d=c[b].data;if(d&&this._properties.max_number_of_points!=-1&&d.length>this._properties.max_number_of_points){d.splice(0,d.length-this._properties.max_number_of_points)}}return c};rdx.chart.prototype._process_series_types=function(c){for(var b=0,a=c.length;b<a;b++){var d=this._properties.type;if(c[b].type){d=c[b].type}switch(d){case rdx.chart_constants.STACKED_BAR:c[b].type=rdx.chart_constants.BAR;c[b].stacking=rdx.chart_constants.STACKING;break;case rdx.chart_constants.STACKED_COLUMN:c[b].type=rdx.chart_constants.COLUMN;c[b].stacking=rdx.chart_constants.STACKING;break;case rdx.chart_constants.STACKED_AREA:c[b].type=rdx.chart_constants.AREA;c[b].stacking=rdx.chart_constants.STACKING;break;case rdx.chart_constants.STACKED_AREA_SPLINE:c[b].type=rdx.chart_constants.AREA_SPLINE;c[b].stacking=rdx.chart_constants.STACKING;break;case rdx.chart_constants.STEP_LINE:c[b].type=rdx.chart_constants.LINE;c[b].step=true;break}}};rdx.chart.prototype._check_and_set_percentage_axis=function(c,e,d){this._percentage_y_axes[d]=false;if(rdx.chart_utils.is_array(c)){for(var b=0,a=c.length;b<a;b++){if(c[b].yAxis!=1&&!this._is_percentage_series(c[b])){return}}}else{if(!this._is_percentage_series(c)){return}}e.min=0;e.max=100;this._percentage_y_axes[d]=true};rdx.chart.prototype._is_percentage_series=function(a){if(a.stacking==rdx.chart_constants.STACKING){return false}if(rdx.utils.is_not_defined(a.percentage_axis)){return a.name.match(/ \(%\)$/i)||a.name.match(/_usage_pcnt$/i)}return a.percentage_axis};rdx.chart.prototype._get_categories=function(e){var a=null;if(!this._properties.is_date_time_xaxis&&this._properties.type!=rdx.chart_constants.PIE){a=new Array();for(var d=0,f=e.length;d<f;d++){for(var b=0,c=e[d].data.length;b<c;b++){a[b]=e[d].data[b].name}}}return a};rdx.ribbon=function(b,c,a){this._parent=typeof(b)=="string"?$("#"+b):b;this._actions=c;var d={class_names:"ribbon",add_scroller:true,add_separator:false,allow_selection:false,image_placement:"left",align:"left",add_images:true};this._properties=$.extend({},d,a);this._current_scroll=0;this._enable_border=0;this._ribbon_table=null;this._ribbon_div=null;this._ribbon_items_row=null;this._navigate_left_cell=null;this._navigate_right_cell=null;this._children=null;this._border_spacing_from_css=4;this._animate_time=1200};rdx.ribbon.prototype.render=function(){var c=$("<a>").attr("href","#noAnchor").attr("title",rdx.i18n.get_string("rdx.ribbon_scroll_left_tooltip")).bind(rdx.events.CLICK,{rdx_ribbon:this},function(h){h.data.rdx_ribbon._scroll(true)});this._navigate_left_cell=$("<td>").append(c);this._navigate_left_cell.addClass("disabled");if(this._properties.add_scroller){var b=$("<img>").attr("src",rdx.images.RIBBON_LEFT_IMG);c.append(b)}this._ribbon_div=$("<div>").addClass("ribbon_div").append(this._create_ribbon_items());this._ribbon_div.attr("align",this._properties.align);var a=$("<td>");a.attr("align",this._properties.align);a.append(this._ribbon_div);var e=$("<a>").attr("href","#noAnchor").attr("title",rdx.i18n.get_string("rdx.ribbon_scroll_right_tooltip")).bind(rdx.events.CLICK,{rdx_ribbon:this},function(h){h.data.rdx_ribbon._scroll(false)});this._navigate_right_cell=$("<td>").append(e);if(this._properties.add_scroller){var d=$("<img>").attr("src",rdx.images.RIBBON_RIGHT_IMG);e.append(d)}var f=$("<tr>").append(this._navigate_left_cell).append(a).append(this._navigate_right_cell);this._ribbon_table=$("<table>").attr("border",this._enable_border).attr("cellPadding",0).attr("cellSpacing",0).addClass(this._properties.class_names).append(f);this._parent.append(this._ribbon_table);this._children=this._ribbon_items_row.children("td");var g=this;setTimeout(function(){g.resize_view()},50);return this};rdx.ribbon.prototype.get_height=function(){return this._ribbon_table.outerHeight(true)};rdx.ribbon.prototype.resize_view=function(){var a=this._properties.add_scroller?(this._parent.width()-(12+12)):"auto";this._ribbon_div.css("width",a);this._show_hide_scroll()};rdx.ribbon.prototype._scroll=function(c){var e=c?this._current_left:this._current_right;var a=0;if(!c){for(var b=this._current_scroll;b<this._children.length;b++){if(this._ribbon_div.width()<=(a+$(this._children[b]).outerWidth(true))){this._current_scroll=b;break}a=a+$(this._children[b]).outerWidth(true)+this.get_scroll_width()}}else{for(var b=this._current_scroll;b>=0;b--){if(this._ribbon_div.width()<=(a+$(this._children[b]).outerWidth(true))){this._current_scroll=b;break}a=a+$(this._children[b]).outerWidth(true)+this.get_scroll_width()}}if(c){this._ribbon_div.animate({scrollLeft:this._ribbon_div.scrollLeft()-a},this._animate_time)}else{this._ribbon_div.animate({scrollLeft:this._ribbon_div.scrollLeft()+a},this._animate_time)}var d=this;setTimeout(function(){d._show_hide_scroll()},(this._animate_time+10))};rdx.ribbon.prototype._create_ribbon_items=function(){this._ribbon_items_row=$("<tr>");var b=this._properties.image_placement;for(var d=0,g=this._actions.length;d<g;d++){var c=this._actions[d];var h=c.get_label();var j=$("<td>").attr("title",c.get_tooltip()).bind(rdx.events.CLICK,{ribbon:this,action:c},function(m){if($(this).hasClass("disabled")){return}if(m.data.ribbon._properties.allow_selection){$(this).addClass("selected").siblings(".selected").removeClass("selected")}m.data.action.perform_action()});var f=this._properties.add_images==true?c.get_image_url():rdx.images.SPACER_IMG;var k=$("<img>").attr("src",f);rdx.utils.add_image_error_handler(k);if(b=="top"||b=="bottom"){var e=$("<tr>").append($("<td>").append(k));var a=$("<tr>").append($("<td>").append(h));var l=$("<table>").attr("border",this._enable_border).attr("cellPadding",0).attr("cellSpacing",0);if(b=="top"){l.append(e).append(a)}else{l.append(a).append(e)}j.append(l)}else{if(b=="left"||b=="right"){k.addClass(b);if(b=="left"){j.append(k).append(h)}else{j.append(h).append(k)}}}if((this._properties.add_separator&&(d!=this._actions.length-1))||c.is_add_separator()){j.addClass("separator")}this._ribbon_items_row.append(j)}var l=$("<table>").addClass("ribbon_items_table").attr("border",this._enable_border).attr("cellPadding",0).attr("cellSpacing",0).append(this._ribbon_items_row);if(this._properties.allow_selection){l.addClass("ribbon_items_selectable_table")}return l};rdx.ribbon.prototype._show_hide_scroll=function(){var a=this._ribbon_div.scrollLeft()==0;var b=(this._ribbon_div.scrollLeft()+this._ribbon_div.outerWidth(true))>=this._ribbon_items_row.outerWidth(true);if(a){this._navigate_left_cell.addClass("disabled");this._current_scroll=0}else{this._navigate_left_cell.removeClass("disabled")}if(b){this._navigate_right_cell.addClass("disabled");this._current_scroll=this._children.length-1}else{this._navigate_right_cell.removeClass("disabled")}if(a&&b){this._navigate_left_cell.hide();this._navigate_right_cell.hide()}else{this._navigate_left_cell.show();this._navigate_right_cell.show()}};rdx.ribbon.prototype.refresh_state=function(a){var b=this._actions;this._children.each(function(d,c){if(b[d].is_enabled(a)){$(this).removeClass("disabled")}else{$(this).addClass("disabled")}})};rdx.ribbon.prototype.get_scroll_width=function(){return this._border_spacing_from_css};rdx.context_menu=function(b,a,c){this._parent=typeof(b)=="string"?$("#"+b):b;this._action_properties=a;this._data_fetch_callback=c;this._menu_items=new Array()};rdx.context_menu.prototype.build_menu=function(){if(!rdx.CONTEXT_MENU){return}for(var b=0,c=this._action_properties.length;b<c;b++){var a=this._action_properties[b];this._menu_items.push(this.get_menu_item_object(a));if(b!=this._action_properties.length-1&&a.is_add_separator()){this._menu_items.push($.contextMenu.separator)}}var d=this;this._parent.contextMenu(this._menu_items,{setEnableDisable:function(h){var g=[];if(rdx.utils.is_defined(d.get_data_fetch_callback())){g=d.get_data_fetch_callback().call_back()}for(var f=0;f<h.length;f++){var e=h[f];if(e==$.contextMenu.separator){continue}if(e.action.is_enabled(g)){e.disabled=false}else{e.disabled=true}}},subMenuImageUrl:rdx.images.NAVIGATE_OPEN_IMG})};rdx.context_menu.prototype.get_data_fetch_callback=function(){return this._data_fetch_callback};rdx.context_menu.prototype.get_menu_item_object=function(a){return{action:a,label:a.get_label(),image_url:a.get_image_url(),click_handler_callback:new rdx.callback(this,this._on_click_menu_item,[a])}};rdx.context_menu.prototype._on_click_menu_item=function(e,c,d,b,a){a.perform_action()};rdx.images=new function(){this._initialize=function(){var a=rdx.FRAMEWORK_BASE+"/rdx/core/images/";this.COMPANY_LOGO_IMG=a+"company_logo.png";this.IN_PROGRESS_IMG=a+"in_progress.gif";this.SPACER_IMG=a+"spacer.gif";this.SORT_ASCENDING_IMG=a+"sort_az_ascending.png";this.SORT_DESCENDING_IMG=a+"sort_az_descending.png";this.NAVIGATE_OPEN_IMG=a+"navigate_open.png";this.NAVIGATE_CLOSE_IMG=a+"navigate_close.png";this.LEFT_DOUBLE_ARROW_IMG=a+"go-lt-on.gif";this.RIGHT_DOUBLE_ARROW_IMG=a+"go-rt-on.gif";this.DOCUMENT_ADD_IMG=a+"document_add.png";this.DOCUMENT_EDIT_IMG=a+"document_edit.png";this.DOCUMENT_REMOVE_IMG=a+"document_delete.png";this.DOCUMENT_ENABLE_IMG=a+"document_up.png";this.DOCUMENT_DISABLE_IMG=a+"document_down.png";this.DOCUMENT_REBOOT_IMG=a+"shield2.png";this.REFRESH_IMG=a+"refresh.png";this.ZOOM_IN_IMG=a+"zoom_in.png";this.ZOOM_OUT_IMG=a+"zoom_out.png";this.BULLET_BALL_RED_IMG=a+"bullet_ball_red.png";this.BULLET_BALL_GREY_IMG=a+"bullet_ball_grey.png";this.BULLET_SQUARE_BLUE_IMG=a+"bullet_square_glass_blue.png";this.GREEN_IMG=a+"nav_up_green.png";this.RED_IMG=a+"nav_down_red.png";this.YELLOW_IMG=a+"nav_right_yellow.png";this.YELLOW_DOWN_IMG=a+"nav_down_yellow.png";this.MAJOR_IMG=a+"nav_down_right_red.png";this.INFORMATION_IMG=a+"nav_up_blue.png";this.MESSAGE_WARNING=a+"warning.png";this.MESSAGE_INFO=a+"information.png";this.MESSAGE_ERROR=a+"forbidden.png";this.MESSAGE_CONFIRM=a+"unknown.png";this.PAGINATION_FIRST_IMG=a+"firstpage.gif";this.PAGINATION_PREVIOUS_IMG=a+"prevpage.gif";this.PAGINATION_NEXT_IMG=a+"nextpage.gif";this.PAGINATION_LAST_IMG=a+"lastpage.gif";this.HELP_IMG=a+"help.png";this.ADD_IMG=a+"add_60.png";this.RIBBON_LEFT_IMG=a+"prevpage.gif";this.RIBBON_RIGHT_IMG=a+"nextpage.gif";this.ELEMENT=a+"element.png";this.ELEMENT_SELECTED=a+"element_selected.png"};this.get_app_url=function(a){if(rdx.utils.is_not_defined(a)||a==""){return""}if(a[0]!="/"){a=rdx.APP_IMAGE_BASE+a}return a}};rdx.page.add_event_handler(rdx.events.APP_LOADED,new rdx.callback(rdx.images,rdx.images._initialize));rdx.documentation_page=function(b,a){this._parent=b;this._DEFAULT_PROPERTIES={header_title:"rdx.documentation",header_title_class_name:"ns_wp_header",no_columns:2,node_properties:[],info_properties:null};this._properties=$.extend(true,this._DEFAULT_PROPERTIES,a);this._no_of_columns=this._properties.columns;this._SECTION_COLS_SPAN=2};rdx.documentation_page.prototype.render=function(){var e=$("<table>").addClass("smooth_all_corner").addClass("dd_layout_border");e.attr("cellSpacing",0).attr("cellPadding",0).attr("align","center").attr("width","98%").attr("height","95%");var d=this._properties.columns;var h=100;if(rdx.utils.is_defined(this._properties.info_properties)){h=80}var b=h/this._no_of_columns;for(var c=0;c<this._no_of_columns;c++){var a=$("<colgroup>").attr("width",b+"%");e.append(a)}if(rdx.utils.is_defined(this._properties.info_properties)){var f=$("<colgroup>").attr("width","20%");e.append(f)}this._create_header(e);this._add_spacer_row(e,5);var g=$("<tr>");for(var c=0;c<this._no_of_columns;c++){this._create_docs_per_column(g,c)}this._create_help_info_panel(g);e.append(g);this._parent.append(e)};rdx.documentation_page.prototype._create_header=function(b){var c=$("<tr>").addClass("ns_wp_header");var a=$("<td>").addClass("doc_ns_header_title").attr("colspan",this._no_of_columns+1).append(rdx.i18n.get_string(this._properties.header_title));c.append(a);b.append(c)};rdx.documentation_page.prototype._add_spacer_row=function(d,a){var e=$("<tr>");var c=rdx.utils.is_defined(this._properties.info_properties)?this._no_of_columns+1:this._no_of_columns;var b=$("<td>").attr("height",a).attr("colspan",c);e.append(b);d.append(e)};rdx.documentation_page.prototype._create_docs_per_column=function(h,g){var c=$("<td>").addClass("docs_top_vertical_align");h.append(c);var f=$("<table>").attr("width","100%");c.append(f);var j=this._properties.node_properties[g];for(var b=0;b<j.column_nodes.length;b++){var a=j.column_nodes[b];var d=$("<tr>");var e=$("<td>").addClass("ns_small_header").attr("colspan",this._SECTION_COLS_SPAN).append(rdx.i18n.get_string(a.header_title));d.append(e);f.append(d);for(var k=0;k<a.nodes.length;k++){this._create_doc_node(f,a.nodes[k])}}};rdx.documentation_page.prototype._create_doc_node=function(j,c){var h=$("<tr>");if(rdx.utils.is_defined(c.header_title)){h.attr("title",rdx.i18n.get_string(c.header_title))}var k=$("<img>").attr("src",rdx.images.get_app_url(c.image_url));var f=$("<a>").attr("href",c.link_url).attr("target",c.link_target).append(k);var d=$("<td>").attr("valign","top").addClass("ns_doc_img");d.append(f);var e=$("<td>");if(rdx.utils.is_not_defined(c.lang_nodes)){var b=$("<a>").attr("href",c.link_url).attr("target",c.link_target).append(rdx.i18n.get_string(c.link_description));e.append(b)}else{e.append(rdx.i18n.get_string(c.link_description)).append($("<br>"));for(var a=0;a<c.lang_nodes.length;a++){var g=c.lang_nodes[a];var b=$("<a>").attr("href",g.link_url).attr("target",g.link_target).append(rdx.i18n.get_string(g.link_description));e.append(b).append(" ")}}h.append(d);h.append(e);j.append(h)};rdx.documentation_page.prototype._create_help_info_panel=function(d){if(rdx.utils.is_not_defined(this._properties.info_properties)){return}var c=$("<div>").addClass("ns_doc_info_section");c.append(($("<div>")).html(this._properties.info_properties.info_html));var a=$("<div>").addClass("ns_doc_info_acrobat_reader_section");a.append(($("<div>")).html(this._properties.info_properties.reader_html));var b=$("<td>").addClass("docs_top_vertical_align");b.append(c);b.append(a);d.append(b)};rdx.download_page=function(c,b,a){this._parent=c;this._DEFAULT_PROPERTIES={header_title:"rdx.downloads",header_title_class_name:"ns_wp_header",header_description:"Use this page to download resources for building custom management tools for the device or integration with the third party tools"};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a);this._view_definition=b};rdx.download_page.prototype.render=function(){var d=$(document.createElement("table")).attr("width","98%").attr("align","center").attr("cellpadding",0).attr("cellspacing",0);d.addClass("smooth_all_corner").addClass("dd_layout_border").addClass("downloads_table");if(!d.html().match(/<tbody>/i)){d.append(document.createElement("tbody"))}var e=$(d[0].tBodies[0].insertRow(-1));e.addClass(this._properties.header_title_class_name);$(e[0].insertCell(-1)).attr("colspan",3).addClass("doc_ns_header_title").append(rdx.i18n.get_string(this._properties.header_title));$(d[0].tBodies[0].insertRow(-1)).attr("colspan",3).attr("height",30);for(var c in this._view_definition){var b=this._view_definition[c];this._add_node_header(b,c,d);for(var a=0;a<b.length;a++){this._add_child_nodes(b[a],d);this._add_spacer_row(d,11)}}this._parent.append(d)};rdx.download_page.prototype._add_spacer_row=function(c,a){var b=$(c[0].tBodies[0].insertRow(-1));$(b[0].insertCell(-1)).attr("colspan",3).attr("height",a)};rdx.download_page.prototype._add_node_header=function(a,d,c){var e=a.header_class_name?a.header_class_name:"ns_small_header";var b=$(c[0].tBodies[0].insertRow(-1));$(b[0].insertCell(-1)).attr("colspan",3).addClass("ns_small_header").append(d);var f=$(c[0].tBodies[0].insertRow(-1));$(f[0].insertCell(-1)).attr("colspan",3).attr("height",5)};rdx.download_page.prototype._add_child_nodes=function(c,h){var b=$(document.createElement("img")).attr("src",rdx.images.get_app_url(c.img_url)).attr("title",rdx.i18n.get_string(c.img_title));var e=$(document.createElement("a")).attr("href",c.href).attr("target",this._get_href_target(l,c.href_target)).append(b);var k=$(h[0].tBodies[0].insertRow(-1));$(k[0].insertCell(-1)).attr("valign","top").append(e).width(20);if(rdx.utils.is_not_defined(c.lang_nodes)){var l=rdx.i18n.get_string(c.href_short_description);var g=$(document.createElement("a")).attr("href",c.href).attr("target",this._get_href_target(l,c.href_target)).append(l);var j=$(document.createElement("br"));$(k[0].insertCell(-1)).addClass("ns_download_node").attr("valign","top").append(g).append(j).append(rdx.i18n.get_string(c.href_description))}else{var f=$(k[0].insertCell(-1)).addClass("ns_download_node");$(f).append(rdx.i18n.get_string(c.href_description));$(f).append("<br>");for(var a=0;a<c.lang_nodes.length;a++){var d=c.lang_nodes[a];var l=rdx.i18n.get_string(d.href_short_description);var g=$(document.createElement("a")).attr("href",d.href).attr("target",this._get_href_target(l,d.href_target)).append(l);f.append(g).append(" ")}}};rdx.download_page.prototype._get_href_target=function(e,d){if(d){return rdx.i18n.get_string(d)}var c=e.toUpperCase();var f="";var a=c.split(" ");for(var b=0;b<a.length;b++){f+=a[b]+"_"}f=f.substring(0,d.length-1);return f};rdx.form_constants=new function(){this.LABEL="label";this.TEXT_BOX="text";this.TEXT_AREA="textarea";this.PASSWORD="password";this.NOTE="note";this.CHECK_BOX="checkbox";this.RADIO_GROUP="radiogroup";this.LIST="list";this.IP_RANGE="iprange";this.CARD="card";this.VIEW="view";this.TABLE="table";this.EDITTABLE_LIST="edittablelist";this.BIND_UNBIND_LIST="bindunbindlist";this.IPV4="ipv4";this.IPV6="ipv6";this.IPV4V6="ipv4v6";this.EDITABLE_COMBOBOX="editablecombobox";this.ICON_BUTTON="iconbutton";this.field_actions={SHOW:"show",HIDE:"hide",READ_ONLY:"read_only",EDITABLE:"editable",DATA_REFRESH:"data_refresh",NONE:"none"};this.NO_CONTAINER="none";this.TAB="tab";this.GROUP="group";this.CONTAINER_VALIDATION_ERROR="container_validation_error";this.FORM_INITIALIZED="form_initialized";this.dependency_determinant={TYPE:"type",VALUE:"value"}};rdx.dom_utils=new function(){this.get_element=function(a){switch(a){case rdx.form_constants.LABEL:return $("<label>");break;case rdx.form_constants.TEXT_BOX:return $("<input>").attr("type","text");break;case rdx.form_constants.TEXT_AREA:return $("<textarea>");break;case rdx.form_constants.PASSWORD:return $("<input>").attr("type","password");break;case rdx.form_constants.CHECK_BOX:return $("<input>").attr("type","checkbox");break;case rdx.form_constants.LIST:return $("<select>");break;case rdx.form_constants.RADIO_BUTTON:return $(document.createElement("input")).attr("type","radio");break;case rdx.form_constants.ICON_BUTTON:return $('<button type="button">');break}throw rdx.i18n.get_string("form_field_invalid_error",{form_type:field.get_key()})}};rdx.dependency=function(e,h){this._form=e;this._form_fields=e.get_form_holder().get_form_fields();this._dependency_defn=h;this._dependency_trigger_info=new Array();for(var f in this._dependency_defn){var a=e.get_field(f);if(rdx.utils.is_not_defined(a)){throw"Dependency configuration is in-correct: No form field exist for "+f}var c=(rdx.utils.is_defined(this._dependency_defn[f].on_event))?this._dependency_defn[f].on_event:rdx.events.CHANGE;var g={component:a,field_key:f,event:c};var b=this.get_dependent_components_info(this._dependency_defn[f]);if(rdx.utils.is_defined(a,b,c)){try{this.register_dependency(g,b,c)}catch(d){alert(d)}}}};rdx.dependency.prototype.get_dependent_components_info=function(a){var e=new Array();var f=a.form_fields;var g=a.action;var s=a.trigger_values;var l=rdx.utils.is_defined(a.dependency_determinant)?a.dependency_determinant:rdx.form_constants.dependency_determinant.VALUE;for(var o=0,t=f.length;o<t;o++){var j=f[o];var p=this._form.get_field_info(j);if(rdx.utils.is_not_defined(p)){throw"Dependency configuration is in-correct for "+j}var h=null;var b=null;var n=null;var r=null;var q=null;var m=(rdx.utils.is_array(g))?g[o]:g;var d=(rdx.utils.is_array(l))?l[o]:l;var k=null;if(rdx.utils.is_defined(s[j])){k=s[j]}else{if(rdx.utils.is_array(s)){k=s}else{throw"Dependency configuration is in-correct for trigger_values"}}switch(m){case rdx.form_constants.field_actions.SHOW:case rdx.form_constants.field_actions.HIDE:b=p.field;h=(rdx.utils.is_defined(p.extra_form_field)&&p.extra_form_field)?p.cell:p.row;n=this.toggle_show_hide;break;case rdx.form_constants.field_actions.EDITABLE:case rdx.form_constants.field_actions.READ_ONLY:b=p.field;h=b.get_component();n=this.toggle_read_only;break;case rdx.form_constants.field_actions.DATA_REFRESH:b=p.field;h=b;n=this.do_data_refresh;break;default:throw"Dependency configuration is in-correct for "+f[o]+" does not have an action set"}var c={field:b,component:h,action:m,resource:r,trigger_values:k,action_fn:n,dependency_determinant:d};e.push(c)}return e};rdx.dependency.prototype.register_dependency=function(d,b,c){var a=d.component;if(rdx.utils.is_function(a.add_event_handler)){var e=new rdx.callback(this,this.event_handling_callback,[d,b]);a.add_event_handler(c,e);this._dependency_trigger_info.push({event:c,callback:e})}};rdx.dependency.prototype.event_handling_callback=function(a,p,n){var k=p.field_key;var q=this._form.get_field_value(k)+"";for(var h=0,c=n.length;h<c;h++){var d=n[h];var m=d.field;var l=d.component;var j=d.action_fn;var g=d.action;var f=d.resource;var b=d.trigger_values;var o=d.dependency_determinant;if(rdx.utils.is_function(p.component.get_dependency_determinant_value)){if(o!=rdx.form_constants.dependency_determinant.VALUE){q=p.component.get_dependency_determinant_value(o)}}if(rdx.utils.is_defined(l,j,b)){var e=false;if($.inArray(q,b)==-1){e=true}j.apply(this,[l,m,g,e])}}};rdx.dependency.prototype.toggle_show_hide=function(b,e,d,c){var a=false;e._field.set_hidden(true);if((d==rdx.form_constants.field_actions.HIDE&&c)||(d==rdx.form_constants.field_actions.SHOW&&!c)){a=true;e._field.set_hidden(false)}if(rdx.utils.is_function(e.toggle_show_hide)){return e.toggle_show_hide(a,b)}if(a){b.show()}else{b.hide()}return null};rdx.dependency.prototype.toggle_read_only=function(a,d,c,b){var e=false;if((c==rdx.form_constants.field_actions.READ_ONLY&&b)||(c==rdx.form_constants.field_actions.EDITABLE&&!b)){e=true}if(rdx.utils.is_function(d.toggle_read_only)){return d.toggle_read_only(e)}if(e){a.removeAttr("readonly");a.removeClass("form_field_disabled")}else{a.attr("readonly","true");a.addClass("form_field_disabled")}return null};rdx.dependency.prototype.do_data_refresh=function(c,d,a,b){return null};rdx.dependency.prototype.trigger_dependencies=function(){for(var a=0,b=this._dependency_trigger_info.length;a<b;a++){var d=this._dependency_trigger_info[a].callback;var c=this._dependency_trigger_info[a].event;if(rdx.utils.is_defined(d,c)){d.call_back([c])}}};rdx.form_field=function(a){this._DEFAULT_PROPERTIES={key:"",label:"",col_span:null,note:"",value:null,tooltip:"",hidden:false,type:"VALSTR",input_type:rdx.form_constants.TEXT_BOX,group:null,tab:null,view:null,extra_field_dfn:null,add_confirm:true,expand_group:false,properties:{},resource_name:null,enumid:null,formatter:null,view_context:null,prefill:true,mandatory:false,read_only:false,label_width:-1,width:-1,height:-1,min_max:null,default_if_null:false,send_to_server:null,add_separator:false,display_label:true,prompt:null,custom_input_field:false};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a);this._extra_form_field=null;this._parent_form_field=null;this._orig_resource_value=rdx.utils.is_not_defined(this._properties.value)?"":this._properties.value;this._recent_value=null;if(this._get_formatter_dfn()){this._formatter=new rdx.formatter(this._get_formatter_dfn())}else{var b=this.get_enumid();if(this.get_type()=="VALENUM"&&rdx.utils.is_defined(b)){var c=rdx.utils.get_enum(b);if(rdx.utils.is_defined(c)){if(rdx.utils.is_array(c)){c=rdx.utils.convert_array_to_map(c)}this._formatter=new rdx.formatter({map:c})}}}};rdx.form_field.prototype.get_key=function(){return this._properties.key};rdx.form_field.prototype.get_label=function(){return rdx.i18n.get_string(this._properties.label)};rdx.form_field.prototype.get_formatter=function(){return this._formatter};rdx.form_field.prototype.get_label_width=function(){return this._properties.label_width};rdx.form_field.prototype.get_note=function(){return rdx.i18n.get_string(this._properties.note)};rdx.form_field.prototype.get_value=function(){return this._properties.value};rdx.form_field.prototype.get_tooltip=function(){if(!this._properties.tooltip){this._properties.tooltip=this.get_label()}return rdx.i18n.get_string(this._properties.tooltip)};rdx.form_field.prototype.is_hidden=function(){return this._properties.hidden};rdx.form_field.prototype.get_col_span=function(){return this._properties.col_span};rdx.form_field.prototype.set_col_span=function(a){this._properties.col_span=a};rdx.form_field.prototype.get_type=function(){return this._properties.type};rdx.form_field.prototype.get_send_to_server=function(){return this._properties.send_to_server};rdx.form_field.prototype.is_default_if_null=function(){return this._properties.default_if_null};rdx.form_field.prototype.get_prompt=function(){return this._properties.prompt};rdx.form_field.prototype.set_resource_value=function(a){this._orig_resource_value=a;this._recent_value=a};rdx.form_field.prototype.get_resource_value=function(){return this._orig_resource_value};rdx.form_field.prototype.set_recent_value=function(a){this._recent_value=a};rdx.form_field.prototype.get_recent_value=function(){return this._recent_value};rdx.form_field.prototype.get_input_type=function(){if(rdx.utils.is_not_defined(this._properties.input_type)||this._properties.input_type==rdx.form_constants.TEXT_BOX){if(this.is_hidden()){this._properties.input_type=rdx.form_constants.LABEL}else{if(rdx.utils.is_defined(this.get_view())){this._properties.input_type=rdx.form_constants.VIEW}else{if(this.get_type()=="VALENUM"){this._properties.input_type=rdx.form_constants.LIST}else{if(this.get_type()=="VALBOOL"){this._properties.input_type=rdx.form_constants.CHECK_BOX}else{if(this.get_type()=="VALIPRANGE"){this._properties.input_type=rdx.form_constants.IP_RANGE}}}}}}return this._properties.input_type};rdx.form_field.prototype.set_group=function(a){this._properties.group=a};rdx.form_field.prototype.get_group=function(){return rdx.i18n.get_string(this._properties.group)};rdx.form_field.prototype.set_tab=function(a){this._properties.tab=a};rdx.form_field.prototype.get_tab=function(){return rdx.i18n.get_string(this._properties.tab)};rdx.form_field.prototype.get_view=function(){return this._properties.view};rdx.form_field.prototype.is_expand_group=function(){return this._properties.expand_group};rdx.form_field.prototype.get_properties=function(){return this._properties.properties};rdx.form_field.prototype.get_resource_name=function(){return this._properties.resource_name};rdx.form_field.prototype.get_enumid=function(){return this._properties.enumid};rdx.form_field.prototype.get_view_context=function(){return this._properties.view_context};rdx.form_field.prototype.get_resource_name_callback=function(){return this._properties.resource_name_callback};rdx.form_field.prototype.is_read_only=function(){return this._properties.read_only};rdx.form_field.prototype.get_width=function(){return this._properties.width};rdx.form_field.prototype.get_height=function(){return this._properties.height};rdx.form_field.prototype.is_prefill=function(){return this._properties.prefill};rdx.form_field.prototype.is_mandatory=function(){if(this.is_not_input_area()||this.is_hidden()){return false}return this._properties.mandatory};rdx.form_field.prototype.is_not_input_area=function(){var a=this.get_input_type();return(a==rdx.form_constants.LABEL||a==rdx.form_constants.NOTE||rdx.utils.is_defined(this.get_view()))};rdx.form_field.prototype.is_confirm=function(){return this._properties.add_confirm};rdx.form_field.prototype.is_embedded_component=function(){return this.get_input_type()==rdx.form_constants.CARD||this.get_input_type()==rdx.form_constants.VIEW||this.get_input_type()==rdx.form_constants.TABLE};rdx.form_field.prototype.get_extra_field=function(){return this._properties.extra_field_dfn};rdx.form_field.prototype._get_formatter_dfn=function(){return this._properties.formatter};rdx.form_field.prototype.get_min_max_values=function(){return this._properties.min_max};rdx.form_field.prototype._set_extra_form_field=function(a){this._extra_form_field=a};rdx.form_field.prototype._get_extra_form_field=function(){return this._extra_form_field};rdx.form_field.prototype._get_parent_form_field=function(){return this._parent_form_field};rdx.form_field.prototype._set_parent_form_field=function(a){return this._parent_form_field=a};rdx.form_field.prototype.is_label_needed=function(){if(this._properties.display_label==false){return false}return !(rdx.utils.is_defined(this.get_view())||this.get_input_type()==rdx.form_constants.TABLE||this.get_input_type()==rdx.form_constants.CARD)};rdx.form_field.prototype.is_separator=function(){return this._properties.add_separator};rdx.form_field.prototype.set_hidden=function(a){if(a){if(a=="true"){a=true}if(a=="false"){a=false}}this._properties.hidden=a};rdx.form_field.prototype.get_hidden=function(){return this._properties.is_hidden};rdx.form_field.prototype.get_custom_input_field=function(){return this._properties.custom_input_field};rdx.form=function(a,c,d,b){this._parent=typeof(a)=="string"?$("#"+a):a;this._submit_button=null;this._form_holder=new rdx.form_holder(this,b,c,d);this._field_resource_properties=d;this._form_fields_dfn=c;this._form_properties=b;this._expected_response_arrivals=1;this._resource=null};rdx.form.prototype.render=function(){var b=null;if(rdx.utils.is_array(this._form_fields_dfn)){b=new rdx.layout_manager(this._form_holder).render()}else{b=new rdx.legacy_form_container(this._form_holder).render()}var a=$("<div>");var c=this._render_bottom_bar(b,a);if(rdx.utils.is_defined(c)){b.append(c)}a.append(b);this._parent.append(a);return this};rdx.form.prototype._render_bottom_bar=function(d,m){var a=null;var h=$("<tr>");if(this._form_holder.is_add_close_button()||this._form_holder.is_add_create_button()){this._add_help(h)}if(!this._form_holder.is_read_only()){a=$("<table>").addClass(this._form_holder.get_class_names()).addClass("form_buttons");a.append(h);var f=$("<td>").css("textAlign","right").attr("colspan",2);h.append(f);if(this._form_holder.is_add_create_button()){this._submit_button=$(document.createElement("input")).attr("type","submit");if(!this._form_holder.is_add_mode()){this._submit_button.attr("disabled","true")}if(!rdx.utils.is_empty(this._form_holder.get_button_label())){var k=this._form_holder.get_button_label();var o=this._form_holder.get_button_tooltip();f.append(this._submit_button.attr("value",k).attr("title",o)).append("&nbsp;")}else{var g=rdx.i18n.get_string("rdx.form_add_button_label");var j=rdx.i18n.get_string("rdx.form_add_button_tooltip");var l=rdx.i18n.get_string("rdx.form_modify_button_label");var c=rdx.i18n.get_string("rdx.form_modify_button_tooltip");f.append(this._submit_button.attr("value",this._form_holder.is_add_mode()?g:l).attr("title",this._form_holder.is_add_mode()?j:c)).append("&nbsp;")}}if(this._form_holder.is_add_close_button()){var e=rdx.i18n.get_string("rdx.form_close_button_label");var b=rdx.i18n.get_string("rdx.form_close_button_tooltip");var n=$(document.createElement("input")).attr("type","button").attr("value",e).attr("title",b);if(this._form_holder.get_cancel_handler_callback()){n.bind(rdx.events.CLICK,{ns_cancel_handler_callback:this._form_holder.get_cancel_handler_callback()},function(p){p.data.ns_cancel_handler_callback.call_back()})}}f.append(n)}if(rdx.utils.is_defined(a)){d.append(a)}if(!this._form_holder.is_read_only()){d.bind(rdx.events.SUBMIT,{ns_form:this},function(q){var p=q.data.ns_form;if(!p._form_holder.is_add_mode()&&rdx.utils.is_defined(p._submit_button)&&p._submit_button.attr("disabled")){return false}if(rdx.utils.is_defined(p._form_holder.get_prompt())){rdx.message_box.confirm(rdx.i18n.get_string(p._form_holder.get_prompt()),new rdx.callback(p,p._submit_form));return false}else{return p._submit_form()}})}return a};rdx.form.prototype._submit_form=function(){if(!this._validate()){return false}var f=this._form_holder.get_embedded_views();for(var c=0;c<f.length;c++){var e=f[c];var b=e.get_component();if(rdx.utils.is_not_defined(b)||!rdx.utils.is_function(b.get_form)){continue}var d=b.get_form();if(rdx.utils.is_defined(d)){var a=d._validate();if(!a){return false}}}if(this._form_holder.get_submit_handler_callback()){this._form_holder.get_submit_handler_callback().call_back()}return false};rdx.form.prototype._add_help=function(a){if(rdx.utils.is_not_defined(this._form_holder.get_help_id())){return}var b=$("<td>").css("textAlign","left");rdx.help.add_help(b,this._form_holder.get_help_id());a.append(b)};rdx.form.prototype.initialize=function(a){if(rdx.utils.is_not_defined(a)){return}this._resource=a;this._decrement_expected_responses();if(this._all_responses_arrived()){this._initialize()}};rdx.form.prototype._initialize=function(){var e=this._resource;if(rdx.utils.is_not_defined(e)){return}var k=this._form_holder.get_form_fields();for(var f=0,m=k.length;f<m;f++){var j=k[f];var h=j.get_key();var p=this.set_field_value(h,e[h],e);if(h=="password"&&j.is_confirm()){var d=this.get_form_field(h+"_confirm");var n=d.get_key();if(p!=""){this.set_field_value(n,p)}}if(rdx.utils.is_defined(p)){j.set_resource_value(p)}if(rdx.utils.is_defined(j._get_extra_form_field())){var b=j._get_extra_form_field();var c=b.get_key();if(rdx.utils.is_not_defined(e[c])){continue}var a=this.set_field_value(c,e[c],e);if(rdx.utils.is_defined(a)){b.set_resource_value(a)}}}if(!this._form_holder.is_add_mode()&&rdx.utils.is_defined(this._submit_button)){this._submit_button.removeAttr("disabled")}var o=this._form_holder.get_prompt_fields();for(var g=0;g<o.length;g++){var j=o[g];var l=this._form_holder.get_field(j.get_key()).field;rdx.form_utils.initialize_prompt_event_handler(j.get_prompt(),l)}$(this).trigger(rdx.form_constants.FORM_INITIALIZED)};rdx.form.prototype._validate=function(){if(this._form_holder.is_read_only()){return true}var e=this._form_holder.get_form_fields();for(var d=0,c=e.length;d<c;d++){var b=e[d];var a=this._validate_form_field(b,d);if(b.get_input_type()=="password"&&b.is_confirm()){d++}if(!a){return false}if(rdx.utils.is_defined(b._get_extra_form_field())){if(!this._validate_form_field(b._get_extra_form_field())){return false}}}return true};rdx.form.prototype._validate_form_field=function(j,h){if(j.is_not_input_area()){return true}var g=j.get_key();var p=j.get_label();var o=j.get_type();var q=this.get_field_value(g);var r=j.get_input_type();var l=this._get_field(g);if(l.validate){var k=l.validate();if(k){this._show_field_error(rdx.i18n.get_string(k,{field_label:p}),g);return false}}if(o=="VALBOOL"){return true}if(j.is_mandatory()&&q.length==0){this._show_field_error(rdx.i18n.get_string("rdx.form_mandatory_error",{field_label:p}),g);return false}if(o=="VALNAME"&&!q.match(/^[ 0-9a-zA-Z#_.\@:=-]*$/)){this._show_field_error(rdx.i18n.get_string("rdx.form_invalid_string_error",{field_label:p}),g);return false}if((o=="VALPORT"||o=="VALNUM")&&!q.match(/^\d*$/)){this._show_field_error(rdx.i18n.get_string("rdx.form_invalid_number_error",{field_label:p}),g);return false}if(o=="VALIPSTR"&&q.length>0&&!rdx.utils.is_ipv4(q)){this._show_field_error(rdx.i18n.get_string("rdx.form_invalid_ip_error",{field_label:p}),g);return false}if(o=="VALIPRANGE"&&rdx.utils.is_defined(q)){var f=q.get_ip_string();if(!rdx.utils.is_ipv4(f)){this._show_field_error(rdx.i18n.get_string("rdx.form_invalid_ip_error",{field_label:p}),g);return false}var d=q.get_range();if(rdx.utils.is_num(d)){this._show_field_error(rdx.i18n.get_string("rdx.iprange_format_error"),g);return false}var a=parseInt(d);if(a>=254){this._show_field_error(rdx.i18n.get_string("rdx.iprange_maxval_error"),g);return false}var n=q.get_range_start();if(a<n){this._show_field_error(rdx.i18n.get_string("rdx.iprange_error"),g);return false}}if((o=="VALNUM"||o=="VALPORT")&&q.length>0&&rdx.utils.is_defined(j.get_min_max_values())){var m=rdx.utils.is_defined(j.get_min_max_values().min)&&j.get_min_max_values().min>q;var e=rdx.utils.is_defined(j.get_min_max_values().max)&&j.get_min_max_values().max<q;if(m||e){if(rdx.utils.is_defined(j.get_min_max_values().min,j.get_min_max_values().max)){this._show_field_error(rdx.i18n.get_string("rdx.min_max_error_msg",{field_label:p,min_val:j.get_min_max_values().min,max_val:j.get_min_max_values().max}),g);return false}}if(m){this._show_field_error(rdx.i18n.get_string("rdx.min_error_msg",{field_label:p,min_val:j.get_min_max_values().min}),g);return false}if(e){this._show_field_error(rdx.i18n.get_string("rdx.max_error_msg",{field_label:p,max_val:j.get_min_max_values().max}),g);return false}}if(r=="password"&&j.is_confirm()){var c=this.get_field_value(g+"_confirm");var g=j.get_key();var p=j.get_label();if(c!=q){var b=this._form_holder.get_form_fields()[h+1].get_label();this._show_field_error(rdx.i18n.get_string("rdx.form_password_mismatch",{password:p,confirm_password:b}),g);return false}}return true};rdx.form.prototype._get_field=function(a){return this._form_holder.get_field(a).field};rdx.form.prototype.get_field=function(a){return this._get_field(a)};rdx.form.prototype._get_form_field=function(a){var b=this._form_holder.get_field(a);return b.form_field};rdx.form.prototype.get_field_info=function(a){return this._form_holder.get_field(a)};rdx.form.prototype.get_form_field=function(a){return this._get_form_field(a)};rdx.form.prototype.validate=function(){return this._validate()};rdx.form.prototype.get_field_value=function(c){var a=null;var d=this._get_field(c);a=d.get_data();var b=this._get_form_field(c);if(rdx.utils.is_defined(b.get_formatter())){a=b.get_formatter().get_storage_value(a)}if(rdx.utils.is_defined(a)){return a}else{if(rdx.utils.is_function(d.text)){return $.trim(d.text())}}return""};rdx.form.prototype.set_form_field_data_items=function(b,c){var d=this._get_field(b);var a=this._get_form_field(b);rdx.form_utils.unmask_component(d);d.add_data_items.apply(d,[a.get_formatter().map_data_items(c)])};rdx.form.prototype.set_field_value=function(c,d,e){var f=this._get_field(c);var b=this._get_form_field(c);var a=b.get_input_type();if(rdx.utils.is_defined(b.get_formatter())){d=b.get_formatter().get_display_value(d,e)}if((rdx.utils.is_function(f.get_data)&&f.get_data()!=String(d)&&rdx.utils.is_defined(d))||b.is_embedded_component()){f.set_data(d,e)}return d};rdx.form.prototype._show_field_error=function(d,c){var b=this._form_holder.get_field(c);var a=this._get_form_field(c);if(rdx.utils.is_defined(b.field_validation_trigger)){$(b.field_validation_trigger).trigger(rdx.form_constants.CONTAINER_VALIDATION_ERROR,[a])}rdx.message_box.error(d,new rdx.callback(this,this._set_focus,[c,a]))};rdx.form.prototype._set_focus=function(b,a){if(this._is_text_field(a.get_input_type())){this._get_field(b).get_component().focus()}};rdx.form.prototype._is_add_mode=function(){var a=this._form_holder.get_submit_operation().method;if(rdx.utils.is_defined(a)&&a==rdx.model_constants.ADD){return true}return false};rdx.form.prototype._is_read_only=function(){return this._form_holder.is_read_only()};rdx.form.prototype._is_text_field=function(a){if(this._form_holder.is_read_only()){return false}return(a==rdx.form_constants.TEXT_BOX||a==rdx.form_constants.TEXT_AREA||a==rdx.form_constants.PASSWORD)};rdx.form.prototype._get_form_fields=function(){return this._form_holder.get_form_fields()};rdx.form.prototype.finalize=function(){this._resize_form_components();this._mask_form_components()};rdx.form.prototype._resize_form_components=function(){var b=this._form_holder.get_embedded_views();for(var a=0;a<b.length;a++){if(rdx.utils.is_function(b[a].resize)){b[a].resize()}}};rdx.form.prototype._mask_form_components=function(){var b=this._form_holder.get_maskable_components();for(var a=0;a<b.length;a++){rdx.form_utils.mask_component(b[a])}};rdx.form.prototype.get_embedded_views=function(){return this._form_holder.get_embedded_views()};rdx.form.prototype._get_field_resource_response_arrived=function(b,c,d){var a=this._get_form_field(c);this.set_form_field_data_items(c,b[d]);this._decrement_expected_responses();if(this._all_responses_arrived()){this._initialize()}};rdx.form.prototype.increment_expected_responses=function(){this._expected_response_arrivals++};rdx.form.prototype._decrement_expected_responses=function(){this._expected_response_arrivals--};rdx.form.prototype._all_responses_arrived=function(){return(this._expected_response_arrivals==0)};rdx.form.prototype.add_form_initialized_event=function(b){var a=this;$(this).bind(rdx.form_constants.FORM_INITIALIZED,{callback:b,form:a},function(c){c.data.callback.call_back([c.data.form])})};rdx.form.prototype.get_form_holder=function(){return this._form_holder};rdx.form_holder=function(c,b,a,d){this._DEFAULT_PROPERTIES={read_only:false,number_of_columns:1,submit_operation:{method:rdx.model_constants.ADD,action:null},submit_handler_callback:null,cancel_handler_callback:null,group_expand_img_url:rdx.images.NAVIGATE_OPEN_IMG,group_collapse_img_url:rdx.images.NAVIGATE_CLOSE_IMG,class_names:"form",button_label:"",button_tooltip:"",add_create_button:true,add_close_button:true,add_border:true,prompt:null,help_id:null,standalone_mode:false};this._properties=$.extend({},this._DEFAULT_PROPERTIES,b);this._fields_dfn=a;this._resource_properties=d;this._form=c;this._fields_map=new Object();this._form_fields=new Array();this._maskable_components=new Array();this._prompt_fields=new Array();this._embedded_views=new Array()};rdx.form_holder.prototype.get_form=function(){return this._form};rdx.form_holder.prototype.set_fields_dfn=function(a){this._fields_dfn=a};rdx.form_holder.prototype.get_fields_dfn=function(){return this._fields_dfn};rdx.form_holder.prototype.set_resource_properties=function(a){this._resource_properties=a};rdx.form_holder.prototype.get_resource_properties=function(){return this._resource_properties};rdx.form_holder.prototype.add_field_to_map=function(a,b){this._fields_map[a]=b};rdx.form_holder.prototype.get_fields_map=function(){return this._fields_map};rdx.form_holder.prototype.get_field=function(a){return this._fields_map[a]};rdx.form_holder.prototype.add_maskable_component=function(a){this._maskable_components.push(a)};rdx.form_holder.prototype.get_maskable_components=function(){return this._maskable_components};rdx.form_holder.prototype.add_to_form_fields=function(a){this._form_fields=this._form_fields.concat(a)};rdx.form_holder.prototype.get_form_fields=function(){return this._form_fields};rdx.form_holder.prototype.add_embedded_view=function(a){this._embedded_views.push(a)};rdx.form_holder.prototype.get_embedded_views=function(){return this._embedded_views};rdx.form_holder.prototype.add_prompt_field=function(a){this._prompt_fields.push(a)};rdx.form_holder.prototype.get_prompt_fields=function(){return this._prompt_fields};rdx.form_holder.prototype.get_resource_properties=function(){return this._resource_properties};rdx.form_holder.prototype.is_standalone_mode=function(){return this._properties.standalone_mode};rdx.form_holder.prototype.is_read_only=function(){return this._properties.read_only};rdx.form_holder.prototype.get_help_id=function(){return this._properties.help_id};rdx.form_holder.prototype.is_add_mode=function(){var a=this._properties.submit_operation.method;if(rdx.utils.is_defined(a)&&a==rdx.model_constants.ADD){return true}return false};rdx.form_holder.prototype.get_prompt=function(){return this._properties.prompt};rdx.form_holder.prototype.get_class_names=function(){return this._properties.class_names};rdx.form_holder.prototype.is_add_close_button=function(){return this._properties.add_close_button};rdx.form_holder.prototype.is_add_create_button=function(){return this._properties.add_create_button};rdx.form_holder.prototype.is_expand_group=function(){return this._properties.expand_group};rdx.form_holder.prototype.add_border=function(){return this._properties.add_border};rdx.form_holder.prototype.get_button_label=function(){return rdx.i18n.get_string(this._properties.button_label)};rdx.form_holder.prototype.get_cancel_handler_callback=function(){return this._properties.cancel_handler_callback};rdx.form_holder.prototype.get_submit_handler_callback=function(){return this._properties.submit_handler_callback};rdx.form_holder.prototype.get_submit_operation=function(){return this._properties.submit_operation};rdx.form_holder.prototype.get_button_tooltip=function(){return rdx.i18n.get_string(this._properties.button_tooltip)};rdx.form_holder.prototype.get_properties=function(){return this._properties};rdx.layout_manager=function(a){this._form_holder=a;this._submit_button=null};rdx.layout_manager.prototype.render=function(){var e=$(document.createElement("form")).attr("autocomplete","off");e.addClass(this._form_holder.get_properties().class_names);var d=$("<div>");d.css("overflow","auto");if(this._form_holder.add_border()){d.addClass("smooth_all_corner").addClass("layout_border")}d.addClass("config_layout");var c=this._form_holder.get_fields_dfn();for(var b=0;b<c.length;b++){var a=this._get_container(c[b],d);d.append(a.render())}e.append(d);return e};rdx.layout_manager.prototype._get_container=function(b,a){switch(b.type){case rdx.form_constants.TAB:return new rdx.tab_container(a,b,this._form_holder);case rdx.form_constants.GROUP:return new rdx.group_container(a,b,this._form_holder);default:return new rdx.form_container(a,b,this._form_holder)}};rdx.layout_manager.prototype.get_resource_properties=function(){return this._form_resource_properties};rdx.form_utils=new function(){this.get_form_fields=function(f,d,b){var h=new Array();for(var j in f){var a=rdx.form_utils._get_form_field_properties(f[j],d[j],b,j);var g=new rdx.form_field(a);h.push(g);if(g.get_input_type()=="password"&&g.is_confirm()){a.label=rdx.i18n.get_string("rdx.label_confirm")+" "+a.label;a.key=a.key+"_confirm";h.push(new rdx.form_field(a))}if(rdx.utils.is_defined(g.get_extra_field())){var e=rdx.form_utils._get_form_field_properties(g.get_extra_field(),d[g.get_extra_field().property],b,g.get_extra_field().property);var c=new rdx.form_field(e);c._set_parent_form_field(g);g._set_extra_form_field(c)}}return h};this.initialize_prompt_event_handler=function(a,b){var c=rdx.utils.is_not_defined(a.event)?rdx.events.CHANGE:a.event;var d=rdx.utils.is_defined(b.get_field().get_resource_value())?b.get_field().get_resource_value():null;b.add_event_handler(c,new rdx.callback(function(g,e,f,h){setTimeout(function(){rdx.form_utils._handle_prompt_event(g,e,f,h)},10)},[a,b,d]))};this._handle_prompt_event=function(c,a,b,d){if(d!=b.get_data()){if(b.get_data()==b.get_field().get_recent_value()){return}if(rdx.utils.is_defined(a.values)){if($.inArray(b.get_data(),a.values)==-1){b.get_field().set_recent_value(b.get_data());return}}if(!rdx.utils.is_ie()){c.preventDefault()}else{c.returnValue=false}rdx.message_box.confirm(rdx.i18n.get_string(a.message),new rdx.callback(function(e,f){e.get_field().set_recent_value(e.get_data())},[b,d]),new rdx.callback(function(e,f){e.set_data(e.get_field().get_recent_value())},[b,d]))}else{b.get_field().set_recent_value(b.get_data())}};this._get_form_field_properties=function(b,a,c,e){var d=$.extend({},b);if(!this._has_resource(a)){d.key=e;return d}d.key=a.key;if(rdx.utils.is_not_defined(d.label)){d.label=a.label}if(c&&c.submit_operation&&c.submit_operation.method&&c.submit_operation.method==rdx.model_constants.ADD&&a.value){d.value=a.value}if(a.tooltip){d.tooltip=a.tooltip}if(a.type){d.type=a.type}if(a.note){d.note=a.note}if(rdx.utils.is_defined(a.mandatory)){d.mandatory=a.mandatory}if(rdx.utils.is_defined(a.value)){d.value=a.value}if(rdx.utils.is_defined(a.min_max)){d.min_max=a.min_max}if(rdx.utils.is_defined(a.enumid)){d.enumid=a.enumid}return d};this._has_resource=function(a){if(rdx.utils.is_not_defined(a)){return false}return true};this._check_send_to_server=function(b,d){var a=b.get_form_field(d);var e=b.get_field_value(d);var c={};c[d]=e;if((rdx.utils.is_defined(a,a.get_send_to_server()))){if(!a.get_send_to_server().evaluate([c])){return false}}return true};this._check_default_if_null=function(c,d){var b=c.get_form_field(d);var a=b.get_value();var e=c.get_field_value(d);return(rdx.utils.is_defined(b,a)&&(b.is_default_if_null()==true)&&rdx.utils.is_empty(e))};this.prefill_form_data=function(k,c,e,b,d){var g=c._get_form_fields();for(var f=0,j=g.length;f<j;f++){var a=g[f].get_resource_name();if(a){var h=c.get_field(g[f].get_key());rdx.model.get(rdx.utils.get_resource(a),null,new rdx.callback(e,b,[g[f].get_key(),a,d]),k,new rdx.callback(null,rdx.form_utils._handle_resource_form_field_error,[h]));c.increment_expected_responses()}else{if(g[f].get_type()=="VALENUM"){c.set_field_value(g[f].get_key(),g[f].get_value())}}}};this._handle_resource_form_field_error=function(b,a){rdx.form_utils.unmask_component(a);rdx.message_box.error(b,null,null);rdx.status_bar.update_status(b,rdx.ERROR)};this.get_resource_for_operation=function(a,d,e){var b={};if(rdx.utils.is_defined(d)&&rdx.utils.is_defined(d.properties)){b=d.properties}var l=(rdx.utils.is_defined(e))?e:{};var k=a.get_form_holder();var h=k.get_form_fields();for(var f=0;f<h.length;f++){var g=h[f];var j=g.get_key();if(g.is_not_input_area()&&!g.is_hidden()){continue}if(!this._has_resource(b[j])&&!a.get_form_holder().is_standalone_mode()){continue}if(!this._check_send_to_server(a,j)){continue}if(!this._check_default_if_null(a,j)){l[j]=a.get_field_value(j)}else{l[j]=a.get_form_field(j).get_value()}if(rdx.utils.is_defined(g.get_extra_field())){var c=g.get_extra_field().property;if(!this._check_send_to_server(a,c)){continue}if(!this._check_default_if_null(a,c)){l[c]=a.get_field_value(c)}else{l[c]=a.get_form_field(c).get_value()}}}return l};this.set_basic_field_attributes=function(b,a){if(a.get_height()!=-1){b.height(a.get_height())}if(a.get_width()!=-1){b.width(a.get_width())}if(a.is_read_only()){b.attr("readonly","true")}};this.render_label_field=function(d,b,f,g,a,e){if(!e){b.addClass("label")}if(rdx.form_utils.is_label_first(g)){f.addClass("field");if(a.is_label_needed()){if(a.get_label_width()!=-1){b.width(a.get_label_width())}d.append(b)}d.append(f);return f}else{d.append(f);if(a.is_label_needed()){if(a.get_label_width()!=-1){f.width(a.get_label_width())}var c=$("<span>");c.addClass("input_label");c.append(b.text());f.append(c)}return b}};this.is_label_first=function(a){if(rdx.utils.is_function(a.get_component_type)&&(a.get_component_type()==rdx.form_constants.CHECK_BOX)){return false}return true};this.mask_component=function(a){if(!rdx.utils.is_function(a.mask)){return}a.mask()};this.unmask_component=function(a){if(!rdx.utils.is_function(a.unmask)){return}a.unmask()}};rdx.formatter=function(a){this._DEFAULT_PROPERTIES={map:null,format:null,storage_format:null,callback:null,resource_keys:null,storage_key:null,data_validator_callback:null,regex:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a);this._input_map=rdx.utils.is_defined(this._properties.map)?this._properties.map:{};this._regex_obj=rdx.utils.is_defined(this._properties.regex)?new RegExp(this._properties.regex):null;if(rdx.utils.is_array(this._input_map)){this._input_map=rdx.utils.convert_array_to_map(this._input_map)}this._reverse_map={};if(rdx.utils.is_defined(this._properties.map)){this._populate_reverse_map()}};rdx.formatter.prototype.get_display_value=function(c,e){if(rdx.utils.is_defined(this._properties.callback)&&rdx.utils.is_defined(e)){return this._properties.callback.call_back([e])}if(rdx.utils.is_defined(this._reverse_map)){if(rdx.utils.is_array(c)){var a=new Array();for(var b=0;b<c.length;b++){var d=this._reverse_map[c[b]];if(rdx.utils.is_defined(d)){a.push(d)}}return a}else{return this._reverse_map[c]}}return c};rdx.formatter.prototype.get_storage_value=function(a){var b=rdx.utils.is_array(a);if(b){return this._get_mapped_array_data(a)}else{(rdx.utils.is_defined(this._input_map))}return this._input_map[a];return a};rdx.formatter.prototype._get_mapped_array_data=function(c){var a=new Array();for(var b=0;b<c.length;b++){var d=this._input_map[c[b]];if(rdx.utils.is_defined(d)){a.push(d)}}return a};rdx.formatter.prototype.map_data_items=function(b){if(rdx.utils.is_not_defined(this._properties.resource_keys)||rdx.utils.is_not_defined(b)){return new Array()}var a=this._populate_input_map(b);this._populate_reverse_map();return a};rdx.formatter.prototype.update_input_map_data_items=function(b,a){if(rdx.utils.is_not_defined(a)){a=b}if((!this.regex_defined())||(this.regex_defined()&&this.validate_regex(a))){this._input_map[b]=a;return true}else{return false}};rdx.formatter.prototype._populate_input_map=function(e){var a=new Array();for(var c=0;c<e.length;c++){var b=e[c];if(rdx.utils.is_defined(this._properties.data_validator_callback)&&!this._properties.data_validator_callback.call_back([b])){continue}if(this.regex_defined()&&!this.validate_regex(this._get_data_string(b,this._properties.resource_keys))){continue}var d=this._get_data_string(b,this._properties.resource_keys,this._properties.format);var f=rdx.utils.is_not_defined(this._properties.storage_key)?this._properties.resource_keys:[this._properties.storage_key];var g=this._get_data_string(b,f,this._properties.storage_format);this._input_map[d]=g;a.push(d)}return a};rdx.formatter.prototype.validate_regex=function(a){return this._regex_obj.test(a)};rdx.formatter.prototype.regex_defined=function(){return rdx.utils.is_defined(this._regex_obj)};rdx.formatter.prototype._populate_reverse_map=function(){this._reverse_map={};for(var a in this._input_map){this._reverse_map[this._input_map[a]]=a}};rdx.formatter.prototype._get_data_string=function(b,j,f){var e="";var a=false;var c=false;var g;var h;if(rdx.utils.is_defined(f)){if(f instanceof rdx.callback){c=true;a=false;h=f}else{c=false;a=true;g=f}}if(c){return h.call_back([b,j])}if(a){e=g}for(var d=0;d<j.length;d++){if(a){e=rdx.utils.get_formatted_string(e,j[d],b[j[d]])}else{e=e+b[j[d]]+"-"}}if(!a){e=e.substring(0,e.lastIndexOf("-"))}return e};rdx.formatter.prototype.get_map_keys=function(){var a=new Array();for(key in this._input_map){a.push(key)}return a};rdx.formatter.prototype.get_map_values=function(){var a=new Array();for(key in this._reverse_map){a.push(key)}return a};rdx.form_container=function(c,b,a){this._DEFAULT_PROPERTIES={container:rdx.form_constants.NONE,form_fields:{},columns:1};this._properties=$.extend({},this._DEFAULT_PROPERTIES,b);this._form_holder=a;this._form_fields=rdx.form_utils.get_form_fields(this._properties.form_fields,this._form_holder.get_resource_properties(),this._form_holder.get_properties());this._form_holder.add_to_form_fields(this._form_fields);this._parent=c};rdx.form_container.prototype.render=function(l,o){if(rdx.utils.is_not_defined(l)){l=$("<table>").attr("cellspacing",0)}l.css("width","100%");var c=this._properties.columns;var b=0;row=this._create_row(l);for(var f=0;f<this._form_fields.length;f=f+1){if((f)>=this._form_fields.length){break}if((b)>=(c*2)){b=0;row=this._create_row(l)}var g=this._form_fields[f];var m=g.get_label();if(!this._form_holder.is_read_only()&&g.is_mandatory()){m+="*"}var d=$("<td>").attr("title",g.get_tooltip()).append(m);var a=$("<td>").attr("title",g.get_tooltip());var j=rdx.utils.is_defined(g.get_col_span())?g.get_col_span():1;b=b+j+1;if(g.get_input_type()==rdx.form_constants.NOTE){this._add_note(row,f,g);b=0;break}if(rdx.utils.is_defined(g.get_col_span())){a.attr("colspan",g.get_col_span())}if(g.is_hidden()){row.addClass("hidden")}if(g.is_separator()){this._add_separator(l)}var e=(this._form_holder.is_read_only()||g.get_input_type()==rdx.form_constants.LABEL)?rdx.form_constants.LABEL:g.get_input_type();var h=rdx.component_helper.get_component(e,a,g,this._form_holder.is_read_only()).render();if(rdx.utils.is_defined(g.get_prompt())){this._form_holder.add_prompt_field(g)}if(rdx.utils.is_defined(g.get_resource_name())){this._form_holder.add_maskable_component(h)}var k=rdx.form_utils.render_label_field(row,d,a,h,g,this._form_holder.is_read_only());this._form_holder.add_field_to_map(g.get_key(),{field:h,form_field_index:f,row:row,cell:k,field_validation_trigger:o,form_field:g});if(rdx.utils.is_defined(o)&&rdx.utils.is_function(o.set_form_field_params)){o.set_form_field_params(g,this._properties)}if(g.is_embedded_component()){a.addClass("form_embedded_view");a.attr("colspan",this._properties.columns*2);this._form_holder.add_embedded_view(h)}var n=g.get_value();if(n!=null){this._form_holder.get_form().set_field_value(g.get_key(),n,null)}}return l};rdx.form_container.prototype._create_row=function(a){var b=$("<tr>");a.append(b);return b};rdx.form_container.prototype._add_note=function(d,b,a){var c=$("<div>");c.addClass("form_note");var e=$("<td>");d.append(e);if(b!=0){c.addClass("form_note_border");e.addClass("form_note_row")}c.html(a.get_note());e.attr("title",a.get_tooltip()).attr("colspan",this._properties.columns*2).append(c);this._form_holder.add_field_to_map(a.get_key(),{field:c,form_field_index:b,row:d,cell:e,field_validation_trigger:null,form_field:a})};rdx.form_container.prototype._add_separator=function(d){var c=$("<tr>");var a=$("<td>").attr("colspan",this._properties.columns*2);var b=$(document.createElement("hr"));b.addClass("separator");a.append(b);c.append(a);d.append(c)};rdx.group_container=function(c,b,a){this._parent=c;this._DEFAULT_PROPERTIES={expand_group:false,group_expand_img_url:rdx.images.NAVIGATE_OPEN_IMG,group_collapse_img_url:rdx.images.NAVIGATE_CLOSE_IMG,form_fields:{},name:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,b);this._form_holder=a};rdx.group_container.prototype.render=function(){var e=$("<div>");var d=$("<table>").addClass(this._form_holder.get_class_names()).addClass("group");d.css("width","100%");var a;if(this._properties.expand_group){d.show();a=$(document.createElement("img")).attr("src",this._properties.group_collapse_img_url)}else{d.hide();a=$(document.createElement("img")).attr("src",this._properties.group_expand_img_url)}var c=$(document.createElement("a")).attr("href","#noAnchor").attr("title",this._properties.name).append(a).bind(rdx.events.CLICK,{ns_form:this,ns_group_table:d,ns_img:a},function(h){var g=h.data.ns_form;var j=h.data.ns_group_table;var f=h.data.ns_img;j.toggle();f.attr("src",(f.attr("src")==g._properties.group_expand_img_url)?g._properties.group_collapse_img_url:g._properties.group_expand_img_url)});var b=$("<div>").attr("colspan",this._properties.number_of_columns*2).append(c).append(c.clone(true).text(this._properties.name));new rdx.form_container(this._parent,this._properties,this._form_holder).render(d,this);e.append(b).append(d);this._register_container_validation_event(d,c);return e};rdx.group_container.prototype.set_form_field_params=function(b,a){b.set_group(a.name)};rdx.group_container.prototype._register_container_validation_event=function(c,b){var a=this;$(this).bind(rdx.form_constants.CONTAINER_VALIDATION_ERROR,{group_table:c,link:b},function(e,d){if(e.data.group_table.is(":hidden")){e.data.link.click()}})};rdx.legacy_form_container=function(a){this._form_holder=a;var b=rdx.form_utils.get_form_fields(this._form_holder.get_fields_dfn(),this._form_holder.get_resource_properties(),this._form_holder.get_properties());this._form_holder.add_to_form_fields(b);this._groups={};this._tabs={}};rdx.legacy_form_container.prototype.render=function(){var h=$("<table>").addClass(this._form_holder.get_class_names());h.attr("cellspacing",0);if(this._form_holder.add_border()){h.addClass("smooth_all_corner").addClass("layout_border")}h.addClass("config_layout");this._tabs.no_of_columns=0;var g=this._form_holder.get_form_fields();for(var s=0,w=g.length;s<w;s+=this._form_holder.get_properties().number_of_columns){var l=h.children("tbody").children("tr:not(.hidden)").length+1;var f=$("<tr>");h.append(f);if(l%2==0){f.addClass("even")}for(var r=0,v=this._form_holder.get_properties().number_of_columns;r<v;r++){var p=g[s+r];if(!p){continue}if(p.get_input_type()==rdx.form_constants.NOTE){this._add_note(f,s,r,p);break}var e=p.get_group();if(rdx.utils.is_defined(e)){if(rdx.utils.is_not_defined(this._groups[e])){var f=$("<tr>");h.append(f)}if(rdx.utils.is_not_defined(this._groups[e])){this._groups.no_of_columns=0}f=this._add_group(h,p,e,f,this._groups.no_of_columns==0);this._groups.no_of_columns=this._groups.no_of_columns+1;if(this._groups.no_of_columns==this._form_holder.get_properties().number_of_columns){this._groups.no_of_columns=0}}if(rdx.utils.is_defined(p.get_tab())){if(rdx.utils.is_not_defined(this._tabs.tabs_div)){var f=$("<tr>");h.append(f)}if(rdx.utils.is_not_defined(this._tabs[p.get_tab()])){this._tabs.no_of_columns=0}f=this._add_tab(h,p,f,this._tabs.no_of_columns==0);this._tabs.no_of_columns=this._tabs.no_of_columns+1;if(this._tabs.no_of_columns==this._form_holder.get_properties().number_of_columns){this._tabs.no_of_columns=0}}if(p.is_hidden()){f.addClass("hidden")}var n=p.get_label();if(!this._form_holder.is_read_only()&&p.is_mandatory()){n+="*"}var q=$("<td>").attr("title",p.get_tooltip()).append(n);var d=$("<td>").attr("title",p.get_tooltip());if(p.is_separator()){this._add_separator(h,f,s,r,p)}var t=(this._form_holder.is_read_only()||p.get_input_type()==rdx.form_constants.LABEL)?rdx.form_constants.LABEL:p.get_input_type();var k=rdx.component_helper.get_component(t,d,p,this._form_holder.is_read_only()).render();if(rdx.utils.is_defined(p.get_prompt())){this._form_holder.add_prompt_field(p)}if(rdx.utils.is_defined(p.get_resource_name())){this._form_holder.add_maskable_component(k)}var b=rdx.form_utils.render_label_field(f,q,d,k,p,this._form_holder.is_read_only());this._form_holder.add_field_to_map(p.get_key(),{field:k,form_field_index:s+r,row:f,cell:b,field_validation_trigger:this._get_field_validation_trigger(p),form_field:p});if(p.is_embedded_component()){d.addClass("form_embedded_view");d.attr("colspan",this._form_holder.get_properties().number_of_columns*2);this._form_holder.add_embedded_view(k)}var c=p._get_extra_form_field();if(rdx.utils.is_defined(c)){var o=$("<td>");o.attr("title",c.get_tooltip());o.addClass("field");b.append(o);if(rdx.utils.is_defined(c.get_prompt())){this._form_holder.add_prompt_field(c)}var u=rdx.component_helper.get_component(c.get_input_type(),o,c,this._form_holder.is_read_only()).render();if(rdx.utils.is_defined(c.get_resource_name())){this._form_holder.add_maskable_component(u)}if(rdx.utils.is_not_defined(c.get_view())){this._form_holder.add_field_to_map(c.get_key(),{field:u,form_field_index:s+r,extra_form_field:true,row:f,cell:o,field_validation_trigger:this._get_field_validation_trigger(c),form_field:c})}if(c.is_embedded_component()){o.addClass("form_embedded_view");o.attr("colspan",this._form_holder.get_properties().number_of_columns*2);this._form_holder.add_embedded_view(u)}f.append(o)}var m=p.get_value();if(m!=null){this._form_holder.get_form().set_field_value(p.get_key(),m,null)}}}var a=$(document.createElement("form")).attr("autocomplete","off").append(h);return a};rdx.legacy_form_container.prototype._get_field_validation_trigger=function(a){var b=a._get_parent_form_field();var c=rdx.utils.is_defined(b)?b:a;if(rdx.utils.is_defined(c.get_tab())||rdx.utils.is_defined(c.get_group())){this._register_container_validation_event(c);return c}return null};rdx.legacy_form_container.prototype._register_container_validation_event=function(a){var b=this;$(a).bind(rdx.form_constants.CONTAINER_VALIDATION_ERROR,{legacy_form:b},function(d,c){var e=rdx.utils.is_defined(c._get_parent_form_field())?c._get_parent_form_field():c;d.data.legacy_form._set_group_tab(e)})};rdx.legacy_form_container.prototype._add_note=function(e,c,b,a){var d=$("<div>");d.addClass("form_note");var f=$("<td>");e.append(f);if(c!=0){d.addClass("form_note_border");f.addClass("form_note_row")}d.html(a.get_note());f.attr("title",a.get_tooltip()).attr("colspan",this._form_holder.get_properties().number_of_columns*2).append(d);this._form_holder.add_field_to_map(a.get_key(),{field:d,form_field_index:c+b,row:e,cell:f,field_validation_trigger:null,form_field:a})};rdx.legacy_form_container.prototype._add_group=function(h,d,a,k,j){var f;if(!this._groups[a]){f=$("<table>").addClass(this._form_holder.get_class_names()).addClass("group");var c;if(d.is_expand_group()){f.show();c=$(document.createElement("img")).attr("src",this._form_holder.get_properties().group_collapse_img_url)}else{f.hide();c=$(document.createElement("img")).attr("src",this._form_holder.get_properties().group_expand_img_url)}var g=$(document.createElement("a")).attr("href","#noAnchor").attr("title",a).append(c).bind(rdx.events.CLICK,{ns_form:this,ns_group_table:f,ns_img:c},function(n){var m=n.data.ns_form;var o=n.data.ns_group_table;var l=n.data.ns_img;o.toggle();l.attr("src",(l.attr("src")==m._form_holder.get_properties().group_expand_img_url)?m._form_holder.get_properties().group_collapse_img_url:m._form_holder.get_properties().group_expand_img_url)});var b=$("<td>").attr("colspan",this._form_holder.get_properties().number_of_columns*2).append(g).append(g.clone(true).text(a));k.append(b);var e=$("<tr>");var b=$("<td>").attr("colspan",this._form_holder.get_properties().number_of_columns*2);e.append(b);b.append(f);h.append(e);this._groups[a]={group_table:f,group_link:g}}else{f=this._groups[a].group_table}if(j){k=$("<tr>");this._groups[a].group_table.group_row=k;f.append(k)}else{k=this._groups[a].group_table.group_row}return k};rdx.legacy_form_container.prototype._add_tab=function(j,f,n,k){var h=f.get_tab();if(rdx.utils.is_not_defined(this._tabs[h])){var b=null;var g=false;this._tabs.no_of_columns=0;if(rdx.utils.is_defined(this._tabs.tabs_div)){b=this._tabs.tabs_div}else{b=$("<div>");b.addClass("tabs");this._tabs.tabs_div=b;var e=$("<td>").attr("colspan",this._form_holder.get_properties().number_of_columns*2);n.append(e);e.addClass("tab_spacing");e.append(b);g=true}var l=$(document.createElement("li"));b.append(l);var c=$(document.createElement("a")).attr("href","#noAnchor").attr("title",h);l.append(c);var d=null;if(rdx.utils.is_defined(this._tabs.tab_cell)){d=this._tabs.tab_cell}else{var m=$("<tr>");d=$("<td>").attr("colspan",this._form_holder.get_properties().number_of_columns*2).addClass("tab_spacing");m.append(d);j.append(m);d.addClass("tab_layout_border").addClass("smooth_all_corner");this._tabs.tab_cell=d}var a=$("<table>").addClass("group").addClass("form");a.attr("cellspacing",0);n=$("<tr>");a.append(n);this._tabs[f.get_tab()]={li_item:l,tab_table:a};this._tabs[f.get_tab()]["tab_table"]["tab_row"]=n;if(!g){a.hide()}d.append(a);if(g){l.addClass("current_tabs")}c.append($(document.createElement("span")).text(h));l.bind(rdx.events.CLICK,{tabbed_view:this,title:h,table_dfn:this._tabs,tab_li:l,tabs_div:b,tabs_content_cell:d},function(p){var o=p.data.tabs_div.children(".current_tabs");p.data.tabbed_view._tab_clicked(p.data.title,p.data.table_dfn,p.data.tab_li,o)})}else{if(k){n=$("<tr>");this._tabs[f.get_tab()]["tab_table"].append(n);this._tabs[f.get_tab()]["tab_table"]["tab_row"]=n}else{n=this._tabs[f.get_tab()]["tab_table"]["tab_row"]}}return n};rdx.legacy_form_container.prototype._add_separator=function(h,g,d,c,b){var f=$("<tr>");var a=$("<td>").attr("colspan",this._form_holder.get_properties().number_of_columns*2);var e=$(document.createElement("hr"));e.addClass("separator");a.append(e);f.append(a);h.append(f)};rdx.legacy_form_container.prototype._tab_clicked=function(e,b,a,c){for(var d in b){if(d!=e&&rdx.utils.is_defined(b[d]["tab_table"])){b[d]["tab_table"].hide()}}c.removeClass("current_tabs");a.addClass("current_tabs");b[e]["tab_table"].show()};rdx.legacy_form_container.prototype._set_group_tab=function(a){this._expand_group(a.get_group());if(rdx.utils.is_defined(a.get_tab())){var b=this._tabs.tabs_div.children(".current_tabs");this._tab_clicked(a.get_tab(),this._tabs,this._tabs[a.get_tab()]["li_item"],b)}};rdx.legacy_form_container.prototype._expand_group=function(a){if(a!=null&&this._groups[a].group_table.is(":hidden")){this._groups[a].group_link.click()}};rdx.tab_container=function(b,c,a){this._parent=b;this._DEFAULT_PROPERTIES={tabs:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,c);this._form_holder=a;this._tabs=new Object()};rdx.tab_container.prototype.render=function(){var b=$("<div>");var c=$("<div>");c.css("width","100%");var g=$("<div>");g.addClass("tab_layout_border").addClass("smooth_all_corner");c.addClass("tabs");this._tabs.tabs_div=c;for(var f=0;f<this._properties.tabs.length;f++){var e=this._properties.tabs[f];var j=$(document.createElement("li"));c.append(j);var h=rdx.i18n.get_string(e.name);var d=$(document.createElement("a")).attr("href","#noAnchor").attr("title",h);j.append(d);d.append($(document.createElement("span")).text(h));var a=$("<table>").addClass("group").addClass("form");this._tabs[this._properties.tabs[f].name]={li_item:j,tab_table:a};if(f==0){j.addClass("current_tabs")}else{a.hide()}j.bind(rdx.events.CLICK,{tab_container:this,title:e.name,table_dfn:this._tabs,tab_li:j,tabs_div:c},function(l){var k=l.data.tabs_div.children(".current_tabs");l.data.tab_container._tab_clicked(l.data.title,l.data.table_dfn,l.data.tab_li,k)});new rdx.form_container(this._parent,e,this._form_holder).render(a,this);g.append(a)}b.append(c);b.append(g);this._register_container_validation_event();return b};rdx.tab_container.prototype.set_form_field_params=function(a,b){a.set_tab(b.name)};rdx.tab_container.prototype._tab_clicked=function(e,b,a,c){for(var d in b){if(d!=e&&rdx.utils.is_defined(b[d]["tab_table"])){b[d]["tab_table"].hide()}}c.removeClass("current_tabs");a.addClass("current_tabs");b[e]["tab_table"].show()};rdx.tab_container.prototype._register_container_validation_event=function(){var a=this;$(this).bind(rdx.form_constants.CONTAINER_VALIDATION_ERROR,{tab_container:a},function(d,b){var c=d.data.tab_container;var e=c._tabs.tabs_div.children(".current_tabs");c._tab_clicked(b.get_tab(),c._tabs,c._tabs[b.get_tab()]["li_item"],e)})};rdx.label=function(a,c,b){this._parent=typeof(a)=="string"?$("#"+a):a;this._field=c;this._element=rdx.dom_utils.get_element(rdx.form_constants.LABEL);this._read_only=rdx.utils.is_defined(b)?b:false;this._set_properties()};rdx.label.prototype.render=function(){this._parent.append(this._element);return this};rdx.label.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._element,this._field);this._element.attr("title",this._field.get_tooltip())};rdx.label.prototype.add_event_handler=function(a,b){};rdx.label.prototype.set_data=function(a){this._element.html("");if(rdx.utils.is_array(a)){this._element.append(a.join(","))}else{this._element.append(a)}};rdx.label.prototype.get_data=function(){return this._element.text()};rdx.label.prototype.get_component_type=function(){return rdx.form_constants.LABEL};rdx.label.prototype.get_field=function(){return this._field};rdx.label.prototype.get_component=function(){return this._element};rdx.list=function(b,a){this._parent=typeof(b)=="string"?$("#"+b):b;this._DEFAULT_PROPERTIES={size:5,multi_select:true,double_click_handler_callback:null,change_handler_callback:null,class_names:"list",send_as_array:"false",mandatory:false};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a.get_properties());this._properties.mandatory=a.is_mandatory();this._list=null;this._html_list=null;this._added_blank_item=false;this._field=a;this._list=rdx.dom_utils.get_element(rdx.form_constants.LIST).attr("size",this._properties.size).addClass(this._properties.class_names)};rdx.list.prototype.render=function(){this._html_list=this._list[0];this._parent.append(this._list);this._add_empty_item();this.add_data_items();if(!this.is_combo_box()){if(this._properties.multi_select){this._list.attr("multiple","multiple")}if(this._properties.double_click_handler_callback){this._list.bind(rdx.events.DOUBLE_CLICK,{ns_double_click_handler_callback:this._properties.double_click_handler_callback},function(a){a.data.ns_double_click_handler_callback.call_back()})}}if(this._properties.change_handler_callback){this._list.bind(rdx.events.CHANGE,{ns_change_handler_callback:this._properties.change_handler_callback},function(a){a.data.ns_change_handler_callback.call_back()})}if(this._field.is_read_only()){this._list.attr("disabled","disabled");this._list.addClass("form_field_disabled")}return this};rdx.list.prototype.add_event_handler=function(a,b){this._list.bind(a,{rdx_change_handler_callback:b},function(c){c.data.rdx_change_handler_callback.call_back([c])})};rdx.list.prototype.add_data_items=function(f,e){if(rdx.utils.is_not_defined(f)){this.remove_items(false,false);var d=this._field.get_formatter();if(rdx.utils.is_defined(d)&&rdx.utils.is_not_defined(this._field.get_resource_name())){var a=d.get_map_keys();for(var c=0,b=a.length;c<b;c++){this.add_item(a[c],false)}}}else{for(var c=0,b=f.length;c<b;c++){this.add_item(f[c],false)}}if(rdx.utils.is_not_defined(e)||e==false){this._list.change()}};rdx.list.prototype.add_items=function(a,b){for(var d=0,c=a.length;d<c;d++){this.add_item(a[d],false)}if(b){this._list.change()}};rdx.list.prototype.add_item=function(b,a){this._list.append($(document.createElement("option")).text(b).attr("title",b));if(a){this._list.change()}};rdx.list.prototype.select_item=function(b,a){var c=this.get_items_count();if(c==0){return}if(b<0||b>=c){b=0}this._html_list.options[b].selected=true;if(a){this._list.change()}};rdx.list.prototype.select_value=function(c,b){if(c==null){return}var d=this.get_items_count();if(d==0){return}for(var a=0;a<d;a++){if(this._html_list.options[a].text==c){this._html_list.options[a].selected=true;if(rdx.utils.is_not_defined(b)||b==false){this._list.change()}break}}};rdx.list.prototype.unselect_all_items=function(){this._html_list.selectedIndex=-1;this._list.change()};rdx.list.prototype.remove_items=function(b,a){if(!b){this._html_list.selectedIndex=-1;if(this._added_blank_item){this._html_list.options.length=1}else{this._html_list.options.length=0}}else{if(this.is_combo_box()){if(this._added_blank_item&&this.get_selected_index()>1){this._html_list.remove(this.get_selected_index())}else{this._html_list.remove(this.get_selected_index())}}else{for(var c=this.get_items_count()-1;c>=0;c--){if(this._html_list.options[c].selected){this._html_list.remove(c)}}}}if(a){this._list.change()}};rdx.list.prototype.get_items=function(c){var b=[];if(c&&this.is_combo_box()){var a=this.get_selected_index();if(a>=0){return this._html_list.options[a].text}return""}else{for(var e=0,d=this.get_items_count();e<d;e++){var f=this._html_list.options[e];if(!c||f.selected){b.push(f.text)}}}return b};rdx.list.prototype.get_selected_index=function(){return this._html_list.selectedIndex};rdx.list.prototype.get_items_count=function(){return this._html_list.length};rdx.list.prototype.is_combo_box=function(){return this._properties.size==1};rdx.list.prototype.is_send_as_array=function(){return this._properties.send_as_array=="true"};rdx.list.prototype._add_empty_item=function(){if(!this.is_combo_box()){return}if(this._properties.mandatory){return}if(!this._added_blank_item){this.add_item("",false);this._added_blank_item=true}};rdx.list.prototype.get_field=function(){return this._field};rdx.list.prototype.get_component=function(){return this._list};rdx.list.prototype.get_component_type=function(){return rdx.form_constants.LIST};rdx.list.prototype.set_data=function(a){this.select_value(a)};rdx.list.prototype.get_data=function(a){return this.get_items(true)};rdx.list.prototype.mask=function(){rdx.mask.mask_component(this._parent,this.get_field().get_key())};rdx.list.prototype.unmask=function(){return rdx.mask.unmask_component(this._parent,this.get_field().get_key())};rdx.list.prototype.toggle_read_only=function(a){if(a){$(this._list).removeAttr("disabled");this._list.removeClass("form_field_disabled")}else{$(this._list).attr("disabled","true");this._list.addClass("form_field_disabled")}};rdx.bind_unbind_list=function(b,a){this._parent=typeof(b)=="string"?$("#"+b):b;this._DEFAULT_PROPERTIES={height:"150px",class_names:"bind_unbind_list",mandatory:false};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a.get_properties());this._properties.mandatory=a.is_mandatory();this._table=null;this._html_table=null;this._available_table=null;this._available_html_table=null;this._field=a;this._configured_items=0;this._html_configured_count=null;this._custom_input_field=a.get_custom_input_field();this.AVAILABLE_FADE_IN_TIME=1500};rdx.bind_unbind_list.prototype._get_plus_all_icon=function(){var a=$("<span>").addClass("ui-icon").addClass("ui-icon-plusthick");a.bind(rdx.events.CLICK,{icon:a,list:this},function(e){var c=$(e.data.list._available_table._html_table).children("tbody").children("tr").children("td:first-child");for(var b=0;b<c.length;b++){var g=$(c[b]);var d=g.data("ns_table_row_data");var f=$(g.parent()[0]);f.remove();e.data.list._table.add_item(d);e.data.list._configured_items++;e.data.list._update_count()}});return a};rdx.bind_unbind_list.prototype._get_minus_all_icon=function(){var a=$("<span>").addClass("ui-icon").addClass("ui-icon-minusthick");a.bind(rdx.events.CLICK,{icon:a,list:this},function(e){var c=$(e.data.list._table._html_table).children("tbody").children("tr").children("td:first-child");for(var b=0;b<c.length;b++){var g=$(c[b]);var d=g.data("ns_table_row_data");var f=$(g.parent()[0]);f.remove();e.data.list._available_table.add_item(d);e.data.list._configured_items--;e.data.list._update_count()}});return a};rdx.bind_unbind_list.prototype._get_plus_icon=function(b,c){var a=$("<span>").addClass("ui-icon").addClass("ui-icon-plus");a.bind(rdx.events.CLICK,{icon:a,list:c},function(e){var d=$(e.data.icon.parent()[0]).data("ns_table_row_data");e.data.list._available_table._delete_row(e.data.icon.parent().parent()[0].rowIndex-1,true);e.data.list._table.add_item(d);e.data.list._configured_items++;e.data.list._update_count()});return a};rdx.bind_unbind_list.prototype._get_minus_icon=function(b,c){var a=$("<span>").addClass("ui-icon").addClass("ui-icon-minus");a.bind(rdx.events.CLICK,{icon:a,list:c},function(e){var d=$(e.data.icon.parent()[0]).data("ns_table_row_data");e.data.list._table._delete_row(e.data.icon.parent().parent()[0].rowIndex-1,true);e.data.list._available_table.add_item(d);e.data.list._configured_items--;e.data.list._update_count()});return a};rdx.bind_unbind_list.prototype._get_row_data=function(a){return a};rdx.bind_unbind_list.prototype.render=function(){this._table_parent=$("<div>").addClass("configured").addClass("table_parent").addClass("smooth_all_corner");this._table_columns=[new rdx.table_column({key:"value",renderer_callback:new rdx.callback(this._get_row_data)}),new rdx.table_column({key:"_minus_icon",renderer_callback:new rdx.callback(this._get_minus_icon,[this]),text_align:"right",width:"15px"})];this._table=new rdx.table(this._table_parent,this._table_columns,{header:false}).render();var b=$("<th>").attr("colspan","2");this._html_configured_count=$("<span>").addClass("configured_count");this._html_configured_minus=this._get_minus_all_icon();b.append(this._html_configured_count);b.append(this._html_configured_minus);$(this._table._html_table.createTHead().insertRow(-1)).append(b);this._update_count();var a=rdx.i18n.get_string("rdx.form_bind_unbind_list_add");if(rdx.utils.is_defined(this._field.get_properties())&&rdx.utils.is_defined(this._field.get_properties().available_button_label)){a=rdx.i18n.get_string(this._field.get_properties().available_button_label)}if(rdx.utils.is_defined(this._custom_input_field)&&this._custom_input_field){a=rdx.i18n.get_string("rdx.form_bind_unbind_list_available")}this._add_button_div=$("<div>");this._add_button=rdx.dom_utils.get_element(rdx.form_constants.ICON_BUTTON).html('<img src = "'+rdx.images.ADD_IMG+'"/> '+a);this._add_button_div.append(this._add_button);this._add_button.bind(rdx.events.CLICK,{list:this},function(h){h.data.list._add_button_div.remove();h.data.list._table_parent.addClass("shown");h.data.list._available_table_parent.fadeIn(this.AVAILABLE_FADE_IN_TIME);if(rdx.utils.is_defined(h.data.list._custom_input_field)&&h.data.list._custom_input_field){h.data.list._custom_input_text.addClass("shown")}});this._available_table_parent=$("<div>").addClass("available").addClass("table_parent").addClass("smooth_all_corner");this._available_table_columns=[new rdx.table_column({key:"value",renderer_callback:new rdx.callback(this._get_row_data)}),new rdx.table_column({key:"_plus_icon",renderer_callback:new rdx.callback(this._get_plus_icon,[this]),text_align:"right",width:"15px"})];this._available_table=new rdx.table(this._available_table_parent,this._available_table_columns,{header:false}).render();var c=$("<th>").attr("colspan","2");var d=rdx.i18n.get_string("rdx.form_bind_unbind_list_available");if(rdx.utils.is_defined(this._field.get_properties())&&rdx.utils.is_defined(this._field.get_properties().available_label)){d=rdx.i18n.get_string(this._field.get_properties().available_label)}var f=$("<span>").append(d);var e=this._get_plus_all_icon();c.append(f);c.append(e);$(this._available_table._html_table.createTHead().insertRow(-1)).append(c);var g=$("<div>").addClass(this._properties.class_names).height(this._properties.height);this._wrapper=g;if(rdx.utils.is_defined(this._custom_input_field)&&this._custom_input_field){this._create_custom_input_field(g)}g.append(this._table_parent);g.append(this._available_table_parent);g.append(this._add_button_div);this._available_table_parent.hide();this._table.set_sort_info(0,rdx.SORT_ASCENDING);this._available_table.set_sort_info(0,rdx.SORT_ASCENDING);this._parent.append(g);return this};rdx.bind_unbind_list.prototype._create_custom_input_field=function(a){this._custom_input_text=rdx.dom_utils.get_element(rdx.form_constants.TEXT_BOX).addClass("custom_field_textbox").attr("title",rdx.i18n.get_string("rdx.form_bind_unbind_list_custom_input_text"));this._custom_input_button=rdx.dom_utils.get_element(rdx.form_constants.ICON_BUTTON).html('<img src = "'+rdx.images.ADD_IMG+'"/>'+rdx.i18n.get_string("rdx.form_bind_unbind_list_add"));this._custom_input_button.addClass("custom_field_button");this._custom_input_button.bind(rdx.events.CLICK,{list:this},function(c){var f=c.data.list._custom_input_text.val().trim();var d=f.length==0?new Array():f.split(",");if(d.length>0){var j=new Array();var b=c.data.list.get_data();var k=rdx.utils.get_elements_not_in_second_array(d,b);var g=rdx.utils.get_elements_not_in_second_array(d,k);if(k.length>0&&rdx.utils.is_defined(c.data.list._field.get_formatter())){for(var e=0;e<k.length;e++){if(!c.data.list._field.get_formatter().update_input_map_data_items(k[e])){j.push(k[e])}}k=rdx.utils.get_elements_not_in_second_array(k,j)}if(k.length>0){c.data.list._table.add_items(k);c.data.list._configured_items=c.data.list._configured_items+k.length;c.data.list._update_count()}var h="";if(g.length>0){h+="Item(s) "+g.join(", ")+" are already configured \n"}if(j.length>0){h+="Item(s) "+j.join(", ")+" are invalid"}if(h.length>0){rdx.message_box.error(h)}}});a.append(this._custom_input_text);a.append(this._custom_input_button)};rdx.bind_unbind_list.prototype.add_data_items=function(a){this._table.delete_all_items();this._available_table.delete_all_items();this._configured_items=0;this._update_count();this._add_input_items(a)};rdx.bind_unbind_list.prototype._add_items=function(a){this._table.delete_all_items();this._configured_items=0;this._table.add_items(a);this._configured_items=a.length;this._update_count();var e=$(this._available_table._html_table).children("tbody").children("tr").children("td:first-child");var g=new Array();for(var c=0;c<e.length;c++){var h=$(e[c]);var f=h.data("ns_table_row_data");var d=h.parent()[0].rowIndex-1;for(var b=0;b<e.length;b++){if(a[b]==f){g.push(d);break}}}g.sort();for(var b=g.length-1;b>=0;b--){this._available_table._delete_row(g[b],true)}};rdx.bind_unbind_list.prototype.add_item=function(a){var b=this._table.add_item(a);this._configured_items++;this._update_count()};rdx.bind_unbind_list.prototype._update_count=function(){var a=rdx.i18n.get_string("rdx.form_bind_unbind_list_configured",{count:this._configured_items});if(rdx.utils.is_defined(this._field.get_properties())&&rdx.utils.is_defined(this._field.get_properties().configured_label)){a=rdx.i18n.get_string(this._field.get_properties().configured_label,{count:this._configured_items})}this._html_configured_count.text(a)};rdx.bind_unbind_list.prototype._add_input_items=function(a){var b=this._available_table.add_items(a)};rdx.bind_unbind_list.prototype._get_items=function(){var b=[];var a=this._table._table.find("tbody").find("tr");for(var d=0,c=a.length;d<c;d++){var f=a[d];var e=$(f).children("td");b.push($(e[0]).text())}return b};rdx.bind_unbind_list.prototype.set_data=function(a){if(rdx.utils.is_not_defined(a)){return}this._add_items(a)};rdx.bind_unbind_list.prototype.get_data=function(){return this._get_items()};rdx.bind_unbind_list.prototype.get_component_type=function(){return rdx.form_constants.BIND_UNBIND_LIST};rdx.bind_unbind_list.prototype.get_field=function(){return this._field};rdx.bind_unbind_list.prototype.get_component=function(){return this._table._html_table};rdx.bind_unbind_list.prototype.mask=function(){var a={position:"absolute",top:"25px"};rdx.mask.mask_component(this._parent,this.get_field().get_key(),a)};rdx.bind_unbind_list.prototype.unmask=function(){return rdx.mask.unmask_component(this._parent,this.get_field().get_key())};rdx.edittable_list=function(b,a){this._parent=typeof(b)=="string"?$("#"+b):b;this._DEFAULT_PROPERTIES={height:"100",class_names:"edittable_list",check_for_duplicate:true,mandatory:false};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a.get_properties());this._properties.mandatory=a.is_mandatory();this._table=null;this._html_table=null;this._field=a;this._input_textfield=null};rdx.edittable_list.prototype._get_close_icon=function(b,c){var a=$("<span>").addClass("ui-icon").addClass("ui-icon-close");a.bind(rdx.events.CLICK,{icon:a,table:c._table},function(d){d.data.table._delete_row(d.data.icon.parent().parent()[0].rowIndex,true)});return a};rdx.edittable_list.prototype.get_row_data=function(a){return a};rdx.edittable_list.prototype.render=function(){this._table_parent=$("<div>").addClass("table_parent").addClass("smooth_all_corner");this._table_columns=[new rdx.table_column({key:"value",renderer_callback:new rdx.callback(this.get_row_data)}),new rdx.table_column({key:"_close_icon",renderer_callback:new rdx.callback(this._get_close_icon,[this]),text_align:"right",width:"15px"})];this._table=new rdx.table(this._table_parent,this._table_columns,{header:false}).render();var c=$("<table>");var a=$("<div>").addClass("input_widget");c=a;this._add_button=rdx.dom_utils.get_element(rdx.form_constants.ICON_BUTTON).html('<img src = "'+rdx.images.ADD_IMG+'"/> Add');this._input_textfield=rdx.dom_utils.get_element(rdx.form_constants.TEXT_BOX);a.append($("<span>").append(this._input_textfield));a.append($("<span>").append(this._add_button));this._add_button.bind(rdx.events.CLICK,{edittable_list:this},function(f){if(f.data.edittable_list._input_textfield.val().length<=0){rdx.message_box.error(rdx.i18n.get_string("rdx.edittable_list_enter_value"),new rdx.callback(function(g){g._input_textfield.focus()},[f.data.edittable_list]));return}else{if(f.data.edittable_list._properties.check_for_duplicate){var d=f.data.edittable_list._get_items();for(var e=0;e<d.length;e++){if(d[e]==f.data.edittable_list._input_textfield.val()){rdx.message_box.error(rdx.i18n.get_string("rdx.edittable_list_duplicate_entry_input",{duplicate_entry:f.data.edittable_list._input_textfield.val()}),new rdx.callback(function(g){g._input_textfield.focus()},[f.data.edittable_list]));return}}}}f.data.edittable_list._add_item(f.data.edittable_list._input_textfield.val())});var b=$("<div>").addClass(this._properties.class_names);b.append(c);b.append(this._table_parent);this._table_parent.height(this._properties.height-32);b.height(this._properties.height);this._parent.append(b);return this};rdx.edittable_list.prototype._add_items=function(a){this._table.add_items(a)};rdx.edittable_list.prototype.validate=function(){if(this._input_textfield.val().length>0){return"rdx.edittable_list_add_pending_error"}return null};rdx.edittable_list.prototype._add_item=function(a){this._table.add_item(a);this._input_textfield.val("");this._input_textfield.focus()};rdx.edittable_list.prototype._get_items=function(){var b=[];var a=this._table._table.find("tr");var f=true;for(var d=0,c=a.length;d<c;d++){var g=a[d];var e=$(g).children("td");b.push($(e[0]).text())}return b};rdx.edittable_list.prototype.set_data=function(a){return this._add_items(a)};rdx.edittable_list.prototype.get_data=function(){return this._get_items()};rdx.edittable_list.prototype.get_component_type=function(){return rdx.form_constants.EDITTABLE_LIST};rdx.edittable_list.prototype.get_field=function(){return this._field};rdx.edittable_list.prototype.get_component=function(){return this._input_textfield.get_component()};rdx.check_box=function(a,b){this._parent=typeof(a)=="string"?$("#"+a):a;this._field=b;this._element=rdx.dom_utils.get_element(rdx.form_constants.CHECK_BOX);this._set_properties()};rdx.check_box.prototype.render=function(){this._parent.append(this._element);return this};rdx.check_box.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._parent,this._field);if(this._field.is_read_only()){this._element.attr("disabled","disabled")}};rdx.check_box.prototype.add_event_handler=function(a,b){this._element.bind(a,{ns_callback:b},function(c){c.data.ns_callback.call_back([c])})};rdx.check_box.prototype.set_data=function(a){if(a=="false"){a=false}else{if(a=="true"){a=true}}this._element.attr("checked",a);this._element.trigger(rdx.events.CHANGE)};rdx.check_box.prototype.get_data=function(){return this._element.attr("checked")};rdx.check_box.prototype.get_component_type=function(){return rdx.form_constants.CHECK_BOX};rdx.check_box.prototype.get_field=function(){return this._field};rdx.check_box.prototype.get_component=function(){return this._element};rdx.check_box.prototype.toggle_read_only=function(a){if(a){this._element.removeAttr("disabled")}else{this._element.attr("disabled","disabled")}};rdx.ip_range=function(a,b){this._parent=typeof(a)=="string"?$("#"+a):a;this._field=b;this._ip_range_text=b.get_label();this._element=$("<table>").attr("cellspacing","0").addClass("ip-range-tbl");var c=$("<tr>");this._ip_ele=new rdx.ip_v4(a,b);this._ip_range_element1=this._ip_ele.get_component();this._ip_range_element2=rdx.dom_utils.get_element(rdx.form_constants.TEXT_BOX).addClass("ip-range-range");c.append($("<td>").attr("width","80%").append(this._ip_range_element1));c.append($("<td>").attr("width","5%").append("-"));c.append($("<td>").attr("width","15%").append(this._ip_range_element2));this._element.append(c);this._set_properties()};rdx.ip_range.prototype.render=function(){this._parent.append(this._element);return this};rdx.ip_range.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._element,this._field)};rdx.ip_range.prototype.add_event_handler=function(a,b){this._element.bind(a,{ns_callback:b},function(c){c.data.ns_callback.call_back([c])})};rdx.ip_range.prototype.set_data=function(a){};rdx.ip_range.prototype.get_data=function(){return new rdx.ip_range_resc(this._ip_ele.get_data(),this._ip_range_element2.val())};rdx.ip_range.prototype.get_component_type=function(){return rdx.form_constants.IP_RANGE};rdx.ip_range.prototype.get_field=function(){return this._field};rdx.ip_range.prototype.get_component=function(){return this._element};rdx.ip_range_resc=function(b,a){this._ipString=b;this._range=a};rdx.ip_range_resc.prototype.get_ip_string=function(){return rdx.utils.trim(this._ipString)};rdx.ip_range_resc.prototype.get_range=function(){return rdx.utils.trim(this._range)};rdx.ip_range_resc.prototype.get_range_start=function(){var a=this.get_ip_string().lastIndexOf(".");return parseInt((this.get_ip_string().substring(a+1)))};rdx.ip_v4=function(a,b){this._parent=typeof(a)=="string"?$("#"+a):a;this._field=b;this._element=$("<table>").addClass("ip-v4-v6-parent").attr("cellspacing","0");var c=$("<tr>");this._ip_element1=rdx.dom_utils.get_element(rdx.form_constants.TEXT_BOX).addClass("ip-v4-v6-octet ").attr("maxlength","3");this._ip_element2=rdx.dom_utils.get_element(rdx.form_constants.TEXT_BOX).addClass("ip-v4-v6-octet ").attr("maxlength","3");this._ip_element3=rdx.dom_utils.get_element(rdx.form_constants.TEXT_BOX).addClass("ip-v4-v6-octet ").attr("maxlength","3");this._ip_element4=rdx.dom_utils.get_element(rdx.form_constants.TEXT_BOX).addClass("ip-v4-v6-octet ").attr("maxlength","3");this._cell1=c.append($("<td>").attr("width","17%").addClass("ip-v4-v6-octet-wrap").append(this._ip_element1));this._cell1.append($("<td>").attr("width","10%").addClass("ip-v4-v6-octet-wrap").append("."));this._cell2=c.append($("<td>").attr("width","17%").addClass("ip-v4-v6-octet-wrap").append(this._ip_element2));this._cell2.append($("<td>").attr("width","10%").addClass("ip-v4-v6-octet-wrap").append("."));this._cell3=c.append($("<td>").attr("width","17%").addClass("ip-v4-v6-octet-wrap").append(this._ip_element3));this._cell3.append($("<td>").attr("width","10%").addClass("ip-v4-v6-octet-wrap").append("."));this._cell4=c.append($("<td>").attr("width","17%").addClass("ip-v4-v6-octet-wrap").append(this._ip_element4));this._element.append(c);this._set_properties()};rdx.ip_v4.prototype.render=function(){this._register_key_listners(this._ip_element1,this._ip_element2);this._register_key_listners(this._ip_element2,this._ip_element3);this._register_key_listners(this._ip_element3,this._ip_element4);this._register_key_listners(this._ip_element4,null);this._parent.append(this._element);return this};rdx.ip_v4.prototype._register_key_listners=function(a,b){a.bind(rdx.events.KEYDOWN,{},function(d){var e=d.keyCode;var c=d.shiftKey;if(e==rdx.keycodes.DELETE||e==rdx.keycodes.BACKSPACE||e==rdx.keycodes.TAB||(e==rdx.keycodes.TAB&&c)){}else{if(d.ctrlKey||c||e<rdx.keycodes.ZERO||e>rdx.keycodes.NINE){d.preventDefault()}if(d.target.value.length==0&&e==rdx.keycodes.ZERO){d.preventDefault()}if(d.target.value.length==2&&d.target.value==25&&e>=rdx.keycodes.FIVE){d.preventDefault()}}});if(rdx.utils.is_defined(b)){a.bind(rdx.events.KEYUP,{next_field:this._ip_element2},function(c){if(c.keyCode==rdx.keycodes.TAB||c.keyCode==rdx.keycodes.SHIFT){}else{if(c.target.value.length==3){b.focus();b.select()}}})}};rdx.ip_v4.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._element,this._field);rdx.form_utils.set_basic_field_attributes(this._parent,this._field);rdx.form_utils.set_basic_field_attributes(this._element,this._field);if(this._field.is_read_only()){this._element.attr("readonly","true");this._ip_element1.attr("readonly","true");this._ip_element2.attr("readonly","true");this._ip_element3.attr("readonly","true");this._ip_element4.attr("readonly","true");this._element.addClass("form_field_disabled");this._ip_element1.addClass("form_field_disabled");this._ip_element2.addClass("form_field_disabled");this._ip_element3.addClass("form_field_disabled");this._ip_element4.addClass("form_field_disabled")}};rdx.ip_v4.prototype.add_event_handler=function(a,b){this._element.bind(a,{ns_callback:b},function(c){c.data.ns_callback.call_back([c])})};rdx.ip_v4.prototype.set_data=function(b){var a=b.split(".");if(a.length==4){this._ip_element1.val(a[0]);this._ip_element2.val(a[1]);this._ip_element3.val(a[2]);this._ip_element4.val(a[3])}};rdx.ip_v4.prototype.get_data=function(){var a=this._ip_element1.val()+"."+this._ip_element2.val()+"."+this._ip_element3.val()+"."+this._ip_element4.val();if(a=="..."){a=""}return a};rdx.ip_v4.prototype.get_component_type=function(){return rdx.form_constants.IPV4};rdx.ip_v4.prototype.get_field=function(){return this._field};rdx.ip_v4.prototype.get_component=function(){return this._element};rdx.ip_v4.prototype.toggle_read_only=function(a){if(a){this._element.removeAttr("readonly");this._ip_element1.removeAttr("readonly");this._ip_element2.removeAttr("readonly");this._ip_element3.removeAttr("readonly");this._ip_element4.removeAttr("readonly");this._element.removeClass("form_field_disabled");this._ip_element1.removeClass("form_field_disabled");this._ip_element2.removeClass("form_field_disabled");this._ip_element3.removeClass("form_field_disabled");this._ip_element4.removeClass("form_field_disabled")}else{this._element.attr("readonly","true");this._ip_element1.attr("readonly","true");this._ip_element2.attr("readonly","true");this._ip_element3.attr("readonly","true");this._ip_element4.attr("readonly","true");this._element.addClass("form_field_disabled");this._ip_element1.addClass("form_field_disabled");this._ip_element2.addClass("form_field_disabled");this._ip_element3.addClass("form_field_disabled");this._ip_element4.addClass("form_field_disabled")}};rdx.ip_v4.prototype.toggle_show_hide=function(a,b){if(rdx.utils.is_not_defined(b)){b=this._element}if(a){b.show()}else{b.hide()}};rdx.ip_v6=function(a,b){this._parent=typeof(a)=="string"?$("#"+a):a;this._field=b;this.ip_v6_field=new rdx.text_box(a,b)};rdx.ip_v6.prototype.render=function(){this._register_key_listners();this._parent.append(this.ip_v6_field.get_component());return this};rdx.ip_v6.prototype._register_key_listners=function(){this.ip_v6_field.add_event_handler(rdx.events.KEYDOWN,new rdx.callback(this,function(a){var b=a.keyCode;if(b==rdx.keycodes.DELETE||b==rdx.keycodes.BACKSPACE||b==rdx.keycodes.FWDSLASH||((b==rdx.keycodes.SHIFTCOLON||b==rdx.keycodes.COLON)&&a.shiftKey)){}else{if(b<rdx.keycodes.LEFTARROW||b>rdx.keycodes.F||a.shiftKey){a.preventDefault()}}}))};rdx.ip_v6.prototype.add_event_handler=function(a,b){this.ip_v6_field.add_event_handler(a,b)};rdx.ip_v6.prototype.set_data=function(a){this.ip_v6_field.set_data(a)};rdx.ip_v6.prototype.get_data=function(){return this.ip_v6_field.get_data()};rdx.ip_v6.prototype.get_component_type=function(){return rdx.form_constants.IPV6};rdx.ip_v6.prototype.get_field=function(){return this._field};rdx.ip_v6.prototype.get_component=function(){return this.ip_v6_field.get_component()};rdx.ip_v6.prototype.toggle_show_hide=function(a,b){this.ip_v6_field.toggle_show_hide(a,b)};rdx.ip_v6.prototype.toggle_read_only=function(a){this.ip_v6_field.toggle_read_only(a)};rdx.ip_v4_v6=function(a,b){this._parent=typeof(a)=="string"?$("#"+a):a;this._field=b;this._ipv4_col=$("<td>").css("width","100%").css("padding","0px");this._ipv6_col=$("<td>").css("width","100%").css("padding","0px");this._cb_col=$("<td>");this._label=$("<td>").append(rdx.i18n.get_string("rdx.ipv4v6_select"));var c=$("<tr>").append(this._ipv4_col).append(this._ipv6_col).append(this._cb_col).append(this._label);this._element=$("<table>").attr("border","0").attr("cellpadding","0").attr("cellspacing","0").css("width","100%");this._element.append(c);this._ipv4_component=new rdx.ip_v4(this._ipv4_col,b);this._ipv6_component=new rdx.ip_v6(this._ipv6_col,b);this._ip_selection_cb=new rdx.check_box(this._cb_col,b);this._set_properties()};rdx.ip_v4_v6.prototype.render=function(){this._ipv4_component.render();this._ipv6_component.render();this._ip_selection_cb.render();this._parent.append(this._element);this._ipv6_component.toggle_show_hide(false,this._ipv6_col);this._ip_selection_cb.add_event_handler(rdx.events.CHANGE,new rdx.callback(function(b,a){if(a._ip_selection_cb.get_data()){a._ipv6_component.toggle_show_hide(true,a._ipv6_col);a._ipv4_component.toggle_show_hide(false,a._ipv4_col)}else{a._ipv6_component.toggle_show_hide(false,a._ipv6_col);a._ipv4_component.toggle_show_hide(true,a._ipv4_col)}},[this]));return this};rdx.ip_v4_v6.prototype._set_properties=function(){if(this._field.is_read_only()){this._cb_col.hide();this._label.hide()}};rdx.ip_v4_v6.prototype.add_event_handler=function(a,b){this._ipv4_component.add_event_handler(a,b);this._ipv6_component.add_event_handler(a,b);this._ip_selection_cb.add_event_handler(a,b)};rdx.ip_v4_v6.prototype.set_data=function(b){var a=rdx.utils.is_ipv6(b);if(a){this._ipv6_component.set_data(b);if(!(this._ip_selection_cb.get_data())){this._ip_selection_cb.set_data("true")}}else{this._ipv4_component.set_data(b);if(this._ip_selection_cb.get_data()){this._ip_selection_cb.set_data("false")}}};rdx.ip_v4_v6.prototype.get_data=function(){if(this._ip_selection_cb.get_data()){return this._ipv6_component.get_data()}else{return this._ipv4_component.get_data()}};rdx.ip_v4_v6.prototype.is_ipv6=function(){return this._ip_selection_cb.get_data()};rdx.ip_v4_v6.prototype.get_dependency_determinant_value=function(a){if(a==rdx.form_constants.dependency_determinant.TYPE){if(this.is_ipv6()){return"IPv6"}else{return"IPv4"}}return null};rdx.ip_v4_v6.prototype.get_component_type=function(){return rdx.form_constants.IPV4V6};rdx.ip_v4_v6.prototype.get_field=function(){return this._field};rdx.ip_v4_v6.prototype.get_component=function(){return this._element};rdx.ip_v4_v6.prototype.toggle_read_only=function(a){if(a){this._cb_col.show();this._label.show()}else{this._cb_col.hide();this._label.hide()}this._ipv4_component.toggle_read_only(a);this._ipv6_component.toggle_read_only(a);this._ip_selection_cb.toggle_read_only(a)};rdx.table_component=function(b,e){this._parent=typeof(b)=="string"?$("#"+b):b;this._field=e;this._properties=this._field._properties;this._element=$(document.createElement("div")).addClass("table_form_parent_div").addClass("smooth_all_corner");var d=[];var g=false;for(var c in this._properties.columns){var f=$.extend({},this._properties.columns[c]);d.push(new rdx.table_column(f))}this._DEFAULT_PROPERTIES={class_names:"table table_component"};var a=$.extend({},this._DEFAULT_PROPERTIES,this._properties.properties);if(a.details){a.details_renderer_callback=new rdx.callback(this,this._details_renderer)}this._table=new rdx.table(this._element,d,a).render();this._set_properties()};rdx.table_component.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._parent,this._field)};rdx.table_component.prototype.render=function(){this._parent.append(this._element);return this};rdx.table_component.prototype.add_event_handler=function(a,b){};rdx.table_component.prototype.set_data=function(a){if(rdx.utils.is_not_defined(a)){return false}this._table.add_items(a,null,true);return true};rdx.table_component.prototype.get_data=function(){return this._table.get_rows_data()};rdx.table_component.prototype.get_component_type=function(){return rdx.form_constants.TABLE};rdx.table_component.prototype.get_field=function(){return this._field};rdx.table_component.prototype.get_component=function(){return this._table_element};rdx.password=function(a,b){this._parent=typeof(a)=="string"?$("#"+a):a;this._field=b;this._element=rdx.dom_utils.get_element(rdx.form_constants.PASSWORD);this._set_properties()};rdx.password.prototype.render=function(){this._parent.append(this._element);return this};rdx.password.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._element,this._field);if(this._field.is_read_only()){this._element.addClass("form_field_disabled")}};rdx.password.prototype.add_event_handler=function(a,b){this._element.bind(a,{ns_callback:b},function(c){c.data.ns_callback.call_back([c])})};rdx.password.prototype.set_data=function(a){return this._element.val(a)};rdx.password.prototype.get_data=function(){return this._element.val()};rdx.password.prototype.get_component_type=function(){return rdx.form_constants.PASSWORD};rdx.password.prototype.get_field=function(){return this._field};rdx.password.prototype.get_component=function(){return this._element};rdx.radio_group=function(b,a){this._parent=typeof(b)=="string"?$("#"+b):b;this._DEFAULT_PROPERTIES={class_names:"radio_group"};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a.get_properties());this._field=a;this._radio_group_container=null;this._radio_button_elements=new Array();this._create_radio_group()};rdx.radio_group.prototype._create_radio_group=function(){var b=this._field.get_key();var g=[];var e=[];var h=this._field.get_formatter();if(rdx.utils.is_defined(h)&&rdx.utils.is_not_defined(this._field.get_resource_name())){e=h.get_map_keys();g=h.get_map_keys()}this._radio_group_container=$("<table>").addClass(this._properties.class_names);var k=$("<tr>");this._radio_group_container.append(k);for(var f=0;f<g.length;f++){var c=g[f];var d=$("<td>");var j=$("<input>").attr("type","radio").attr("name",b).attr("value",c);var a=$("<td>").addClass("label_cell");a.append(e[f]);d.append(j);k.append(d);k.append(a);this._radio_button_elements.push(j);if(f==0){j.attr("checked",true)}}this._set_properties()};rdx.radio_group.prototype.render=function(){this._parent.append(this._radio_group_container);return this};rdx.radio_group.prototype.get_data=function(){for(var b=0;b<this._radio_button_elements.length;b++){var a=this._radio_button_elements[b];if(a.attr("checked")){return a.val()}}return null};rdx.radio_group.prototype.set_data=function(c){for(var b=0;b<this._radio_button_elements.length;b++){var a=this._radio_button_elements[b];if(c==a.val()){a.attr("checked",true);a.trigger(rdx.events.CHANGE)}}};rdx.radio_group.prototype._set_properties=function(){for(var b=0;b<this._radio_button_elements.length;b++){var a=this._radio_button_elements[b];if(this._field.is_read_only()){a.attr("disabled","disabled")}}};rdx.radio_group.prototype.add_event_handler=function(c,d){for(var b=0;b<this._radio_button_elements.length;b++){var a=this._radio_button_elements[b];a.bind(c,{ns_callback:d},function(e){e.data.ns_callback.call_back([e])})}};rdx.radio_group.prototype.get_component_type=function(){return rdx.form_constants.RADIO_GROUP};rdx.radio_group.prototype.get_field=function(){return this._field};rdx.radio_group.prototype.get_component=function(){for(var b=0;b<this._radio_button_elements.length;b++){var a=this._radio_button_elements[b];if(a.attr("checked")){return a}}return null};rdx.text_area=function(a,b){this._parent=typeof(a)=="string"?$("#"+a):a;this._field=b;this._element=rdx.dom_utils.get_element(rdx.form_constants.TEXT_AREA);this._set_properties()};rdx.text_area.prototype.render=function(){this._parent.append(this._element);return this};rdx.text_area.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._parent,this._field);rdx.form_utils.set_basic_field_attributes(this._element,this._field);if(this._field.is_read_only()){this._element.attr("readonly","true")}};rdx.text_area.prototype.add_event_handler=function(a,b){this._element.bind(a,{ns_callback:b},function(c){c.data.ns_callback.call_back([c])})};rdx.text_area.prototype.set_data=function(a){return this._element.val(a)};rdx.text_area.prototype.get_data=function(){return $.trim(this._element.val())};rdx.text_area.prototype.get_component_type=function(){return rdx.form_constants.TEXT_AREA};rdx.text_area.prototype.get_field=function(){return this._field};rdx.text_area.prototype.get_component=function(){return this._element};rdx.text_box=function(a,b){this._parent=typeof(a)=="string"?$("#"+a):a;this._field=b;this._element=rdx.dom_utils.get_element(rdx.form_constants.TEXT_BOX);this._set_properties()};rdx.text_box.prototype.render=function(){this._parent.append(this._element);return this};rdx.text_box.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._parent,this._field);rdx.form_utils.set_basic_field_attributes(this._element,this._field);if(this._field.is_read_only()){this._element.attr("readonly","true");this._element.addClass("form_field_disabled")}};rdx.text_box.prototype.add_event_handler=function(a,b){this._element.bind(a,{ns_callback:b},function(c){c.data.ns_callback.call_back([c])})};rdx.text_box.prototype.set_data=function(a){return this._element.val(a)};rdx.text_box.prototype.get_data=function(){return $.trim(this._element.val())};rdx.text_box.prototype.get_component_type=function(){return rdx.form_constants.TEXT_BOX};rdx.text_box.prototype.get_field=function(){return this._field};rdx.text_box.prototype.get_component=function(){return this._element};rdx.text_box.prototype.toggle_read_only=function(a){if(a){this._element.removeAttr("readonly");this._element.removeClass("form_field_disabled")}else{this._element.attr("readonly","true");this._element.addClass("form_field_disabled")}};rdx.text_box.prototype.toggle_show_hide=function(a,b){if(rdx.utils.is_not_defined(b)){b=this._element}if(a){b.show()}else{b.hide()}};rdx.view_component_adapter=function(b,c){this._parent=b;this._field=c;var a=this._get_view(c.get_view());this._element=new rdx.base_view(b,a,this._get_view_context(a));this._set_properties(a)};rdx.view_component_adapter.prototype._set_properties=function(a){this._element.disable_bread_crumb();if(a.type==rdx.view_constants.CONFIGURE_VIEW){a[rdx.mask.MASK_KEY]=null}rdx.form_utils.set_basic_field_attributes(this._parent,this._field)};rdx.view_component_adapter.prototype._get_view=function(c){var a=rdx.utils.get_view(c);if(a.type!=rdx.view_constants.CONFIGURE_VIEW){return a}else{(a.type==rdx.view_constants.CONFIGURE_VIEW)}var d=$.extend({},a);var b=$.extend({},d.view_properties);b=$.extend({},b,{add_create_button:false,add_close_button:false,dialog_mode:false,add_border:false});d.view_properties=b;return d};rdx.view_component_adapter.prototype._get_view_context=function(a){return new rdx.view_context({})};rdx.view_component_adapter.prototype.render=function(){this._element.prepare_view();return this};rdx.view_component_adapter.prototype.add_event_handler=function(a,b){};rdx.view_component_adapter.prototype.set_data=function(c,a){var b=this._field.get_properties();var d=rdx.utils.is_not_defined(b)?false:rdx.utils.is_not_defined(b.view_data_fetch)?false:b.view_data_fetch;if(d==false){this._set_data_with_context(c,a)}else{this._element.set_view_context(new rdx.view_context());this._element.prepare_view()}};rdx.view_component_adapter.prototype._set_data_with_context=function(g,f){var d=this._element.get_view_definition().view_properties;var c=null;var b=this._element.get_view_definition().resource_name;if(rdx.utils.is_defined(b)){var e=rdx.utils.get_resource(this._element.get_view_definition().resource_name);if(rdx.utils.is_defined(e)){c=e.parent_resource_name}}var j=this.get_field().get_view_context();if(rdx.utils.is_defined(d)&&d.standalone_mode){if(rdx.utils.is_not_defined(j)){return}}else{if(rdx.utils.is_not_defined(j)&&rdx.utils.is_not_defined(c)){j=new Object();j.is_data_set=true;var h=new Object();h[b]=f;f=h}}if(rdx.utils.is_defined(c)){if(rdx.utils.is_not_defined(j)){j=new Object()}j.is_data_set=true}var a=new rdx.view_context();a.set_url_params(j,f);this._element.set_view_context(a);this._element.prepare_view()};rdx.view_component_adapter.prototype.get_data=function(){};rdx.view_component_adapter.prototype.get_component_type=function(){return rdx.form_constants.VIEW};rdx.view_component_adapter.prototype.get_field=function(){return this._field};rdx.view_component_adapter.prototype.get_component=function(){return this._element};rdx.view_component_adapter.prototype.resize=function(){return this._element.resize_view()};rdx.card_component=function(a,b){this._DEFAULT_PROPERTIES={component:rdx.form_constants.LIST,value:null,component_height:35,component_border:false,form_fields:[]};this._parent=a;this._field=b;this._properties=$.extend({},this._DEFAULT_PROPERTIES,b.get_properties());this._card_map=new Object();this._component=null;this._field_set=null;this._current_card=null};rdx.card_component.prototype._add_card=function(){var c=$("<div>");c.addClass("card");this._field_set=$("<fieldset>");this._field_set.addClass("smooth_all_corner");c.append(this._field_set);var h=$("<legend>");if(this._properties.component_border){h.addClass("card_component");h.addClass("smooth_all_corner")}this._field_set.append(h);this._component=rdx.component_helper.get_component(this._properties.component,h,this.get_field());this._component.render();this._add_event();var a=null;for(var f=0;f<this._properties.form_fields.length;f++){var b=new rdx.form_field(this._properties.form_fields[f]);var d=$("<div>");d.addClass("card_container");d.hide();this._field_set.append(d);var g=rdx.component_helper.get_component(b.get_input_type(),d,b);g.render();var e={component:g,container:d};this._card_map[this._properties.form_fields[f].mapping_field]={component:g,container:d};if(f==0){a=e}}if(rdx.utils.is_defined(this._properties.value)&&rdx.utils.is_defined(this._card_map[this._properties.value])){a=this._card_map[this._properties.default_card]}a.container.show();this._current_card=a;return c};rdx.card_component.prototype._get_event_name=function(){if(this._properties.component==rdx.form_constants.LIST){return rdx.events.CHANGE}return rdx.events.CLICK};rdx.card_component.prototype._add_event=function(){this._component.add_event_handler(this._get_event_name(),new rdx.callback(this,this._handle_event))};rdx.card_component.prototype._handle_event=function(){var b=this._component.get_data();var a=this._card_map[b];if(rdx.utils.is_not_defined(a)){return}if(rdx.utils.is_defined(this._current_card)){this._current_card.container.hide()}a.container.show();if(rdx.utils.is_function(a.component.resize)){a.component.resize()}this._current_card=a};rdx.card_component.prototype.render=function(){this._container=this._add_card();this._set_properties();this._parent.append(this._container);return this};rdx.card_component.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._parent,this._field);rdx.form_utils.set_basic_field_attributes(this._container,this._field);for(key in this._card_map){if(this._field.get_height()!=-1){this._card_map[key].container.height(this._field.get_height()-this._properties.component_height)}if(this._field.get_width()!=-1){this._card_map[key].container.width(this._field.get_width())}}};rdx.card_component.prototype.add_event_handler=function(a,b){};rdx.card_component.prototype.set_data=function(c,a){if(rdx.utils.is_not_defined(a)){return}if(rdx.utils.is_defined(c)){this._component.set_data(c)}for(var b in this._card_map){this._card_map[b].component.set_data(null,a);if(b==c){this._current_card.container.hide();this._card_map[b].container.show();this._current_card=this._card_map[b]}}};rdx.card_component.prototype.get_data=function(){return this._component.get_data()};rdx.card_component.prototype.get_component_type=function(){return rdx.form_constants.CARD};rdx.card_component.prototype.get_field=function(){return this._field};rdx.card_component.prototype.get_component=function(){return this._current_card.component.get_component()};rdx.card_component.prototype.resize=function(){for(var a in this._card_map){if(rdx.utils.is_function(this._card_map[a].component.resize)){this._card_map[a].component.resize()}}};rdx.component_helper=new function(){this.get_component=function(c,b,e,f){var a=null;switch(c){case rdx.form_constants.LABEL:a=new rdx.label(b,e,f);break;case rdx.form_constants.TEXT_BOX:a=new rdx.text_box(b,e);break;case rdx.form_constants.TEXT_AREA:a=new rdx.text_area(b,e);break;case rdx.form_constants.PASSWORD:a=new rdx.password(b,e);break;case rdx.form_constants.CHECK_BOX:if($(b).is("td")){var d=$(b).attr("colspan");$(b).attr("colspan",d+1)}a=new rdx.check_box(b,e);break;case rdx.form_constants.LIST:a=new rdx.list(b,e);break;case rdx.form_constants.EDITTABLE_LIST:a=new rdx.edittable_list(b,e);break;case rdx.form_constants.BIND_UNBIND_LIST:a=new rdx.bind_unbind_list(b,e);break;case rdx.form_constants.RADIO_GROUP:a=new rdx.radio_group(b,e);break;case rdx.form_constants.VIEW:a=new rdx.view_component_adapter(b,e);break;case rdx.form_constants.IP_RANGE:a=new rdx.ip_range(b,e);break;case rdx.form_constants.TABLE:a=new rdx.table_component(b,e);break;case rdx.form_constants.CARD:a=new rdx.card_component(b,e);break;case rdx.form_constants.IPV4:a=new rdx.ip_v4(b,e);break;case rdx.form_constants.IPV6:a=new rdx.ip_v6(b,e);break;case rdx.form_constants.IPV4V6:a=new rdx.ip_v4_v6(b,e);break;case rdx.form_constants.EDITABLE_COMBOBOX:a=new rdx.editable_combobox(b,e);break}if(rdx.utils.is_not_defined(a)){throw rdx.i18n.get_string("form_field_invalid_error",{form_type:e.get_key()})}return a};this.get_table_column_editor=function(a,d){switch(a){case rdx.form_constants.TEXT_BOX:return rdx.dom_utils.get_element(rdx.form_constants.TEXT_BOX);case rdx.form_constants.LIST:var c=rdx.dom_utils.get_element(rdx.form_constants.LIST);if(rdx.utils.is_defined(d)){for(var b=0;b<d.length;b++){c.append($(document.createElement("option")).text(d[b]).attr("title",d[b]))}}return c;case rdx.form_constants.CHECK_BOX:return rdx.dom_utils.get_element(rdx.form_constants.CHECK_BOX);default:return rdx.dom_utils.get_element(rdx.form_constants.TEXT_BOX)}}};rdx.editable_combobox=function(c,b){this._parent=typeof(c)=="string"?$("#"+c):c;this._DEFAULT_PROPERTIES={default_option_value:null,class_names:"editable_combobox"};this._properties=$.extend({},this._DEFAULT_PROPERTIES,b.get_properties());this._properties.mandatory=b.is_mandatory();this._field=b;var e=$("<td>");var d=$("<td>");this._textfield_row=$("<tr>").append(e);this._combobox_row=$("<tr>").append(d);this._element=$("<table>").attr("border","0").addClass(this._properties.class_names);this._element.append(this._combobox_row).append(this._textfield_row);this._textfield=rdx.component_helper.get_component(rdx.form_constants.TEXT_BOX,e,b);var a=$.extend({},b);a.get_properties().size=1;this._combobox=rdx.component_helper.get_component(rdx.form_constants.LIST,d,a);this._default_option_value=(rdx.utils.is_not_defined(this._properties.default_option_value))?rdx.i18n.get_string("rdx.editablecombobox_default"):rdx.i18n.get_string(this._properties.default_option_value)};rdx.editable_combobox.prototype.render=function(){this._textfield.render();this._combobox.render();this._combobox.add_event_handler(rdx.events.CHANGE,new rdx.callback(function(a,c){var b=c._combobox.get_data();var d=c._combobox.get_items_count();if(b==c._default_option_value){if(d>1){c._combobox_row.show()}else{c._combobox_row.hide()}c._textfield_row.show()}else{c._combobox_row.show();c._textfield_row.hide()}},[this]));this._parent.append(this._element);return this};rdx.editable_combobox.prototype.add_data_items=function(b,a){if(rdx.utils.is_not_defined(b)){return}if(b.length>0){this._combobox_row.show();this._textfield_row.hide()}else{this._combobox_row.hide();this._textfield_row.show()}b.splice(0,0,this._default_option_value);this._combobox.add_data_items(b,a)};rdx.editable_combobox.prototype.add_event_handler=function(a,b){this._combobox.add_event_handler(a,b);this._textfield.add_event_handler(a,b)};rdx.editable_combobox.prototype.set_data=function(a){return this._combobox.set_data(a)};rdx.editable_combobox.prototype.get_data=function(){var a=this._textfield.get_data();this._field.get_formatter().update_input_map_data_items(this._default_option_value,a);return this._combobox.get_data()};rdx.editable_combobox.prototype.get_component_type=function(){return rdx.form_constants.EDITABLE_COMBOBOX};rdx.editable_combobox.prototype.get_field=function(){return this._field};rdx.editable_combobox.prototype.get_component=function(){return this._element};rdx.editable_combobox.prototype.toggle_read_only=function(a){this._combobox.toggle_read_only(a);this._textfield.toggle_read_only(a)};rdx.file_upload=function(a,c){var d={url:"",method:rdx.ajax_handler_constants.POST,encoding_type:"multipart/form-data",file_component_name:"",resource_name:null,close_upload_window_on_success:true,dialog_mode:true,upload_success_callback:null,upload_error_callback:null,check_for_duplicate:true,custom_validator:null};var b={minHeight:50,width:350,modal:true,resizable:false,title:rdx.i18n.get_string("rdx.file_upload_title")};this._properties=$.extend({},d,a);this._dialog_properties=$.extend({},b,c);this._file_upload=$("<div>");this._file_element;this._submit_button;this._is_loaded=false;this._form=null;this._mask_id="__file_upload_"+this._properties.url};rdx.file_upload.prototype.render=function(){this._form=$("<form>");this._set_form_attributes(this._form);this._file_element=this._get_file_element();this._submit_button=this._get_submit_button();var b=$("<iframe>").attr("frameborder",0).attr("width","0px").attr("height","0px");var c="upload_data_holder_"+Math.round(Math.random()*100);b.attr("id",c);b.attr("name",c);this._form.attr("target",c);this._form.append(this._file_element).append(this._submit_button);this._file_upload.append(this._form);this._file_upload.append(b);var a=this;b.bind(rdx.events.LOAD,{iframe:b,file_upload:this},function(e){if(!a._is_loaded){a._is_loaded=true;return}rdx.mask.unmask(e.data.file_upload._mask_id);var f=e.data.iframe.contents().text();if(rdx.utils.is_not_defined(f)){a._handle_error();return}var d=JSON.parse(f);if(d[rdx.ajax_handler_constants.RESPONSE_TYPE_JSON_ERROR_CODE_FIELD]==0){a._handle_success()}else{a._handle_error(d)}});this._form.bind(rdx.events.SUBMIT,{file_upload:a},function(f,g){var e=f.data.file_upload;if(e._file_element.val()==""){rdx.message_box.error(rdx.i18n.get_string("rdx.file_upload_button_error"));return false}var d=true;if(rdx.utils.is_defined(e._properties.custom_validator)){d=f.data.file_upload._properties.custom_validator.call_back([e._file_element.val()])}if(d){if(e._properties.check_for_duplicate&&rdx.utils.is_defined(e._properties.resource_name)&&rdx.utils.is_not_defined(g)){e._check_for_duplicate();return false}rdx.status_bar.display_activity(rdx.i18n.get_string("rdx.file_upload_status_start",{file_name:e._file_element.val()}));rdx.mask.mask(e._file_upload,f.data.file_upload._mask_id)}return d});if(this._properties.dialog_mode){this.get_component().dialog(this._dialog_properties)}return this};rdx.file_upload.prototype._check_for_duplicate=function(){var b=rdx.utils.get_resource(this._properties.resource_name);var a={};a[rdx.url_utils.GET_BY_NAME_TYPE]=this._get_file_name();rdx.model.get(b,a,new rdx.callback(this,this._prompt_for_duplicates),this._file_upload,new rdx.callback(this,this._trigger_form_submit))};rdx.file_upload.prototype._trigger_form_submit=function(){this._form.trigger(rdx.events.SUBMIT,[true])};rdx.file_upload.prototype._prompt_for_duplicates=function(a){rdx.message_box.confirm(rdx.i18n.get_string("rdx.file_upload_confirm",{file_name:this._get_file_name()}),new rdx.callback(this,this._trigger_form_submit),new rdx.callback(this,this._unmask))};rdx.file_upload.prototype._unmask=function(){rdx.mask.unmask(this._mask_id);rdx.status_bar.clear_activity();rdx.status_bar.clear_status()};rdx.file_upload.prototype._get_file_name=function(){var b=this._file_element.val();var c=(b.indexOf("\\")>=0?b.lastIndexOf("\\"):b.lastIndexOf("/"));if(b==""||c<0){return b}var a=b.substring(c);if(a.indexOf("\\")===0||a.indexOf("/")===0){a=a.substring(1)}return a};rdx.file_upload.prototype._handle_success=function(){this._file_element.attr("disabled","true");if(rdx.utils.is_defined(this._properties.resource_name)){rdx.model.trigger_model_changed_event({},null,rdx.utils.get_resource(this._properties.resource_name))}if(rdx.utils.is_defined(this._properties.upload_success_callback)){this._properties.upload_success_callback.call_back([this._file_element.val(),this.get_component()])}else{if(this._properties.dialog_mode&&this._properties.close_upload_window_on_success){this.get_component().dialog("close");this.get_component().remove()}}rdx.status_bar.clear_activity();rdx.status_bar.update_status(rdx.i18n.get_string("rdx.file_upload_status_complete",{file_name:this._file_element.val()}))};rdx.file_upload.prototype._handle_error=function(a){if(rdx.utils.is_defined(this._properties.upload_error_callback)){var c=rdx.utils.is_defined(a)?a.message:"";this._properties.upload_error_callback.call_back([this._file_element.val(),c]);return}var b=rdx.i18n.get_string("rdx.file_upload_error",{file_name:this._file_element.val()});if(rdx.utils.is_defined(a)&&rdx.utils.is_defined(a.message)){b=b+"\n"+rdx.i18n.get_string("rdx.file_upload_error_reason")+a.message}rdx.status_bar.clear_activity();rdx.status_bar.update_status(b,rdx.ERROR);rdx.message_box.error(b)};rdx.file_upload.prototype._get_file_element=function(){var a=$("<input>");a.attr("type","file");a.attr("name",this._properties.file_component_name);a.attr("size",25);return a};rdx.file_upload.prototype._get_submit_button=function(){var a=$("<input>");a.attr("type","submit");a.attr("value",rdx.i18n.get_string("rdx.file_upload_button"));a.attr("title",rdx.i18n.get_string("rdx.file_upload_button_tooltip"));return a};rdx.file_upload.prototype._set_form_attributes=function(a){a.attr("name","form");a.attr("method",this._properties.method);a.attr("action",this._properties.url);a.attr("enctype",this._properties.encoding_type);a.attr("encoding",this._properties.encoding_type)};rdx.file_upload.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._element,this._field);this._element.attr("title",this._field.get_tooltip())};rdx.file_upload.prototype.get_component=function(){return this._file_upload};rdx.splitter=function(b,a){this._parent=typeof(b)=="string"?$("#"+b):b;this._DEFAULT_PROPERTIES={vertical:true,outline:true,first_pane_min_size:0,second_pane_min_size:0,use_first_pane_size:null,class_names:"splitter"};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a);this._splitter=$(document.createElement("div")).addClass(this._properties.class_names);this._first_pane=$(document.createElement("div")).addClass("pane");this._second_pane=$(document.createElement("div")).addClass("pane")};rdx.splitter.prototype.render=function(){this._parent.append(this._splitter.append(this._first_pane).append(this._second_pane));var a={outline:this._properties.outline,activeClass:"move"};a.splitbarClass=this._properties.vertical?"vertical_split_bar":"horizontal_split_bar";a.type=this._properties.vertical?"v":"h";if(this._properties.use_first_pane_size==true){a[this._properties.vertical?"sizeLeft":"sizeTop"]=true}else{if(this._properties.use_first_pane_size==false){a[this._properties.vertical?"sizeRight":"sizeBottom"]=true}}a[this._properties.vertical?"minLeft":"minTop"]=this._properties.first_pane_min_size;a[this._properties.vertical?"minRight":"minBottom"]=this._properties.second_pane_min_size;this._splitter.splitter(a);rdx.page.add_event_handler(rdx.events.PAGE_RESIZED,new rdx.callback(this,this._resize));return this};rdx.splitter.prototype.get_first_pane=function(){return this._first_pane};rdx.splitter.prototype.get_second_pane=function(){return this._second_pane};rdx.splitter.prototype.add_resize_handler=function(a){this._splitter.bind(rdx.events.RESIZE,{rdx_callback:a},function(b){b.data.rdx_callback.call_back()})};rdx.splitter.prototype._resize=function(){this._splitter.css("height",this._parent.height());if(!rdx.utils.is_chrome_safari()){this._splitter.css("width",rdx.page.get_content().width())}if(!(rdx.utils.is_ie()&&parseInt($.browser.version)<9)){this._splitter.trigger("resize")}};rdx.tree_node=function(a){this._DEFAULT_PROPERTIES={name:"",view:null,tooltip:"",select:false,license_keys:[],show_if_not_licensed:false,nodes:[],is_valid_callback:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a)};rdx.tree_node.prototype.get_name=function(){return rdx.i18n.get_string(this._properties.name)};rdx.tree_node.prototype.get_callback_function=function(){return this._properties.is_valid_callback};rdx.tree_node.prototype.get_view=function(){return this._properties.view};rdx.tree_node.prototype.get_tooltip=function(){if(!this._properties.tooltip){this._properties.tooltip=this.get_name()}return rdx.i18n.get_string(this._properties.tooltip)};rdx.tree_node.prototype.to_select=function(){return this._properties.select};rdx.tree_node.prototype.get_license_keys=function(){return this._properties.license_keys};rdx.tree_node.prototype.to_show_if_not_licensed=function(){return this._properties.show_if_not_licensed};rdx.tree_node.prototype.get_nodes=function(){return this._properties.nodes};rdx.tree=function(c,d,a,b){this._parent=typeof(c)=="string"?$("#"+c):c;this._tree_nodes=d;this._DEFAULT_PROPERTIES={swipe:true,is_accordion:false,show_expand_collapse_all:false,show_unlicensed_nodes:true,tree_pane_min_width:250,view_pane_min_width:500,expand_on_single_click:true};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a);this._tree_pane=null;this._expand_collapse_table=null;this._tree_div=null;this._view_pane=null;this._node_to_select=null;this._license_response=null;this._feature_response=null;this._VIEW_KEY_SEPARATOR="^";this._resource_list=(rdx.utils.is_defined(b))?b:null;this.resource_name_map={};this._resource_results={};this._license_resource=rdx.utils.is_defined(this._resource_list)&&rdx.utils.is_defined(this._resource_list[rdx.LICENSE_KEY])?rdx.utils.get_resource(this._resource_list[rdx.LICENSE_KEY]):null;this._feature_resource=rdx.utils.is_defined(this._resource_list)&&rdx.utils.is_defined(this._resource_list[rdx.FEATURE_KEY])?rdx.utils.get_resource(this._resource_list[rdx.FEATURE_KEY]):null;this._current_node_key=null;this._tree_mask_id="__tree_mask_id"};rdx.tree.prototype.render=function(){if(rdx.utils.is_not_defined(this._resource_list)){this._render()}else{this._get_resource_data()}};rdx.tree.prototype._get_resource_data=function(d){var f=0;d=false||d;var b=null;for(key in this._resource_list){if(rdx.utils.is_not_defined(b)){var a=true;b=new rdx.model_executor_service(new rdx.callback(this,this._response_arrived,[d]),new rdx.callback(),a)}var e=this._resource_list[key];var c=rdx.utils.get_resource(e);b.add("get",c,null,null);this.resource_name_map[f++]={key:key,resource_name:e}}if(rdx.utils.is_defined(b)){b.execute()}else{rdx.mask.unmask_dom_element(this._tree_pane,this._tree_mask_id)}};rdx.tree.prototype.get_resource_result=function(a){return this._resource_results[a]};rdx.tree.prototype._response_arrived=function(f,e){var d=f.get_collated_response();var a=f.get_collated_result();var c=0;var g="";for(i=0,end_index=d.length;i<end_index;i++){this._resource_results[this.resource_name_map[i].key]=d[i][this.resource_name_map[i].resource_name];if((this.resource_name_map[i].key==rdx.LICENSE_KEY||this.resource_name_map[i].key==rdx.FEATURE_KEY)&&a[i]==false){g+="</br>"+d[i];c++}}if(c>0){var b=rdx.i18n.get_string("rdx.executor_service_error",{error_count:c,error_messages:g});rdx.message_box.error(b)}this._license_response=this.get_resource_result(rdx.LICENSE_KEY);this._feature_response=this.get_resource_result(rdx.FEATURE_KEY);if(e){this._render_tree_nodes();if(rdx.utils.is_defined(this._current_node_key)){this.select_node(this._current_node_key,true)}this._resize();rdx.mask.unmask_dom_element(this._tree_pane,this._tree_mask_id)}else{this._render()}};rdx.tree.prototype.get_view_definition=function(b){var a=this._tree_div.dynatree("getTree").getNodeByKey(b);return a.data.ns_view_definition};rdx.tree.prototype.refresh_tree=function(){rdx.mask.mask_dom_element(this._tree_pane,this._tree_mask_id);this._get_resource_data(true)};rdx.tree.prototype._render=function(){var b={outline:false,use_first_pane_size:true,first_pane_min_size:this._properties.tree_pane_min_width,second_pane_min_size:this._properties.view_pane_min_width};var a=new rdx.splitter(this._parent,b).render();this._tree_pane=a.get_first_pane().addClass("tree_pane");this.second_pane=a.get_second_pane();this._navigation_div=$("<div>");this.second_pane.append(this._navigation_div);this._view_pane=$("<div>");this.second_pane.append(this._view_pane);rdx.global_title_bar=new rdx.title_bar(this._navigation_div,this._view_pane);this._render_tree_nodes();a.add_resize_handler(new rdx.callback(this,this._resize));this._tree_div.dynatree("getTree").reactivate();$(window).resize()};rdx.tree.prototype._render_tree_nodes=function(){var b={activeVisible:true,fx:{height:"toggle",duration:200},debugLevel:0,clickFolderMode:1,autoCollapse:this._properties.swipe,ns_tree:this};if(this._properties.is_accordion){b.classNames={expander:"accordion-expander",active:"accordion-active",connector:"accordion-connector"}}this._construct_dyna_tree_nodes(this._tree_nodes,b,true,"");var e=null;if(this._node_to_select){e=this._node_to_select}else{if(b.children&&b.children.length>0){e=b.children[0]}}if(e){e.activate=true;e.expand=true}b.onFocus=function(f){f.activate()};var a=this;if(this._properties.is_accordion==true||this._properties.expand_on_single_click==true){b.onClick=function(f){if(rdx.utils.is_not_defined(f.parent.getParent().li)){f.toggleExpand()}}}if(!this._properties.is_accordion){b.onDblClick=function(f){f.toggleExpand()}}b.onActivate=function(j){var f=j.tree.options.ns_tree;var h=j.data.ns_license_keys;if(rdx.status_bar){if(!f.is_licensed(h)){rdx.status_bar.update_status(rdx.i18n.get_string("rdx.tree_feature_not_licensed",{license_label:f.get_license_label(h)}))}else{if(!f.is_enabled(h)){rdx.status_bar.update_status(rdx.i18n.get_string("rdx.tree_feature_not_enabled",{license_label:f.get_license_label(h)}))}}}if(!j.data.ns_view_definition){f._view_pane.html('<p align="center"><b>'+rdx.i18n.get_string("rdx.page_under_construction")+"</b></p>");return}var g=j.data.ns_view_definition;if(!g.view_properties){g.view_properties=new Object()}f._current_node_key=g.__tree_key;j.data.ns_view=new rdx.base_view(f._view_pane,g);j.data.ns_view.prepare_view();new rdx.context_menu($(j.span),f._prepare_tree_menu_items(j.data),new rdx.callback(f,f.get_item_info,[j.data.ns_view])).build_menu()};b.onDeactivate=function(f){if(rdx.status_bar){rdx.status_bar.clear_status()}if(f.data.ns_view){f.data.ns_view.destroy_view();f.data.ns_view=null}f.tree.options.ns_tree._view_pane.children().remove()};if(this._properties.show_expand_collapse_all){this._expand_collapse_table=$("<table>").addClass("expand_collapse_table");var c=$("<td>").append(this._create_expand_or_collapse_all_link(true));var d=$("<td>").addClass("right_align").append(this._create_expand_or_collapse_all_link(false));this._tree_pane.append(this._expand_collapse_table.append($("<tr>").append(c).append(d)))}if(rdx.utils.is_defined(this._tree_div)){this._tree_div.remove()}this._tree_div=$("<div>").addClass("tree_div smooth_all_corner").dynatree(b);this._tree_div.addClass("disallow_selection");rdx.register_tree(this);this._tree_pane.append(this._tree_div)};rdx.tree.prototype.get_item_info=function(a){var b=a.get_item_info();b.action_item_data=[];return b};rdx.tree.prototype._prepare_tree_menu_items=function(e){var h=e.ns_view.get_action_items();var c=new Array();if(rdx.utils.is_not_defined(h)){return c}for(var a=0;a<h.length;a++){if(h[a].is_no_selection()||h[a].is_independent_of_selection()){c.push(h[a])}else{continue}}var b=e.ns_license_keys;if(rdx.utils.is_not_defined(b)||b.length==0){return c}else{if(c.length>0){c[c.length-1]._properties.add_separator=true}}if(!this.is_licensed(b)){return c}if(this.is_enabled(b)){var g={label:"rdx.tree_disable_feature",tooltip:rdx.i18n.get_string("rdx.tree_disable_feature_tooltip"),image_url:rdx.images.DOCUMENT_DISABLE_IMG,no_selection:true,click_handler_callback:new rdx.callback(this,this._trigger_feature_enable_disable,[e,"disable"])};var d=new rdx.action(g);c.push(d)}else{var f={label:"rdx.tree_enable_feature",tooltip:rdx.i18n.get_string("rdx.tree_enable_feature_tooltip"),image_url:rdx.images.DOCUMENT_ENABLE_IMG,no_selection:true,click_handler_callback:new rdx.callback(this,this._trigger_feature_enable_disable,[e,"enable"])};var d=new rdx.action(f);c.push(d)}return c};rdx.tree.prototype._trigger_feature_enable_disable=function(a,c,b){rdx.model.post(this._feature_resource,new rdx.callback(this,this.refresh_tree),{feature:c.ns_license_keys},new rdx.callback(this,this._handle_error),b,null,this._parent)};rdx.tree.prototype._handle_error=function(a){rdx.mask.unmask_dom_element(this._tree_pane,this._tree_mask_id);if(rdx.utils.is_not_defined(a)){return}rdx.message_box.error(a);rdx.status_bar.update_status(a,rdx.ERROR)};rdx.tree.prototype._resize=function(){var c=this._tree_pane.outerWidth(true);var b=0;if(this._expand_collapse_table){b=this._expand_collapse_table.outerHeight(true);rdx.utils.set_width(this._expand_collapse_table,c)}if(!rdx.utils.is_chrome_safari()){rdx.utils.set_width(this._tree_div,c)}var d=this._tree_pane.outerHeight(true)-b;if(rdx.utils.is_ie()||rdx.utils.is_chrome_safari()){d=d-1}if(d>=0){rdx.utils.set_height(this._tree_div,d)}var a=this.second_pane.outerHeight(true)-this._navigation_div.outerHeight(true);if(rdx.utils.is_ie()||rdx.utils.is_chrome_safari()){a=a-1}if(a>=0){this._view_pane.height(a-1)}};rdx.tree.prototype._create_expand_or_collapse_all_link=function(a){var c=rdx.i18n.get_string(a?"rdx.expand_all":"rdx.collapse_all");var b=rdx.i18n.get_string(a?"rdx.tree_expand_all_tooltip":"rdx.tree_collapse_all_tooltip");return $("<a>").attr("href","#noAnchor").text(c).attr("title",b).bind(rdx.events.CLICK,{rdx_tree:this},function(d){d.data.rdx_tree._expand_or_collapse_all(a)})};rdx.tree.prototype._expand_or_collapse_all=function(a){if(this._properties.swipe){this._tree_div.dynatree("option","autoCollapse",false)}this._tree_div.dynatree("getRoot").visit(function(b){b.expand(a)});if(this._properties.swipe){this._tree_div.dynatree("option","autoCollapse",true)}};rdx.tree.prototype._construct_dyna_tree_nodes=function(k,n,o,c){for(var f=0,j=k.length;f<j;f++){var l=((c)?c:"")+((k[f].get_name())?k[f].get_name():"");if(rdx.utils.is_defined(k[f].get_view())){k[f].get_view().__tree_key=l;k[f].get_view().add_to_bread_crumb=true;if(rdx.utils.is_not_defined(k[f].get_view().view_properties)||rdx.utils.is_not_defined(k[f].get_view().view_properties.title)){if(rdx.utils.is_not_defined(k[f].get_view().view_properties)){k[f].get_view().view_properties={}}k[f].get_view().view_properties.title=k[f].get_name()}}var b={title:k[f].get_name(),key:l,ns_view_definition:k[f].get_view(),tooltip:k[f].get_tooltip(),ns_license_keys:k[f].get_license_keys()};if(rdx.utils.is_defined(k[f].get_callback_function())){var m=k[f].get_callback_function();var p=m.call_back([new rdx.tree_callback_params({resource_results:this._resource_results})]);if(p==false){continue}}var d="";var h=k[f].get_license_keys();var e=k[f].to_show_if_not_licensed();if(h.length>0){if(!this.is_licensed(h)){if(!e){if(!this._properties.show_unlicensed_nodes){continue}d="_unlicensed"}}else{if(e){continue}else{if(!this.is_enabled(h)){d="_disabled"}}}}var a=k[f].get_nodes();var g="";if(this._properties.is_accordion){g="accordion_"}if(o&&this._properties.is_accordion){b.addClass="accordion"+d;this._construct_dyna_tree_nodes(a,b,false,"")}else{if(rdx.utils.is_defined(k[f].get_view())){if(rdx.utils.is_defined(k[f].get_view().view_properties)){if(k[f].get_view().view_properties.tested_ok){d="_tested"}}}if(a.length>0){b.addClass=g+"folder"+d;this._construct_dyna_tree_nodes(a,b,false,l+this._VIEW_KEY_SEPARATOR)}else{b.addClass=g+"document"+d}}if(!n.children){n.children=[]}n.children.push(b);if(!this._node_to_select&&k[f].to_select()){this._node_to_select=b}}};rdx.tree.prototype.is_licensed=function(c){if(!this._license_response){return true}for(var b=0,a=c.length;b<a;b++){if(this._license_response[c[b]]==false){return false}}return true};rdx.tree.prototype.is_enabled=function(c){if(!this._feature_response){return true}for(var b=0,a=c.length;b<a;b++){if(this._feature_response[c[b]]==false){return false}}return true};rdx.tree.prototype.get_license_label=function(a){if(a.length>0&&rdx.utils.is_defined(this._license_resource)){if(this._license_resource.properties[a[0]]){return this._license_resource.properties[a[0]].label}else{return a[0]}}return""};rdx.tree.prototype.get_node=function(a){var b=this._tree_div.dynatree("getTree").getNodeByKey(a);if(b==null){return null}return b};rdx.tree.prototype.select_node=function(b,a){var c=this._tree_div.dynatree("getTree").getNodeByKey(b);if(c==null){return false}if(c.isActive()){c.deactivate();c.activate()}else{if(rdx.utils.is_not_defined(a)){c.expand()}c.activate()}return true};rdx.tree_callback_params=function(a){this._properties=a};rdx.tree_callback_params.prototype.get_resource_response=function(a){return this._properties.resource_results[a]};rdx.dashboard_constants=new function(){this.REFRESH_IMAGE="refresh_image"};rdx.gadget=function(b,a){this._DEFAULT_PROPERTIES={header:"",content:null,keywords:[],resizable:false,collapse_expand:true,maximize_restore:true,close:true};this._properties=$.extend({},this._DEFAULT_PROPERTIES,b);this._DEFAULT_CUSTOMIZABLE_PROPERTIES={add:false,column_index:-1,row_index:-1,collapsed:false,maximized:false};this._customizable_properties=$.extend({},this._DEFAULT_CUSTOMIZABLE_PROPERTIES,a)};rdx.gadget.prototype.get_header=function(){return rdx.i18n.get_string(this._properties.header)};rdx.gadget.prototype.get_content=function(){return this._properties.content};rdx.gadget.prototype.get_keywords=function(){return this._properties.keywords};rdx.gadget.prototype.is_resizable=function(){return this._properties.resizable};rdx.gadget.prototype.can_collapse_expand=function(){return this._properties.collapse_expand};rdx.gadget.prototype.can_maximize_restore=function(){return this._properties.maximize_restore};rdx.gadget.prototype.can_close=function(){return this._properties.close};rdx.gadget.prototype.get_properties=function(){return this._properties};rdx.gadget.prototype.get_customizable_properties=function(){return this._customizable_properties};rdx.gadget.prototype.add=function(a){if(rdx.utils.is_not_defined(a)){return this._customizable_properties.add}this._customizable_properties.add=a};rdx.gadget.prototype.column_index=function(a){if(rdx.utils.is_not_defined(a)){return this._customizable_properties.column_index}this._customizable_properties.column_index=a};rdx.gadget.prototype.row_index=function(a){if(rdx.utils.is_not_defined(a)){return this._customizable_properties.row_index}this._customizable_properties.row_index=a};rdx.gadget.prototype.collapsed=function(a){if(rdx.utils.is_not_defined(a)){return this._customizable_properties.collapsed}this._customizable_properties.collapsed=a};rdx.gadget.prototype.maximized=function(a){if(rdx.utils.is_not_defined(a)){return this._customizable_properties.maximized}this._customizable_properties.maximized=a};rdx.gadget.prototype.set_view=function(a){this._properties.gadget_view=a};rdx.gadget.prototype.get_view=function(){return this._properties.gadget_view};rdx.dashboard_finder=function(d,c,b,a){this._parent=d;this._dashboard=c;this._container=b;this._gadgets=a;this._search_gadgets=null;this._search_gadgets_img=null;this._search_gadgets_content=null;this._search_gadgets_txt=null;this._search_gadgets_result=null};rdx.dashboard_finder.prototype.render=function(){this._search_gadgets=$(document.createElement("div")).addClass("search_gadgets");this._search_gadgets_img=$(document.createElement("img")).attr("src",rdx.images.LEFT_DOUBLE_ARROW_IMG);this._search_gadgets.append($(document.createElement("a")).attr("href","#noAnchor").bind(rdx.events.CLICK,{ns_dashboard_finder:this},function(a){a.data.ns_dashboard_finder._slide_search_gadgets_result()}).append(this._search_gadgets_img));this._search_gadgets_txt=$(document.createElement("input")).attr("type","text");this._search_gadgets_result=$(document.createElement("div")).addClass("search_gadgets_result");this._search_gadgets_content=$(document.createElement("div")).addClass("search_gadgets_content").append(rdx.i18n.get_string("rdx.dashboard_finder_text")+"<br><br>").append($(document.createElement("form")).addClass("inline_display").bind(rdx.events.SUBMIT,{ns_dashboard_finder:this},function(a){a.data.ns_dashboard_finder._search_matching_gadgets();return false}).append(this._search_gadgets_txt).append($(document.createElement("input")).attr("type","submit").attr("value",rdx.i18n.get_string("rdx.dashboard_finder_button")))).append(this._search_gadgets_result);this._search_gadgets.append(this._search_gadgets_content);this._parent.append(this._search_gadgets);return this};rdx.dashboard_finder.prototype._add_add_to_dashboard_link=function(c){var a=$(document.createElement("a")).attr("href","#noAnchor").html(rdx.i18n.get_string("rdx.dashboard_finder_add")).bind(rdx.events.CLICK,{ns_dashboard_finder:this,ns_gadget:c},function(d){d.data.ns_dashboard_finder._add_gadget_to_dashboard(d.data.ns_gadget,$(this))});var b=$(a).clone(true).html($(document.createElement("img")).attr("src",rdx.images.DOCUMENT_ADD_IMG));this._search_gadgets_result.append($(document.createElement("div")).append(b).append(a).append("<br><br>"))};rdx.dashboard_finder.prototype._get_matched_gadgets=function(e){var f=[];for(var g in this._gadgets){var d=this._gadgets[g];if(d.add()){continue}var c=d.get_keywords();for(var a=0,b=c.length;a<b;a++){if(c[a].match(e)){f.push(d);break}}}return f};rdx.dashboard_finder.prototype._close_all_gadgets=function(){var a=this._dashboard;this._search_gadgets_result.children(".gadget").each(function(b){a._close_gadget($(this))})};rdx.dashboard_finder.prototype._slide_search_gadgets_result=function(){this._search_gadgets_txt.val("");this._search_gadgets_content.toggle("slow");if(this._search_gadgets_img.attr("src").match(rdx.images.LEFT_DOUBLE_ARROW_IMG)){this._container.animate({opacity:0.3});this._search_gadgets_img.attr("src",this._search_gadgets_img.attr("src").replace(rdx.images.LEFT_DOUBLE_ARROW_IMG,rdx.images.RIGHT_DOUBLE_ARROW_IMG));this._search_gadgets_txt.focus()}else{this._container.animate({opacity:1});this._search_gadgets_img.attr("src",this._search_gadgets_img.attr("src").replace(rdx.images.RIGHT_DOUBLE_ARROW_IMG,rdx.images.LEFT_DOUBLE_ARROW_IMG));this._close_all_gadgets();this._search_gadgets_result.html("")}};rdx.dashboard_finder.prototype._search_matching_gadgets=function(){var e=$.trim(this._search_gadgets_txt.val().toLowerCase());var k=null;try{if(!e.match(/^[\w^$*]*$/)){throw rdx.i18n.get_string("rdx.reg_exp_invalid")}e=e.replace(/\*/g,".*");k=new RegExp(e,"i")}catch(b){rdx.message_box.error(rdx.i18n.get_string("rdx.dashboard_finder_invalid_text"));return}var a=this._get_matched_gadgets(k);this._close_all_gadgets();this._search_gadgets_result.html("<b>"+rdx.i18n.get_string("rdx.dashboard_finder_match_count",{count:a.length})+"</b><br><br>");var j={collapse_expand:false,maximize_restore:false,close:false};for(var d=0,h=a.length;d<h;d++){var c=a[d].get_properties();var f={collapse_expand:a[d].can_collapse_expand(),maximize_restore:a[d].can_maximize_restore(),close:a[d].can_close()};$.extend(a[d].get_properties(),j);var g=this._dashboard._add_gadget(a[d],this._search_gadgets_result);this._add_add_to_dashboard_link(a[d]);g.resize_view();$.extend(a[d].get_properties(),f)}};rdx.dashboard_finder.prototype._add_gadget_to_dashboard=function(d,c){if(d.add()){rdx.message_box.error(rdx.i18n.get_string("rdx.dashboard_finder_add_error"));return}var a=this._dashboard._add_gadget(d);a.resize_view();var b=this._dashboard;this._search_gadgets_result.children(".gadget").each(function(f){var e=$(this);if(e.data("ns_gadget")==d){b._close_gadget(e)}});if(rdx.status_bar){rdx.status_bar.update_status("rdx.gadget_added")}c.parent().remove()};rdx.dashboard_finder.prototype.show_search=function(){this._search_gadgets.show()};rdx.dashboard_finder.prototype.hide_search=function(){this._search_gadgets.hide()};rdx.dashboard=function(d,b,c,a,e){this._parent=typeof(d)=="string"?$("#"+d):d;this._gadgets=b;this._DEFAULT_PROPERTIES={use_cookie:false,name:"ns_dashboard",resource_name:"uiinternal",resizable:false,searchable:false,columns_count:2,columns_width:["50%","50%"]};this._DEFAULT_SORTABLE_PROPERTIES={connectWith:".dashboard_column",cursor:"move",handle:".gadget_header",opacity:0.6,revert:200,placeholder:"sortable_placeholder",tolerance:"pointer"};this._DEFAULT_RESIZABLE_PROPERTIES={ghost:false,animate:true,autoHide:true,minWidth:300,minHeight:150,helper:"resizable_helper"};this._properties=$.extend({},this._DEFAULT_PROPERTIES,c);this._sortable_properties=$.extend({},this._DEFAULT_SORTABLE_PROPERTIES,a);this._resizable_properties=$.extend({},this._DEFAULT_RESIZABLE_PROPERTIES,e);this._columns=new Array(this._properties.columns_count);this._gadget_div_to_maximize=null;this._modified=false;this._dashboard_finder=null};rdx.dashboard.prototype.render=function(){var a=$(document.createElement("div")).addClass("dashboard_container").css("overflow","auto");a.width("99%");for(var c=0,b=this._columns.length;c<b;c++){this._columns[c]=$(document.createElement("div")).addClass("dashboard_column");if(this._properties.columns_width[c]){this._columns[c].width(this._properties.columns_width[c])}a.append(this._columns[c])}if(this._properties.searchable){this._dashboard_finder=new rdx.dashboard_finder(this._parent,this,a,this._gadgets).render()}this._parent.append(a);this._load_customization();$(".dashboard_column").sortable(this._sortable_properties);$(".dashboard_column").bind(rdx.events.SORT_STOP,{ns_dashboard:this},function(d,e){d.data.ns_dashboard.sort_gadget(e.item)});rdx.page.add_event_handler(rdx.events.PAGE_UNLOAD,new rdx.callback(this,this._unload_dashboard));return this};rdx.dashboard.prototype._add_gadgets=function(){var f=[];for(var a in this._gadgets){if(!this._gadgets[a].add()){continue}var c=this._gadgets[a].column_index();if(c<0||c>=this._columns.length){c=0}if(!rdx.utils.is_defined(f[c])){f[c]=[]}var g=this._gadgets[a].row_index();if(g<0){for(var e=0,k=f[c].length;e<=k;e++){if(!rdx.utils.is_defined(f[c][e])){g=e;break}}}f[c].splice(g,0,this._gadgets[a])}for(var e=0,k=f.length;e<k;e++){if(rdx.utils.is_defined(f[e])){for(var d=0,b=f[e].length;d<b;d++){if(f[e][d]){var l=null;if(f[e][d].get_content().type==rdx.view_constants.DETAIL_VIEW){var h=this._get_two_column_padding_height();if(f[e].length==1){h=this._get_one_column_padding_height()}else{if(f[e].length==3){h=this._get_three_column_padding_height()}}l=rdx.page.get_content().outerHeight(false)/f[e].length-h}this._add_gadget(f[e][d],null,l)}}}}if(this._gadget_div_to_maximize!=null){this._gadget_div_to_maximize.children(".gadget_maximize").click()}this._modified=false};rdx.dashboard.prototype._get_one_column_padding_height=function(){return 30};rdx.dashboard.prototype._get_two_column_padding_height=function(){return 20};rdx.dashboard.prototype._get_three_column_padding_height=function(){return 15};rdx.dashboard.prototype._add_gadget=function(d,l,o){var j=$(document.createElement("div")).addClass("gadget smooth_all_corner");var b=d.column_index();if(b<0||b>=this._columns.length){b=this._get_column_index_to_add_gadget()}this._columns[b].append(j);var p=$(document.createElement("div")).addClass("gadget_collapse_expand");var a=$(document.createElement("div")).addClass("gadget_collapse_expand");var c=d.get_content();c=$.extend({},c);if(rdx.utils.is_defined(c.view_properties)){c.view_properties=$.extend({},c.view_properties);c.view_properties.title=null}var h=d.get_header()+(c.type==rdx.view_constants.DETAIL_VIEW?' (<span class="count"></span>)':"");var g=$(document.createElement("div")).addClass("gadget_header").addTouch().append(h);j.append(g);var n=$(document.createElement("div")).addClass("gadget_content");var f=null;if(rdx.utils.is_defined(o)){f=o-g.height();n.height(f)}n.append($("<img name='"+rdx.dashboard_constants.REFRESH_IMAGE+"'>").attr("src",rdx.images.SPACER_IMG).addClass(rdx.dashboard_constants.REFRESH_IMAGE));var m={ns_gadget_div:j,ns_dashboard:this,gadget:d,maximize_div:a,collapse_div:p,div_height:f,content_div:n};if(d.can_collapse_expand()){j.prepend(p.addClass("gadget_collapse").bind(rdx.events.CLICK,m,function(u){var q=u.data.ns_gadget_div;var t=u.data.ns_dashboard;var s=u.data.gadget.get_view();$(this).toggleClass("gadget_collapse").toggleClass("gadget_expand");var r=$(this).hasClass("gadget_expand");t._collapse_expand_gadget(q,r,s)}))}if(d.can_maximize_restore()){j.prepend(a.addClass("gadget_maximize").bind(rdx.events.CLICK,m,function(v){var q=v.data.ns_gadget_div;var u=v.data.ns_dashboard;var t=v.data.collapse_div;var s=v.data.gadget.get_view();$(this).toggleClass("gadget_maximize").toggleClass("gadget_restore");var r=$(this).hasClass("gadget_restore");if(rdx.utils.is_defined(v.data.div_height)){if(r){v.data.content_div.height(rdx.page.get_content().height()-35)}else{v.data.content_div.height(v.data.div_height)}}u._maximize_restore_gadget(q,r,t,s)}));if(d.maximized()&&this._gadget_div_to_maximize==null){this._gadget_div_to_maximize=j}}var e=$(document.createElement("div")).addClass("gadget_collapse_expand").addClass("gadget_close").bind(rdx.events.CLICK,m,function(s){var q=s.data.ns_gadget_div;var t=q.data("ns_gadget");var r=s.data.ns_dashboard;rdx.message_box.confirm(rdx.i18n.get_string("rdx.gadget_close_confirm",{gadget:t.get_header()}),new rdx.callback(this,function(){r._close_gadget(q)}))});if(!this._properties.searchable||!d.can_close()){e.hide()}j.prepend(e);var k=new rdx.base_view(n,c);d.set_view(k);k.prepare_view();if(d.can_collapse_expand()){j.bind(rdx.events.GADGET_COLLAPSED,{ns_gadget_content_view:k},function(q){q.data.ns_gadget_content_view.pause_view()});j.bind(rdx.events.GADGET_EXPANDED,{ns_gadget_content_view:k},function(q){q.data.ns_gadget_content_view.resume_view();q.data.ns_gadget_content_view.resize_view()})}if(d.can_maximize_restore()){j.bind(rdx.events.GADGET_RESTORED,{ns_gadget_content_view:k},function(q){q.data.ns_gadget_content_view.resize_view()});j.bind(rdx.events.GADGET_MAXIMIZED,{ns_gadget_content_view:k},function(q){q.data.ns_gadget_content_view.resize_view()})}j.bind(rdx.events.GADGET_CLOSED,{ns_gadget_content_view:k},function(q){q.data.ns_gadget_content_view.destroy_view()});if(c.type==rdx.view_constants.DETAIL_VIEW){n.bind(rdx.events.VIEW_COUNT_CHANGED,function(r,q){$(this).parent().children(".gadget_header").children(".count").text(q)})}j.append(n);if(this._properties.resizable&&d.is_resizable()){j.resizable(this._resizable_properties)}j.data("ns_gadget",d);if(l){l.append(j);return k}d.add(true);d.column_index(b);if(d.collapsed()&&d.can_collapse_expand()){j.children(".gadget_collapse").click()}this._modified=true;return k};rdx.dashboard.prototype._get_column_index_to_add_gadget=function(){var e=Number.MAX_VALUE;var a=-1;for(var d=0,c=this._columns.length;d<c;d++){var b=this._columns[d].height();if(b<e){e=b;a=d}}return a};rdx.dashboard.prototype._close_gadget=function(a){if(a.parent().hasClass("dashboard_column")){var b=a.data("ns_gadget");b.add(false);b.column_index(-1);b.collapsed(false);b.maximized(false);this._modified=true;if(rdx.status_bar){rdx.status_bar.update_status("rdx.gadget_removed")}}a.trigger(rdx.events.GADGET_CLOSED);a.children(".gadget_restore").click();a.remove()};rdx.dashboard.prototype._load_customization=function(){if(this._properties.use_cookie){this._load_customization_from_properties(rdx.utils.get_cookie(this._properties.name))}else{rdx.model.get(rdx.utils.get_resource(this._properties.resource_name),this._properties.name,new rdx.callback(this,this._load_customization_result_arrived,[true]),this._parent,new rdx.callback(this,this._load_customization_result_arrived,[false]))}};rdx.dashboard.prototype._load_customization_result_arrived=function(a,b){this._load_customization_from_properties(b?a[this._properties.resource_name][0].property_value:null);$(window).resize()};rdx.dashboard.prototype._load_customization_from_properties=function(a){if(a!=null&&a.length>0){try{var b=JSON.parse(a);for(var d in b){if(this._gadgets[d]){$.extend(this._gadgets[d].get_customizable_properties(),b[d])}}}catch(c){}}this._add_gadgets()};rdx.dashboard.prototype._save_customization=function(){var c={};for(var g in this._gadgets){c[g]=this._gadgets[g].get_customizable_properties()}var a=JSON.stringify(c);if(this._properties.use_cookie){rdx.utils.set_cookie(this._properties.name,a)}else{var d=rdx.utils.get_resource(this._properties.resource_name);var f={property_name:this._properties.name,property_value:a};var e=rdx.model.to_json(f,d,false);var b=d.set_url?d.set_url:d.get_url;rdx.utils.ajax(rdx.ajax_handler_constants.PUT,b,e,new rdx.callback(),false)}};rdx.dashboard.prototype._unload_dashboard=function(){if(!this._modified||!window.confirm(rdx.i18n.get_string("rdx.dashboard_modified_confirm"))){return}this._save_customization()};rdx.dashboard.prototype._collapse_expand_gadget=function(a,d,b){var c=a.data("ns_gadget");if(d){a.height(a.find(".gadget_header").height()+10);if(this._properties.resizable&&c.is_resizable()){a.resizable("destroy")}a.trigger(rdx.events.GADGET_COLLAPSED);if(rdx.status_bar){rdx.status_bar.update_status("rdx.gadget_collapsed")}}else{a.height("100%");if(this._properties.resizable&&c.is_resizable()){a.resizable(this._resizable_properties)}a.trigger(rdx.events.GADGET_EXPANDED);if(rdx.status_bar){rdx.status_bar.update_status("rdx.gadget_expanded")}}c.collapsed(d);this._modified=true;a.find(".gadget_content").toggle();if(!d){b.resize_view()}};rdx.dashboard.prototype._maximize_restore_gadget=function(k,g,m,n){var d=k.data("ns_gadget");if(rdx.utils.is_not_defined(d)){return}var e=k.parent(".dashboard_column");var a=e.parent(".dashboard_container");var c=a.children().index(e);var p=e.children().index(k);if(g){e.width("100%");if(rdx.status_bar){rdx.status_bar.update_status("rdx.gadget_maximized")}if(this._properties.searchable){this._dashboard_finder.hide_search()}}else{if(this._properties.columns_width[c]){e.width(this._properties.columns_width[c])}if(rdx.status_bar){rdx.status_bar.update_status("rdx.gadget_restored")}if(this._properties.searchable){this._dashboard_finder.show_search()}}if($(m).hasClass("gadget_expand")){$(m).toggleClass("gadget_collapse").toggleClass("gadget_expand");this._collapse_expand_gadget(k,false,n)}for(var h=0,o=this._columns.length;h<o;h++){var l=this._columns[h].children();for(var f=0,b=l.length;f<b;f++){if(h!=c||f!=p){$(l[f]).toggle();$(l[f]).trigger(g?rdx.events.GADGET_COLLAPSED:rdx.events.GADGET_EXPANDED)}}if(h!=c){if(g){this._columns[h].width("0%")}else{if(this._properties.columns_width[h]){this._columns[h].width(this._properties.columns_width[h])}}}}k.trigger(g?rdx.events.GADGET_MAXIMIZED:rdx.events.GADGET_RESTORED);d.maximized(g);this._modified=true};rdx.dashboard.prototype.sort_gadget=function(a){var d=a.parent(".dashboard_column");a.data("ns_gadget").column_index(d.parent(".dashboard_container").children().index(d));for(var c=0,b=this._columns.length;c<b;c++){var d=this._columns[c];d.children().each(function(){$(this).data("ns_gadget").row_index(d.children().index($(this)))})}a.data("ns_gadget").get_view().resize_view();this._modified=true};rdx.wizard_constants=new function(){this.ORIGINAL="original";this.MODIFIED="modified";this.MODIFIED_CHILDREN="modified_children"};rdx.wizard_summary_page=function(b,a){this._parent=b;this._page_container=null;this._DEFAULT_PROPERTIES={title:"",description:"",renderer_callback:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a)};rdx.wizard_summary_page.prototype.show_page=function(){this._page_container.show()};rdx.wizard_summary_page.prototype.hide_page=function(){this._page_container.hide()};rdx.wizard_summary_page.prototype.render=function(){this._page_container=$("<div>");this._page_container.addClass("wizard_form_panel");this._parent.append(this._page_container);return this};rdx.wizard_summary_page.prototype.add_summary_details=function(c,b,a){var d="";if(rdx.utils.is_defined(this._properties.renderer_callback)){d=this._properties.renderer_callback.call_back([c,b,this._page_container,a])}this._page_container.empty();this._page_container.append(d)};rdx.wizard_summary_page.prototype.get_title=function(){return rdx.i18n.get_string(this._properties.title)};rdx.wizard_summary_page.prototype.get_description=function(){return rdx.i18n.get_string(this._properties.description)};rdx.wizard_header_navigation=function(b,a,e,c,d){this._pages_info=b;this._header_panel=a;this._summary_page=c;this._description_panel=e;$(d).bind(rdx.events.WIZARD_PAGE_CHANGED,{callback:new rdx.callback(this,this.set_header_info)},function(f,h,g){f.data.callback.call_back([h,g])})};rdx.wizard_header_navigation.prototype.set_header_info=function(c,b){var d="";var a="";if(rdx.utils.is_defined(this._pages_info[b])){d=this._pages_info[b].get_title();a=this._pages_info[b].get_description()}else{if(rdx.utils.is_defined(this._summary_page)){d=this._summary_page.get_title();a=this._summary_page.get_description()}}this._add_info_to_panel(this._header_panel,d);this._add_info_to_panel(this._description_panel,a)};rdx.wizard_header_navigation.prototype._add_info_to_panel=function(a,b){a.html("");a.append(b)};rdx.wizard_link_node=function(d,b,a,c){this._page_titles=this._get_page_titles(b);this._summary_page=a;this._content_container=d;this._link_node_info=new Object();this._NODE_COLUMN="node_column";this._DELTA_COLUMN="delta_column";this._IMAGE_COLUMN="image_column";$(c).bind(rdx.events.WIZARD_PAGE_CHANGED,{callback:new rdx.callback(this,this.navigate_to_link)},function(e,g,f){e.data.callback.call_back([g,f])})};rdx.wizard_link_node.prototype.navigate_to_link=function(b,a){if(b>=0){this._link_node_info[b][this._NODE_COLUMN].removeClass("wizard_current_node");this._link_node_info[b][this._DELTA_COLUMN].removeClass("wizard_delta_node_selected")}this._link_node_info[a][this._NODE_COLUMN].addClass("wizard_current_node");this._link_node_info[a][this._DELTA_COLUMN].addClass("wizard_delta_node_selected");if(b<a&&b>=0){this._link_node_info[b][this._IMAGE_COLUMN].attr("src",rdx.images.ELEMENT_SELECTED)}this._link_node_info[a][this._IMAGE_COLUMN].attr("src",rdx.images.ELEMENT)};rdx.wizard_link_node.prototype.render=function(){this._content_container.attr("cellSpacing",0).attr("cellPadding",0).addClass("wizard_link_node");var a=0;var e=$("<tr>");var b=$("<td>").addClass("wizard_links_col").addClass("wizard_link_node_wrapper").attr("valign","top");var d=$("<tr>").append(($("<td>")).addClass("link_node_bottom_container"));e.append(b);this._content_container.append(e);this._content_container.append(d);var c=$("<table>").attr("cellSpacing",0).attr("cellPadding",0);b.append(c);for(;a<this._page_titles.length;a++){this._add_link_node(c,this._page_titles[a],a)}if(rdx.utils.is_defined(this._summary_page)){this._add_link_node(c,this._summary_page.get_title(),a)}this._link_node_info[0][this._NODE_COLUMN].addClass("wizard_current_node");this._link_node_info[0][this._DELTA_COLUMN].addClass("wizard_delta_node_selected");return this};rdx.wizard_link_node.prototype._add_link_node=function(c,g,b){var f=$("<tr>");c.append(f);var e=$("<td>");var a=rdx.images.ELEMENT;var d=$("<img>").attr("src",a);d.addClass("wizard_link_node_image");e.append(d).append(g);e.attr("align","left");e.attr("valign","center");f.append(e);this._link_node_info[b]={node_column:e,delta_column:e,image_column:d}};rdx.wizard_link_node.prototype._get_page_titles=function(c){var a=new Array();for(var b=0;b<c.length;b++){a.push(rdx.i18n.get_string(c[b].title))}return a};rdx.wizard_link_node.prototype.get_link_node=function(){return this};rdx.wizard_page_navigation=function(a,b,c){this._pages_info=a;this._summary_page=b;this._current_page_summary_page=false;$(c).bind(rdx.events.WIZARD_PAGE_CHANGED,{callback:new rdx.callback(this,this.navigate_to_page)},function(f,h,g,j,e,d){f.data.callback.call_back([h,g,j,e,d])})};rdx.wizard_page_navigation.prototype.navigate_to_page=function(d,c,e,b,a){if(d>=0){if(rdx.utils.is_defined(this._pages_info[d])){this._pages_info[d].hide_page()}else{if(rdx.utils.is_defined(this._summary_page)){this._summary_page.hide_page()}}}if(this._current_page_summary_page){this._summary_page.hide_page()}if(rdx.utils.is_defined(this._pages_info[c])){this._pages_info[c].show_page();this._current_page_summary_page=false}else{if(rdx.utils.is_defined(this._summary_page)){b=b||false;this._summary_page.add_summary_details(e,b,a);this._summary_page.show_page();this._current_page_summary_page=true}}};rdx.wizard_page=function(b,a,c){this._parent=b;this._page_container=null;this._DEFAULT_PROPERTIES={title:"",description:"",view:"",callback_before_operation:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a);this._submit_operation=c;this._view=rdx.utils.get_view(this._get_view_name());this._fields=this._view.resource_properties;this._resource_name=this._view.resource_name;this._resource=rdx.utils.get_resource(this._resource_name);this._original_resource_data=null;this._modified_resource_data=null;this._form=null};rdx.wizard_page.prototype.show_page=function(){this._page_container.show()};rdx.wizard_page.prototype.hide_page=function(){this._page_container.hide()};rdx.wizard_page.prototype.render=function(){this._page_container=$("<div>");this._page_container.addClass("wizard_form_panel");this._parent.append(this._page_container);var a=this.get_fields();var b=rdx.utils.is_defined(this._view.view_properties)?this._view.view_properties:{};var c=$.extend({},b,{add_create_button:false,add_close_button:false});c.submit_operation=this._submit_operation;c.add_border=false;this._form=new rdx.form(this._page_container,a,this.get_resource().properties,c).render();this._form.finalize()};rdx.wizard_page.prototype.get_title=function(){return rdx.i18n.get_string(this._properties.title)};rdx.wizard_page.prototype.get_description=function(){return rdx.i18n.get_string(this._properties.description)};rdx.wizard_page.prototype.get_resource_name=function(){return this._resource_name};rdx.wizard_page.prototype.get_resource=function(){return this._resource};rdx.wizard_page.prototype.get_fields=function(){return this._fields};rdx.wizard_page.prototype.get_form=function(){return this._form};rdx.wizard_page.prototype._get_view_name=function(){return this._properties.view};rdx.wizard_page.prototype.set_original_resource_data=function(a){this._original_resource_data=a};rdx.wizard_page.prototype.get_original_resource_data=function(){return this._original_resource_data};rdx.wizard_page.prototype.set_modified_resource_data=function(a){this._modified_resource_data=a};rdx.wizard_page.prototype.get_modified_resource_data=function(){return this._modified_resource_data};rdx.wizard_page.prototype.get_callback_before_operation=function(){return this._properties.callback_before_operation};rdx.wizard_page.prototype.get_view=function(){return this._view};rdx.wizard=function(b,a,c){this._parent=b;this._definition=a;this._resource=c;this._submit_handler_callback=null;this._resource_data_fetch_callback=null;this._wizard_container=$("<div>");this._wizard_container.addClass("wizard");this._pages_info=new Object();this._wizard_link=null;this._panels_holder=new Object();this._current_page_index=0;this._previous_page_index=-1;if(rdx.utils.is_not_defined(a.view_properties.submit_operation)||rdx.utils.is_not_defined(a.view_properties.submit_operation.method)){a.view_properties.submit_operation={method:"add",action:null}}this._submit_operation=a.view_properties.submit_operation;this.TOP_PANEL="top_panel";this.CENTER_PANEL="center_panel";this.CONTENT_PANEL="content_panel";this.LINK_NODE_PANEL="link_node_panel";this.BUTTON_BAR_PANEL="button_bar_panel";this.TITLE_PANEL="title_panel";this.DESCRIPTION_PANEL="description_panel";this.BACK_BUTTON="back_button";this.NEXT_BUTTON="next_button";this.FINISH_BUTTON="finish_button";this._resource_data=null;this._wizard_save_complete=false;this._page_failed_index=-1};rdx.wizard.prototype.render=function(d){this._add_top_panel();this._add_center_panel();this._add_bottom_navigation_bar();this._render_wizard_data();var c=rdx.utils.is_defined(this._definition.view_properties)&&rdx.utils.is_defined(this._definition.view_properties.title)?rdx.i18n.get_string(this._definition.view_properties.title):"Wizard";var b={height:500,width:700,modal:true,resizable:false,title:c};var a=$.extend({},b,d);this._wizard_container.dialog(a);this._resize()};rdx.wizard.prototype._add_top_panel=function(){var a=$("<div>");a.addClass("wizard_top_panel");a.addClass("wizard_top_panel_border");a.addClass("smooth_all_corner");a.addClass("wizard_panel_spacing_bottom");this._add_to_panel_holder(this.TOP_PANEL,a);var b=$("<div>");b.addClass("wizard_current_node");b.addClass("wizard_title_panel");b.addClass("smooth_right_corner");this._add_to_panel_holder(this.TITLE_PANEL,b);var c=$("<div>");c.addClass("wizard_description_panel");this._add_to_panel_holder(this.DESCRIPTION_PANEL,c);a.append(b);a.append(c);this._wizard_container.append(a)};rdx.wizard.prototype._add_center_panel=function(){var a=$("<div>");this._add_to_panel_holder(this.CENTER_PANEL,a);a.addClass("wizard_center_panel");a.addClass("wizard_panel_spacing_bottom");this._add_link_nodes_panel(a);this._add_content_panel(a);this._wizard_container.append(a)};rdx.wizard.prototype._add_link_nodes_panel=function(a){var b=$("<div>");b.addClass("wizard_link_nodes_panel");b.addClass("smooth_all_corner");b.addClass("wizard_border");a.append(b);var c=$("<table>");b.append(c);this._add_to_panel_holder(this.LINK_NODE_PANEL,c)};rdx.wizard.prototype._add_content_panel=function(a){var b=$("<div>");b.addClass("wizard_content_panel");b.addClass("smooth_all_corner");b.addClass("wizard_border");b.addClass("wizard_content_panel_spacing");a.append(b);this._add_to_panel_holder(this.CONTENT_PANEL,b)};rdx.wizard.prototype._add_bottom_navigation_bar=function(){var h=$("<table>").addClass("wizard");var c=$("<tr>");h.append(c);if(rdx.utils.is_defined(this._definition.view_properties)&&rdx.utils.is_defined(this._definition.view_properties.help_id)){var e=$("<td>").addClass("wizard_help");rdx.help.add_help(e,this._definition.view_properties.help_id);c.append(e)}var d=$("<td>").addClass("wizard_navigation_bar").attr("colspan",2);c.append(d);var g=this._get_button(rdx.i18n.get_string("rdx.wizard_back_button"),rdx.i18n.get_string("rdx.wizard_back_button_tooltip"));g.attr("disabled",true).addClass("cancel_button");this._add_to_panel_holder(this.BACK_BUTTON,g);var a=this._get_button(rdx.i18n.get_string("rdx.wizard_next_button"),rdx.i18n.get_string("rdx.wizard_next_button_tooltip"));a.addClass("submit_button");this._add_to_panel_holder(this.NEXT_BUTTON,a);var f=this._get_button(rdx.i18n.get_string("rdx.wizard_finish_button"),rdx.i18n.get_string("rdx.wizard_finish_button_tooltip"));f.addClass("submit_button");f.hide();this._add_to_panel_holder(this.FINISH_BUTTON,f);var b=this._get_button(rdx.i18n.get_string("rdx.wizard_close_button"),rdx.i18n.get_string("rdx.wizard_close_button_tooltip"));b.addClass("cancel_button");b.bind(rdx.events.CLICK,{wizard:this},function(j){if(rdx.utils.is_defined(j.data.wizard._definition.close_prompt)){rdx.message_box.confirm(rdx.i18n.get_string(j.data.wizard._definition.close_prompt),new rdx.callback(j.data.wizard,j.data.wizard.close))}else{j.data.wizard.close()}});g.bind(rdx.events.CLICK,{wizard:this,button:a,finish_button:f},function(j){if($(this).attr("disabled")){return}j.data.wizard.handle_back_button_click()});a.bind(rdx.events.CLICK,{wizard:this,back_button:g,finish_button:f},function(j){if($(this).attr("disabled")){return}if(!j.data.wizard.get_pages_info()[j.data.wizard._current_page_index].get_form().validate()){return}j.data.wizard.handle_next_button_click()});f.bind(rdx.events.CLICK,{wizard:this},function(j){if(rdx.utils.is_defined(j.data.wizard._get_submit_handler_callback())){j.data.wizard._get_submit_handler_callback().call_back()}});d.append(g);d.append(a);d.append(f);d.append(b);this._wizard_container.append(h);this._add_to_panel_holder(this.BUTTON_BAR_PANEL,d)};rdx.wizard.prototype.handle_next_button_click=function(){var e=this._get_panel(this.BACK_BUTTON);var b=this._get_panel(this.NEXT_BUTTON);var c=this._get_panel(this.FINISH_BUTTON);e.attr("disabled",false);this._previous_page_index=this._current_page_index;var a=this._definition.pages.length;var d=null;if(rdx.utils.is_defined(this._definition.summary_page)){a=a+1;if(rdx.utils.is_defined(this._resource_data_fetch_callback)){d=this._resource_data_fetch_callback.call_back();this._resource_data=d}}if(this._current_page_index!=a-1){this._current_page_index=this._current_page_index+1}if(this._current_page_index==a-1){this._hide_button(b);this._show_button(c)}$(this).trigger(rdx.events.WIZARD_PAGE_CHANGED,[this._previous_page_index,this._current_page_index,d]);this._resize()};rdx.wizard.prototype.handle_back_button_click=function(){var c=this._get_panel(this.BACK_BUTTON);var a=this._get_panel(this.NEXT_BUTTON);var b=this._get_panel(this.FINISH_BUTTON);this._hide_button(b);this._show_button(a);$(this).trigger(rdx.events.WIZARD_PAGE_CHANGED,[this._current_page_index,this._previous_page_index]);this._current_page_index=this._previous_page_index;if(this._previous_page_index!=0){this._previous_page_index=this._previous_page_index-1}else{c.attr("disabled",true)}this._resize()};rdx.wizard.prototype.goto_page=function(b){this._wizard_save_complete=false;var d=this._get_panel(this.BACK_BUTTON);var a=this._get_panel(this.NEXT_BUTTON);var c=this._get_panel(this.FINISH_BUTTON);this._hide_button(c);this._show_button(a);$(this).trigger(rdx.events.WIZARD_PAGE_CHANGED,[this._current_page_index,b]);this._current_page_index=b;this._page_failed_index=b;this._previous_page_index=b-1;if(this._current_page_index==0){d.attr("disabled",true)}if(this._current_page_index==this._definition.pages.length-1&&this._definition.pages.length>1){this._hide_button(a);this._show_button(c)}this._resize()};rdx.wizard.prototype._hide_button=function(a){a.hide();a.removeClass("wizard_show_button")};rdx.wizard.prototype._show_button=function(a){a.show();a.addClass("wizard_show_button")};rdx.wizard.prototype._get_button=function(a,c){var b=$(document.createElement("input"));b.attr("type","button");b.attr("value",a);b.attr("title",c);return b};rdx.wizard.prototype._render_wizard_data=function(){for(var b=0;b<this._definition.pages.length;b++){var c=new rdx.wizard_page(this._get_panel(this.CONTENT_PANEL),this._definition.pages[b],this._submit_operation);c.render();if(b>0){c.hide_page()}this._pages_info[b]=c}var a=null;if(this._definition.summary_page){a=new rdx.wizard_summary_page(this._get_panel(this.CONTENT_PANEL),this._definition.summary_page).render();a.hide_page()}new rdx.wizard_page_navigation(this._pages_info,a,this).navigate_to_page(-1,0);new rdx.wizard_header_navigation(this._pages_info,this._get_panel(this.TITLE_PANEL),this._get_panel(this.DESCRIPTION_PANEL),a,this).set_header_info(-1,0);new rdx.wizard_link_node(this._get_panel(this.LINK_NODE_PANEL),this._definition.pages,a,this).render()};rdx.wizard.prototype._resize=function(){var a=this._wizard_container.height()-this._get_panel(this.TOP_PANEL).height()-this._get_panel(this.BUTTON_BAR_PANEL).height()-16;this._get_panel(this.CENTER_PANEL).height(a)};rdx.wizard.prototype._add_to_panel_holder=function(b,a){this._panels_holder[b]=a};rdx.wizard.prototype._get_panel=function(a){return this._panels_holder[a]};rdx.wizard.prototype._get_submit_handler_callback=function(){return this._submit_handler_callback};rdx.wizard.prototype.get_pages_info=function(){return this._pages_info};rdx.wizard.prototype.add_submit_handler_callback=function(a){this._submit_handler_callback=a};rdx.wizard.prototype.add_resource_data_fetch_callback=function(a){this._resource_data_fetch_callback=a};rdx.wizard.prototype.get_resource_data=function(){return this._resource_data};rdx.wizard.prototype.set_save_complete=function(a){this._wizard_save_complete=true;this._page_failed_index=-1;this._get_panel(this.BACK_BUTTON).hide();this._get_panel(this.FINISH_BUTTON).attr("disabled","true");this._get_panel(this.NEXT_BUTTON).hide();var b=this._definition.view_properties;if(rdx.utils.is_defined(b)&&rdx.utils.is_not_defined(b.post_submit_callback)){this._destroy_view()}else{if(rdx.utils.is_defined(this._definition.summary_page)){$(this).trigger(rdx.events.WIZARD_PAGE_CHANGED,[this._previous_page_index,this._current_page_index,this.get_resource_data(),true,a])}}};rdx.wizard.prototype.close=function(){var b=this._definition.view_properties;var a=this.get_resource_data();if(rdx.utils.is_defined(b)&&rdx.utils.is_defined(b.prompt_on_close)){if(rdx.utils.is_defined(b.prompt_on_close.callback)){if(b.prompt_on_close.callback.call_back([a,this._wizard_save_complete,this._page_failed_index])==true){rdx.message_box.confirm(rdx.i18n.get_string(b.prompt_on_close.message),new rdx.callback(this,this._do_close,[b,a]),new rdx.callback(this,this._destroy_view))}else{this._do_close(b,a)}}else{rdx.message_box.confirm(rdx.i18n.get_string(b.prompt_on_close.message),new rdx.callback(this,this._do_close,[b,a]),new rdx.callback(this,this._destroy_view))}}else{this._do_close(b,a)}};rdx.wizard.prototype._do_close=function(b,a){if(rdx.utils.is_defined(b)&&rdx.utils.is_defined(b.post_submit_callback)){if(rdx.utils.is_defined(a)){b.post_submit_callback.call_back([a,this._wizard_save_complete,this._page_failed_index])}this._destroy_view()}else{this._destroy_view()}};rdx.wizard.prototype._destroy_view=function(){this._wizard_container.dialog("close");this._wizard_container.remove()};rdx.job=function(d,b,c,a){this._id=d;this._interval=b;this._callback=c;this._synchronous=a;this._paused=false};rdx.job.prototype.get_id=function(){return this._id};rdx.job.prototype.get_interval=function(){return this._interval};rdx.job.prototype.get_callback=function(){return this._callback};rdx.job.prototype.is_synchronous=function(){return this._synchronous};rdx.job.prototype._is_paused=function(){return this._paused};rdx.job.prototype._set_paused=function(a){this._paused=a};rdx.scheduler=new function(){this._jobs=new Object();this._paused=false;this._does_job_exist=function(a){if(this._jobs[a]){return true}return false};this._clear_timer=function(a){if(!this._does_job_exist(a)){return}if(this._jobs[a].timer){clearTimeout(this._jobs[a].timer)}};this._execute_job=function(a){a.get_callback().call_back();if(a.is_synchronous()){this.job_completed(a.get_id())}};this.schedule_job=function(c,a){this.remove_job(c.get_id());var d=null;if(!this._paused&&!c._is_paused()&&!a){var b=this;d=setTimeout(function(){b._execute_job(c)},c.get_interval())}this._jobs[c.get_id()]={job:c,timer:d};if(!this._paused&&!c._is_paused()&&a){this._execute_job(c)}};this.remove_job=function(a){if(!this._does_job_exist(a)){return}this._clear_timer(a);delete this._jobs[a]};this.remove_all_jobs=function(){for(var a in this._jobs){this.remove_job(a)}};this.resume_all_jobs=function(a){if(!this._paused){return}this._paused=false;for(var b in this._jobs){this.schedule_job(this._jobs[b].job,a)}};this.pause_all_jobs=function(){this._paused=true;for(var a in this._jobs){this._clear_timer(a)}};this.resume_job=function(b,a){if(!this._does_job_exist(b)){return}this._jobs[b].job._set_paused(false);this.schedule_job(this._jobs[b].job,a)};this.pause_job=function(a){if(!this._does_job_exist(a)){return}this._jobs[a].job._set_paused(true);this._clear_timer(a)};this.job_completed=function(a){if(!this._does_job_exist(a)){return}this.schedule_job(this._jobs[a].job)}};rdx.cache_constants=new function(){this.IN_PROGRESS="in_progress";this.AVAILABLE="available";this.CACHE_OBJECT_DEFAULT_LIFE_TIME=7000};rdx.cache=new function(){this._cache={};this.create=function(a){this._cache[a]={object:null,state:rdx.cache_constants.IN_PROGRESS}};this.clear=function(a){if(this._cache[a]){delete this._cache[a]}};this.update=function(c,b){if(!this._cache[c]){this.create()}var d=this._cache[c];d.object=b;d.state=rdx.cache_constants.AVAILABLE;var a=this;setTimeout(function(){a.clear(c)},rdx.cache_constants.CACHE_OBJECT_DEFAULT_LIFE_TIME);$(d).trigger(rdx.events.CACHE_OBJECT_AVAILABLE,[b]);try{$(d).unbind(rdx.events.CACHE_OBJECT_AVAILABLE)}catch(e){}};this.get=function(a,c){if(!this._cache[a]){return false}var b=this._cache[a];if(b.state==rdx.cache_constants.AVAILABLE){c.call_back([b.object])}else{if(b.state==rdx.cache_constants.IN_PROGRESS){$(b).bind(rdx.events.CACHE_OBJECT_AVAILABLE,{ns_callback:c},function(e,d){e.data.ns_callback.call_back([d])})}}return true}};rdx.model_constants=new function(){this.RENAME_ACTION="rename";this.SESSION_ID_KEY="sessionid";this.GET="get";this.SET="set";this.ADD="add";this.REMOVE="remove";this.GET_COUNT="get_count";this.POST="post"};rdx.model=new function(){this._base_url=null;this._session_id=null;this.set_base_url=function(a){this._base_url=a};this.unset_base_url=function(){this._base_url=null};this.set_session_id=function(a){this._session_id=a};this.unset_session_id=function(){this._session_id=null};this.get_all=function(d,e,g,f,b){var j=rdx.utils.is_defined(d.get_all_url)?d.get_all_url:d.get_url;var a=rdx.url_utils.get_url(j,e);a=this._add_session_id_to_url(a);a=this._add_base_url_to_url(a);if(d.cacheable){if(rdx.cache.get(a,g)){return}rdx.cache.create(a)}var h=new rdx.ajax_handler(a,new rdx.callback(this,this._get_response_arrived_method,[d,g,d.cacheable]));h.set_error_callback(b);h.set_related_dom_object(f);var c=rdx.i18n.get_string(d.obj_type);h.set_activity(rdx.i18n.get_string("rdx.ajax_status_requesting",{obj_type:c}));h.dispatch()};this.get=function(d,e,j,f,b,h){var a=rdx.url_utils.get_url(d.get_url,e);a=this._add_session_id_to_url(a);a=this._add_base_url_to_url(a);var g=new rdx.ajax_handler(a,j);g.set_error_callback(b);g.set_related_dom_object(f);var c=rdx.i18n.get_string(d.obj_type);g.set_activity(rdx.i18n.get_string("rdx.ajax_status_requesting",{obj_type:c}));g.dispatch(h)};this.get_count=function(g,e,h,f,d){var c=rdx.utils.is_defined(g.get_all_url)?g.get_all_url:g.get_url;c=rdx.url_utils.get_url(c,e);c=this._add_session_id_to_url(c);c=this._add_base_url_to_url(c);var b=new rdx.ajax_handler(rdx.url_utils.get_count_url(c),new rdx.callback(this,this._count_response_arrived_method,[g,h,false]));b.set_error_callback(d);b.set_related_dom_object(f);var a=rdx.i18n.get_string(g.obj_type);b.set_activity(rdx.i18n.get_string("rdx.ajax_status_requesting_count",{obj_type:a}));b.dispatch()};this.add=function(e,j,f,c,a,h){a=$.extend({},a||{});a.operation_object=f;var b=e.add_url?e.add_url:e.get_url;b=this._add_base_url_to_url(b);var g=new rdx.ajax_handler(b,new rdx.callback(this,this._operation_response_arrived_method,[e,j,rdx.model_constants.ADD,a]),rdx.ajax_handler_constants.POST,this.to_json(f,e,true));g.set_error_callback(c);g.set_related_dom_object(h);var d=rdx.i18n.get_string(e.obj_type);this._set_activity(g,d,a,"rdx.ajax_status_creating",e.add_url_activity);this._set_status(g,d,a,"rdx.ajax_status_creating_completed",e.add_url_status);this._set_mask_id(g,a.view_definition);g.dispatch()};this.set=function(e,j,f,c,a,h){a=$.extend({},a||{});a.operation_object=f;var b=e.set_url?e.set_url:e.get_url;b=this._add_base_url_to_url(b);var g=new rdx.ajax_handler(b,new rdx.callback(this,this._operation_response_arrived_method,[e,j,rdx.model_constants.SET,a]),rdx.ajax_handler_constants.PUT,this.to_json(f,e));g.set_error_callback(c);g.set_related_dom_object(h);var d=rdx.i18n.get_string(e.obj_type);this._set_activity(g,d,a,"rdx.ajax_status_configuring",e.set_url_activity);this._set_status(g,d,a,"rdx.ajax_status_configuring_completed",e.set_url_status);this._set_mask_id(g,a.view_definition);g.dispatch()};this.remove=function(d,j,f,b,e,a,h){a=$.extend({},a||{});a.operation_object=f;var g=new rdx.ajax_handler(this._get_remove_url(f,d),new rdx.callback(this,this._operation_response_arrived_method,[d,j,rdx.model_constants.REMOVE,a]),rdx.ajax_handler_constants.DELETE);g.set_error_callback(b);g.set_related_dom_object(h);var c=rdx.i18n.get_string(d.obj_type);this._set_activity(g,c,a,"rdx.ajax_status_removing",d.remove_url_activity);this._set_status(g,c,a,"rdx.ajax_status_removing_completed",d.remove_url_status);this._set_mask_id(g,a.view_definition);g.dispatch()};this.post=function(e,k,g,c,f,a,j){a=$.extend({},a||{});a.operation_object=g;var b=e[f+"_url"]?e[f+"_url"]:e.get_url;b=this._add_base_url_to_url(b);var h=new rdx.ajax_handler(b,new rdx.callback(this,this._operation_response_arrived_method,[e,k,f,a]),rdx.ajax_handler_constants.POST,this.to_json(g,e,true,f));h.set_error_callback(c);h.set_related_dom_object(j);var d=rdx.i18n.get_string(e.obj_type);this._set_activity(h,d,a,"",e[f+"_url_activity"]);this._set_status(h,d,a,"",e[f+"_url_status"]);this._set_mask_id(h,a.view_definition);h.dispatch()};this._set_activity=function(e,d,c,a,b){activity=a||"";if(b){activity=b}else{if(c&&c.activity){activity=c.activity}}e.set_activity(rdx.i18n.get_string(activity,{obj_type:d}))};this._set_status=function(d,c,b,a,e){status=a||"";if(e){status=e}else{if(b&&b.status){status=b.status}}d.set_status(rdx.i18n.get_string(status,{obj_type:c}))};this._set_mask_id=function(a,b){if(rdx.utils.is_not_defined(b)){return}if(rdx.utils.is_not_defined(b[rdx.mask.MASK_KEY])){return}a.set_mask_id(b[rdx.mask.MASK_KEY])};this._get_response_arrived_method=function(b,c,d,a){d.call_back([b]);if(a){rdx.cache.update(c.get_url,b)}};this._count_response_arrived_method=function(b,d,e,a){var c=0;if(b[d.name]){c=parseInt(b[d.name][0]["__count"])}e.call_back([c])};this._operation_response_arrived_method=function(b,d,e,c,a){if(d.cacheable){rdx.cache.clear(d.get_url)}e.call_back([b]);if(this._is_event_registered_in_model(a.event_resource?rdx.utils.get_resource(a.event_resource):d,rdx.events.MODEL_CHANGED)){if(c==rdx.model_constants.REMOVE||a.refresh_action==rdx.view_constants.REMOVE_SELECTED){if(rdx.utils.is_not_defined(b[d.name])||rdx.utils.is_not_defined(b[d.name][0])){b[d.name]=[a.operation_object]}this.trigger_model_changed_event(b,c,d,a)}else{if(c==rdx.model_constants.RENAME_ACTION){this.trigger_model_changed_event(b,c,d,a)}else{rdx.model.trigger_resource_get(a,d,b,c)}}}};this.trigger_resource_get=function(a,h,c,f){var g=rdx.utils.is_defined(a)?a.timeout:null;if(rdx.utils.is_not_defined(c[h.name])||rdx.utils.is_not_defined(c[h.name][0])){var b=new rdx.view_context();var e=new Object();e.get_by_name=h.primary_keys;if(rdx.utils.is_not_defined(a.operation_object)||rdx.utils.is_not_defined(h.primary_keys)||rdx.utils.is_not_defined(a.operation_object[h.primary_keys[0]])){this.trigger_model_changed_event(a.operation_object,f,h,a)}else{b.set_url_params(e,a.operation_object);this.get(h,b.get_url_params(),new rdx.callback(this,this.trigger_model_changed_event,[f,h,a]),null,new rdx.callback(),g)}return}for(var d in c[h.name]){var b=new rdx.view_context();var e=new Object();e.get_by_name=h.primary_keys;b.set_url_params(e,c[h.name][d]);this.get(h,b.get_url_params(),new rdx.callback(this,this.trigger_model_changed_event,[f,h,a]),null,new rdx.callback(),g)}};this.trigger_model_changed_event=function(b,c,d,a){if(rdx.utils.is_defined(a)&&rdx.utils.is_defined(a.event_resource)){$(rdx.utils.get_resource(a.event_resource)).trigger(rdx.events.MODEL_CHANGED,[null,c,a])}else{$(d).trigger(rdx.events.MODEL_CHANGED,[b[d.name]?b[d.name]:[],c,a])}};this.add_model_change_listener=function(a,b){$(a).bind(rdx.events.MODEL_CHANGED,{ns_callback:b},this._model_change_callback)};this._model_change_callback=function(d,b,c,a){d.data.ns_callback.call_back([b,c,a])};this.remove_model_change_listener=function(a){$(a).unbind(rdx.events.MODEL_CHANGED,this._model_change_callback)};this._is_event_registered_in_model=function(b,a){return $(b).data("events")!=null&&rdx.utils.is_defined($(b).data("events")[a])};this.to_json=function(b,e,f,d){var g=new Object();if(d){var a=new Object();a.action=d;g.params=a}this._add_session_id_to_obj(g);g[e.name]=b;var c=(f?"object=":"")+JSON.stringify(g);return c};this._get_remove_url=function(c,h){var b=h.remove_url?h.remove_url:h.get_url;b=b.replace(/\/$/,"");var a="";for(var f=0,e=h.primary_keys.length;f<e;f++){var g="";var d=h.primary_keys[f];if(e==1){g=encodeURIComponent((typeof(c[d])=="string")?c[d].replace(/\//,"%2F"):c[d]);b+="/"+g}else{g=encodeURIComponent(c[d]);a+=d+":"+g+","}}if(a!=""){b+="?args="+a.replace(/,$/,"")}b=this._add_session_id_to_url(b);b=this._add_base_url_to_url(b);return b};this._add_base_url_to_url=function(a){if(rdx.utils.is_not_defined(this._base_url)){return a}return(this._base_url+a)};this._add_session_id_to_url=function(a){if(rdx.utils.is_not_defined(this._session_id)){return a}return rdx.url_utils.add_query_param(a,rdx.model_constants.SESSION_ID_KEY,this._session_id)};this._add_session_id_to_obj=function(a){if(rdx.utils.is_not_defined(this._session_id)){return}a[rdx.model_constants.SESSION_ID_KEY]=this._session_id}};rdx.model_executor_service=function(c,a,b){this._number_of_requests=0;this._queue=new Array();this.continue_on_error=rdx.utils.is_defined(b)?b:false;this._collated_response=new Array();this._collated_result=new Array();this._success_callback=c;this._failure_callback=a};rdx.model_executor_service.prototype.add=function(g,f,k,j,e,m,c){var b=null;var h=null;var a=new rdx.callback(this,this._on_model_call_successfull,[f,e]);var d=new rdx.callback(this,this._on_model_call_failure,[f,e]);switch(g){case rdx.model_constants.ADD:b=rdx.model.add;c=$.extend(c,{refresh_action:rdx.view_constants.ADD_NEW});h=[f,a,k,d,c,m];break;case rdx.model_constants.SET:b=rdx.model.set;c=$.extend(c,{refresh_action:rdx.view_constants.REFRESH_RELEVANT});h=[f,a,k,d,c,m];break;case rdx.model_constants.POST:b=rdx.model.post;h=[f,a,k,d,j,c,m];break;case rdx.model_constants.GET:b=rdx.model.get;var l=(rdx.utils.is_defined(c))?c.timeout:null;h=[f,e,a,m,d,l];break;case rdx.model_constants.GET_COUNT:b=rdx.model.get_count;h=[f,null,a,m,d];break;case rdx.model_constants.REMOVE:b=rdx.model.remove;h=[f,a,k,d,j,c,m];break}this._queue.push({method:b,params:h});this._number_of_requests=this._number_of_requests+1};rdx.model_executor_service.prototype.execute=function(){if(this._queue.length==0){return}var a=this._queue.shift();a.method.apply(rdx.model,a.params)};rdx.model_executor_service.prototype._handle_response=function(a,b){this._number_of_requests=this._number_of_requests-1;this._collated_response.push(a);this._collated_result.push(b);if(this._number_of_requests>0){this.execute()}else{if(rdx.utils.is_defined(this._success_callback)){this._success_callback.call_back([new rdx.model_executor_service_result({collated_response:this._collated_response,collated_result:this._collated_result})])}}};rdx.model_executor_service.prototype._on_model_call_successfull=function(a){this._handle_response(a,true)};rdx.model_executor_service.prototype._on_model_call_failure=function(a,b,c){if(this.continue_on_error){this._handle_response(a,false)}else{if(rdx.utils.is_defined(this._failure_callback)){this._failure_callback.call_back([new rdx.model_executor_service_result({error_resource:b,error_message:a,error_param:c,collated_response:this._collated_response})])}rdx.message_box.error(a);rdx.status_bar.update_status(a,rdx.ERROR)}};rdx.model_executor_service_result=function(a){this._DEFAULT_PROPERTIES={error_resource:null,error_message:"",error_param:null,collated_response:null,collated_result:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a)};rdx.model_executor_service_result.prototype.get_error_param=function(){return this._properties.error_param};rdx.model_executor_service_result.prototype.get_error_message=function(){return this._properties.error_message};rdx.model_executor_service_result.prototype.get_collated_response=function(){return this._properties.collated_response};rdx.model_executor_service_result.prototype.get_collated_result=function(){return this._properties.collated_result};rdx.model_executor_service_result.prototype.get_error_resource=function(){return this._properties.error_resource};rdx.view_constants=new function(){this.HEADER_VIEW="HEADER_VIEW";this.INFO_VIEW="INFORMATION_VIEW";this.DETAIL_VIEW="DETAIL_VIEW";this.CONFIGURE_VIEW="CONFIGURE_VIEW";this.OVERVIEW_VIEW="OVERVIEW_VIEW";this.TABBED_VIEW="TABBED_VIEW";this.URL_VIEW="URL_VIEW";this.CHART_VIEW="CHART_VIEW";this.COMPOSITE_VIEW="COMPOSITE_VIEW";this.WIZARD_VIEW="WIZARD_VIEW";this.CUSTOM_VIEW="CUSTOM_VIEW";this.GRID_LAYOUT="GRID_LAYOUT";this.MAP_ICON_LAYOUT="MAP_ICON_LAYOUT";this.REFRESH_ALL="REFRESH_ALL";this.REMOVE_SELECTED="REMOVE_SELECTED";this.REFRESH_RELEVANT="REFRESH_RELEVANT";this.ADD_NEW="ADD_NEW";this.REFRESH_NONE="REFRESH_NONE";this.DYNAMIC_VIEW_PROPERTIES="__dynamic_view_properties";this.VIEW_TOOLBAR_PADDING=-2;this.PADDING_HEIGHT=rdx.utils.is_ie()||rdx.utils.is_chrome_safari()?-14:-13};rdx.view_context=function(a){this.OBJECT_NAME="rdx.view_context";this._data=a;this._url_params=null;this._is_force_data_set_from_context=false};rdx.view_context.prototype.get_data=function(){if(this._is_force_data_set_from_context==true){return{}}return this._data};rdx.view_context.prototype.set_data=function(a){this._data=a};rdx.view_context.prototype.add_url_param=function(c,b,d){if(!this.is_url_params_set()){this._url_params=new Object()}if(!this._url_params[b]){this._url_params[b]=new Array()}var a=rdx.utils.is_array(c);if(a){this._add_url_param_for_views(c,b,d)}else{this._add_url_param_for_custom_operation(c,b,d)}};rdx.view_context.prototype._add_url_param_for_views=function(c,b,e){for(var a=0;a<c.length;a++){var d=e[c[a]];this._add_to_url_object(c[a],d,b)}};rdx.view_context.prototype._add_url_param_for_custom_operation=function(c,b,f){for(var e in c){var a=this._get_key(c[e]);var d=f[this._get_key(e)];this._add_to_url_object(a,d,b)}};rdx.view_context.prototype._get_key=function(a){if(a.indexOf(".")!=-1){var b=a.split(".");return b[b.length-1]}return a};rdx.view_context.prototype.add_additional_url_param=function(c){if(!this.is_url_params_set()){this._url_params=new Object()}var b=rdx.url_utils.GET_CUSTOM_TYPE;if(!this._url_params[b]){this._url_params[b]=new Array()}for(var a in c){var d=c[a];this._add_to_url_object(a,d,b)}};rdx.view_context.prototype._add_to_url_object=function(b,d,c){for(var a=0;a<this._url_params[c].length;a++){if(this._url_params[c][a]["name"]==b){this._url_params[c][a]["value"]=d;return}}this._url_params[c].push({name:b,value:d})};rdx.view_context.prototype.set_url_params=function(a,b){this._is_force_data_set_from_context=rdx.utils.is_defined(a.is_data_set)&&a.is_data_set&&rdx.utils.is_not_defined(b)?true:false;if(rdx.utils.is_defined(a.custom)){this.add_additional_url_param(a.custom,rdx.url_utils.GET_CUSTOM_TYPE)}if(rdx.utils.is_not_defined(b)){return}if(rdx.utils.is_defined(a.is_data_set)&&a.is_data_set){this._data=b}if(rdx.utils.is_defined(a.get_by_name)){this.add_url_param(a.get_by_name,rdx.url_utils.GET_BY_NAME_TYPE,b)}if(rdx.utils.is_defined(a.filter)){this.add_url_param(a.filter,rdx.url_utils.GET_FILTER_TYPE,b)}if(rdx.utils.is_defined(a.count)){if(!this.is_url_params_set()){this._url_params=new Object()}this._url_params[rdx.url_utils.GET_COUNT_TYPE]=new Array();this._url_params[rdx.url_utils.GET_COUNT_TYPE].push({name:"count",value:"yes"})}if(rdx.utils.is_defined(a.url_name_param)){this.add_url_param(a.url_name_param,rdx.url_utils.NAME_IN_URL_PARAM,b)}if(rdx.utils.is_defined(a.is_query_param)){if(!this.is_url_params_set()){this._url_params=new Object()}this._url_params[rdx.url_utils.IS_QUERY_PARAM]=a.is_query_param}};rdx.view_context.prototype.get_url_params=function(){return this._url_params};rdx.view_context.prototype.is_data_set=function(){if(this._is_force_data_set_from_context){return true}return rdx.utils.is_defined(this._data)?true:false};rdx.view_context.prototype.is_url_params_set=function(){return rdx.utils.is_defined(this._url_params)};rdx.view_context.prototype.get_object_name=function(){return"rdx.view_context"};rdx.view_utils=new function(){this.GET_TYPE="get";this.GET_COUNT_TYPE="count";this.GET_FILTER_TYPE="filter";this.GET_BY_NAME_TYPE="get_by_name";this.GET_CUSTOM_TYPE="query_params";this.get_action_bar_items=function(d,f){var c=[];for(var b in d.resource_operations){var e=d.resource_operations[b];var a=null;switch(b){case"custom_operations":for(var b in d.resource_operations.custom_operations){var e=d.resource_operations.custom_operations[b];a=$.extend({},e);this._add_button(e,a,c,f)}break;default:a=$.extend({},e);this._add_button(e,a,c,f);break}}return c};this._view_handler=function(b,e,a,d){var c=new rdx.view_context();c.set_url_params(d);new rdx.base_view(e,rdx.utils.get_view(a),c).prepare_view()};this._add_button=function(c,a,b,d){if(a!=null){a.image_url=rdx.images.get_app_url(a.image_url)}if(c.click_handler_callback){a.click_handler_callback=c.click_handler_callback}else{if(c.view){var e=new rdx.callback(this._view_handler,[d,c.view,c.view_context]);a.click_handler_callback=e}}b.push(new rdx.action(a))};this.add_dynamic_view_properties=function(a,b){if(rdx.utils.is_defined(a,b)&&rdx.utils.is_defined(b.view_params)){a.view_properties[rdx.view_constants.DYNAMIC_VIEW_PROPERTIES]=b.view_params}};this.get_dynamic_view_properties=function(a){if(rdx.utils.is_defined(a.view_properties)){return a.view_properties[rdx.view_constants.DYNAMIC_VIEW_PROPERTIES]}return null};this.remove_dynamic_view_properties=function(a){if(rdx.utils.is_defined(a.view_properties)&&rdx.utils.is_defined(a.view_properties[rdx.view_constants.DYNAMIC_VIEW_PROPERTIES])){a.view_properties[rdx.view_constants.DYNAMIC_VIEW_PROPERTIES]=null;delete a.view_properties[rdx.view_constants.DYNAMIC_VIEW_PROPERTIES]}};this.get_model_method=function(a){var b=rdx.model_constants.ADD;return rdx.utils.is_not_defined(a.view_properties)?b:rdx.utils.is_not_defined(a.view_properties.submit_operation)?b:a.view_properties.submit_operation.method};this.get_action=function(a){var b=null;if(rdx.utils.is_defined(a.view_properties)&&rdx.utils.is_defined(a.view_properties.submit_operation)){b=a.view_properties.submit_operation.action;if(rdx.utils.is_not_defined(b)){b=null}}return b}};rdx.download_util=function(c,b,a){this._parent=c;this._DEFAULT_PROPERTIES={header_title:"Downloads",header_title_class_name:"ns_wp_header",header_description:"Use this page to download resources for building custom management tools for the device or integration with the third party tools"};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a);this._view_definition=b};rdx.download_util.prototype.render=function(){var f=$(document.createElement("table")).attr("width","75%").attr("align","center").attr("cellpadding",0).attr("cellspacing",0);f.addClass("smooth_all_corner").addClass("layout_border").addClass("download_custom_theme_class");if(!f.html().match(/<tbody>/i)){f.append(document.createElement("tbody"))}var c=$(f[0].tBodies[0].insertRow(-1));$(c[0].insertCell(-1)).attr("colspan",3).attr("height","10px");var g=$(f[0].tBodies[0].insertRow(-1));g.addClass(this._properties.header_title_class_name).css("font-size","150%");$(g[0].insertCell(-1)).attr("colspan",3).append(this._properties.header_title);var e=$(f[0].tBodies[0].insertRow(-1));$(e[0].insertCell(-1)).attr("colspan",3).append("<br>"+this._properties.header_description);$(f[0].tBodies[0].insertRow(-1)).attr("colspan",3).attr("height",10);for(var d in this._view_definition){var b=this._view_definition[d];this._add_node_header(b,d,f);for(var a=0;a<b.length;a++){this._add_child_nodes(b[a],f);this._add_spacer_row(f,11)}}this._parent.append(f)};rdx.download_util.prototype._add_spacer_row=function(c,a){var b=$(c[0].tBodies[0].insertRow(-1));$(b[0].insertCell(-1)).attr("colspan",3).attr("height",a)};rdx.download_util.prototype._add_node_header=function(a,d,c){var e=a.header_class_name?a.header_class_name:"ns_small_header";var b=$(c[0].tBodies[0].insertRow(-1));$(b[0].insertCell(-1)).attr("colspan",3).addClass("ns_small_header").append(d);var f=$(c[0].tBodies[0].insertRow(-1));$(f[0].insertCell(-1)).attr("colspan",3).attr("height",5)};rdx.download_util.prototype._add_child_nodes=function(d,e){var g=rdx.i18n.get_string(d.href_short_description);var b=$(document.createElement("img")).attr("src",rdx.images.get_app_url(d.img_url)).attr("title",rdx.i18n.get_string(d.img_title));var a=$(document.createElement("a")).attr("href",d.href).attr("target",this._get_href_target(g,d.href_target)).append(b);var f=$(e[0].tBodies[0].insertRow(-1));$(f[0].insertCell(-1)).append(a).width(40);var h=$(document.createElement("a")).attr("href",d.href).attr("target",this._get_href_target(g,d.href_target)).append(g);var c=$(document.createElement("br"));$(f[0].insertCell(-1)).append(h).append(c).append(rdx.i18n.get_string(d.href_description))};rdx.download_util.prototype._get_href_target=function(e,d){if(d){return rdx.i18n.get_string(d)}var c=e.toUpperCase();var f="";var a=c.split(" ");for(var b=0;b<a.length;b++){f+=a[b]+"_"}f=f.substring(0,d.length-1);return f};rdx.title_bar=function(a,c){this.navigation_div=a;this.navigation_div.addClass("title_tool_bar_table");this._tool_bar_table=$("<table>").addClass("tool_bar_table").addClass("tool_bar_table_no_border").attr("cellPadding",0).attr("cellSpacing",0);var b=$("<tr>");this._tool_bar_table.append(b);this._crumb_div=$("<td>").addClass("title");b.append(this._crumb_div);this.crumb=new rdx.bread_crumb(this._crumb_div,c);this._tool_bar_div=$("<td>");b.append(this._tool_bar_div);this.navigation_div.append(this._tool_bar_table)};rdx.title_bar.prototype.height=function(){return this.navigation_div.outerHeight(true)};rdx.title_bar.prototype.add_toolbar_items=function(a,b){this.clear_toolbar_items();new rdx.ribbon($(this._tool_bar_div),a,b).render()};rdx.title_bar.prototype.add_crumb=function(b,a){this.crumb.add_view(b,a)};rdx.title_bar.prototype.clear_all=function(){this.crumb.clear_all()};rdx.title_bar.prototype.clear_toolbar_items=function(){$(this._tool_bar_div).children().remove()};rdx.bread_crumb=function(a){this.crumb_div=a;this._head_crumb=this._current_crumb={}};rdx.bread_crumb.prototype.clear_all=function(){$(this.crumb_div).children().remove()};rdx.bread_crumb.prototype._remove_crumb=function(a){if(rdx.utils.is_not_defined(a)){return}this._remove_crumb(a.next_crumb);a.crumb_container.remove()};rdx.bread_crumb.prototype.remove_crumb=function(b,a){var c=b;if(a){this._remove_crumb(b.next_crumb);if(b.next_crumb){b.next_crumb=null}}else{this._remove_crumb(b);if(b.prev_crumb){b.prev_crumb.next_crumb=null}}};rdx.bread_crumb.prototype.handle_tree_view_addition=function(a){if(rdx.utils.is_not_defined(a._view_definition.__tree_key)){return}if(a._view_definition.__tree_key){this.remove_crumb(this._head_crumb,true);var f=0;var c=this._head_crumb;this.clear_all();this._current_crumb=this._head_crumb;while((f=a._view_definition.__tree_key.indexOf("^",f+1))>0){var d=a._view_definition.__tree_key.substr(0,f);var b=rdx.get_tree().get_view_definition(d);var e={prev_crumb:c,tree_key:d};c.next_crumb=e;c=e;this.add_new_crumb(b.view_properties.title,e)}}};rdx.bread_crumb.prototype.add_new_crumb=function(b,d){var c=$("<a>").attr("href","#noAnchor").append(rdx.i18n.get_string(b)).addClass("current");if(this._current_crumb.crumb_link){this._current_crumb.crumb_link.removeClass("current")}var a=$("<div>");a.append(c).append("&nbsp;&#187;&nbsp;").addClass("bread_crumb_container");this.crumb_div.append(a);d.crumb_link=c;d.crumb_container=a;this._current_crumb=d;c.bind(rdx.events.CLICK,{crumb:d,bread_crumb:this},function(g){var f=g.data.crumb;var h=g.data.bread_crumb;h._current_crumb.crumb_link.removeClass("current");f.crumb_link.addClass("current");if(rdx.utils.is_not_defined(f.next_crumb)){return}if(f.tree_key){rdx.get_tree().select_node(f.tree_key);return}else{if(f.view_info.base_view._view_definition.__tree_key){rdx.get_tree().select_node(f.view_info.base_view._view_definition.__tree_key);return}else{h._current_crumb.view_info.base_view.destroy_view();h._current_crumb=f;h.remove_crumb(f,true);f.next_crumb=null;var e=new rdx.base_view(f.view_info.parent,f.view_info.view_definition,f.view_info.view_context);e.prepare_view(true);f.view_info.base_view=e}}})};rdx.bread_crumb.prototype.add_view=function(b,a){if(rdx.utils.is_defined(this._current_crumb.view_info)){if(rdx.utils.is_not_defined(this._current_crumb.view_info.base_view._view_definition.container_view)){this._current_crumb.view_info.base_view.destroy_view({bread_crumb:"NO_REMOVE"})}}this.handle_tree_view_addition(a);var c={prev_crumb:this._current_crumb,view_info:{base_view:a,parent:a.get_parent(),view_definition:a.get_view_definition(),view_context:a.get_view_context()}};this._current_crumb.next_crumb=c;this.add_new_crumb(b,c);$(a).bind(rdx.events.VIEW_DESTROYED,{bc:this,crumb:c},function(e,d){if(rdx.utils.is_not_defined(d.bread_crumb)||d.bread_crumb!="NO_REMOVE"){e.data.bc.remove_crumb(e.data.crumb,false)}});return this._current_crumb};rdx.view_callback_on_response_arrived_params=function(a){this._DEFAULT_PROPERTIES={return_call_back:null,response:null,unformatted_response:null,refresh_relevant:false};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a)};rdx.view_callback_on_response_arrived_params.prototype.get_refresh_relevant=function(){return this._properties.refresh_relevant};rdx.view_callback_on_response_arrived_params.prototype.get_response=function(){return this._properties.response};rdx.view_callback_on_response_arrived_params.prototype.get_unformatted_response=function(){return this._properties.unformatted_response};rdx.view_callback_on_response_arrived_params.prototype.resume=function(a){return this._properties.return_call_back.call_back([(a)?a:this.get_response()])};rdx.base_view=function(d,c,a){this._parent=d;this._view_definition=c;this._view_context=a;if(c.view_context){if(rdx.utils.is_not_defined(this._view_context)){this._view_context=new rdx.view_context()}this._view_context.set_url_params(c.view_context,{})}if(this._view_definition.resource_name){this._resource=rdx.utils.get_resource(this._view_definition.resource_name);this._job_id=this._view_definition.auto_refresh?this._resource.name+rdx.utils.random():null}this._view_already_created=false;this._is_view_destroyed=false;this._action_bar=null;this._tool_bar_table=null;this._disable_bread_crumb=false;this._view_div=$("<div>").addClass("view_div_decorator");this._view_div.css("height","100%");this._view=this._get_view();if(rdx.utils.is_not_defined(this._view_definition[rdx.mask.MASK_KEY])){var b=rdx.mask.MASK_ID+1;this._view_definition[rdx.mask.MASK_KEY]=b;rdx.mask.MASK_ID=b}if((rdx.utils.is_function(this._view.is_dialog)&&this._view.is_dialog())||d==null){this._parent=$("<div>")}this._parent.append(this._view_div);if(rdx.utils.is_defined(this._view_definition.on_view_destroyed_callback)){rdx.page.add_event_handler(rdx.events.PAGE_UNLOAD,this._view_definition.on_view_destroyed_callback)}};rdx.base_view.prototype.get_view_context=function(){return this._view_context};rdx.base_view.prototype.set_view_context=function(a){this._view_context=a};rdx.base_view.prototype.get_parent=function(){return this._parent};rdx.base_view.prototype.get_view_definition=function(){return this._view_definition};rdx.base_view.prototype._check_and_add_bread_crumb=function(a){if(this._view_already_created||a){return}if(rdx.utils.is_defined(rdx.global_title_bar)&&rdx.utils.is_defined(this._view_definition.add_to_bread_crumb)&&this._view_definition.add_to_bread_crumb&&!this._disable_bread_crumb){rdx.global_title_bar.clear_toolbar_items();rdx.global_title_bar.add_crumb(this._view_definition.view_properties.title,this)}};rdx.base_view.prototype.disable_bread_crumb=function(){return this._disable_bread_crumb=true};rdx.base_view.prototype.prepare_view=function(b){b=rdx.utils.is_not_defined(b)?false:b;this._check_and_add_bread_crumb(b);if(!this._view_already_created){this._is_tool_bar_required=rdx.utils.is_function(this._view.is_tool_bar_required)?this._view.is_tool_bar_required():false;this._is_action_bar_required=rdx.utils.is_function(this._view.is_action_bar_required)?this._view.is_action_bar_required():false}if(!this._view_already_created){this._make_view()}if(rdx.utils.is_defined(this._view_context)&&((this._view_context.is_url_params_set()&&rdx.utils.is_defined(this._resource))||this._view_context.is_data_set())){if(this._view_context.is_url_params_set()){var a=null;rdx.model.get(this._resource,this._view_context.get_url_params(),new rdx.callback(this,this._get_resource_response_arrived),this._view._parent,a)}else{if(this._view_context.is_data_set()){this._get_resource_response_arrived(this._view_context.get_data())}}}else{this._initialize_view()}rdx.view_utils.remove_dynamic_view_properties(this._view_definition)};rdx.base_view.prototype.resize_view=function(){if(!this._view_already_created){return}if(rdx.utils.is_function(this._view.resize_view)){this._view.resize_view()}if(this._is_action_bar_required){this._action_bar.resize_view()}};rdx.base_view.prototype.get_form=function(){if(rdx.utils.is_function(this._view.get_form)){return this._view.get_form()}return null};rdx.base_view.prototype.pause_view=function(){if(this._view_definition.auto_refresh){rdx.scheduler.pause_job(this._job_id)}};rdx.base_view.prototype.resume_view=function(){if(this._view_definition.auto_refresh){rdx.scheduler.resume_job(this._job_id)}};rdx.base_view.prototype.destroy_view=function(a){this._is_view_destroyed=true;this._view_already_created=false;this._view_div.empty();this._view_div.remove();if(rdx.utils.is_function(this._view.destroy_view)){this._view.destroy_view()}var b={base_view:this};if(rdx.utils.is_defined(a)){b=$.extend(b,a)}$(this).trigger(rdx.events.VIEW_DESTROYED,b);if(this._view_definition.auto_refresh){rdx.scheduler.remove_job(this._job_id)}if(rdx.utils.is_defined(this._view_definition.on_view_destroyed_callback)){this._view_definition.on_view_destroyed_callback.call_back()}};rdx.base_view.prototype._make_view=function(){rdx.page.add_event_handler(rdx.events.PAGE_RESIZED,new rdx.callback(this,this.resize_view));if(this._is_tool_bar_required){this._add_toolbar()}this._view.make_view();if(this._is_action_bar_required&&rdx.utils.is_function(this._view.get_action_items)&&rdx.utils.is_defined(this._view.get_action_items())){this._action_bar=new rdx.ribbon(this._view_div,this._view.get_action_items(),{class_names:"ribbon ribbon_bottom"}).render()}this._view_already_created=true;this._is_view_destroyed=false;if(rdx.utils.is_function(this._view.register_event_handlers)){this._view.register_event_handlers()}this.resize_view()};rdx.base_view.prototype.get_crumb=function(){return this._crumb};rdx.base_view.prototype._add_toolbar=function(){if(this._add_to_global_toolbar()){var a=rdx.utils.is_function(this._view.get_toolbar_items)?this._view.get_toolbar_items():[];this._add_help_toolbar_item(a);this._add_app_toolbar_item(a);rdx.global_title_bar.add_toolbar_items(a,this.get_top_tool_bar_properties())}else{this._tool_bar_table=$(document.createElement("table")).addClass("tool_bar_table").addClass("title_tool_bar_table").addClass("tool_bar_table_no_border").attr("cellPadding",0).attr("cellSpacing",0);if(!this._tool_bar_table.html().match(/<tbody>/i)){this._tool_bar_table.append(document.createElement("tbody"))}var d=$(this._tool_bar_table[0].tBodies[0].insertRow(-1));if(this._view_definition.view_properties.title){$(d[0].insertCell(-1)).addClass("title").append(rdx.i18n.get_string(this._view_definition.view_properties.title))}var b="";if(rdx.utils.is_defined(this._resource)){b=rdx.i18n.get_string(b)}var c=rdx.i18n.get_string("rdx.refresh_tooltip",{obj_type:b});var a=rdx.utils.is_function(this._view.get_toolbar_items)?this._view.get_toolbar_items():[];this._add_help_toolbar_item(a);this._add_app_toolbar_item(a);var e=this.get_top_tool_bar_properties();new rdx.ribbon($(d[0].insertCell(-1)),a,e).render();if(rdx.utils.is_not_defined(this._view_definition.view_properties._dont_show_title)){this._view_div.append(this._tool_bar_table)}}};rdx.base_view.prototype.get_top_tool_bar_properties=function(){return{spacing:0,align:"right",add_separator:true,add_scroller:false,add_images:true}};rdx.base_view.prototype._add_help_toolbar_item=function(a){if(rdx.utils.is_not_defined(this._view_definition.view_properties)||rdx.utils.is_not_defined(this._view_definition.view_properties.help_id)){return}a.push(new rdx.action({label:rdx.help.HELP_TXT,tooltip:rdx.help.HELP_TOOLTIP,image_url:rdx.images.HELP_IMG,click_handler_callback:new rdx.callback(this,this._handle_help_click,[this._view_definition.view_properties.help_id])}))};rdx.base_view.prototype._add_app_toolbar_item=function(a){if(rdx.utils.is_not_defined(rdx.APP_TOOL_BAR_ACTIONS)||(!rdx.utils.is_array(rdx.APP_TOOL_BAR_ACTIONS))){return}$.merge(a,rdx.APP_TOOL_BAR_ACTIONS)};rdx.base_view.prototype._handle_help_click=function(a,b){rdx.help.handle_help_click_event(b)};rdx.base_view.prototype._initialize_view=function(){if(this._resource){if(this._view_definition.auto_refresh){rdx.scheduler.schedule_job(new rdx.job(this._job_id,this._view_definition.auto_refresh_delay,new rdx.callback(this,this._get_resource)),true)}else{this._get_resource()}}if(rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.standalone_mode)&&this._view_definition.view_properties.standalone_mode&&this._view_definition.response_callback){this._get_resource_response_arrived([])}};rdx.base_view.prototype._get_resource=function(){var a=null;if(rdx.utils.is_function(this._view.get_view_context)){var b=this._view.get_view_context();if(rdx.utils.is_defined(b.get_url_params())){a=b.get_url_params()}}rdx.model.get_all(this._resource,a,new rdx.callback(this,this._get_resource_response_arrived),this._view_div,new rdx.callback(this,this._response_arrived))};rdx.base_view.prototype._add_to_global_toolbar=function(){return(rdx.utils.is_defined(rdx.global_title_bar)&&this._view_definition.add_to_bread_crumb&&!this._disable_bread_crumb)};rdx.base_view.prototype._get_resource_response_arrived=function(a){if(this._is_view_destroyed){return}if(this._view_definition.response_callback){var b=this;var c=new rdx.view_callback_on_response_arrived_params({return_call_back:new rdx.callback(function(e){b._view.get_resource_response_arrived(e);b._response_arrived()}),response:((rdx.utils.is_defined(this._resource)&&a[this._resource.name])?a[this._resource.name]:[]),unformatted_response:a});this._view_definition.response_callback.call_back([c])}else{var d;if(a[this._resource.name]){if(rdx.utils.is_array(a[this._resource.name])){d=a[this._resource.name]}else{d=[a[this._resource.name]]}}else{d=[]}if(rdx.utils.is_object_empty(d)&&!rdx.utils.is_array(d)){return}this._view.get_resource_response_arrived(d);this._response_arrived()}};rdx.base_view.prototype._response_arrived=function(c){if(c){var b=rdx.i18n.get_string("rdx.view_base_error",{obj_type:this._resource.obj_type,error:rdx.utils.get_detailed_error_message(c)});var a=this;rdx.message_box.error(b,new rdx.callback(this,function(){if(a._view_definition.auto_refresh){rdx.scheduler.job_completed(a._job_id)}}));rdx.status_bar.update_status(b,rdx.ERROR)}else{if(this._view_definition.auto_refresh){rdx.scheduler.job_completed(this._job_id)}}};rdx.base_view.prototype._get_view=function(){switch(this._view_definition.type){case rdx.view_constants.HEADER_VIEW:return new rdx.header_view(this._view_div,this._view_definition,this._resource);case rdx.view_constants.INFO_VIEW:return new rdx.info_view(this._view_div,this._view_definition,this._resource,this);case rdx.view_constants.DETAIL_VIEW:return new rdx.list_view(this._view_div,this._view_definition,this._resource,this);case rdx.view_constants.CHART_VIEW:return new rdx.chart_view(this._view_div,this._view_definition,this._resource);case rdx.view_constants.CONFIGURE_VIEW:return new rdx.configure_view(this._view_div,this._view_definition,this._resource,this);case rdx.view_constants.OVERVIEW_VIEW:return new rdx.overview_view(this._view_div,this._view_definition,this);case rdx.view_constants.TABBED_VIEW:return new rdx.tabbed_view(this._view_div,this._view_definition);case rdx.view_constants.URL_VIEW:return new rdx.url_view(this._view_div,this._view_definition,this);case rdx.view_constants.COMPOSITE_VIEW:return new rdx.composite_view(this._view_div,this._view_definition,this);case rdx.view_constants.WIZARD_VIEW:return new rdx.wizard_view(this._view_div,this._view_definition,this._resource,this);case rdx.view_constants.CUSTOM_VIEW:var args="this._view_div, this._view_definition, this._resource, this";return eval("new "+this._view_definition.view_class_name+"("+args+");")}};rdx.base_view.prototype.get_view=function(){return this._view};rdx.base_view.prototype.get_item_info=function(){if(rdx.utils.is_function(this.get_view().get_item_info)){return this.get_view().get_item_info()}else{return{action_item_data:[],total_item_count:null}}};rdx.base_view.prototype.get_action_items=function(){if(rdx.utils.is_function(this.get_view().get_action_items)){return this.get_view().get_action_items()}return[]};rdx.base_view.prototype.get_action_bar_height=function(){return rdx.utils.is_defined(this._action_bar)?this._action_bar.get_height():0};rdx.base_view.prototype.get_toolbar_height=function(){if(this._add_to_global_toolbar()){return 0}else{if(rdx.utils.is_defined(this._tool_bar_table)){return this._tool_bar_table.outerHeight(true)+rdx.view_constants.VIEW_TOOLBAR_PADDING}else{return 0}}};rdx.base_view.prototype.get_toolbar=function(){return this._tool_bar_table};rdx.base_view.prototype.refresh_action_bar_state=function(a){if(rdx.utils.is_defined(this._action_bar)){this._action_bar.refresh_state(a)}};rdx.header_view=function(b,a,c){this._parent=b;this._view_definition=a;this._resource=c;this._MAX_NO_OF_CHARS_IN_WELCOME_TEXT=100;this._brand_key=null;this._brand_div=null;this._platform_key=null;this._platform_div=null;this._build_key=null;this._build_div=null;this._user_name_key=null;this._welcome_user_name_div=null;this._host_key=null;this._logout_url=null};rdx.header_view.prototype.make_view=function(){var u=this._view_definition.view_properties.stand_alone;if(!u){this._brand_key=this._view_definition.view_properties.brand_key;this._platform_key=this._view_definition.view_properties.platform_key;this._build_key=this._view_definition.view_properties.build_key;this._user_name_key=this._view_definition.view_properties.user_name_key;this._host_key=this._view_definition.view_properties.host_key;this._logout_url=this._view_definition.view_properties.logout_url}var c=$(document.createElement("table")).addClass("ns_banner_table full_width_table").attr("cellPadding",0).attr("cellSpacing",0);if(!c.html().match(/<tbody>/i)){c.append(document.createElement("tbody"))}var e=$(c[0].tBodies[0].insertRow(-1));var d=$(c[0].tBodies[0].insertRow(-1));var g=$(document.createElement("img")).attr("src",rdx.images.COMPANY_LOGO_IMG);var w=$(document.createElement("a")).attr("href","http://www.citrix.com/netscaler").attr("target","PRODUCT_LINK").append(g);$(e[0].insertCell(-1)).attr("rowspan",2).addClass("company_logo").append(w);this._brand_div=$(document.createElement("div")).addClass("ns_home_page_title");if(this._view_definition.view_properties.brand_value){this._brand_div.html(this._view_definition.view_properties.brand_value)}else{this._brand_div.html("&nbsp;")}$(e[0].insertCell(-1)).append(this._brand_div);this._platform_div=$(document.createElement("div")).addClass("inline_display").addClass("ns_home_platform");if(!u){var n=rdx.i18n.get_string("rdx.view_header_logout");var h=$(document.createElement("a")).attr("href","#noAnchor").attr("title",n).append(n).bind(rdx.events.CLICK,{ns_view_properties:this._view_definition.view_properties,logout_url:this._logout_url},function(k){if(rdx.utils.is_defined(k.data.logout_url)){window.location=k.data.logout_url}else{rdx.utils.do_logout(false)}});this._build_div=$(document.createElement("div")).addClass("inline_display");$(e[0].insertCell(-1)).attr("align","right").attr("valign","top").append(this._build_div).append("&nbsp;|&nbsp;").append(h);this._welcome_user_name_div=$(document.createElement("div")).addClass("inline_display");$(d[0].insertCell(-1)).attr("valign","bottom").addClass("welcome_message wrap_td").append(this._welcome_user_name_div);if(this._view_definition.tabs){var s=$(d[0].insertCell(-1)).attr("align","right").attr("colspan",2).addClass("tab");var l=$(document.createElement("table")).addClass("top_tab negative_margin_right").attr("cellPadding",0).attr("cellSpacing",0);s.append(l);if(!l.html().match(/<tbody>/i)){l.append(document.createElement("tbody"))}var f=$(l[0].tBodies[0].insertRow(-1));var j=$(f[0].insertCell(-1));var q=false;var r=location.pathname;for(var t=0,v=this._view_definition.tabs.length;t<v;t++){var m=this._view_definition.tabs[t];var p=rdx.i18n.get_string(m.title);var o=$(document.createElement("a")).attr("title",p).attr("href",m.url);o.append($(document.createElement("span")).text(p));var b=$("<span>").append(o);if(!q&&r.indexOf(m.url)==0){b.addClass("current_tab");q=true}j.append(b)}}}var a=$(document.createElement("div")).addClass("ns_header").append(c);this._parent.append(a)};rdx.header_view.prototype.get_resource_response_arrived=function(a){if(this._view_definition.view_properties.stand_alone){return}a=rdx.utils.is_array(a)?a[0]:a;if(a[this._brand_key]){this._brand_div.text(a[this._brand_key])}if(a[this._platform_key]){this._brand_div.append(this._platform_div);this._platform_div.text(" ("+a[this._platform_key]+")")}if(a[this._build_key]){this._build_div.html(a[this._build_key])}if(a[this._user_name_key]&&a[this._host_key]){var b=rdx.i18n.get_string("rdx.view_header_welcome_user",{user:a[this._user_name_key],host:a[this._host_key]});this._welcome_user_name_div.text(b).ellipsis(this._MAX_NO_OF_CHARS_IN_WELCOME_TEXT)}};rdx.info_view=function(c,b,d,a){this._parent=c;this._view_definition=b;this._resource=d;this._base_view=a;this._form_parent=null;this._form=null;this._info_controller=null;this._action_properties=null;this._toolbar_items=null;this._is_tool_bar_required=(rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.title)&&rdx.utils.is_not_defined(this._view_definition.view_properties._dont_show_title));this._is_action_bar_required=rdx.utils.is_defined(this._view_definition.resource_operations)};rdx.info_view.prototype.make_view=function(){this._form_parent=$("<div>");this._parent.append(this._form_parent);var a=$.extend({},this._view_definition.view_properties);a.read_only=true;a.class_names="form form_cell_decoration info_view "+a.class_names;a.add_border=false;this._form=new rdx.form(this._form_parent,this._view_definition.resource_properties,this._resource.properties,a).render()};rdx.info_view.prototype.is_tool_bar_required=function(){return this._is_tool_bar_required};rdx.info_view.prototype.is_action_bar_required=function(){return this._is_action_bar_required};rdx.info_view.prototype._add_tool_bar=function(){var b=rdx.i18n.get_string(this._resource.obj_type);var c=rdx.i18n.get_string("rdx.refresh_tooltip",{obj_type:b});var a=[new rdx.action({label:"rdx.refresh",tooltip:c,image_url:rdx.images.REFRESH_IMG,click_handler_callback:new rdx.callback(this._base_view,this._base_view.prepare_view)})];this._toolbar_items=a};rdx.info_view.prototype._add_action_bar=function(){this._action_properties=rdx.view_utils.get_action_bar_items(this._view_definition)};rdx.info_view.prototype.get_toolbar_items=function(){if(rdx.utils.is_defined(this._toolbar_items)){return this._toolbar_items}this._add_tool_bar();return this._toolbar_items};rdx.info_view.prototype.get_action_items=function(){this._form_parent.addClass("table_form_parent_div").addClass("smooth_all_corner");if(rdx.utils.is_defined(this._action_properties)){return this._action_properties}this._add_action_bar();return this._action_properties};rdx.info_view.prototype.resize_view=function(){if(!this.is_action_bar_required()&&!this.is_tool_bar_required()){return}var b=this._base_view.get_toolbar_height();var c=this._base_view.get_action_bar_height();var a=this._parent.outerHeight(true)-b-c+rdx.view_constants.PADDING_HEIGHT;rdx.utils.set_height(this._form_parent,a)};rdx.info_view.prototype.get_resource_response_arrived=function(a){this._form.initialize(rdx.utils.is_array(a)?a[0]:a)};rdx.info_controller=function(b,a){this._info_view=b;this._parent=a};rdx.info_controller.prototype._do_custom_operation=function(a){a.call_back([])};rdx.list_view_action_callback_params=function(a){this._DEFAULT_PROPERTIES={selected_rows_data:null,selected_rows_primary_keys:null,resource_context:null,list_view:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a)};rdx.list_view_action_callback_params.prototype.get_selected_rows_data=function(){return this._properties.selected_rows_data};rdx.list_view_action_callback_params.prototype.get_selected_rows_primary_keys=function(){return this._properties.selected_rows_primary_keys};rdx.list_view_action_callback_params.prototype.get_resource_context=function(){return this._properties.resource_context};rdx.list_view_action_callback_params.prototype.is_response_callback_defined=function(){return rdx.utils.is_defined(this._properties.list_view._view_definition.response_callback)};rdx.list_view=function(c,b,d,a){this._parent=c;this._view_definition=b;this._resource=d;this._base_view=a;this._table_parent=null;this._component=null;this._list_controller=null;this._pagination_table_parent=null;this._pagination=null;this._is_pagination_available=this._check_pagination();this._view_context=new rdx.view_context();this._action_items=null;this._toolbar_items=null};rdx.list_view.prototype.make_view=function(){this._add_pagination();this._add_table()};rdx.list_view.prototype.get_tool_bar=function(){return this._base_view.get_toolbar()};rdx.list_view.prototype.is_tool_bar_required=function(){return rdx.utils.is_not_defined(this._view_definition.view_properties.add_tool_bar)||this._view_definition.view_properties.add_tool_bar};rdx.list_view.prototype.is_action_bar_required=function(){return rdx.utils.is_defined(this._view_definition.resource_operations)};rdx.list_view.prototype._add_tool_bar=function(){var d=rdx.i18n.get_string(this._resource.obj_type);var e=rdx.i18n.get_string("rdx.refresh_tooltip",{obj_type:d});var b=[new rdx.action({label:"rdx.refresh",tooltip:e,image_url:rdx.images.REFRESH_IMG,click_handler_callback:new rdx.callback(this,this._refresh_view)})];if(this._view_definition.view_properties.details){var c=rdx.i18n.get_string("rdx.expand_all_tooltip",{obj_type:d});b.push(new rdx.action({label:"rdx.expand_all",tooltip:c,image_url:rdx.images.ZOOM_IN_IMG,click_handler_callback:new rdx.callback(this,this._expand_all)}));var a=rdx.i18n.get_string("rdx.collapse_all_tooltip",{obj_type:d});b.push(new rdx.action({label:"rdx.collapse_all",tooltip:a,image_url:rdx.images.ZOOM_OUT_IMG,click_handler_callback:new rdx.callback(this,this._collapse_all)}))}this._toolbar_items=b};rdx.list_view.prototype.get_toolbar_items=function(){if(rdx.utils.is_defined(this._toolbar_items)){return this._toolbar_items}this._add_tool_bar();return this._toolbar_items};rdx.list_view.prototype._check_pagination=function(){if(rdx.utils.is_defined(this._view_definition.view_properties)){if(rdx.utils.is_defined(this._view_definition.view_properties.pagination)){if(this._view_definition.view_properties.pagination){return true}}}return false};rdx.list_view.prototype._add_pagination=function(){if(!this._is_pagination_available){return}this._pagination_table_parent=$("<div>").addClass("table_form_parent_div").addClass("smooth_all_corner").addClass("pagination_div").addClass("tool_bar_table_no_border");this._parent.append(this._pagination_table_parent);this._pagination=new rdx.pagination(this._pagination_table_parent).render();this._add_url_param(this._pagination.get_page_number(),this._pagination.get_page_size())};rdx.list_view.prototype._update_total_count=function(){var a=null;if(rdx.utils.is_defined(this.get_view_context().get_url_params())){a=$.extend(true,{},this.get_view_context().get_url_params());rdx.url_utils.remove_from_url_object(a,"pagesize",rdx.url_utils.GET_CUSTOM_TYPE);rdx.url_utils.remove_from_url_object(a,"pageno",rdx.url_utils.GET_CUSTOM_TYPE)}rdx.model.get_count(this._resource,a,new rdx.callback(this._pagination,this._pagination.update_total_count,[true]),this._parent,new rdx.callback(this._pagination,this._pagination.update_total_count,[false]))};rdx.list_view.prototype.get_view_context=function(){var a=this._base_view.get_view_context();if(rdx.utils.is_defined(a)){return this._view_context=a}return this._view_context};rdx.list_view.prototype._add_url_param=function(a,c){var b=["pagesize","pageno"];var d={pagesize:c,pageno:a};this.get_view_context().add_url_param(b,rdx.url_utils.GET_CUSTOM_TYPE,d)};rdx.list_view.prototype._pagination_action=function(a,b){this._add_url_param(a,b);this._base_view.prepare_view()};rdx.list_view.prototype._sort_table_action=function(d,c){var a=["orderBy","isAscendingOrder"];var b={orderBy:d,isAscendingOrder:c};this.get_view_context().add_url_param(a,rdx.url_utils.GET_CUSTOM_TYPE,b);this._base_view.prepare_view()};rdx.list_view.prototype._add_table=function(){this._table_parent=$(document.createElement("div")).addClass("table_form_parent_div").addClass("smooth_all_corner");this._parent.append(this._table_parent);this.add_theme_specific_class(this);var d=[];var f=false;for(var c in this._view_definition.resource_properties){var b=this._resource.properties[c];var e=$.extend({},this._view_definition.resource_properties[c]);if(b){e.key=b.key;if(rdx.utils.is_not_defined(e.label)){e.label=b.label}if(b.tooltip){e.tooltip=b.tooltip}if(b.type){e.type=b.type}}if(this._view_definition.resource_operations&&!f){e.store_data=true;f=true}d.push(new rdx.table_column(e))}var a=$.extend({},this._view_definition.view_properties);if(a.details){a.details_renderer_callback=new rdx.callback(this,this._details_renderer)}if(this._view_definition.view_properties.layout==rdx.view_constants.MAP_ICON_LAYOUT){this._component=new rdx.map(this._table_parent,d,a).render()}else{this._component=new rdx.table(this._table_parent,d,a).render()}};rdx.list_view.prototype.add_theme_specific_class=function(a){};rdx.list_view.prototype._add_action_bar=function(){if(!this._view_definition.resource_operations){return}this._list_controller=new rdx.list_controller(this,this._parent);var h=this._view_definition.double_click_operation;if(!this._view_definition.double_click_operation){h="set"}var d=rdx.i18n.get_string(this._resource.obj_type);var f=[];for(var e in this._view_definition.resource_operations){var a=this._view_definition.resource_operations[e];switch(e){case"add":var l={label:"rdx.button_add",tooltip:rdx.i18n.get_string("rdx.button_add_tooltip",{obj_type:d}),image_url:rdx.images.DOCUMENT_ADD_IMG,no_selection:true,single_selection:true};this._add_button(l,a,f,this._list_controller._do_add,e,h);break;case"set":var j={label:"rdx.button_modify",tooltip:rdx.i18n.get_string("rdx.button_modify_tooltip",{obj_type:d}),image_url:rdx.images.DOCUMENT_EDIT_IMG,double_click:true,single_selection:true};this._add_button(j,a,f,this._list_controller._do_set,e,h);break;case"remove":var g={label:"rdx.button_delete",tooltip:rdx.i18n.get_string("rdx.button_delete_tooltip",{obj_type:d}),image_url:rdx.images.DOCUMENT_REMOVE_IMG,action:"remove",single_selection:true,multiple_selection:true,prompt:"rdx.table_data_action_confirm",refresh_action:rdx.view_constants.REMOVE_SELECTED,expression_mode:"ALL"};this._add_button(g,a,f,this._list_controller._do_remove,e,h);break;case"enable":var m={label:"rdx.button_enable",tooltip:rdx.i18n.get_string("rdx.button_enable_tooltip",{obj_type:d}),image_url:rdx.images.DOCUMENT_ENABLE_IMG,single_selection:true,prompt:"rdx.table_data_action_confirm",refresh_action:rdx.view_constants.REFRESH_RELEVANT};this._add_button(m,a,f,this._list_controller._do_enable,e,h);break;case"disable":var k={label:"rdx.button_disable",tooltip:rdx.i18n.get_string("rdx.button_disable_tooltip",{obj_type:d}),image_url:rdx.images.DOCUMENT_DISABLE_IMG,single_selection:true,prompt:"rdx.table_data_action_confirm",refresh_action:rdx.view_constants.REFRESH_RELEVANT};this._add_button(k,a,f,this._list_controller._do_disable,e,h);break;case"reboot":var b={label:"rdx.button_reboot",tooltip:rdx.i18n.get_string("rdx.button_reboot_tooltip",{obj_type:d}),image_url:rdx.images.DOCUMENT_REBOOT_IMG,prompt:"rdx.table_data_action_confirm_single",single_selection:true};this._add_button(b,a,f,this._list_controller._do_reboot,e,h);break;case"rename":var c={label:"rdx.button_rename",tooltip:rdx.i18n.get_string("rdx.button_rename_tooltip",{obj_type:d}),image_url:rdx.images.DOCUMENT_EDIT_IMG,single_selection:true,refresh_action:rdx.view_constants.REFRESH_ALL};this._add_button(c,a,f,this._list_controller._do_rename,e,h);break;case"custom_operations":this._add_custom_operations(f,d,h);break;default:this._add_custom_button(a,f,d,e,h);break}}this._action_items=f;this._component.set_menu_properties(this._action_items)};rdx.list_view.prototype.get_action_items=function(){if(rdx.utils.is_defined(this._action_items)){return this._action_items}this._add_action_bar();return this._action_items};rdx.list_view.prototype._get_prompt_data=function(a){return{action:rdx.i18n.get_string(a.label.toLowerCase()).toLowerCase(),obj_type:this._resource.obj_type,number_of_selected:this._component.get_selected_items_data().length}};rdx.list_view.prototype._add_button=function(c,b,e,g,d,h){var a=$.extend({},c,b);if(rdx.utils.is_defined(a)){a.image_url=rdx.images.get_app_url(a.image_url);a.prompt_data_callback=new rdx.callback(this,this._get_prompt_data)}if(b.click_handler_callback){a.click_handler_callback=new rdx.callback(this._list_controller,this._list_controller._do_custom_operation,[b.click_handler_callback])}else{a.click_handler_callback=new rdx.callback(this._list_controller,g,[])}var f=new rdx.action(a);if(d==h){this._component.add_event_handler(rdx.events.DOUBLE_CLICK,new rdx.callback(this,this._handle_double_click),f)}e.push(f)};rdx.list_view.prototype._handle_double_click=function(a){a.perform_action()};rdx.list_view.prototype._add_custom_operations=function(c,b,e){if(rdx.utils.is_not_defined(this._view_definition.resource_operations.custom_operations)){return}for(var a in this._view_definition.resource_operations.custom_operations){var d=this._view_definition.resource_operations.custom_operations[a];this._add_custom_button(d,c,b,a,e)}};rdx.list_view.prototype._add_custom_button=function(e,d,c,b,f){var a={label:"Do Custom Operation",tooltip:"Do Custom Operation on "+c,image_url:rdx.images.DOCUMENT_DISABLE_IMG};this._add_button(a,e,d,this._list_controller._do_generic_custom_operation,b,f)};rdx.list_view.prototype._get_data_for_menu=function(){return this._component.get_selected_items_data()};rdx.list_view.prototype.get_item_info=function(){return this._component.get_item_info()};rdx.list_view.prototype.register_event_handlers=function(){rdx.model.add_model_change_listener(this._resource,new rdx.callback(this,this._refresh_view));this._component.add_event_handler(rdx.events.ROW_SELECTION_CHANGED,new rdx.callback(this,this._row_selection_changed));this._row_selection_changed();if(this._is_pagination_available){if(rdx.utils.is_function(this._component.table_sort_handler)){this._component.table_sort_handler(new rdx.callback(this,this._sort_table_action))}this._pagination.add_event_handler(new rdx.callback(this,this._pagination_action))}};rdx.list_view.prototype.destroy_view=function(){rdx.model.remove_model_change_listener(this._resource)};rdx.list_view.prototype.resize_view=function(){var d=this._base_view.get_action_bar_height();var b=0;if(rdx.utils.is_not_defined(this._view_definition.view_properties._dont_show_title)&&this.is_tool_bar_required()){b=this._base_view.get_toolbar_height()}else{b=0}var c=0;if(this._is_pagination_available){c=this._pagination_table_parent.outerHeight(true)}var a=this._parent.outerHeight(true)-b-c-d+rdx.view_constants.PADDING_HEIGHT;if(a>=0){this._table_parent.height(a)}};rdx.list_view.prototype._row_selection_changed=function(){this._base_view.refresh_action_bar_state(this.get_item_info())};rdx.list_view.prototype.get_resource_response_arrived=function(a){if(this._is_pagination_available){this._update_total_count()}this._component.add_items(a,null,true);this._row_selection_changed();this._parent.trigger(rdx.events.VIEW_COUNT_CHANGED,a.length)};rdx.list_view.prototype._match_update=function(b,a){this._component.update_item_data(b,this._resource.primary_keys,a)};rdx.list_view.prototype._refresh_view=function(c,d,a){if(this._base_view._is_view_destroyed){return}if(a&&rdx.utils.is_defined(a.refresh_action)){var b=this._get_model_change_operation(d);var e=this._is_progressive_update(b,c);switch(a.refresh_action){case rdx.view_constants.REFRESH_ALL:this.refresh_table();break;case rdx.view_constants.REMOVE_SELECTED:this._component.delete_item(c[0],this._resource.primary_keys);this._parent.trigger(rdx.events.VIEW_COUNT_CHANGED,"");if(this._is_pagination_available){this._pagination.decrease_data_range()}break;case rdx.view_constants.REFRESH_RELEVANT:if(this._view_definition.response_callback){var g=this;var f=new rdx.view_callback_on_response_arrived_params({return_call_back:new rdx.callback(function(h){g._match_update(h[0],e)}),response:c});this._view_definition.response_callback.call_back([f])}else{this._match_update(c[0],e)}break;case rdx.view_constants.ADD_NEW:this._component.add_item(c[0],null,true);this._parent.trigger(rdx.events.VIEW_COUNT_CHANGED,"");if(this._is_pagination_available){this._pagination.increase_data_range()}break;case rdx.view_constants.REFRESH_NONE:break}this._check_and_evaluate_for_request_reprocess(c,d,a,b,e);this._row_selection_changed();return}this.refresh_table()};rdx.list_view.prototype._is_progressive_update=function(b,a){var c=false;if(rdx.utils.is_defined(b)&&rdx.utils.is_defined(b.expression)&&rdx.utils.is_defined(b.refresh_interval)){c=b.expression.evaluate(a)}return c};rdx.list_view.prototype._get_model_change_operation=function(a){if(rdx.utils.is_not_defined(this._view_definition.model_change_operations)){return null}return this._view_definition.model_change_operations[a]};rdx.list_view.prototype._check_and_evaluate_for_request_reprocess=function(e,c,a,b,d){if(rdx.utils.is_defined(b)&&d){a.timeout=b.refresh_interval;a.refresh_action=rdx.view_constants.REFRESH_RELEVANT;a.operation_object=rdx.utils.is_array(e)?e[0]:e;rdx.model.trigger_resource_get(a,this._resource,e,c)}};rdx.list_view.prototype.refresh_table=function(){this._component.delete_all_items();this._parent.trigger(rdx.events.VIEW_COUNT_CHANGED,"");this._base_view.prepare_view()};rdx.list_view.prototype._update_view=function(a){this._component.update_item_data(a,this._resource.primary_keys)};rdx.list_view.prototype._expand_all=function(){this._component.expand_all_details_rows()};rdx.list_view.prototype._collapse_all=function(){this._component.collapse_all_details_rows()};rdx.list_view.prototype._details_renderer=function(e){var d=$("<div>").addClass("detail_view_details").addClass("smooth_all_corner");var a;if(this._view_definition.details_view){a=rdx.utils.get_view(this._view_definition.details_view)}else{a={type:rdx.view_constants.INFO_VIEW,view_properties:{number_of_columns:2},resource_name:this._resource.name};a.resource_properties=$.extend({},this._resource.properties)}var c=new rdx.view_context();if(a.resource_name==this._resource.name){var b={};b[this._resource.name]=e;c.set_data(b)}new rdx.base_view(d,a,c).prepare_view();return d};rdx.list_controller=function(b,a){this._list_view=b;this._parent=a};rdx.list_controller.prototype._get_resource_for_operation=function(d){var e={};var a=this._list_view._resource.primary_keys;for(var c=0,b=a.length;c<b;c++){e[a[c]]=d[a[c]]}return e};rdx.list_controller.prototype._do_add=function(a){var d=this._list_view._component.get_selected_items_data();var c={};if(d.length>0){c[this._list_view._resource.name]=d[0]}else{c[this._list_view._resource.name]={}}var b=new rdx.view_context(c);new rdx.base_view(null,rdx.utils.get_view(a.view),b).prepare_view()};rdx.list_controller.prototype._do_set=function(a){var c=this._list_view._component.get_selected_items_data();if(c.length==0){return}var b=new rdx.view_context();var d=new Object();d.get_by_name=this._list_view._resource.primary_keys;b.set_url_params(d,c[0]);new rdx.base_view(null,rdx.utils.get_view(a.view),b).prepare_view()};rdx.list_controller.prototype._do_remove=function(a){this._perform_operation(rdx.model.remove,a)};rdx.list_controller.prototype._do_enable=function(a){this._perform_operation(rdx.model.post,a,"rdx.ajax_status_enabling","rdx.ajax_status_enabling_completed")};rdx.list_controller.prototype._do_disable=function(a){this._perform_operation(rdx.model.post,a,"rdx.ajax_status_disabling","rdx.ajax_status_disabling_completed")};rdx.list_controller.prototype._do_reboot=function(a){this._perform_operation(rdx.model.post,a,"rdx.ajax_status_rebooting","rdx.ajax_status_rebooting_completed")};rdx.list_controller.prototype._do_rename=function(l){var b=this._list_view._component.get_selected_items_data();if(b.length==0){return}var j=this._list_view._resource;var k=j.primary_keys[0];var f="newname";if(rdx.utils.is_not_defined(j.properties[f])){j.properties[f]={key:"newname",type:"VALNAME",validation_type:"VALNAME",label:j.properties[k].label}}var d=this._list_view._view_definition.resource_properties[k];if(rdx.utils.is_defined(d)&&rdx.utils.is_defined(d.label)){j.properties[f].label=d.label}var a=$.extend({},b[0]);a[f]=a[k];var c=new rdx.view_context();var g={};g[j.name]=[a];c.set_data(g);var h=rdx.i18n.get_string("rdx.view_configure_title_rename",{obj_type:j.obj_type});var e={type:rdx.view_constants.CONFIGURE_VIEW,resource_properties:{},view_properties:{submit_operation:{method:"post",action:"rename"},dialog_mode:"true",title:h}};e.resource_name=j.name;e.resource_properties[k]={hidden:"true"};e.resource_properties[f]={};new rdx.base_view(null,e,c).prepare_view()};rdx.list_controller.prototype._perform_operation=function(a,j,d,f){var e=(j.action)?j.action:j.label.toLowerCase();var b=this._list_view._component.get_selected_items_data();var c={action_properties:j,resource_defn:this._list_view._resource,activity:d,status:f,refresh_action:j.refresh_action};if(j.no_selection&&b.length==0||j.independent_of_selection){c.view_resource_data={};a.apply(rdx.model,[this._list_view._resource,new rdx.callback(),{},null,e,c,this._parent])}else{for(var g=0,h=b.length;g<h;g++){c.view_resource_data=b[g];a.apply(rdx.model,[this._list_view._resource,new rdx.callback(),this._get_resource_for_operation(b[g]),null,e,c,this._parent])}}};rdx.list_controller.prototype._do_generic_custom_operation=function(a){var c=this._list_view._component.get_selected_items_data();if(rdx.utils.is_defined(a.view)){var e=new Array();var b=new rdx.view_context();if(rdx.utils.is_not_defined(a.view_context)){var d=new Object();if(rdx.utils.get_view(a.view).resource_name){d.get_by_name=rdx.utils.get_resource(rdx.utils.get_view(a.view).resource_name).primary_keys;b.set_url_params(d,c[0])}}else{b.set_url_params(a.view_context,c[0])}new rdx.base_view(this._list_view._base_view._parent,rdx.utils.get_view(a.view),b).prepare_view()}else{this._perform_operation(rdx.model.post,a)}};rdx.list_controller.prototype._do_custom_operation=function(b,g){var f=this._list_view._component.get_selected_items_data();var c=new Array();if(rdx.utils.is_not_defined(b.independent_of_selection)||!b.independent_of_selection){for(var e=0,d=f.length;e<d;e++){c.push(this._get_resource_for_operation(f[e]))}}var a={action_properties:b,resource_defn:this._list_view._resource,refresh_action:b.refresh_action};g.call_back([new rdx.list_view_action_callback_params({selected_rows_primary_keys:c,selected_rows_data:f,resource_context:a,list_view:this._list_view})])};rdx.configure_view_operation_params=function(a){this._DEFAULT_PROPERTIES={resource_defn:null,resource_for_operation:null,callback_on_success:null,callback_on_failure:null,model_method:null,action:null,resource_context:null,dom_element:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,a)};rdx.configure_view_operation_params.prototype.get_resource_defn=function(){return this._properties.resource_defn};rdx.configure_view_operation_params.prototype.get_resource_for_operation=function(){return this._properties.resource_for_operation};rdx.configure_view_operation_params.prototype.get_callback_on_success=function(){return this._properties.callback_on_success};rdx.configure_view_operation_params.prototype.get_callback_on_failure=function(){return this._properties.callback_on_failure};rdx.configure_view_operation_params.prototype.get_model_method=function(){return this._properties.model_method};rdx.configure_view_operation_params.prototype.get_action=function(){return this._properties.action};rdx.configure_view_operation_params.prototype.get_dom_element=function(){return this._properties.dom_element};rdx.configure_view_operation_params.prototype.set_resource_defn=function(a){return this._properties.resource_defn=a};rdx.configure_view_operation_params.prototype.set_resource_for_operation=function(a){return this._properties.resource_for_operation=a};rdx.configure_view_operation_params.prototype.set_callback_on_success=function(a){return this._properties.callback_on_success=a};rdx.configure_view_operation_params.prototype.set_model_method=function(a){return this._properties.model_method=a};rdx.configure_view_operation_params.prototype.set_action=function(a){return this._properties.action=a};rdx.configure_view_operation_params.prototype.set_resource_context=function(a){return this._properties.resource_context=a};rdx.configure_view_operation_params.prototype.get_resource_context=function(){return this._properties.resource_context};rdx.configure_view_operation_params.prototype.resume=function(){return this._properties.return_call_back.call_back([this])};rdx.configure_view=function(c,b,d,a){this._base_view=a;this._view_definition=b;if(rdx.utils.is_not_defined(b.add_to_bread_crumb)&&this._is_dialog_mode()){this._parent=$(document.createElement("div"))}else{this._parent=c}this._resource=d;this._form=null;this._configure_controller=new rdx.configure_controller(this,this._parent);this._field_dependencies=null};rdx.configure_view.prototype.make_view=function(){this._DEFAULT_PROPERTIES={standalone_mode:false};var d=$.extend({},this._DEFAULT_PROPERTIES,this._view_definition.view_properties);var f=d.standalone_mode?{}:this._resource.properties;if(rdx.utils.is_not_defined(d.submit_operation)||rdx.utils.is_not_defined(d.submit_operation.method)){d.submit_operation={method:rdx.model_constants.ADD,action:null}}if(this._is_dialog_mode()){d.submit_handler_callback=new rdx.callback(this._configure_controller,this._configure_controller._do_model_operation);d.cancel_handler_callback=new rdx.callback(this,this._destroy_view)}this._form=new rdx.form(this._parent,this._view_definition.resource_properties,f,d).render();this._form.add_form_initialized_event(new rdx.callback(this,this._form_initialized));if(rdx.utils.is_defined(this._view_definition.field_dependencies)){this._field_dependencies=new rdx.dependency(this._form,this._view_definition.field_dependencies)}rdx.form_utils.prefill_form_data(this._parent,this._form,this._form,this._form._get_field_resource_response_arrived);var c=d.title;if(c==null||c==""){var e=rdx.i18n.get_string("rdx.view_configure_title_add",{obj_type:this._resource.obj_type});var b=rdx.i18n.get_string("rdx.view_configure_title_modify",{obj_type:this._resource.obj_type});c=this._form.get_form_holder().is_add_mode()?e:b}var a={minHeight:50,width:350,modal:true,resizable:false,title:c,dialogClass:"configure_view"};if(rdx.utils.is_not_defined(this._view_definition.add_to_bread_crumb)&&this._is_dialog_mode()){this._parent.dialog($.extend({},a,this._view_definition.dialog_properties))}rdx.utils.set_focus_on_first_editable_component(this._parent.get(0));this._form.finalize()};rdx.configure_view.prototype.get_resource_response_arrived=function(b){var a=rdx.utils.get_formatted_response(b);if(rdx.utils.is_not_defined(a)){return}this._form.initialize(a)};rdx.configure_view.prototype._form_initialized=function(a){if(rdx.utils.is_defined(this._field_dependencies)){this._field_dependencies.trigger_dependencies()}};rdx.configure_view.prototype._is_dialog_mode=function(){if(rdx.utils.is_not_defined(this._view_definition.view_properties.dialog_mode)){return true}return this._view_definition.view_properties.dialog_mode};rdx.configure_view.prototype.get_form=function(){return this._form};rdx.configure_view.prototype.is_dialog=function(){return this._is_dialog_mode()};rdx.configure_view.prototype._destroy_view=function(a){this._base_view.destroy_view({submit_called:rdx.utils.is_defined(a)});this._parent.dialog("close");this._parent.remove()};rdx.configure_view.prototype._is_add_mode=function(){if(rdx.utils.is_not_defined(this._view_definition.view_properties)||rdx.utils.is_not_defined(this._view_definition.view_properties.submit_operation)){return true}var a=this._view_definition.view_properties.submit_operation.method;if(rdx.utils.is_defined(a)&&a==rdx.model_constants.ADD){return true}return false};rdx.configure_controller=function(a,b){this._configure_view=a;this._parent=b};rdx.configure_controller.prototype._get_resource_for_operation=function(){return rdx.form_utils.get_resource_for_operation(this._configure_view._form,this._configure_view._resource,null)};rdx.configure_controller.prototype._do_operation=function(c,j,w,p){var m=new Array();var v=this._configure_view._resource;var h={resource_defn:v,resource_for_operation:this._get_resource_for_operation(),callback_on_success:c,callback_on_error:j,model_method:w,action:p,resource_context:{view_definition:this._configure_view._view_definition},return_call_back:new rdx.callback(this._configure_view,this._configure_view._destroy_view)};var t=new rdx.configure_view_operation_params(h);m.push(t);var a=this._configure_view.get_form();var f=a.get_embedded_views();for(var g=0;g<f.length;g++){if(rdx.utils.is_not_defined(f[g].get_component())||!rdx.utils.is_function(f[g].get_component().get_form)){continue}var s=f[g].get_component().get_form();var k=f[g].get_component().get_view();if(rdx.utils.is_defined(s)){var q=k._resource;var u=null;if(rdx.utils.is_defined(q)){u=q.parent_resource_name}if(rdx.utils.is_defined(u)&&rdx.utils.is_defined(v)&&u==v.name){var d=k._configure_controller._get_resource_for_operation();var r=m[0];var o=r.get_resource_for_operation();o[q.name]=d}else{var l={resource_defn:k._resource,resource_for_operation:k._configure_controller._get_resource_for_operation(),callback_on_success:c,callback_on_error:j,model_method:w,action:p,resource_context:{view_definition:k._view_definition}};var b=new rdx.configure_view_operation_params(l);m.push(b)}}}if(rdx.utils.is_defined(this._configure_view._view_definition.view_properties.callback_before_operation)){m=this._configure_view._view_definition.view_properties.callback_before_operation.call_back([m])}if(rdx.utils.is_defined(this._configure_view._view_definition.view_properties)&&this._configure_view._view_definition.view_properties.standalone_mode){return}var n=new rdx.model_executor_service(c,j);for(var g=0;g<m.length;g++){var t=m[g];if(rdx.utils.is_defined(t.get_resource_context())){var e=t.get_resource_context();if(rdx.utils.is_defined(e.view_definition)&&rdx.utils.is_defined(e.view_definition.view_properties)&&rdx.utils.is_defined(e.view_definition.view_properties.submit_operation)){e.timeout=e.view_definition.view_properties.submit_operation.refresh_delay}}n.add(t.get_model_method(),t.get_resource_defn(),t.get_resource_for_operation(),t.get_action(),null,this._parent,t.get_resource_context())}n.execute()};rdx.configure_controller.prototype._do_model_operation=function(){var a=rdx.view_utils.get_model_method(this._configure_view._view_definition);var b=rdx.view_utils.get_action(this._configure_view._view_definition);var c=this._configure_view._view_definition.view_properties.destroy_on_success;if(rdx.utils.is_not_defined(c)){if(a=="add"){c=false}else{c=true}}if(c==false){this._do_operation(new rdx.callback(),null,a,b)}else{this._do_operation(new rdx.callback(this._configure_view,this._configure_view._destroy_view),null,a,b)}};rdx.overview_view=function(c,b,a){this._parent=c;this._view_definition=b;this._base_view=a;this._toolbar_items=null;this._entity_count_requests=[]};rdx.overview_view.prototype.make_view=function(){var b=$(document.createElement("div")).addClass("overview_div");this._parent.append(b);this.create_top_level_border_boxes(b,this._view_definition.nodes);if(rdx.utils.is_defined(this._view_definition.common_links)){var a=$("<div>");a.addClass("overview_common_links");this.process_links(a,this._view_definition.common_links,true);b.append(a)}};rdx.overview_view.prototype.create_top_level_border_boxes=function(c,b){for(var a=0,e=b.length;a<e;a++){var d=b[a];var f=$("<table>").attr("cellSpacing",0).addClass("overview_table_border").addClass("smooth_all_corner");c.append(f);this.create_link_groups(f,d)}};rdx.overview_view.prototype.create_link_groups=function(g,f){var e=null;for(var b=0,d=f.length;b<d;b++){if(b%2==0){e=$("<tr>");g.append(e)}var c=f[b];var a=$("<td>");e.append(a);a.append(this.create_link_group(c));if(c.name&&c.name.length>0){a.addClass("overview_table_cell_non_empty")}}};rdx.overview_view.prototype.create_link_group=function(c){var b=$("<table>").addClass("overview_table_no_border");var f=$("<tr>");b.append(f);var a=$("<td>");f.append(a);img=$("<img>").attr("alt","");rdx.utils.add_image_error_handler(img);if(c.image&&c.image.length>0){img.attr("src",rdx.images.get_app_url(c.image));a.append(img)}else{a.text("")}var d=$("<td>");f.append(d);var e=$("<div>").addClass("overview_table_title_cell");e.text(rdx.i18n.get_string(c.name));d.append(e);if(c.name&&c.name.length>0){this.process_links(d,c.links)}return b};rdx.overview_view.prototype.process_links=function(l,s,r){var c;for(var h=0,j=s.length;h<j;h++){if(!s[h]){continue}var n=s[h];var g=(r)?$("<span>"):$("<div>");l.append(g);var a=n.title;if(!a){if(n.entitytype){a=n.entitytype}else{a='<img src="'+rdx.images.BULLET_BALL_RED_IMG+'"/> No Data'}}if(rdx.utils.is_defined(n.image)){var k=$("<img>").attr("src",rdx.images.get_app_url(n.image)).addClass("overview_link_img");rdx.utils.add_image_error_handler(k);g.append(k)}if(n.entitytype){entity_types=n.entitytype.split("^");var f=false;var p;if(entity_types.length==1){p=rdx.utils.get_resource(n.entitytype)}else{f=true;p=rdx.utils.get_resource(n.entitytype.replace(/\^/g,"_"))}count_img_cell=$(document.createElement("img")).attr("src",rdx.images.IN_PROGRESS_IMG).addClass("overview_link_img");rdx.utils.add_image_error_handler(count_img_cell);g.append(count_img_cell);c=$(document.createElement("a")).attr("href","#noAnchor").attr("title","Click to open").append(" "+p.obj_type);if(f){for(var e=0;e<entity_types.length;e++){var q=rdx.utils.get_resource(entity_types[e]);var b={html_text:c,resrc:q,success_callback:new rdx.callback(this,this._get_entity_count_response_arrived,[q.name,c,p,count_img_cell,true]),dom_object:this._parent,error_callback:new rdx.callback(this,this._get_entity_count_response_arrived,[q.name,c,p,count_img_cell,false])};rdx.model.get_count(b.resrc,null,b.success_callback,b.dom_object,b.error_callback);this._entity_count_requests.push(b)}}else{var b={html_text:c,resrc:p,success_callback:new rdx.callback(this,this._get_entity_count_response_arrived,[p.name,c,p,count_img_cell,true]),dom_object:this._parent,error_callback:new rdx.callback(this,this._get_entity_count_response_arrived,[p.name,c,p,count_img_cell,false])};rdx.model.get_count(b.resrc,null,b.success_callback,b.dom_object,b.error_callback);this._entity_count_requests.push(b)}c.bind(rdx.events.CLICK,{link:n},function(u){var m=rdx.get_tree();if(rdx.utils.is_defined(m)){if(rdx.utils.is_defined(u.data.link.tree_node_path)){var t=m.get_node(u.data.link.tree_node_path);if(rdx.utils.is_defined(t)){rdx.view_utils.add_dynamic_view_properties(t.data.ns_view_definition,u.data.link)}m.select_node(u.data.link.tree_node_path)}else{if(rdx.utils.is_defined(u.data.link.view)&&rdx.utils.is_defined(u.data.link.view.__tree_key)){rdx.view_utils.add_dynamic_view_properties(u.data.link.view,u.data.link);m.select_node(u.data.link.view.__tree_key)}}}})}else{if(n.click_handler_callback){c=$(document.createElement("a")).attr("href","#noAnchor").attr("title","Click to open").append(a);c.html(rdx.i18n.get_string(a));g.addClass("overview_link_without_img");c.bind(rdx.events.CLICK,{ns_click_handler_callback:n.click_handler_callback},function(m){m.data.ns_click_handler_callback.call_back()})}else{if(n.view){c=$(document.createElement("a")).attr("href","#noAnchor").attr("title","Click to open").append(a);c.html(rdx.i18n.get_string(a));var d=null;if(typeof(n.view)=="string"){d=rdx.utils.get_view(n.view)}else{d=n.view}g.addClass("overview_link_without_img");c.bind(rdx.events.CLICK,{view_definition:d,overview_view:this,link:n},function(u){var m=rdx.get_tree();rdx.view_utils.add_dynamic_view_properties(u.data.view_definition,u.data.link);if(rdx.utils.is_defined(m)&&rdx.utils.is_defined(d.__tree_key)){m.select_node(d.__tree_key)}else{var t=new rdx.view_context();if(rdx.utils.is_defined(n.view_context)){t.set_url_params(n.view_context)}new rdx.base_view(u.data.overview_view._base_view._parent,u.data.view_definition,t).prepare_view()}})}else{if(n.link){var o=new rdx.link(n.link);c=$("<a>").attr("href","#noAnchor").attr("title","Click to open").append(a);c.bind(rdx.events.CLICK,{link_defn:o},function(m){m.data.link_defn.fire()});g.addClass("overview_link_without_img")}else{c=$(document.createElement("div")).html(a);g.addClass("overview_link_without_img")}}}}if(n.class_name){g.addClass(n.class_name)}g.append(c)}};rdx.overview_view.prototype.is_tool_bar_required=function(){return true};rdx.overview_view.prototype.is_action_bar_required=function(){return false};rdx.overview_view.prototype._add_tool_bar=function(){var a=[new rdx.action({label:"Refresh",image_url:rdx.images.REFRESH_IMG,click_handler_callback:new rdx.callback(this,this._refresh_view)})];this._toolbar_items=a};rdx.overview_view.prototype.get_toolbar_items=function(){if(rdx.utils.is_defined(this._toolbar_items)){return this._toolbar_items}this._add_tool_bar();return this._toolbar_items};rdx.overview_view.prototype._refresh_view=function(){for(var c=0,b=this._entity_count_requests.length;c<b;c++){var a=this._entity_count_requests[c];a.html_text.text(" "+a.resrc.obj_type)}for(var c=0,b=this._entity_count_requests.length;c<b;c++){var a=this._entity_count_requests[c];rdx.model.get_count(a.resrc,null,a.success_callback,a.dom_object,a.error_callback)}};rdx.overview_view.prototype._get_entity_count_response_arrived=function(l,q,d,o,m,a){if(o.image_url){if(o.image_url.indexOf("+")>0){o.image_url=o.image_url.substring(0,o.image_url.indexOf("+"))}m.attr("src",rdx.images.get_app_url(o.image_url))}else{m.attr("src",rdx.images.BULLET_BALL_GREY_IMG)}if(a){var h=l;var e=o.obj_type;var c=d.html().match(/(?:<b>)?(.+?)(?:\<)/i);var k;if(d.html().indexOf(" ")==0){k=h}else{if(d.html().indexOf("<b>No</b>")==0){k=h}else{k=parseInt(c[1])+parseInt(h)}}if(k==0){k="No"}try{var g=parseInt(k);if(g>1){var b=e;var n=b.charAt(b.length-1);var p=b.charAt(b.length-2);var j=["a","e","i","o","u"];if(n=="y"&&$.inArray(p,j)==-1){b=b.substring(0,b.length-1);b+="ies"}else{if(n=="x"){b+="es"}else{b+="s"}}e=b}}catch(f){}d.html("<b>"+k+"</b> "+e)}else{d.replaceWith(o.obj_type+":"+l)}};rdx.tabbed_view=function(b,a){this._parent=b;this._view_definition=a;this._title_div=null;this._tabs_div=null;this._view_div=null;this._view_definition.container_view=true;this._tab_items_container=new Object()};rdx.tabbed_view.prototype.make_view=function(){if(rdx.utils.is_not_defined(rdx.global_navigation_bar)){this._title_div=$(document.createElement("div"));this._parent.append(this._title_div)}this._tabs_div=$(document.createElement("div"));this._tabs_div.addClass("tabs");this._parent.append(this._tabs_div);this._view_div=$(document.createElement("div"));this._parent.append(this._view_div);var f;var j;for(var e=0,l=this._view_definition.tabs.length;e<l;e++){var a=this._view_definition.tabs[e];var d=a.view;d=$.extend({},d);d.view_properties=$.extend({},d.view_properties);var h="Tab "+e;if(a.title){h=a.title}else{if(d.view_properties.title){h=d.view_properties.title}}d.add_to_bread_crumb=true;d.view_properties.title=h;var m=$(document.createElement("li"));this._tab_items_container[h]={tabbed_view:this,li:m,view_definition:d};if(e==0){f=h}h=rdx.i18n.get_string(h);this._tabs_div.append(m);var c=$(document.createElement("a")).attr("href","#noAnchor").attr("title",h);m.append(c);c.append($(document.createElement("span")).text(h));m.bind(rdx.events.CLICK,{tabbed_view:this,a1:m,a2:d},function(k){k.data.tabbed_view._tab_clicked(k.data.a1,k.data.a2)})}var g=rdx.view_utils.get_dynamic_view_properties(this._view_definition);if(rdx.utils.is_defined(g)&&rdx.utils.is_defined(g.default_tab)&&rdx.utils.is_defined(this._tab_items_container[g.default_tab])){f=this._view_definition.view_properties[rdx.view_constants.DYNAMIC_VIEW_PROPERTIES]["default_tab"]}this._tab_clicked(this._tab_items_container[f].li,this._tab_items_container[f].view_definition);this.resize_view();var b=this._tabs_div.children(".current_tabs");if(b.length>0){b.data("ns_view").resize_view()}};rdx.tabbed_view.prototype._tab_clicked=function(b,c){var d=this._tabs_div.children(".current_tabs");if(d.length>0){d.data("ns_view").destroy_view();d.data("ns_view",null);d.removeClass("current_tabs");this._view_div.children().remove()}b.addClass("current_tabs");var a=new rdx.base_view(this._view_div,c);a.prepare_view();if(rdx.utils.is_defined(this._title_div)){this._title_div.children().remove();if(rdx.utils.is_function(a.get_view().get_tool_bar)&&rdx.utils.is_defined(a.get_view().get_tool_bar())){this._title_div.append(a.get_view().get_tool_bar().removeClass("tool_bar_table_no_border"))}}b.data("ns_view",a)};rdx.tabbed_view.prototype.resize_view=function(){var a=this._parent.outerHeight(true)-this._tabs_div.outerHeight(true)-((rdx.utils.is_defined(this._title_div))?this._title_div.outerHeight(true):0);rdx.utils.set_height(this._view_div,(a-1))};rdx.url_view=function(c,b,a){this._parent=c;this._view_definition=b;this._base_view=a};rdx.url_view.prototype.make_view=function(){var b=this._view_definition.url;var a=this._base_view.get_view_context();if(rdx.utils.is_defined(a)){b=rdx.url_utils.get_url(this._view_definition.url,a.get_url_params())}var c=$(document.createElement("iframe")).attr("src",b).attr("frameborder",0).addClass("iframe");if(rdx.utils.is_defined(this._view_definition.view_properties)){if(rdx.utils.is_defined(this._view_definition.view_properties.class_names)){c.addClass(this._view_definition.view_properties.class_names)}}if(rdx.utils.is_defined(this._view_definition.height)){c.height(this._view_definition.height)}this._parent.append(c)};rdx.chart_view=function(l,c,e){this._parent=l;this._view_definition=c;this._resource=e;var k=$.extend({},this._view_definition.view_properties);if(typeof(k.x_axis_label_spacing)=="undefined"){k.x_axis_label_spacing=150}this._series=new Array();var d=typeof(k.secondary_y_axis)=="undefined"?null:k.secondary_y_axis;var j=0;for(var h in this._view_definition.resource_properties){var m=this._view_definition.resource_properties[h];var b=(typeof(m.percentage_axis)=="undefined"?false:m.percentage_axis);var f={name:rdx.i18n.get_string(this._resource.properties[h].label),percentage_axis:b,data:[]};var a=k.type;var g=(typeof(m.type)=="undefined"?null:m.type);if(g!=null){f.type=g;a=g}if(a==rdx.chart_constants.AREA||a==rdx.chart_constants.STACKED_AREA||a==rdx.chart_constants.AREA_SPLINE||a==rdx.chart_constants.STACKED_AREA_SPLINE){f.data.push({y:0,x:new Date().getTime()})}if(d!=null&&k.type!=rdx.chart_constants.PIE){if(d==h){k.secondary_y_axis=j}}this._series.push(f);j++;if(k.type==rdx.chart_constants.PIE){break}}this._chart=new rdx.chart(this._parent,k)};rdx.chart_view.prototype.make_view=function(){this._chart.render(this._series)};rdx.chart_view.prototype.get_resource_response_arrived=function(h){var c=rdx.utils.is_array(h)?h[0]:h;if(typeof(c)=="undefined"){return}var f=new Array();var j=new Date().getTime();for(var g in this._view_definition.resource_properties){var b=this._resource.properties[g].label;var k=new Object();k.name=b;if(this._view_definition.view_properties.type!=rdx.chart_constants.PIE){k.x=j}var a=this._view_definition.resource_properties[g].formatter_callback;if(typeof(a)!="undefined"){k.y=a.call_back([c])}else{k.y=parseFloat(c[g])}f.push(k)}if(f.length>0){if(this._view_definition.view_properties.type!=rdx.chart_constants.PIE){this._chart.add_points(f)}else{var e=new Object();e.data=f;var d=new Array();d.push(e);this._chart.set_data(d)}}};rdx.chart_view.prototype.resize_view=function(){this._chart.set_size()};rdx.composite_view=function(c,b,a){this._parent=c;this._view_definition=b;this._DEFAULT_VIEW_PROPERTIES={layout:rdx.view_constants.GRID_LAYOUT};this._toolbar_items=null;this._container=null;this._table=null;this._view_properties=$.extend({},this._DEFAULT_VIEW_PROPERTIES,b.view_properties);this._views=new Array();this._base_view=a;this._views_table=null};rdx.composite_view.prototype.make_view=function(){switch(this._view_properties.layout){case rdx.view_constants.GRID_LAYOUT:this._make_grid_view();break}};rdx.composite_view.prototype._add_tool_bar=function(){var a=[new rdx.action({label:"rdx.refresh",tooltip:rdx.i18n.get_string("rdx.refresh"),image_url:rdx.images.REFRESH_IMG,click_handler_callback:new rdx.callback(this,this._refresh_view)})];this._toolbar_items=a};rdx.composite_view.prototype._add_action_bar=function(){this._action_properties=rdx.view_utils.get_action_bar_items(this._view_definition,this._base_view._parent)};rdx.composite_view.prototype.get_toolbar_items=function(){if(rdx.utils.is_defined(this._toolbar_items)){return this._toolbar_items}this._add_tool_bar();return this._toolbar_items};rdx.composite_view.prototype.get_action_items=function(){if(rdx.utils.is_defined(this._action_properties)){return this._action_properties}this._add_action_bar();return this._action_properties};rdx.composite_view.prototype.is_tool_bar_required=function(){return true};rdx.composite_view.prototype.is_action_bar_required=function(){return rdx.utils.is_defined(this._view_definition.resource_operations)};rdx.composite_view.prototype.get_tool_bar=function(){return this._base_view.get_toolbar()};rdx.composite_view.prototype._make_grid_view=function(){var f=0;var m=0;for(var e in this._view_definition.views){var j=this._view_definition.views[e];var h=j.row_index;var d=j.column_index;var n=j.row_span;var k=j.column_span;var g=h+1+(rdx.utils.is_defined(n)?(n-1):0);if(f<g){f=g}var c=d+1+(rdx.utils.is_defined(k)?(k-1):0);if(m<c){m=c}}var b=rdx.utils.create_2D_array(f,m);for(var e in this._view_definition.views){var j=this._view_definition.views[e];b[j.row_index][j.column_index]=e}this._views_table=b;var a=null;var l=null;if(this._container==null){l=$("<table>").addClass("composite_view");a=$("<div>");a.append(l);a.addClass("composite_view_container");if(this.is_action_bar_required()){a.addClass("composite_view_container_separator")}this._container=a;this._table=l}this._render_views(b);this._parent.append(a)};rdx.composite_view.prototype._render_views=function(a,d){for(var f=0;f<a.length;f++){var n=$("<tr>");for(var c=0,g=a[f].length;c<g;c++){var e=a[f][c];if(rdx.utils.is_not_defined(e)){continue}var h=this._view_definition.views[e];var m=h.row_span;var j=h.column_span;var k=$("<td>").addClass("composite_view_cell").addClass("smooth_all_corner");var b=rdx.utils.get_view(e);if(rdx.utils.is_defined(b.view_properties)&&rdx.utils.is_defined(b.view_properties.title)){b=$.extend({},b);b.view_properties=$.extend({},b.view_properties);b.view_properties._dont_show_title=true;k.append($("<div>").addClass("composite_view_title").append(b.view_properties.title))}if(rdx.utils.is_defined(m)){k.attr("rowspan",m)}if(rdx.utils.is_defined(j)){k.attr("colspan",j)}var l=new rdx.base_view(k,b);l.prepare_view();this._views.push(l);n.append(k)}this._table.append(n)}};rdx.composite_view.prototype.resize_view=function(){if(!this.is_action_bar_required()&&!this.is_tool_bar_required()){return}var b=this._base_view.get_toolbar_height();var d=this._base_view.get_action_bar_height();var a=this._parent.outerHeight(true)-b-d+rdx.view_constants.PADDING_HEIGHT;if(a>=0){this._container.height(a)}for(var c=0;c<this._views.length;c++){this._views[c].resize_view()}};rdx.composite_view.prototype.destroy_view=function(){for(var a=0;a<this._views.length;a++){this._views[a].destroy_view()}};rdx.composite_view.prototype._refresh_view=function(){this._table.empty();this._render_views(this._views_table);this.resize_view()};rdx.wizard_view=function(b,a,c){if(rdx.utils.is_not_defined(a.view_properties)){a.view_properties={}}this._parent=$(document.createElement("div"));this._view_definition=a;this._view_properties=this._view_definition.view_properties;this._resource_map=null;this._wizard=new rdx.wizard(this._parent,a,c);this._wizard_controller=new rdx.wizard_controller(this,this._parent);this._wizard.add_submit_handler_callback(new rdx.callback(this._wizard_controller,this._wizard_controller.submit_changes));this._wizard.add_resource_data_fetch_callback(new rdx.callback(this._wizard_controller,this._wizard_controller.get_resource_data));this._wizard_save_complete=false};rdx.wizard_view.prototype.make_view=function(){var a=rdx.utils.is_defined(this._view_definition.dialog_properties)?this._view_definition.dialog_properties:{};this._wizard.render(a);this._wizard_controller.initialize();this._initialize_form_fields()};rdx.wizard_view.prototype._initialize_form_fields=function(){var a=this._wizard.get_pages_info();for(var b in a){var c=a[b].get_form();c.add_form_initialized_event(new rdx.callback(this,this._form_initialized));rdx.form_utils.prefill_form_data(this._parent,c,c,c._get_field_resource_response_arrived)}};rdx.wizard_view.prototype.get_resource_response_arrived=function(c){var b=rdx.utils.is_array(c)?c[0]:c;var a=rdx.utils.is_not_defined(this._view_definition.view_properties.fetch_data)?false:this._view_definition.view_properties.fetch_data;if(rdx.utils.is_not_defined(b)&&!a){return}if(rdx.utils.is_defined(b)){var f=this._get_resource_map()[this._view_definition.resource_name].pages;this._get_resource_map()[this._view_definition.resource_name].response=b;for(var d=0;d<f.length;d++){var e=f[d];e.get_form().initialize(b);e.set_original_resource_data(b)}}else{if(a){this._fetch_data_for_every_view()}}};rdx.wizard_view.prototype._fetch_data_for_every_view=function(){var a=this._get_resource_map();for(var c in a){var b=a[c].resource;if(this._is_add_mode(a[c].pages)){continue}rdx.model.get_all(b,null,new rdx.callback(this,this._handle_response,[c]),this._parent)}};rdx.wizard_view.prototype._is_add_mode=function(d){for(var c=0;c<d.length;c++){var b=d[c].get_view();var a=rdx.view_utils.get_model_method(b);if(a==rdx.model_constants.ADD){return true}}return false};rdx.wizard_view.prototype._handle_response=function(b,f){var e=this._get_resource_map()[f].pages;var a=rdx.utils.get_formatted_response(b[f]);for(var c=0;c<e.length;c++){var d=e[c];d.get_form().initialize(a);d.set_original_resource_data(a)}};rdx.wizard_view.prototype.get_wizard=function(){return this._wizard};rdx.wizard_view.prototype.get_view_properties=function(){return this._view_properties};rdx.wizard_view.prototype.on_success=function(a){this._wizard.set_save_complete(a)};rdx.wizard_view.prototype._destroy_view=function(){this._wizard.close()};rdx.wizard_view.prototype._get_resource_map=function(){return this._wizard_controller.get_resource_map()};rdx.wizard_view.prototype._form_initialized=function(a){};rdx.wizard_controller=function(a,b){this._wizard_view=a;this._parent=b;this._resource_map=null};rdx.wizard_controller.prototype.initialize=function(){this._initialize_resource_map()};rdx.wizard_controller.prototype.submit_changes=function(){var m=new rdx.model_executor_service(new rdx.callback(this._wizard_view,this._wizard_view.on_success),new rdx.callback(this,this._on_failure));var a=this.get_resource_map();for(var q in a){var n=null;var b=rdx.utils.get_resource(q);for(var j in a[q].pages){var f=a[q].pages[j];var c=f.get_form();n=rdx.form_utils.get_resource_for_operation(c,f.get_resource(),n);var g=c.get_embedded_views();var r=new Array();for(var j=0;j<g.length;j++){if(rdx.utils.is_not_defined(g[j].get_component())||!rdx.utils.is_function(g[j].get_component().get_form)){continue}var s=g[j].get_component().get_form();var k=g[j].get_component().get_view();if(rdx.utils.is_defined(s)){var p=k._resource;var t=null;if(rdx.utils.is_defined(p)){t=p.parent_resource_name}if(rdx.utils.is_defined(t)&&rdx.utils.is_defined(resource_defn)&&t==resource_defn.name){var e=k._configure_controller._get_resource_for_operation();n[p.name]=e}else{var u=rdx.view_utils.get_model_method(k);var o=rdx.view_utils.get_action(k);var l={resource_defn:k._resource,resource_for_operation:k._configure_controller._get_resource_for_operation(),model_method:u,action:o,resource_context:{view_definition:k._view_definition}};var d=new rdx.configure_view_operation_params(l);r.push(d)}}}}if(rdx.utils.is_defined(f.get_callback_before_operation())){f.get_callback_before_operation().call_back([q,n,r])}var k=f.get_view();var u=rdx.view_utils.get_model_method(k);var o=rdx.view_utils.get_action(k);f.set_modified_resource_data(n);m.add(u,b,n,o,null,this._parent,{view_definition:this._wizard_view._view_definition});for(var j=0;j<r.length;j++){var h=r[j];var k=h.get_resource_context();var u=rdx.view_utils.get_model_method(k.view_definition);m.add(u,h.get_resource_defn(),h.get_resource_for_operation(),h.get_action(),null,this._parent,h.get_resource_context())}}m.execute()};rdx.wizard_controller.prototype.get_resource_data=function(){var f={};var g=this.get_resource_map();for(var a in g){var l=null;var d=rdx.utils.get_resource(a);f[a]=new Object();for(var j in g[a].pages){var k=g[a].pages[j];l=rdx.form_utils.get_resource_for_operation(k.get_form(),k.get_resource(),l,k.get_view().view_properties);f[a][rdx.wizard_constants.ORIGINAL]=k.get_original_resource_data();var p=k.get_form().get_embedded_views();var o=new Array();for(var j=0;j<p.length;j++){if(rdx.utils.is_not_defined(p[j].get_component())||!rdx.utils.is_function(p[j].get_component().get_form)){continue}var q=p[j].get_component().get_form();var m=p[j].get_component().get_view();if(rdx.utils.is_defined(q)){var c=rdx.view_utils.get_model_method(m);var e=rdx.view_utils.get_action(m);var h={resource_defn:m._resource,resource_for_operation:m._configure_controller._get_resource_for_operation(),model_method:c,action:e,resource_context:{view_definition:m._view_definition}};var b=new rdx.configure_view_operation_params(h);var n=new Object();n[m._resource.name]=b;o.push(n)}}}f[a][rdx.wizard_constants.MODIFIED]=l;if(o.length>0){f[a][rdx.wizard_constants.MODIFIED_CHILDREN]=o}}return f};rdx.wizard_controller.prototype._on_failure=function(d){var c=d.get_error_resource();var b=d.get_error_message();var a=parseInt(this.get_resource_map()[c.name].page_index);this._wizard_view.get_wizard().goto_page(a)};rdx.wizard_controller.prototype._initialize_resource_map=function(){var b=new Object();var a=this._get_wizard_view().get_wizard().get_pages_info();for(var c in a){if(rdx.utils.is_not_defined(b[a[c].get_resource_name()])){var d=new Array();d.push(a[c]);b[a[c].get_resource_name()]={page_index:c,response:null,pages:d,resource:a[c].get_resource()}}else{b[a[c].get_resource_name()].pages.push(a[c])}}this._resource_map=b};rdx.wizard_controller.prototype.get_resource_map=function(){return this._resource_map};rdx.wizard_controller.prototype._get_wizard_view=function(){return this._wizard_view};rdx.view_renderers=new function(){this._state_up_values=["up","running","enabled","clear","finished","success","completed","active"];this._state_down_values=["down","halted","critical","failed"];this._state_outofservice_values=["out of service","disabled","minor","in progress"];this._state_major_values=["major"];this._state_warning_values=["warning"];this._state_information_values=["information"];this.state_renderer=function(c,d,f){if(rdx.utils.is_not_defined(c[d])){return c[d]}var h=c[d];var g=h.toLowerCase();var b=null;if($.inArray(g,rdx.view_renderers._state_up_values)>=0){b=rdx.images.GREEN_IMG}else{if($.inArray(g,rdx.view_renderers._state_down_values)>=0){b=rdx.images.RED_IMG}else{if($.inArray(g,rdx.view_renderers._state_outofservice_values)>=0){b=rdx.images.YELLOW_DOWN_IMG}else{if($.inArray(g,rdx.view_renderers._state_major_values)>=0){b=rdx.images.MAJOR_IMG}else{if($.inArray(g,rdx.view_renderers._state_warning_values)>=0){b=rdx.images.YELLOW_IMG}else{if($.inArray(g,rdx.view_renderers._state_information_values)>=0){b=rdx.images.INFORMATION_IMG}}}}}}if(b==null){return h}var a=$(document.createElement("img")).attr("src",b);var e=$(document.createElement("span")).append(h);if(f){a.attr("title",h);e.css("display","none")}else{a.addClass("right")}return a.after(e)};this.add_state_up_value=function(a){rdx.view_renderers._state_up_values.push(a)};this.add_state_down_value=function(a){rdx.view_renderers._state_down_values.push(a)};this.add_state_outofservice_value=function(a){rdx.view_renderers._state_outofservice_values.push(a)};this.add_state_major_value=function(a){rdx.view_renderers._state_major_values.push(a)};this.add_state_warning_value=function(a){rdx.view_renderers._state_warning_values.push(a)};this.add_state_information_value=function(a){rdx.view_renderers._state_information_values.push(a)};this.link_renderer=function(b,c,e){if(rdx.utils.is_not_defined(b[c])){return b[c]}var d=b[c];var a=rdx.utils.is_defined(e)?rdx.i18n.get_string(e):rdx.i18n.get_string("rdx.view_render_open_link_text");return $(document.createElement("a")).attr("href","http://"+d).attr("title",a).attr("target",d.replace(/\./g,"_")).append(d).bind(rdx.events.CLICK,function(f){f.stopPropagation()})};this.bar_chart_renderer=function(a,b){if(rdx.utils.is_not_defined(a[b])){return a[b]}return new rdx.bar_chart(null,{value:a[b]}).render()};this.size_in_bytes_renderer=function(a,b){return value=rdx.view_formatters.size_in_bytes_formatter(a,b)};this.seconds_to_date_string_renderer=function(a,b){return value=rdx.view_renderers.date_string_renderer(a,b,rdx.view_formatters.SECOND)};this.date_string_renderer=function(a,c,b){return value=rdx.view_formatters.date_string_formatter(a,c,b)};this.onoff_renderer=function(a,b){return value=rdx.view_formatters.onoff_formatter(a,b)};this.seconds_to_day_hour_min_sec_renderer=function(a,b,c){return rdx.view_formatters.seconds_to_day_hour_min_sec_formatter(a,b,c)};this.trimmed_url_renderer=function(a,b){return value=rdx.view_formatters.trimmed_url_formatter(a,b)}};rdx.view_formatters=new function(){this.GIGA_BYTES="GB";this.MEGA_BYTES="MB";this.KILO_BYTES="KB";this.BYTES="bytes";this.GBPS="gbps";this.MBPS="mbps";this.KBPS="kbps";this.BPS="bps";this.MILLI_SECOND="milli_second";this.SECOND="second";this.MINUTE="minute";this.HOUR="hour";this.KILO_BYTES_VALUE=1024;this.MEGA_BYTES_VALUE=this.KILO_BYTES_VALUE*1024;this.GIGA_BYTES_VALUE=this.MEGA_BYTES_VALUE*1024;this.MICRO_SECOND_UNIT="\u00B5s";this.MILLI_SECOND_UNIT="ms";this.SECOND_UNIT="s";this.list_formatter=function(b,f,e){if(rdx.utils.is_not_defined(e)){e=new Array()}if(!rdx.utils.is_array(b)){return b}var a=[];for(var d=0,c=b.length;d<c;d++){var g=b[d][f];if($.inArray(g,e)==-1){a.push(g)}}return a.sort()};this.size_in_bytes_formatter=function(c,d){if(rdx.utils.is_not_defined(c[d])){return c[d]}var g=c[d];var e=g;var f=rdx.view_formatters.BYTES;var a=g/(rdx.view_formatters.GIGA_BYTES_VALUE);if(a>=1){e=a;f=rdx.view_formatters.GIGA_BYTES}else{var b=g/(rdx.view_formatters.MEGA_BYTES_VALUE);if(b>=1){e=b;f=rdx.view_formatters.MEGA_BYTES}else{var h=g/rdx.view_formatters.KILO_BYTES_VALUE;if(h>=1){e=h;f=rdx.view_formatters.KILO_BYTES}}}if(e==1){f=f.replace(/s$/,"")}return rdx.view_formatters.decimal_formatter({decimal_formatter:e},"decimal_formatter")+" "+rdx.i18n.get_string("rdx.view_format_units_"+f)};this.bytes_converter=function(a,b,d){if(rdx.utils.is_not_defined(a[b])){return a[b]}var e=parseFloat(a[b]);var c=e;switch(d){case rdx.view_formatters.GIGA_BYTES:c=e/(rdx.view_formatters.GIGA_BYTES_VALUE);break;case rdx.view_formatters.MEGA_BYTES:c=e/(rdx.view_formatters.MEGA_BYTES_VALUE);break;case rdx.view_formatters.KILO_BYTES:c=e/rdx.view_formatters.KILO_BYTES_VALUE;break;default:c=e}return rdx.view_formatters.decimal_formatter({decimal_formatter:c},"decimal_formatter")};this.convert_to_bytes=function(a,b,d){if(rdx.utils.is_not_defined(a[b])){return a[b]}var e=parseFloat(a[b]);var c=e;switch(d){case rdx.view_formatters.GIGA_BYTES:c=e*(rdx.view_formatters.GIGA_BYTES_VALUE);break;case rdx.view_formatters.MEGA_BYTES:c=e*(rdx.view_formatters.MEGA_BYTES_VALUE);break;case rdx.view_formatters.KILO_BYTES:c=e*rdx.view_formatters.KILO_BYTES_VALUE;break;default:c=e}return c+""};this.decimal_formatter=function(a,b){if(rdx.utils.is_not_defined(a[b])){return a[b]}var c=a[b];if((""+c).indexOf(rdx.i18n.get_decimal_separator())>=0){c=new Number(c).toFixed(2);if((""+c).indexOf(rdx.i18n.get_decimal_separator()+"00")>0){c=Math.round(c)}}return c};this.seconds_to_date_string_formatter=function(a,b){return this.date_string_formatter(a,b,rdx.view_formatters.SECOND)};this.date_string_formatter=function(b,e,c){if(rdx.utils.is_not_defined(b[e])||b[e]==""){return b[e]}var d=parseInt(b[e]);if(d<0){return""}if(rdx.utils.is_not_defined(c)){c=rdx.view_formatters.SECOND}switch(c){case rdx.view_formatters.SECOND:d=d*1000;break;default:d=d}var a=new Date(d);return a.toGMTString()};this.seconds_to_day_hour_min_sec_formatter=function(d,j,f){if(rdx.utils.is_not_defined(d[j])){return d[j]}var h=d[j];if(rdx.utils.is_not_defined(f)){f=rdx.view_formatters.SECOND}var g=h;if(f==rdx.view_formatters.MILLI_SECOND){g=h/1000}else{if(f==rdx.view_formatters.MINUTE){g=h*60}else{if(f==rdx.view_formatters.HOUR){g=h*60*60}}}var c=Math.floor(g/86400);var a=Math.floor((g%86400)/3600);var e=Math.floor(((g%86400)%3600)/60);var b=Math.floor(((g%86400)%3600)%60);var k="";if(c>0){k+=c+rdx.i18n.get_string("rdx.formatter_day_separator")+" "}if(a>0){k+=a+rdx.i18n.get_string("rdx.formatter_hour_separator")+" "}k+=e+rdx.i18n.get_string("rdx.formatter_mininute_separator")+" ";k+=b+rdx.i18n.get_string("rdx.formatter_second_separator");return k};this.onoff_formatter=function(a,b){if(rdx.utils.is_not_defined(a[b])){return a[b]}var c=a[b];if(c=="true"){return rdx.i18n.get_string("rdx.on_status")}return rdx.i18n.get_string("rdx.off_status")};this.yesno_formatter=function(a,b){if(rdx.utils.is_not_defined(a[b])){return a[b]}var c=a[b];if(c){return rdx.i18n.get_string("rdx.yes")}return rdx.i18n.get_string("rdx.no")};this.yesno_for_enable_disable_formatter=function(a,b){if(rdx.utils.is_not_defined(a[b])){return a[b]}var c=a[b];if(rdx.utils.is_defined(c)){if(c=="ENABLED"||c=="YES"){return rdx.i18n.get_string("rdx.yes")}}return rdx.i18n.get_string("rdx.no")};this.trimmed_url_formatter=function(c,d){if(rdx.utils.is_not_defined(c[d])){return c[d]}var b,e=c[d];var a=e.lastIndexOf("/");var f=e.indexOf("?");if(f!=-1||a!=-1){if(f!=-1){b=e.substring(a==-1?0:a,f)}else{b=e.substring(a==-1?0:a)}}else{b=e}return b};this.time_from_to_formatter=function(d,e,b,c){if(rdx.utils.is_not_defined(d[e])||rdx.utils.is_num(d[e])){return d[e]}try{var h=parseInt(d[e]);var g=h;if(rdx.utils.is_defined(b,c)){if(b!=c){var a=c;switch(b+"->"+c){case rdx.view_formatters.MICRO_SECOND_UNIT+"->"+rdx.view_formatters.MILLI_SECOND_UNIT:g=g/1000;break;case rdx.view_formatters.MICRO_SECOND_UNIT+"->"+rdx.view_formatters.SECOND_UNIT:g=g/1000000;break;case rdx.view_formatters.MILLI_SECOND_UNIT+"->"+rdx.view_formatters.MICRO_SECOND_UNIT:g=g*1000;break;case rdx.view_formatters.MILLI_SECOND_UNIT+"->"+rdx.view_formatters.SECOND_UNIT:g=g/1000;break;case rdx.view_formatters.SECOND_UNIT+"->"+rdx.view_formatters.MILLI_SECOND_UNIT:g=g*1000;break;case rdx.view_formatters.SECOND_UNIT+"->"+rdx.view_formatters.SECOND_UNIT:g=g*1000000;break;default:a=b;break}g=g+" "+a}else{g=g+" "+b}}}catch(f){}return g}};rdx.page._resize=function(){if(!this._header){return}var b=$(window).width();var c=$(window).height();var e=this._header.height();var d=this._footer.height();var f=this._status_bar?this._status_bar.css("bottom",d+"px").height():0;var a=this._status_bar?this._status_bar.css("width",b-50+"px"):0;this._content.width(b-54).height(c-e-f-d-20).css("top",e);this._trigger_event(rdx.events.PAGE_RESIZED)};rdx.page.add_footer=function(){var d=$(document.createElement("a")).attr("href","http://www.citrix.com/netscaler").attr("target","PRODUCT_LINK").append("Citrix Systems, Inc.");var c=$(document.createElement("div")).addClass("ns_footer_left");var b=$(document.createElement("div")).addClass("ns_footer_right");var a=$(document.createElement("div")).addClass("ns_footer_center").append(rdx.i18n.get_string("rdx.page_footer_copyright")).append(" ").append(d).append(" ").append(rdx.i18n.get_string("rdx.page_footer_rights"));this._footer=$(document.createElement("div")).addClass("ns_footer");this._footer.append(c).append(a).append(b);return this._footer};rdx.view_constants.VIEW_TOOLBAR_PADDING=0;rdx.view_constants.PADDING_HEIGHT=rdx.utils.is_ie()||rdx.utils.is_chrome_safari()?-1:-1;rdx.base_view.prototype.get_top_tool_bar_properties=function(){return{spacing:0,align:"right",add_separator:true,add_scroller:false,add_images:false}};rdx.images._initialize_rainmaker=function(){var a=rdx.FRAMEWORK_BASE+"/rdx/core/images/";rdx.images.ADOBE_IMG=a+"adobe.png";rdx.images.BLOCK_DOC_IMG=a+"block_document.png";rdx.images.CHART_DOC_IMG=a+"chart_document.png";rdx.images.DOC_ICON_IMG=a+"doc_icon.png";rdx.images.DOC_IMG=a+"document.png";rdx.images.GRAPH_DOC_IMG=a+"graph_document.png";rdx.images.SPIRAL_DOC_IMG=a+"spiral_document.png";rdx.images.PDF_IMG=a+"pdf_icon.png";rdx.images.SORT_ASCENDING_IMG=a+"sort_az_ascending.png";rdx.images.SORT_DESCENDING_IMG=a+"sort_az_descending.png";rdx.images.GREEN_IMG=a+"nav_up_green.png";rdx.images.ED_IMG=a+"nav_down_red.png";rdx.images.YELLOW_DOWN_IMG=a+"nav_down_yellow.png";rdx.images.RIBBON_LEFT_IMG=a+"left_arrow.png";rdx.images.RIBBON_RIGHT_IMG=a+"right_arrow.png"};rdx.page.add_event_handler(rdx.events.APP_LOADED,new rdx.callback(rdx.images,rdx.images._initialize_rainmaker));rdx.chart_constants.BACKGROUND_COLOR="#FFF";rdx.header_view=function(b,a,c){this._parent=b;this._view_definition=a;this._resource=c;this._MAX_NO_OF_CHARS_IN_WELCOME_TEXT=50;this._logout_url=null;this._brand_key=null;this._platform_key=null;this._platform_div=null;this._host_key=null;this._host_name=null;this._build_key=null;this._build_version=null;this._user_name_key=null;this._user_name_value=null};rdx.header_view.prototype.make_view=function(){var v=this._view_definition.view_properties.stand_alone;if(!v){this._brand_key=this._view_definition.view_properties.brand_key;this._build_key=this._view_definition.view_properties.build_key;this._user_name_key=this._view_definition.view_properties.user_name_key;this._host_key=this._view_definition.view_properties.host_key;this._logout_url=this._view_definition.view_properties.logout_url;this._platform_key=this._view_definition.view_properties.platform_key}var n=$(document.createElement("table")).addClass("full_width_table ns_banner_table header_info").attr("cellPadding",0).attr("cellSpacing",0);if(!n.html().match(/<tbody>/i)){n.append(document.createElement("tbody"))}var x=$(n[0].tBodies[0].insertRow(-1));var K=$(x[0].insertCell(-1)).addClass("header_info_first");var u=$(x[0].insertCell(-1));var c=$(x[0].insertCell(-1));var L=$(x[0].insertCell(-1)).addClass("header_info_last");if(!v||rdx.utils.is_defined(this._view_definition.view_properties.brand_value)){var w=$(document.createElement("div")).addClass("ns_logo");var z=$(document.createElement("a")).attr("href","http://www.citrix.com/netscaler").attr("target","PRODUCT_LINK");this._platform_div=$(document.createElement("div")).addClass("ns_logo_version");if(rdx.utils.is_defined(this._view_definition.view_properties.brand_value)){this._platform_div.append(this._view_definition.view_properties.brand_value)}z.append(this._platform_div);u.append(w.append(z))}var C=$(document.createElement("div")).addClass("header_info_right");var j=$(document.createElement("ul"));if(!v){var h=$(document.createElement("li")).html(rdx.i18n.get_string("rdx.header_ip_address"));this._host_name=$(document.createElement("p")).html("");h.append(this._host_name);var A=$(document.createElement("li")).html(rdx.i18n.get_string("rdx.header_build_version"));this._build_version=$(document.createElement("p")).html("");A.append(this._build_version);var q=$(document.createElement("li")).html(rdx.i18n.get_string("rdx.header_user"));this._user_name_value=$(document.createElement("p")).html("");q.append(this._user_name_value);var t=$(document.createElement("li")).addClass("logout");var g=$(document.createElement("p"));var s=rdx.i18n.get_string("rdx.view_header_logout");var m=$(document.createElement("span"));m.append(s);var d=$(document.createElement("a")).addClass("button_small").attr("href","#noAnchor").attr("title",s).append(m).bind(rdx.events.CLICK,{ns_view_properties:this._view_definition.view_properties,logout_url:this._logout_url},function(k){if(rdx.utils.is_defined(k.data.logout_url)){window.location=k.data.logout_url}else{rdx.utils.do_logout(false)}});t.append(g.append(d));j.append(h);j.append(A);j.append(q);j.append(t)}var y=$(document.createElement("li")).addClass("citrix_logo");var E=$(document.createElement("a")).attr("href","http://www.citrix.com/netscaler").attr("target","PRODUCT_LINK").html("CITRIX");y.append(E);j.append(y);C.append(j);c.append(C);if(!v){var N=$(document.createElement("table")).addClass("full_width_table ns_banner_table header_menu").attr("cellPadding",0).attr("cellSpacing",0);if(!N.html().match(/<tbody>/i)){N.append(document.createElement("tbody"))}var b=$(N[0].tBodies[0].insertRow(-1));var r=$(b[0].insertCell(-1)).addClass("header_menu_left");var F=$(b[0].insertCell(-1)).addClass("header_menu_center");var o=$(b[0].insertCell(-1)).addClass("header_menu_right");var e=$(document.createElement("ul")).addClass("left_menu");var J=$(document.createElement("ul")).addClass("right_menu");var p=location.pathname;if(this._view_definition.app_links){for(var H=0,M=this._view_definition.app_links.length;H<M;H++){var I=$(document.createElement("li"));var l=$(document.createElement("a")).attr("href",this._view_definition.app_links[H].url).html(this._view_definition.app_links[H].title);I.append(l);var D=$(document.createElement("div")).html("^");I.append(D);if(H!=0){I.addClass("seperator")}if(this._view_definition.app_links[H].url==p){I.addClass("active")}e.append(I)}}if(this._view_definition.info_links){for(var H=0,M=this._view_definition.info_links.length;H<M;H++){var G=$(document.createElement("li"));var B=$(document.createElement("a")).attr("href",this._view_definition.info_links[H].url).html(this._view_definition.info_links[H].title);G.append(B);var a=$(document.createElement("div")).html("^");G.append(a);if(H!=0){G.addClass("seperator")}if(this._view_definition.info_links[H].url==p){G.addClass("active")}J.append(G)}}F.append(e);F.append(J)}var f=$(document.createElement("div")).addClass("ns_header").append(n);if(this._view_definition.info_links||this._view_definition.app_links){f=f.append(N)}this._parent.append(f)};rdx.header_view.prototype.get_resource_response_arrived=function(b){if(this._view_definition.view_properties.stand_alone){return}b=rdx.utils.get_formatted_response(b);if(rdx.utils.is_defined(b[this._brand_key])){var a=b[this._brand_key];if(rdx.utils.is_defined(b[this._platform_key])){a+=" ("+b[this._platform_key]+")"}this._platform_div.text(a)}if(rdx.utils.is_defined(b[this._host_key])){this._host_name.text(b[this._host_key]).ellipsis(this._MAX_NO_OF_CHARS_IN_WELCOME_TEXT)}if(rdx.utils.is_defined(b[this._build_key])){this._build_version.html(b[this._build_key])}if(rdx.utils.is_defined(b[this._user_name_key])){this._user_name_value.text(b[this._user_name_key]).ellipsis(this._MAX_NO_OF_CHARS_IN_WELCOME_TEXT)}};rdx.list_view.prototype.add_theme_specific_class=function(a){if(!a.is_action_bar_required()){a._table_parent.addClass("table_no_border")}};rdx.dashboard.prototype._get_one_column_padding_height=function(){return 40};rdx.dashboard.prototype._get_two_column_padding_height=function(){return 28};rdx.dashboard.prototype._get_three_column_padding_height=function(){return 24};rdx.table.prototype.add_sort_icon=function(a){$(a).append($("<img>").attr("src",this._properties.sort_az_img_url).css("display","none"),a.firstChild)};rdx.tree.prototype._expand_or_collapse_all=function(a){if(this._properties.swipe){this._tree_div.dynatree("option","autoCollapse",false)}this._tree_div.dynatree("getRoot").visit(function(d){var c=d.childList;if(rdx.utils.is_defined(c)){for(var b=0;b<c.length;b++){c[b].expand(a)}}});if(this._properties.swipe){this._tree_div.dynatree("option","autoCollapse",true)}};rdx.ribbon.prototype.resize_view=function(){var b=20;if(rdx.utils.is_chrome_safari()){b=40}var a=this._properties.add_scroller?(this._parent.outerWidth(true)-(44+b)):"auto";this._ribbon_div.css("width",a);this._show_hide_scroll()};rdx.ribbon.prototype.get_scroll_width=function(){return 0};