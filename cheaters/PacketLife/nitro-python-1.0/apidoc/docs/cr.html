<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>Citrix NetScaler XML API User&#39;s Guide - cr</title>
<link rel="stylesheet" type="text/css" href="help_ns.css" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head>
<body onload="return true;" class="ns_body">
<div class="ns_content"><table cellpadding="0" cellspacing="0"><tr><td><div><a href='introduction.html'>Home</a> > <a href="APIIndex.htm">Configuration</a> > Cache Redirection</div></td></tr><tr><td><br></td></tr><tr class="ns_wp_header"><td>Cache Redirection</td></tr><tr><td><br></td></tr><tr><td><div class="bottom_border">cache redirection configuration. the cache redirection feature can transparently redirect cacheable http requests to a cache and send non-cacheable or dynamic http requests to the origin server. a cache stores or caches frequently requested web content and serves such web content to a client on behalf of the origin servers, alleviating the load on the origin server farm.</div></td></tr><tr><td><br></td></tr><tr><td><div><b>Configuration APIs</b></div></td></tr><tr><td><br></td></tr><tr><td><div><a href="addcrpolicy.html">addcrpolicy</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to creates a cache redirection policy. To associate the new policy with a cache redirection virtual server, use the bind cr vserver method.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="addcrvserver.html">addcrvserver</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to creates a cache redirection virtual server.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="addcrvserverEx.html">addcrvserverEx</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to creates a cache redirection virtual server.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="bindcrvserver_lbvserver.html">bindcrvserver_lbvserver</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to bind lbvserver to cr vserver.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="bindcrvserver_policy.html">bindcrvserver_policy</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to bind policy to cr vserver.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="bindcrvserver_policynameEx.html">bindcrvserver_policynameEx</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to bind policy to cr vserver.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="disablecrvserver.html">disablecrvserver</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to disables a cache redirection virtual server.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="enablecrvserver.html">enablecrvserver</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to enables a cache redirection virtual server.<br> Note:	Virtual servers, when added, are enabled by default.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="getcrpolicy.html">getcrpolicy</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to get  all existing cache redirection policies, or just the specified policy.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="getcrvserver.html">getcrvserver</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to get  cache redirection virtual server information. To display information about all configured cache redirection virtual servers, do not include a parameter. To display detailed information about a specific virtual server, use the name parameter to specify the name of the virtual server.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="renamecrvserver.html">renamecrvserver</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to renames a cache redirection virtual server.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="rmcrpolicy.html">rmcrpolicy</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to removes a cache redirection policy. You can delete a user-defined cache redirection policy that is not bound to a cache redirection virtual server. If the policy is bound to a virtual server, you must first unbind the policy, and then remove it.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="rmcrvserver.html">rmcrvserver</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to removes a virtual server.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrpolicy_rule.html">setcrpolicy_rule</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set expression, or name of a named expression, against which traffic is evaluated. Written in the classic syntax. <br>Note: <br>Maximum length of a string literal in the expression is 255 characters. A longer string can be split into smaller strings of up to 255 characters each, and the smaller strings concatenated with the + operator. <br>For example, you can create a 500-character string as follows: "<string of 255 characters>" + "<string of 245 characters>"<br>The following requirements apply only to the NetScaler CLI:<br>*  If the expression includes one or more spaces, enclose the entire expression in double quotation marks.<br>*  If the expression itself includes double quotation marks, escape the quotations by using the  character. <br>*  Alternatively, you can use single quotation marks to enclose the rule, in which case you do not have to escape the double quotation marks.<br>This is mandatory parameter.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_appflowlog.html">setcrvserver_appflowlog</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set enable logging of AppFlow information.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_arp.html">setcrvserver_arp</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set use ARP to determine the destination MAC address. Specify OFF to use the incoming destination MAC address, or ON to use ARP to determine the destination MAC address.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_backendssl.html">setcrvserver_backendssl</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set decides whether the backend connection made by NS to the origin server will be HTTP or SSL. Applicable only for SSL type CR Forward proxy vserver.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_backupvserver.html">setcrvserver_backupvserver</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set name of the backup virtual server to which traffic is forwarded if the active server becomes unavailable.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_cachevserver.html">setcrvserver_cachevserver</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set name of the default target cache virtual server to which to redirect requests.<br> NOTE: This attribute is deprecated.<br>The functionality is intact, but we advise to use bind method to do default binding for CR</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_clttimeout.html">setcrvserver_clttimeout</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set time-out value, in seconds, after which an idle client connection is terminated.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_comment.html">setcrvserver_comment</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set comments associated with this virtual server.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_destinationvserver.html">setcrvserver_destinationvserver</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set destination virtual server for a transparent or forward proxy cache redirection virtual server.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_disableprimaryondown.html">setcrvserver_disableprimaryondown</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set continue sending traffic to a backup virtual server even after the primary virtual server comes UP from the DOWN state.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_dnsvserver.html">setcrvserver_dnsvserver</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set name of the DNS virtual server that resolves domain names arriving at the forward proxy virtual server.<br>Note: This parameter applies only to forward proxy virtual servers, not reverse or transparent.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_domain.html">setcrvserver_domain</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set default domain for reverse proxies. Domains are configured to direct incoming requests from a specified source domain to a specified target domain. There can be several configured pairs of source and target domains. You can select one pair to be the default. If the host header or URL of an incoming request does not include a source domain, this option sends the request to the specified target domain.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_downstateflush.html">setcrvserver_downstateflush</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set perform delayed cleanup of connections to this virtual server.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_httpprofile.html">setcrvserver_httpprofile</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set name of the profile containing HTTP configuration information for cache redirection virtual server.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_icmpvsrresponse.html">setcrvserver_icmpvsrresponse</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set criterion for responding to PING requests sent to this virtual server. If ACTIVE, respond only if the virtual server is available. If PASSIVE, respond even if the virtual server is not available.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_ipaddress.html">setcrvserver_ipaddress</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set new IPv4 or IPv6 address of the cache redirection virtual server. Usually a public IP address. Clients send connection requests to this IP address.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_l2conn.html">setcrvserver_l2conn</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set use L2 parameters, such as MAC, VLAN, and channel to identify a connection.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_listenpolicy.html">setcrvserver_listenpolicy</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set string specifying the listen policy for the cache redirection virtual server. Can be either an in-line expression or the name of a named expression.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_listenpriority.html">setcrvserver_listenpriority</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set priority of the listen policy specified by the Listen Policy parameter. The lower the number, higher the priority.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_netprofile.html">setcrvserver_netprofile</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set name of the network profile containing network configurations for the cache redirection virtual server.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_onpolicymatch.html">setcrvserver_onpolicymatch</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set redirect requests that match the policy to either the cache or the origin server, as specified.<br>Note: For this option to work, you must set the cache redirection type to POLICY.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_originusip.html">setcrvserver_originusip</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set use the client’s IP address as the source IP address in requests sent to the origin server.  <br>Note: You can enable this parameter to implement fully transparent CR deployment.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_precedence.html">setcrvserver_precedence</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set type of policy (URL or RULE) that takes precedence on the cache redirection virtual server. You can use this argument only when configuring cache redirection on the specified virtual server. It applies only if both URL and RULE based policies have been configured on the same virtual server. Available settings function as follows:URL - The incoming request is matched against the URL-based policies before it is matched against the rule-based policies.<br>For URL based policies, the precedence hierarchy is:<br>1.   Domain and exact URL<br>2.   Domain, prefix and suffix<br>3.   Domain and suffix<br>4.   Domain and prefix<br>5.   Domain only<br>6.   Exact URL<br>7.   Prefix and suffix<br>8.   Suffix only<br>9.   Prefix only<br>10.  Default<br>RULE - The incoming request is matched against the rule-based policies before it is matched against the URL-based policies.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_redirect.html">setcrvserver_redirect</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set type of server to which to redirect HTTP requests. Available settings function as follows: *	CACHE - Direct all requests to the cache.*	POLICY - Apply the cache redirection policy to determine whether the request should be directed to the cache or to the origin.*	ORIGIN - Direct all requests to the origin server.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_redirecturl.html">setcrvserver_redirecturl</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set uRL of the server to which to redirect traffic if the cache redirection virtual server in the NetScaler becomes unavailable.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_reuse.html">setcrvserver_reuse</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set reuse TCP connections to the origin server across client connections</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_rhistate.html">setcrvserver_rhistate</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set a host route is injected according to the setting on the virtual servers<br>            * If set to PASSIVE on all the virtual servers that share the IP address, the appliance always injects the hostroute.<br>            * If set to ACTIVE on all the virtual servers that share the IP address, the appliance injects even if one virtual server is UP.<br>            * If set to ACTIVE on some virtual servers and PASSIVE on the others, the appliance, injects even if one virtual server set to ACTIVE is UP.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_srcipexpr.html">setcrvserver_srcipexpr</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set expression used to extract the source IP addresses from the requests originating from the cache. Can be either an in-line expression or the name of a named expression.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_tcpprofile.html">setcrvserver_tcpprofile</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set name of the profile containing TCP configuration information for the cache redirection virtual server.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_useportrange.html">setcrvserver_useportrange</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set use a port number from the port range (set by using the set ns param method, or in the Create Virtual Server (Cache Redirection) dialog box) as the source port in the requests sent to the origin server.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setcrvserver_via.html">setcrvserver_via</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set insert a via header in each HTTP request. In the case of a cache miss, the request is redirected from the cache server to the origin server. This header indicates whether the request is being sent from a cache server.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unbindcrvserver_lbvserver.html">unbindcrvserver_lbvserver</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to unbind lbvserver from cr vserver.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unbindcrvserver_policy.html">unbindcrvserver_policy</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to unbind policy from cr vserver.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_appflowlog.html">unsetcrvserver_appflowlog</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver appflowlog setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_arp.html">unsetcrvserver_arp</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver arp setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_backendssl.html">unsetcrvserver_backendssl</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver backendssl setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_backupvserver.html">unsetcrvserver_backupvserver</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver backupvserver setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_cachevserver.html">unsetcrvserver_cachevserver</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver cachevserver setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_clttimeout.html">unsetcrvserver_clttimeout</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver clttimeout setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_comment.html">unsetcrvserver_comment</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver comment setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_destinationvserver.html">unsetcrvserver_destinationvserver</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver destinationvserver setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_disableprimaryondown.html">unsetcrvserver_disableprimaryondown</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver disableprimaryondown setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_dnsvserver.html">unsetcrvserver_dnsvserver</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver dnsvserver setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_domain.html">unsetcrvserver_domain</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver domain setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_downstateflush.html">unsetcrvserver_downstateflush</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver downstateflush setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_httpprofile.html">unsetcrvserver_httpprofile</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver httpprofile setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_icmpvsrresponse.html">unsetcrvserver_icmpvsrresponse</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver icmpvsrresponse setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_l2conn.html">unsetcrvserver_l2conn</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver l2conn setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_listenpolicy.html">unsetcrvserver_listenpolicy</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver listenpolicy setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_listenpriority.html">unsetcrvserver_listenpriority</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver listenpriority setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_netprofile.html">unsetcrvserver_netprofile</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver netprofile setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_onpolicymatch.html">unsetcrvserver_onpolicymatch</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver onpolicymatch setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_originusip.html">unsetcrvserver_originusip</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver originusip setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_precedence.html">unsetcrvserver_precedence</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver precedence setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_redirect.html">unsetcrvserver_redirect</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver redirect setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_redirecturl.html">unsetcrvserver_redirecturl</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver redirecturl setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_reuse.html">unsetcrvserver_reuse</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver reuse setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_rhistate.html">unsetcrvserver_rhistate</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver rhistate setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_srcipexpr.html">unsetcrvserver_srcipexpr</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver srcipexpr setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_tcpprofile.html">unsetcrvserver_tcpprofile</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver tcpprofile setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_useportrange.html">unsetcrvserver_useportrange</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver useportrange setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetcrvserver_via.html">unsetcrvserver_via</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove cr vserver via setting.</div></td></tr><tr><td><br></td></tr></table></div>
</body>
</html>