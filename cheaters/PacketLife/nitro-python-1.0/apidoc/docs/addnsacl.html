<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>Citrix NetScaler XML API User&#39;s Guide - addnsacl</title>
<link rel="stylesheet" type="text/css" href="help_ns.css" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head>
<body onload="initial()" class="ns_body">
<div class="ns_content"><table cellpadding="0" cellspacing="0"><script type="text/javascript">
function showContent(content,lang){
			if(ie4){
				showContentObj=document.all.qiksearch_div;
			}
			if(ns6){
				showContentObj=document.getElementById("qiksearch_div");
			}
			if(ie4||ns6){
				if(showContentObj.innerHTML!=content){
					showContentObj.innerHTML=content;
				}
				else{
					showContentObj.innerHTML="";
				}
			}
			if(ns4){
				document.nsdiv.document.write(content);
				document.nsdiv.document.close();
			}
}
function showLangSelect(id){
		ie4=document.all&&navigator.userAgent.indexOf("Opera")==-1;
		ns6=document.getElementById&&navigator.userAgent.indexOf("Opera")==-1;
		ns4=document.layers;
		if(ie4){
			showObj=document.all.first_url;
		}
		if(ns6){
			showObj=document.getElementById("first_url");
		}
		if( id == "C" ){
			newlink = "<b>C</b>";
		}
		else{
			newlink = "<a href=\"javascript:void(0);\" onclick=\"javascript:changeContext('C');\"><b>C</b></a>";
		}
		if( id == "Perl" ){
			newlink = newlink + " | <b>Perl</b>";
		}
		else{
			newlink = newlink + " | <a href=\"javascript:void(0);\" onclick=\"javascript:changeContext('Perl');\"><b>Perl</b></a>";
		}
		if( id == "Java" ){
			newlink = newlink + " | <b>Java</b>";
		}
		else{
			newlink = newlink + " | <a href=\"javascript:void(0);\" onclick=\"javascript:changeContext('Java');\"><b>Java</b></a>";
		}
		if( id == "C#" ){
			newlink = newlink + " | <b>C#</b>";
		}
		else{
			newlink = newlink + " | <a href=\"javascript:void(0);\" onclick=\"javascript:changeContext('C#');\"><b>C#</b></a>";
		}
		showObj.innerHTML = newlink;
}
function initial(){
		ie4=document.all&&navigator.userAgent.indexOf("Opera")==-1;
		ns6=document.getElementById&&navigator.userAgent.indexOf("Opera")==-1;
		ns4=document.layers;
		langSelected = parent.banner.document.language.select.value
		parent.banner.document.language.plink.value = "NS@ns.html&addnsacl";
		changeContext(langSelected);
}
function changeContext(lang){
parent.banner.document.language.select.value = lang;
if( lang == "C" ){
showContent('<table><tr><td><pre><a href=\'simpleResult_struct.html\'>simpleResult</a><b> addnsacl</b>(<br> &nbsp;&nbsp;&nbsp;&nbsp;char * <i>aclname</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\'extaclactionEnum.html\'>extaclactionEnum</a> <i>aclaction</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned int <i>ttl</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\'extaclprotoenumEnum.html\'>extaclprotoenumEnum</a> <i>protocol</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool <i>established</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned int <i>icmptype</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned int <i>icmpcode</i> <br>);</pre></td></tr></table>','C');
}
if( lang == "Perl" ){
showContent('<table><tr><td><pre><a href=\'simpleResult_struct.html\'>simpleResult</a><b> addnsacl</b>(<br>&nbsp;&nbsp;&nbsp;&nbsp;name(\'aclname\' => value),<br>&nbsp;&nbsp;&nbsp;&nbsp;name(\'aclaction\' => <a href=\'extaclactionEnum.html\'>Values</a>),<br>&nbsp;&nbsp;&nbsp;&nbsp;name(\'ttl\' => value),<br>&nbsp;&nbsp;&nbsp;&nbsp;name(\'protocol\' => <a href=\'extaclprotoenumEnum.html\'>Values</a>),<br>&nbsp;&nbsp;&nbsp;&nbsp;name(\'established\' => value),<br>&nbsp;&nbsp;&nbsp;&nbsp;name(\'icmptype\' => value),<br>&nbsp;&nbsp;&nbsp;&nbsp;name(\'icmpcode\' => value)<br>);</pre></td></tr></table>','Perl')
}
if( lang == "Java" ){
showContent('<table><tr><td><pre>public <a href=\'simpleResult_struct.html\'>simpleResult</a><b> addnsacl</b>(<br> &nbsp;&nbsp;&nbsp;&nbsp;String <i>aclname</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\'extaclactionEnum.html\'>extaclactionEnum</a> <i>aclaction</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned int <i>ttl</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\'extaclprotoenumEnum.html\'>extaclprotoenumEnum</a> <i>protocol</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Boolean <i>established</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned int <i>icmptype</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned int <i>icmpcode</i> <br>);</pre></td></tr></table>','Java');
}
if( lang == "C#" ){
showContent('<table><tr><td><pre>public <a href=\'simpleResult_struct.html\'>simpleResult</a><b> addnsacl</b>(<br> &nbsp;&nbsp;&nbsp;&nbsp;string <i>aclname</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\'extaclactionEnum.html\'>extaclactionEnum</a> <i>aclaction</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.UInt64 <i>ttl</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\'extaclprotoenumEnum.html\'>extaclprotoenumEnum</a> <i>protocol</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Boolean <i>established</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.UInt64 <i>icmptype</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.UInt64 <i>icmpcode</i> <br>);</pre></td></tr></table>','C#');
}
if( lang == "VB" ){
showContent('<table><tr><td><pre>Public Function<b> addnsacl</b>(<br> &nbsp;&nbsp;&nbsp;&nbsp;ByVal <i>aclname</i> As String ,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByVal <i>aclaction</i> As <a href=\'extaclactionEnum.html\'>extaclactionEnum</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByVal <i>ttl</i> As UInteger ,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByVal <i>protocol</i> As <a href=\'extaclprotoenumEnum.html\'>extaclprotoenumEnum</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByVal <i>established</i> As Boolean ,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByVal <i>icmptype</i> As UInteger ,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByVal <i>icmpcode</i> As UInteger  <br>) As <a href=\'simpleResult_struct.html\'>simpleResult</a> </pre></td></tr></table>','VB');
}
showLangSelect(lang);
}
</script>
<tr><td><div><a href='introduction.html'>Home</a> > <a href="APIIndex.htm">Configuration</a> > <a href="ns.html">NS</a> > addnsacl</div></td></tr><tr><td><br></td></tr><tr class="ns_wp_header"><td>addnsacl</td></tr><tr><td><br></td></tr><tr><td><div>Use this method to adds an extended ACL rule to the NetScaler appliance. To commit this operation, you must apply the extended ACLs. Extended ACL rules filter data packets on the basis of various parameters, such as IP address, source port, action, and protocol.</div></td></tr><tr><td><br></td></tr><tr><td><div><b>Syntax</b></div></td></tr><tr><td><br></td></tr><tr><td><div><div id="first_url" class="padding_left"></div></div></td></tr><tr><td><br></td></tr><tr><td><div><div id="qiksearch_div" class="syntax padding_left"></div></div></td></tr><tr><td><br></td></tr><tr><td><div><b>Parameters</b></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><i>aclname</i></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left_second_level">Name for the extended ACL rule. Must begin with an ASCII alphabetic or underscore (_) character, and must contain only ASCII alphanumeric, underscore, hash (#), period (.), space, colon (:), at (@), equals (=), and hyphen (-) characters. Can be changed after the extended ACL rule is created.<br>This is mandatory parameter.</div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><i>aclaction</i></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left_second_level">Action to perform on incoming IPv4 packets that match the extended ACL rule.
Available settings function as follows:
* ALLOW - The NetScaler appliance processes the packet.
* BRIDGE - The NetScaler appliance bridges the packet to the destination without processing it.
* DENY - The NetScaler appliance drops the packet.<br>This is mandatory parameter.</div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><i>ttl</i></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left_second_level">Number of seconds, in multiples of four, after which the extended ACL rule expires. If you do not want the extended ACL rule to expire, do not specify a TTL value.<br> Minimum value =  1.<br> Maximum value =  0x7FFFFFFF.</div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><i>protocol</i></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left_second_level">Protocol to match against the protocol of an incoming IPv4 packet.</div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><i>established</i></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left_second_level">Allow only incoming TCP packets that have the ACK or RST bit set, if the action set for the ACL rule is ALLOW and these packets match the other conditions in the ACL rule.</div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><i>icmptype</i></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left_second_level">ICMP Message type to match against the message type of an incoming ICMP packet. For example, to block DESTINATION UNREACHABLE messages, you must specify 3 as the ICMP type.

Note: This parameter can be specified only for the ICMP protocol.<br> Maximum value =  65536.</div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><i>icmpcode</i></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left_second_level">Code of a particular ICMP message type to match against the ICMP code of an incoming ICMP packet.  For example, to block DESTINATION HOST UNREACHABLE messages, specify 3 as the ICMP type and 1 as the ICMP code.

If you set this parameter, you must set the ICMP Type parameter.<br> Maximum value =  65536.</div></td></tr><tr><td><br></td></tr><tr><td><div><b>Return Value</b></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left">Returns <a href="simpleResult_struct.html">simpleResult</a></div></td></tr><tr><td><br></td></tr><tr><td><div><b>See Also</b></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="applyacls.html">applyacls</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="clearacls.html">clearacls</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="disablensacl.html">disablensacl</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="enablensacl.html">enablensacl</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="getnsacl.html">getnsacl</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="renamensacl.html">renamensacl</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="rmnsacl.html">rmnsacl</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="setnsacl_aclaction.html">setnsacl_aclaction</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="setnsacl_destip.html">setnsacl_destip</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="setnsacl_destport.html">setnsacl_destport</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="setnsacl_established.html">setnsacl_established</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="setnsacl_icmptype.html">setnsacl_icmptype</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="setnsacl_interface.html">setnsacl_interface</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="setnsacl_logstate.html">setnsacl_logstate</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="setnsacl_priority.html">setnsacl_priority</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="setnsacl_protocol.html">setnsacl_protocol</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="setnsacl_protocolnumber.html">setnsacl_protocolnumber</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="setnsacl_srcip.html">setnsacl_srcip</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="setnsacl_srcmac.html">setnsacl_srcmac</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="setnsacl_srcport.html">setnsacl_srcport</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="setnsacl_vlan.html">setnsacl_vlan</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="statnsacl.html">statnsacl</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="unsetnsacl_destip.html">unsetnsacl_destip</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="unsetnsacl_destport.html">unsetnsacl_destport</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="unsetnsacl_established.html">unsetnsacl_established</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="unsetnsacl_icmpcode.html">unsetnsacl_icmpcode</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="unsetnsacl_icmptype.html">unsetnsacl_icmptype</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="unsetnsacl_interface.html">unsetnsacl_interface</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="unsetnsacl_logstate.html">unsetnsacl_logstate</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="unsetnsacl_protocol.html">unsetnsacl_protocol</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="unsetnsacl_ratelimit.html">unsetnsacl_ratelimit</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="unsetnsacl_srcip.html">unsetnsacl_srcip</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="unsetnsacl_srcmac.html">unsetnsacl_srcmac</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="unsetnsacl_srcport.html">unsetnsacl_srcport</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="unsetnsacl_vlan.html">unsetnsacl_vlan</a></div></td></tr><tr><td><br></td></tr></table></div>
</body>
</html>