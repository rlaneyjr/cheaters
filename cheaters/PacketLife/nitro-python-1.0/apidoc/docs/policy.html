<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>Citrix NetScaler XML API User&#39;s Guide - policy</title>
<link rel="stylesheet" type="text/css" href="help_ns.css" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head>
<body onload="return true;" class="ns_body">
<div class="ns_content"><table cellpadding="0" cellspacing="0"><tr><td><div><a href='introduction.html'>Home</a> > <a href="APIIndex.htm">Configuration</a> > Policy</div></td></tr><tr><td><br></td></tr><tr class="ns_wp_header"><td>Policy</td></tr><tr><td><br></td></tr><tr><td><div class="bottom_border">policy configuration.</div></td></tr><tr><td><br></td></tr><tr><td><div><b>Configuration APIs</b></div></td></tr><tr><td><br></td></tr><tr><td><div><a href="addpolicydataset.html">addpolicydataset</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to adds a policy dataset to the appliance.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="addpolicyexpression.html">addpolicyexpression</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to creates a classic or default syntax named expression, which can be used in multiple policies. For example, you can create the following named expressions, ExpressionA and ExpressionB:<br>ExpressionA: http.req.body(100).contains("A")<br>ExpressionB: http.req.body(100).contains("B")<br><br>You could then create an expression of the form: <ExpressionA || ExpressionB></div></td></tr><tr><td><br></td></tr><tr><td><div><a href="addpolicyhttpcallout.html">addpolicyhttpcallout</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to adds a default syntax expression element that, when evaluated, sends an HTTP request to a specified service and receives an HTTP response from the service. Can be used to obtain additional information for use in evaluating policy rules and other expressions. The expression prefix SYS.HTTP_CALLOUT invokes an HTTP callout. You can construct the HTTP callout request in one of two ways:<br>* Specify individual parts of the request by using the HTTP method, host expression, URL stem expression, and header parameters. These parts are evaluated at run time and concatenated to build the request. <br>* Specify the entire HTTP request in a single expression.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="addpolicymap.html">addpolicymap</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to creates a policy to map a publicly known domain name to a target domain name for a reverse proxy virtual server used by the cache redirection feature. Optionally, you can also specify a source and target URL. The map policy can be associated with a reverse proxy cache redirection virtual server by using the 'bind cr vserver' method. There can be only one default map policy for a domain.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="addpolicypatclass.html">addpolicypatclass</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to adds a pattern class. Each pattern class is identified by a name. More patterns (strings) can be associated with it later.<br>NOTE: This method is deprecated. This method is deprecated in favor of 'add policy patset'.<br> NOTE: This method is deprecated.<br>This method is deprecated in favor of 'add policy patset'</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="addpolicypatset.html">addpolicypatset</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to adds a pattern set. A pattern set contains a name and one or more string patterns. Pattern sets can be used in default syntax expressions to match a set of strings. For example, HTTP.REQ.URL.EQUALS_ANY("test_urls"), where test_urls is a pattern set containing URL strings. <br>Pattern sets can also be used in the search parameter of a rewrite action. Each string pattern is assigned an index that enables you to select the associated string from the set.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="addpolicystringmap.html">addpolicystringmap</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to creates a string map. You must use the 'bind policy stringmap' method to bind strings to this string map.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="bindpolicydataset_value.html">bindpolicydataset_value</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to bind value to policy dataset.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="bindpolicypatclass_string.html">bindpolicypatclass_string</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to bind string to policy patClass.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="bindpolicypatset_string.html">bindpolicypatset_string</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to bind string to policy patset.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="bindpolicypatset_stringEx.html">bindpolicypatset_stringEx</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to bind string to policy patset.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="bindpolicystringmap_key.html">bindpolicystringmap_key</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to bind key to policy stringmap.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="getpolicydataset.html">getpolicydataset</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to get  the configured dataset(s).</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="getpolicyexpression.html">getpolicyexpression</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to get  information about the available named policy expressions.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="getpolicyexpressionEx.html">getpolicyexpressionEx</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to get  information about the available named policy expressions.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="getpolicyhttpcallout.html">getpolicyhttpcallout</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to get  information about the configured HTTP callouts.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="getpolicymap.html">getpolicymap</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to get  information about the available policy maps.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="getpolicypatclass.html">getpolicypatclass</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to get  the configured pattern class(es).<br> NOTE: This method is deprecated.<br>This method is deprecated in favor of 'show policy patset'</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="getpolicypatset.html">getpolicypatset</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to get  the list of pattern sets configured on the appliance.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="getpolicystringmap.html">getpolicystringmap</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to get  a list of available string maps.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="rmpolicydataset.html">rmpolicydataset</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to removes a dataset from the appliance.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="rmpolicyexpression.html">rmpolicyexpression</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to removes a named policy expression. If the expression is used by a policy or filter, you must remove the policy or filter before removing the expression.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="rmpolicyhttpcallout.html">rmpolicyhttpcallout</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to removes an HTTP callout. You cannot remove an HTTP callout that is used in any part of policy, action, or expression.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="rmpolicymap.html">rmpolicymap</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to removes a map policy. Before removing the map policy, you must unbind the map policy from the reverse proxy virtual server.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="rmpolicypatclass.html">rmpolicypatclass</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to removes a pattern class. Once the pattern class is removed, all the expressions referring it have undefined values.<br>NOTE: This method is deprecated in favor of 'rm policy patset'.<br> NOTE: This method is deprecated.<br>This method is deprecated in favor of 'rm policy patset'</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="rmpolicypatset.html">rmpolicypatset</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to removes a pattern set. If the pattern set is used by an expression in another object, such as a policy, you must remove the object before removing the pattern set.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="rmpolicystringmap.html">rmpolicystringmap</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to removes a string map. String maps can be removed only if not used in any part of policy, action, or expression.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setpolicyexpression_clientsecuritymessage.html">setpolicyexpression_clientsecuritymessage</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set the client security message that will be displayed on failure of this expression. Only relevant for end point check expressions.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setpolicyexpression_comment.html">setpolicyexpression_comment</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set any comments associated with the expression. Displayed upon viewing the policy expression.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setpolicyexpression_description.html">setpolicyexpression_description</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set description for the expression.<br> NOTE: This attribute is deprecated.<br>Replaced by -comment.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setpolicyexpression_value.html">setpolicyexpression_value</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set the expression string.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setpolicyhttpcallout_bodyexpr.html">setpolicyhttpcallout_bodyexpr</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set an advanced string expression for generating the body of the request. The expression can contain a literal string or an expression that derives the value (for example, client.ip.src). Mutually exclusive with -fullReqExpr.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setpolicyhttpcallout_cacheforsecs.html">setpolicyhttpcallout_cacheforsecs</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set duration, in seconds, for which the callout response is cached. The cached responses are stored in an integrated caching content group named "calloutContentGroup". If no duration is configured, the callout responses will not be cached unless normal caching configuration is used to cache them. This parameter takes precedence over any normal caching configuration that would otherwise apply to these responses.<br>	   Note that the calloutContentGroup definition may not be modified or removed nor may it be used with other cache policies.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setpolicyhttpcallout_comment.html">setpolicyhttpcallout_comment</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set any comments to preserve information about this HTTP callout.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setpolicyhttpcallout_fullreqexpr.html">setpolicyhttpcallout_fullreqexpr</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set exact HTTP request, in the form of a default syntax expression, which the NetScaler appliance sends to the callout agent. If you set this parameter, you must not include HTTP method, host expression, URL stem expression, headers, or parameters.<br>The request expression is constrained by the feature for which the callout is used. For example, an HTTP.RES expression cannot be used in a request-time policy bank or in a TCP content switching policy bank.<br>The NetScaler appliance does not check the validity of this request. You must manually validate the request.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setpolicyhttpcallout_headers.html">setpolicyhttpcallout_headers</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set one or more headers to insert into the HTTP request. Each header is specified as "name(expr)", where expr is a default syntax expression that is evaluated at runtime to provide the value for the named header. You can configure a maximum of eight headers for an HTTP callout. Mutually exclusive with the full HTTP request expression.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setpolicyhttpcallout_hostexpr.html">setpolicyhttpcallout_hostexpr</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set default Syntax string expression to configure the Host header. Can contain a literal value (for example, 10.101.10.11) or a derived value (for example, http.req.header("Host")). The literal value can be an IP address or a fully qualified domain name. Mutually exclusive with the full HTTP request expression.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setpolicyhttpcallout_httpmethod.html">setpolicyhttpcallout_httpmethod</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set method used in the HTTP request that this callout sends.  Mutually exclusive with the full HTTP request expression.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setpolicyhttpcallout_ipaddress.html">setpolicyhttpcallout_ipaddress</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set iP Address of the server (callout agent) to which the callout is sent. Can be an IPv4 or IPv6 address.<br>Mutually exclusive with the Virtual Server parameter. Therefore, you cannot set the <IP Address, Port> and the Virtual Server in the same HTTP callout.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setpolicyhttpcallout_parameters.html">setpolicyhttpcallout_parameters</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set one or more query parameters to insert into the HTTP request URL (for a GET request) or into the request body (for a POST request). Each parameter is specified as "name(expr)", where expr is an default syntax expression that is evaluated at run time to provide the value for the named parameter (name=value). The parameter values are URL encoded. Mutually exclusive with the full HTTP request expression.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setpolicyhttpcallout_port.html">setpolicyhttpcallout_port</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set server port to which the HTTP callout agent is mapped. Mutually exclusive with the Virtual Server parameter. Therefore, you cannot set the <IP Address, Port> and the Virtual Server in the same HTTP callout.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setpolicyhttpcallout_resultexpr.html">setpolicyhttpcallout_resultexpr</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set expression that extracts the callout results from the response sent by the HTTP callout agent. Must be a response based expression, that is, it must begin with HTTP.RES. The operations in this expression must match the return type. For example, if you configure a return type of TEXT, the result expression must be a text based expression. If the return type is NUM, the result expression (resultExpr) must return a numeric value, as in the following example: http.res.body(10000).length.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setpolicyhttpcallout_returntype.html">setpolicyhttpcallout_returntype</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set type of data that the target callout agent returns in response to the callout. <br>Available settings function as follows:<br>* TEXT - Treat the returned value as a text string. <br>* NUM - Treat the returned value as a number.<br>* BOOL - Treat the returned value as a Boolean value. <br>Note: You cannot change the return type after it is set.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setpolicyhttpcallout_scheme.html">setpolicyhttpcallout_scheme</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set type of scheme for the callout server.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setpolicyhttpcallout_urlstemexpr.html">setpolicyhttpcallout_urlstemexpr</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set default Syntax string expression for generating the URL stem. Can contain a literal string (for example, "/mysite/index.html") or an expression that derives the value (for example, http.req.url). Mutually exclusive with the full HTTP request expression.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setpolicyhttpcallout_vserver.html">setpolicyhttpcallout_vserver</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set name of the load balancing, content switching, or cache redirection virtual server (the callout agent) to which the HTTP callout is sent. The service type of the virtual server must be HTTP. Mutually exclusive with the IP address and port parameters. Therefore, you cannot set the <IP Address, Port> and the Virtual Server in the same HTTP callout.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="setpolicystringmap_comment.html">setpolicystringmap_comment</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to set comments associated with the string map.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unbindpolicydataset_value.html">unbindpolicydataset_value</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to unbind value from policy dataset.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unbindpolicypatclass_string.html">unbindpolicypatclass_string</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to unbind string from policy patClass.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unbindpolicypatset_string.html">unbindpolicypatset_string</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to unbind string from policy patset.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unbindpolicystringmap_key.html">unbindpolicystringmap_key</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Use this method to unbind key from policy stringmap.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetpolicyexpression_clientsecuritymessage.html">unsetpolicyexpression_clientsecuritymessage</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove policy expression clientsecuritymessage setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetpolicyexpression_comment.html">unsetpolicyexpression_comment</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove policy expression comment setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetpolicyexpression_description.html">unsetpolicyexpression_description</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove policy expression description setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetpolicyhttpcallout_bodyexpr.html">unsetpolicyhttpcallout_bodyexpr</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove policy httpCallout bodyexpr setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetpolicyhttpcallout_cacheforsecs.html">unsetpolicyhttpcallout_cacheforsecs</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove policy httpCallout cacheforsecs setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetpolicyhttpcallout_comment.html">unsetpolicyhttpcallout_comment</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove policy httpCallout comment setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetpolicyhttpcallout_fullreqexpr.html">unsetpolicyhttpcallout_fullreqexpr</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove policy httpCallout fullreqexpr setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetpolicyhttpcallout_headers.html">unsetpolicyhttpcallout_headers</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove policy httpCallout headers setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetpolicyhttpcallout_hostexpr.html">unsetpolicyhttpcallout_hostexpr</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove policy httpCallout hostexpr setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetpolicyhttpcallout_httpmethod.html">unsetpolicyhttpcallout_httpmethod</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove policy httpCallout httpmethod setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetpolicyhttpcallout_ipaddress.html">unsetpolicyhttpcallout_ipaddress</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove policy httpCallout ipaddress setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetpolicyhttpcallout_parameters.html">unsetpolicyhttpcallout_parameters</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove policy httpCallout parameters setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetpolicyhttpcallout_port.html">unsetpolicyhttpcallout_port</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove policy httpCallout port setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetpolicyhttpcallout_resultexpr.html">unsetpolicyhttpcallout_resultexpr</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove policy httpCallout resultexpr setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetpolicyhttpcallout_urlstemexpr.html">unsetpolicyhttpcallout_urlstemexpr</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove policy httpCallout urlstemexpr setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetpolicyhttpcallout_vserver.html">unsetpolicyhttpcallout_vserver</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove policy httpCallout vserver setting.</div></td></tr><tr><td><br></td></tr><tr><td><div><a href="unsetpolicystringmap_comment.html">unsetpolicystringmap_comment</a></div></td></tr><tr><td><br></td></tr><tr><td><div>Remove policy stringmap comment setting.</div></td></tr><tr><td><br></td></tr></table></div>
</body>
</html>