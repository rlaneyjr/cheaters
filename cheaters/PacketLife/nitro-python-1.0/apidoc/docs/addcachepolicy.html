<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>Citrix NetScaler XML API User&#39;s Guide - addcachepolicy</title>
<link rel="stylesheet" type="text/css" href="help_ns.css" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head>
<body onload="initial()" class="ns_body">
<div class="ns_content"><table cellpadding="0" cellspacing="0"><script type="text/javascript">
function showContent(content,lang){
			if(ie4){
				showContentObj=document.all.qiksearch_div;
			}
			if(ns6){
				showContentObj=document.getElementById("qiksearch_div");
			}
			if(ie4||ns6){
				if(showContentObj.innerHTML!=content){
					showContentObj.innerHTML=content;
				}
				else{
					showContentObj.innerHTML="";
				}
			}
			if(ns4){
				document.nsdiv.document.write(content);
				document.nsdiv.document.close();
			}
}
function showLangSelect(id){
		ie4=document.all&&navigator.userAgent.indexOf("Opera")==-1;
		ns6=document.getElementById&&navigator.userAgent.indexOf("Opera")==-1;
		ns4=document.layers;
		if(ie4){
			showObj=document.all.first_url;
		}
		if(ns6){
			showObj=document.getElementById("first_url");
		}
		if( id == "C" ){
			newlink = "<b>C</b>";
		}
		else{
			newlink = "<a href=\"javascript:void(0);\" onclick=\"javascript:changeContext('C');\"><b>C</b></a>";
		}
		if( id == "Perl" ){
			newlink = newlink + " | <b>Perl</b>";
		}
		else{
			newlink = newlink + " | <a href=\"javascript:void(0);\" onclick=\"javascript:changeContext('Perl');\"><b>Perl</b></a>";
		}
		if( id == "Java" ){
			newlink = newlink + " | <b>Java</b>";
		}
		else{
			newlink = newlink + " | <a href=\"javascript:void(0);\" onclick=\"javascript:changeContext('Java');\"><b>Java</b></a>";
		}
		if( id == "C#" ){
			newlink = newlink + " | <b>C#</b>";
		}
		else{
			newlink = newlink + " | <a href=\"javascript:void(0);\" onclick=\"javascript:changeContext('C#');\"><b>C#</b></a>";
		}
		showObj.innerHTML = newlink;
}
function initial(){
		ie4=document.all&&navigator.userAgent.indexOf("Opera")==-1;
		ns6=document.getElementById&&navigator.userAgent.indexOf("Opera")==-1;
		ns4=document.layers;
		langSelected = parent.banner.document.language.select.value
		parent.banner.document.language.plink.value = "Integrated Caching@cache.html&addcachepolicy";
		changeContext(langSelected);
}
function changeContext(lang){
parent.banner.document.language.select.value = lang;
if( lang == "C" ){
showContent('<table><tr><td><pre><a href=\'simpleResult_struct.html\'>simpleResult</a><b> addcachepolicy</b>(<br> &nbsp;&nbsp;&nbsp;&nbsp;char * <i>policyname</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char * <i>rule</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\'cachedirectiveEnum.html\'>cachedirectiveEnum</a> <i>actioN</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char * <i>storeingroup</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char * <i>invalgroups</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char * <i>invalobjects</i> <br>);</pre></td></tr></table>','C');
}
if( lang == "Perl" ){
showContent('<table><tr><td><pre><a href=\'simpleResult_struct.html\'>simpleResult</a><b> addcachepolicy</b>(<br>&nbsp;&nbsp;&nbsp;&nbsp;name(\'policyname\' => value),<br>&nbsp;&nbsp;&nbsp;&nbsp;name(\'rule\' => value),<br>&nbsp;&nbsp;&nbsp;&nbsp;name(\'actioN\' => <a href=\'cachedirectiveEnum.html\'>Values</a>),<br>&nbsp;&nbsp;&nbsp;&nbsp;name(\'storeingroup\' => value),<br>&nbsp;&nbsp;&nbsp;&nbsp;name(\'invalgroups\' => value),<br>&nbsp;&nbsp;&nbsp;&nbsp;name(\'invalobjects\' => value)<br>);</pre></td></tr></table>','Perl')
}
if( lang == "Java" ){
showContent('<table><tr><td><pre>public <a href=\'simpleResult_struct.html\'>simpleResult</a><b> addcachepolicy</b>(<br> &nbsp;&nbsp;&nbsp;&nbsp;String <i>policyname</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String <i>rule</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\'cachedirectiveEnum.html\'>cachedirectiveEnum</a> <i>actioN</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String <i>storeingroup</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String <i>invalgroups</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String <i>invalobjects</i> <br>);</pre></td></tr></table>','Java');
}
if( lang == "C#" ){
showContent('<table><tr><td><pre>public <a href=\'simpleResult_struct.html\'>simpleResult</a><b> addcachepolicy</b>(<br> &nbsp;&nbsp;&nbsp;&nbsp;string <i>policyname</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string <i>rule</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\'cachedirectiveEnum.html\'>cachedirectiveEnum</a> <i>actioN</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string <i>storeingroup</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string <i>invalgroups</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string <i>invalobjects</i> <br>);</pre></td></tr></table>','C#');
}
if( lang == "VB" ){
showContent('<table><tr><td><pre>Public Function<b> addcachepolicy</b>(<br> &nbsp;&nbsp;&nbsp;&nbsp;ByVal <i>policyname</i> As String ,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByVal <i>rule</i> As String ,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByVal <i>actioN</i> As <a href=\'cachedirectiveEnum.html\'>cachedirectiveEnum</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByVal <i>storeingroup</i> As String ,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByVal <i>invalgroups</i> As String ,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByVal <i>invalobjects</i> As String  <br>) As <a href=\'simpleResult_struct.html\'>simpleResult</a> </pre></td></tr></table>','VB');
}
showLangSelect(lang);
}
</script>
<tr><td><div><a href='introduction.html'>Home</a> > <a href="APIIndex.htm">Configuration</a> > <a href="cache.html">Integrated Caching</a> > addcachepolicy</div></td></tr><tr><td><br></td></tr><tr class="ns_wp_header"><td>addcachepolicy</td></tr><tr><td><br></td></tr><tr><td><div>Use this method to creates an integrated caching policy. <br>The newly created policy is in inactive state. To activate the policy, use the bind cache global method.</div></td></tr><tr><td><br></td></tr><tr><td><div><b>Syntax</b></div></td></tr><tr><td><br></td></tr><tr><td><div><div id="first_url" class="padding_left"></div></div></td></tr><tr><td><br></td></tr><tr><td><div><div id="qiksearch_div" class="syntax padding_left"></div></div></td></tr><tr><td><br></td></tr><tr><td><div><b>Parameters</b></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><i>policyname</i></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left_second_level">Name for the policy. Must begin with an ASCII alphabetic or underscore (_) character, and must contain only ASCII alphanumeric, underscore, hash (#), period (.), space, colon (:), at (@), equals (=), and hyphen (-) characters. Can be changed after the policy is created.<br>This is mandatory parameter.</div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><i>rule</i></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left_second_level">Expression against which the traffic is evaluated.
Note:
Maximum length of a string literal in the expression is 255 characters. A longer string can be split into smaller strings of up to 255 characters each, and the smaller strings concatenated with the + operator. For example, you can create a 500-character string as follows: '"<string of 255 characters>" + "<string of 245 characters>"'
The following requirements apply only to the NetScaler CLI:
* If the expression includes one or more spaces, enclose the entire expression in double quotation marks.
* If the expression itself includes double quotation marks, escape the quotations by using the \ character. 
* Alternatively, you can use single quotation marks to enclose the rule, in which case you do not have to escape the double quotation marks.<br>This is mandatory parameter.</div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><i>actioN</i></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left_second_level">Action to apply to content that matches the policy. 
* CACHE or MAY_CACHE action - positive cachability policy
* NOCACHE or MAY_NOCACHE action - negative cachability policy
* INVAL action - Dynamic Invalidation Policy.<br>This is mandatory parameter.</div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><i>storeingroup</i></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left_second_level">Name of the content group in which to store the object when the final result of policy evaluation is CACHE. The content group must exist before being mentioned here. Use the "show cache contentgroup" method to view the list of existing content groups.</div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><i>invalgroups</i></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left_second_level">Content group(s) to be invalidated when the INVAL action is applied. Maximum number of content groups that can be specified is 16.</div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><i>invalobjects</i></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left_second_level">Content groups(s) in which the objects will be invalidated if the action is INVAL.</div></td></tr><tr><td><br></td></tr><tr><td><div><b>Return Value</b></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left">Returns <a href="simpleResult_struct.html">simpleResult</a></div></td></tr><tr><td><br></td></tr><tr><td><div><b>See Also</b></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href=".html"></a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="getcachepolicy.html">getcachepolicy</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="renamecachepolicy.html">renamecachepolicy</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="rmcachepolicy.html">rmcachepolicy</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="setcachepolicy_action.html">setcachepolicy_action</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="setcachepolicy_invalgroups.html">setcachepolicy_invalgroups</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="setcachepolicy_invalobjects.html">setcachepolicy_invalobjects</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="setcachepolicy_rule.html">setcachepolicy_rule</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="setcachepolicy_storeingroup.html">setcachepolicy_storeingroup</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="setcachepolicy_undefaction.html">setcachepolicy_undefaction</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="statcachepolicy.html">statcachepolicy</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="unsetcachepolicy_invalgroups.html">unsetcachepolicy_invalgroups</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="unsetcachepolicy_invalobjects.html">unsetcachepolicy_invalobjects</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="unsetcachepolicy_storeingroup.html">unsetcachepolicy_storeingroup</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="unsetcachepolicy_undefaction.html">unsetcachepolicy_undefaction</a></div></td></tr><tr><td><br></td></tr></table></div>
</body>
</html>