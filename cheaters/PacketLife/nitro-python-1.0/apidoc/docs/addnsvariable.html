<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>Citrix NetScaler XML API User&#39;s Guide - addnsvariable</title>
<link rel="stylesheet" type="text/css" href="help_ns.css" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head>
<body onload="initial()" class="ns_body">
<div class="ns_content"><table cellpadding="0" cellspacing="0"><script type="text/javascript">
function showContent(content,lang){
			if(ie4){
				showContentObj=document.all.qiksearch_div;
			}
			if(ns6){
				showContentObj=document.getElementById("qiksearch_div");
			}
			if(ie4||ns6){
				if(showContentObj.innerHTML!=content){
					showContentObj.innerHTML=content;
				}
				else{
					showContentObj.innerHTML="";
				}
			}
			if(ns4){
				document.nsdiv.document.write(content);
				document.nsdiv.document.close();
			}
}
function showLangSelect(id){
		ie4=document.all&&navigator.userAgent.indexOf("Opera")==-1;
		ns6=document.getElementById&&navigator.userAgent.indexOf("Opera")==-1;
		ns4=document.layers;
		if(ie4){
			showObj=document.all.first_url;
		}
		if(ns6){
			showObj=document.getElementById("first_url");
		}
		if( id == "C" ){
			newlink = "<b>C</b>";
		}
		else{
			newlink = "<a href=\"javascript:void(0);\" onclick=\"javascript:changeContext('C');\"><b>C</b></a>";
		}
		if( id == "Perl" ){
			newlink = newlink + " | <b>Perl</b>";
		}
		else{
			newlink = newlink + " | <a href=\"javascript:void(0);\" onclick=\"javascript:changeContext('Perl');\"><b>Perl</b></a>";
		}
		if( id == "Java" ){
			newlink = newlink + " | <b>Java</b>";
		}
		else{
			newlink = newlink + " | <a href=\"javascript:void(0);\" onclick=\"javascript:changeContext('Java');\"><b>Java</b></a>";
		}
		if( id == "C#" ){
			newlink = newlink + " | <b>C#</b>";
		}
		else{
			newlink = newlink + " | <a href=\"javascript:void(0);\" onclick=\"javascript:changeContext('C#');\"><b>C#</b></a>";
		}
		showObj.innerHTML = newlink;
}
function initial(){
		ie4=document.all&&navigator.userAgent.indexOf("Opera")==-1;
		ns6=document.getElementById&&navigator.userAgent.indexOf("Opera")==-1;
		ns4=document.layers;
		langSelected = parent.banner.document.language.select.value
		parent.banner.document.language.plink.value = "NS@ns.html&addnsvariable";
		changeContext(langSelected);
}
function changeContext(lang){
parent.banner.document.language.select.value = lang;
if( lang == "C" ){
showContent('<table><tr><td><pre><a href=\'simpleResult_struct.html\'>simpleResult</a><b> addnsvariable</b>(<br> &nbsp;&nbsp;&nbsp;&nbsp;char * <i>name</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char * <i>type</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\'varscopeEnum.html\'>varscopeEnum</a> <i>scope</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\'variffullEnum.html\'>variffullEnum</a> <i>iffull</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\'varifvaluetoobigEnum.html\'>varifvaluetoobigEnum</a> <i>ifvaluetoobig</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\'varifnovalueEnum.html\'>varifnovalueEnum</a> <i>ifnovalue</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char * <i>init</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned int <i>expires</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char * <i>comment</i> <br>);</pre></td></tr></table>','C');
}
if( lang == "Perl" ){
showContent('<table><tr><td><pre><a href=\'simpleResult_struct.html\'>simpleResult</a><b> addnsvariable</b>(<br>&nbsp;&nbsp;&nbsp;&nbsp;name(\'name\' => value),<br>&nbsp;&nbsp;&nbsp;&nbsp;name(\'type\' => value),<br>&nbsp;&nbsp;&nbsp;&nbsp;name(\'scope\' => <a href=\'varscopeEnum.html\'>Values</a>),<br>&nbsp;&nbsp;&nbsp;&nbsp;name(\'iffull\' => <a href=\'variffullEnum.html\'>Values</a>),<br>&nbsp;&nbsp;&nbsp;&nbsp;name(\'ifvaluetoobig\' => <a href=\'varifvaluetoobigEnum.html\'>Values</a>),<br>&nbsp;&nbsp;&nbsp;&nbsp;name(\'ifnovalue\' => <a href=\'varifnovalueEnum.html\'>Values</a>),<br>&nbsp;&nbsp;&nbsp;&nbsp;name(\'init\' => value),<br>&nbsp;&nbsp;&nbsp;&nbsp;name(\'expires\' => value),<br>&nbsp;&nbsp;&nbsp;&nbsp;name(\'comment\' => value)<br>);</pre></td></tr></table>','Perl')
}
if( lang == "Java" ){
showContent('<table><tr><td><pre>public <a href=\'simpleResult_struct.html\'>simpleResult</a><b> addnsvariable</b>(<br> &nbsp;&nbsp;&nbsp;&nbsp;String <i>name</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String <i>type</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\'varscopeEnum.html\'>varscopeEnum</a> <i>scope</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\'variffullEnum.html\'>variffullEnum</a> <i>iffull</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\'varifvaluetoobigEnum.html\'>varifvaluetoobigEnum</a> <i>ifvaluetoobig</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\'varifnovalueEnum.html\'>varifnovalueEnum</a> <i>ifnovalue</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String <i>init</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned int <i>expires</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String <i>comment</i> <br>);</pre></td></tr></table>','Java');
}
if( lang == "C#" ){
showContent('<table><tr><td><pre>public <a href=\'simpleResult_struct.html\'>simpleResult</a><b> addnsvariable</b>(<br> &nbsp;&nbsp;&nbsp;&nbsp;string <i>name</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string <i>type</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\'varscopeEnum.html\'>varscopeEnum</a> <i>scope</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\'variffullEnum.html\'>variffullEnum</a> <i>iffull</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\'varifvaluetoobigEnum.html\'>varifvaluetoobigEnum</a> <i>ifvaluetoobig</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\'varifnovalueEnum.html\'>varifnovalueEnum</a> <i>ifnovalue</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string <i>init</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.UInt64 <i>expires</i>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string <i>comment</i> <br>);</pre></td></tr></table>','C#');
}
if( lang == "VB" ){
showContent('<table><tr><td><pre>Public Function<b> addnsvariable</b>(<br> &nbsp;&nbsp;&nbsp;&nbsp;ByVal <i>name</i> As String ,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByVal <i>type</i> As String ,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByVal <i>scope</i> As <a href=\'varscopeEnum.html\'>varscopeEnum</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByVal <i>iffull</i> As <a href=\'variffullEnum.html\'>variffullEnum</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByVal <i>ifvaluetoobig</i> As <a href=\'varifvaluetoobigEnum.html\'>varifvaluetoobigEnum</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByVal <i>ifnovalue</i> As <a href=\'varifnovalueEnum.html\'>varifnovalueEnum</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByVal <i>init</i> As String ,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByVal <i>expires</i> As UInteger ,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByVal <i>comment</i> As String  <br>) As <a href=\'simpleResult_struct.html\'>simpleResult</a> </pre></td></tr></table>','VB');
}
showLangSelect(lang);
}
</script>
<tr><td><div><a href='introduction.html'>Home</a> > <a href="APIIndex.htm">Configuration</a> > <a href="ns.html">NS</a> > addnsvariable</div></td></tr><tr><td><br></td></tr><tr class="ns_wp_header"><td>addnsvariable</td></tr><tr><td><br></td></tr><tr><td><div>Use this method to create a variable for use in assignments and default syntax expressions.</div></td></tr><tr><td><br></td></tr><tr><td><div><b>Syntax</b></div></td></tr><tr><td><br></td></tr><tr><td><div><div id="first_url" class="padding_left"></div></div></td></tr><tr><td><br></td></tr><tr><td><div><div id="qiksearch_div" class="syntax padding_left"></div></div></td></tr><tr><td><br></td></tr><tr><td><div><b>Parameters</b></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><i>name</i></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left_second_level">Variable name.  This follows the same syntax rules as other default syntax expression entity names:
   It must begin with an alpha character (A-Z or a-z) or an underscore (_).
   The rest of the characters must be alpha, numeric (0-9) or underscores.
   It cannot be re or xp (reserved for regular and XPath expressions).
   It cannot be a default syntax expression reserved word (e.g. SYS or HTTP).
   It cannot be used for an existing default syntax expression object (HTTP callout, patset, dataset, stringmap, or named expression).<br>This is mandatory parameter.</div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><i>type</i></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left_second_level">Specification of the variable type; one of the following:
   ulong - singleton variable with an unsigned 64-bit value.
   text(value-max-size) - singleton variable with a text string value.
   map(text(key-max-size),ulong,max-entries) - map of text string keys to unsigned 64-bit values.
   map(text(key-max-size),text(value-max-size),max-entries) - map of text string keys to text string values.
where
   value-max-size is a positive integer that is the maximum number of bytes in a text string value.
   key-max-size is a positive integer that is the maximum number of bytes in a text string key.
   max-entries is a positive integer that is the maximum number of entries in a map variable.
      For a global singleton text variable, value-max-size <= 64000.
      For a global map with ulong values, key-max-size <= 64000.
      For a global map with text values,  key-max-size + value-max-size <= 64000.
   max-entries is a positive integer that is the maximum number of entries in a map variable. This has a theoretical maximum of 2^64-1, but in actual use will be much smaller, considering the memory available for use by the map.
Example:
   map(text(10),text(20),100) specifies a map of text string keys (max size 10 bytes) to text string values (max size 20 bytes), with 100 max entries.<br>This is mandatory parameter.</div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><i>scope</i></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left_second_level">Scope of the variable:
   global - (default) one set of values visible across all Packet Engines and, in a cluster, all nodes<br> Default value =  NS_VAR_SCOPE_GLOBAL.</div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><i>iffull</i></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left_second_level">Action to perform if an assignment to a map exceeds its configured max-entries:
   lru - (default) reuse the least recently used entry in the map.
   undef - force the assignment to return an undefined (Undef) result to the policy executing the assignment.<br> Default value =  NS_VAR_IF_FULL_LRU.</div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><i>ifvaluetoobig</i></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left_second_level">Action to perform if an value is assigned to a text variable that exceeds its configured max-size,
or if a key is used that exceeds its configured max-size:
   truncate - (default) truncate the text string to the first max-size bytes and proceed.
   undef - force the assignment or expression evaluation to return an undefined (Undef) result to the policy executing the assignment or expression.<br> Default value =  NS_VAR_IF_VALUE_TOO_BIG_TRUNCATE.</div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><i>ifnovalue</i></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left_second_level">Action to perform if on a variable reference in an expression if the variable is single-valued and uninitialized
or if the variable is a map and there is no value for the specified key:
   init - (default) initialize the single-value variable, or create a map entry for the key and the initial value,
using the -init value or its default.
   undef - force the expression evaluation to return an undefined (Undef) result to the policy executing the expression.<br> Default value =  NS_VAR_IF_NO_VALUE_INIT.</div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><i>init</i></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left_second_level">Initialization value for values in this variable. Default: 0 for ulong, NULL for text</div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><i>expires</i></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left_second_level">Value expiration in seconds. If the value is not referenced within the expiration period it will be deleted. 0 (the default) means no expiration.<br> Maximum value =  31622400.</div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><i>comment</i></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left_second_level">Comments associated with this variable.</div></td></tr><tr><td><br></td></tr><tr><td><div><b>Return Value</b></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left">Returns <a href="simpleResult_struct.html">simpleResult</a></div></td></tr><tr><td><br></td></tr><tr><td><div><b>See Also</b></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="getnsvariable.html">getnsvariable</a></div></td></tr><tr><td><br></td></tr><tr><td><div class="padding_left"><a href="rmnsvariable.html">rmnsvariable</a></div></td></tr><tr><td><br></td></tr></table></div>
</body>
</html>